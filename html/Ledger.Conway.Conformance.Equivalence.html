<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- Proof that the rules under Ledger.Conway.Conformance are equivalent</a>
<a id="95" class="Comment">-- to the rules under Ledger.</a>

<a id="126" class="Keyword">open</a> <a id="131" class="Keyword">import</a> <a id="138" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="281" class="Symbol">)</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="306" class="Keyword">using</a> <a id="312" class="Symbol">(</a><a id="313" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Data.Product.html" class="Module">Data.Product</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="351" class="Symbol">;</a> <a id="353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="356" class="Symbol">)</a> <a id="358" class="Keyword">renaming</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Product.Base.html#2173" class="Function">map</a> <a id="372" class="Symbol">to</a> <a id="375" class="Function">⟨_,_⟩</a><a id="380" class="Symbol">)</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="421" class="Symbol">;</a> <a id="423" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="426" class="Symbol">;</a> <a id="428" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="539" class="Symbol">)</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="601" class="Keyword">module</a> <a id="608" href="Ledger.Conway.Conformance.Equivalence.html" class="Module">Ledger.Conway.Conformance.Equivalence</a>
  <a id="648" class="Symbol">(</a><a id="649" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="653" class="Symbol">:</a> <a id="655" class="Symbol">_)</a> <a id="658" class="Symbol">(</a><a id="659" class="Keyword">open</a> <a id="664" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="688" class="Symbol">)</a>
  <a id="692" class="Symbol">(</a><a id="693" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="697" class="Symbol">:</a> <a id="699" href="Ledger.Conway.Specification.Abstract.html#830" class="Record">AbstractFunctions</a> <a id="717" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="720" class="Symbol">)</a> <a id="722" class="Symbol">(</a><a id="723" class="Keyword">open</a> <a id="728" href="Ledger.Conway.Specification.Abstract.html#830" class="Module">AbstractFunctions</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a><a id="749" class="Symbol">)</a>
  <a id="753" class="Keyword">where</a>

<a id="760" class="Keyword">module</a> <a id="L"></a><a id="767" href="Ledger.Conway.Conformance.Equivalence.html#767" class="Module">L</a> <a id="769" class="Keyword">where</a>
  <a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="824" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="828" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="832" class="Keyword">public</a>
  <a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="886" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="890" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="894" class="Keyword">public</a>
  <a id="903" class="Keyword">open</a> <a id="908" class="Keyword">import</a> <a id="915" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="949" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="953" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="957" class="Keyword">public</a>
  <a id="966" class="Keyword">open</a> <a id="971" class="Keyword">import</a> <a id="978" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="1010" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="1023" class="Keyword">public</a>
  <a id="1032" class="Keyword">open</a> <a id="1037" class="Keyword">import</a> <a id="1044" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="1078" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="1091" class="Keyword">public</a>

<a id="1099" class="Keyword">module</a> <a id="C"></a><a id="1106" href="Ledger.Conway.Conformance.Equivalence.html#1106" class="Module">C</a> <a id="1108" class="Keyword">where</a>
  <a id="1116" class="Keyword">open</a> <a id="1121" class="Keyword">import</a> <a id="1128" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="1161" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1165" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1169" class="Keyword">public</a>
  <a id="1178" class="Keyword">open</a> <a id="1183" class="Keyword">import</a> <a id="1190" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="1221" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1225" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1229" class="Keyword">public</a>
  <a id="1238" class="Keyword">open</a> <a id="1243" class="Keyword">import</a> <a id="1250" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="1282" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1286" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1290" class="Keyword">public</a>
  <a id="1299" class="Keyword">open</a> <a id="1304" class="Keyword">import</a> <a id="1311" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1343" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="1356" class="Keyword">public</a>

<a id="1364" class="Keyword">open</a> <a id="1369" class="Keyword">import</a> <a id="1376" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="1420" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1424" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1428" class="Keyword">open</a> <a id="1433" class="Keyword">import</a> <a id="1440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a> <a id="1483" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1487" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1491" class="Keyword">open</a> <a id="1496" class="Keyword">import</a> <a id="1503" href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="Module">Ledger.Conway.Conformance.Equivalence.Deposits</a> <a id="1550" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1554" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>

<a id="1559" class="Keyword">open</a> <a id="1564" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a>
<a id="1567" class="Keyword">open</a> <a id="1572" class="Keyword">import</a> <a id="1579" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1600" href="Axiom.Set.html#10936" class="Function">th</a> <a id="1603" class="Keyword">using</a> <a id="1609" class="Symbol">(</a><a id="1610" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="1619" class="Symbol">)</a>

<a id="1622" class="Comment">-- Invalid transactions don&#39;t change the deposits</a>
<a id="lemInvalidDepositsL"></a><a id="1672" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="1692" class="Symbol">:</a> <a id="1694" class="Symbol">∀</a> <a id="1696" class="Symbol">{</a><a id="1697" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">Γ</a> <a id="1699" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1706" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a> <a id="1714" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a><a id="1716" class="Symbol">}</a>
                    <a id="1738" class="Symbol">→</a> <a id="1740" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="1748" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a> <a id="1751" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1753" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="1779" class="Symbol">→</a> <a id="1781" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">Γ</a> <a id="1783" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="1787" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1794" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="1797" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a> <a id="1800" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="1808" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a>
                    <a id="1836" class="Symbol">→</a> <a id="1838" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1859" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1866" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1868" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1889" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a>
<a id="1897" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="1917" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
                          <a id="1962" class="Symbol">(</a><a id="1963" href="Ledger.Conway.Specification.Utxo.html#14155" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="1981" class="Symbol">_</a> <a id="1983" class="Symbol">_</a> <a id="1985" class="Symbol">_</a> <a id="1987" class="Symbol">_</a> <a id="1989" class="Symbol">_</a> <a id="1991" class="Symbol">_</a> <a id="1993" class="Symbol">_</a> <a id="1995" class="Symbol">_</a> <a id="1997" class="Symbol">_</a> <a id="1999" class="Symbol">_</a> <a id="2001" class="Symbol">_</a> <a id="2003" class="Symbol">_</a> <a id="2005" class="Symbol">_</a> <a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">_</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a>
                            <a id="2049" class="Symbol">(</a><a id="2050" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="2063" class="Symbol">_)))</a> <a id="2068" class="Symbol">=</a> <a id="2070" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemInvalidDepositsC"></a><a id="2076" href="Ledger.Conway.Conformance.Equivalence.html#2076" class="Function">lemInvalidDepositsC</a> <a id="2096" class="Symbol">:</a> <a id="2098" class="Symbol">∀</a> <a id="2100" class="Symbol">{</a><a id="2101" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">Γ</a> <a id="2103" href="Ledger.Conway.Conformance.Equivalence.html#2103" class="Bound">utxoSt</a> <a id="2110" href="Ledger.Conway.Conformance.Equivalence.html#2110" class="Bound">utxoSt&#39;</a> <a id="2118" href="Ledger.Conway.Conformance.Equivalence.html#2118" class="Bound">tx</a><a id="2120" class="Symbol">}</a>
                    <a id="2142" class="Symbol">→</a> <a id="2144" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="2152" href="Ledger.Conway.Conformance.Equivalence.html#2118" class="Bound">tx</a> <a id="2155" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2157" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="2183" class="Symbol">→</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Ledger.Conway.Conformance.Equivalence.html#2186" class="Bound">h</a> <a id="2188" class="Symbol">:</a> <a id="2190" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">Γ</a> <a id="2192" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2196" href="Ledger.Conway.Conformance.Equivalence.html#2103" class="Bound">utxoSt</a> <a id="2203" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2206" href="Ledger.Conway.Conformance.Equivalence.html#2118" class="Bound">tx</a> <a id="2209" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2217" href="Ledger.Conway.Conformance.Equivalence.html#2110" class="Bound">utxoSt&#39;</a><a id="2224" class="Symbol">)</a>
                    <a id="2246" class="Symbol">→</a> <a id="2248" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2262" href="Ledger.Conway.Conformance.Equivalence.html#2186" class="Bound">h</a> <a id="2264" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2266" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2287" href="Ledger.Conway.Conformance.Equivalence.html#2110" class="Bound">utxoSt&#39;</a>
<a id="2295" href="Ledger.Conway.Conformance.Equivalence.html#2076" class="Function">lemInvalidDepositsC</a> <a id="2315" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                          <a id="2360" class="Symbol">(</a><a id="2361" href="Ledger.Conway.Conformance.Utxo.html#3942" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2379" class="Symbol">_</a> <a id="2381" class="Symbol">_</a> <a id="2383" class="Symbol">_</a> <a id="2385" class="Symbol">_</a> <a id="2387" class="Symbol">_</a> <a id="2389" class="Symbol">_</a> <a id="2391" class="Symbol">_</a> <a id="2393" class="Symbol">_</a> <a id="2395" class="Symbol">_</a> <a id="2397" class="Symbol">_</a> <a id="2399" class="Symbol">_</a> <a id="2401" class="Symbol">_</a> <a id="2403" class="Symbol">_</a> <a id="2405" class="Symbol">_</a> <a id="2407" class="Symbol">_</a> <a id="2409" class="Symbol">_</a> <a id="2411" class="Symbol">_</a> <a id="2413" class="Symbol">_</a> <a id="2415" class="Symbol">_</a> <a id="2417" class="Symbol">_</a>
                            <a id="2447" class="Symbol">(</a><a id="2448" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="2461" class="Symbol">_)))</a> <a id="2466" class="Symbol">=</a> <a id="2468" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2474" class="Comment">-- The UTXOW rule doesn&#39;t change the deposits in Conformance</a>
<a id="lemDepositsC"></a><a id="2535" href="Ledger.Conway.Conformance.Equivalence.html#2535" class="Function">lemDepositsC</a> <a id="2548" class="Symbol">:</a> <a id="2550" class="Symbol">∀</a> <a id="2552" class="Symbol">{</a><a id="2553" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">Γ</a> <a id="2555" href="Ledger.Conway.Conformance.Equivalence.html#2555" class="Bound">utxoSt</a> <a id="2562" href="Ledger.Conway.Conformance.Equivalence.html#2562" class="Bound">utxoSt&#39;</a> <a id="2570" href="Ledger.Conway.Conformance.Equivalence.html#2570" class="Bound">tx</a><a id="2572" class="Symbol">}</a>
             <a id="2587" class="Symbol">→</a> <a id="2589" class="Symbol">(</a><a id="2590" href="Ledger.Conway.Conformance.Equivalence.html#2590" class="Bound">h</a> <a id="2592" class="Symbol">:</a> <a id="2594" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">Γ</a> <a id="2596" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2600" href="Ledger.Conway.Conformance.Equivalence.html#2555" class="Bound">utxoSt</a> <a id="2607" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2610" href="Ledger.Conway.Conformance.Equivalence.html#2570" class="Bound">tx</a> <a id="2613" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2621" href="Ledger.Conway.Conformance.Equivalence.html#2562" class="Bound">utxoSt&#39;</a><a id="2628" class="Symbol">)</a>
             <a id="2643" class="Symbol">→</a> <a id="2645" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2666" href="Ledger.Conway.Conformance.Equivalence.html#2555" class="Bound">utxoSt</a> <a id="2673" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2675" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2696" href="Ledger.Conway.Conformance.Equivalence.html#2562" class="Bound">utxoSt&#39;</a>
<a id="2704" href="Ledger.Conway.Conformance.Equivalence.html#2535" class="Function">lemDepositsC</a> <a id="2717" class="Symbol">(</a><a id="2718" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2746" class="Symbol">(</a><a id="2747" href="Ledger.Conway.Conformance.Utxo.html#3942" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2765" class="Symbol">_</a> <a id="2767" class="Symbol">_</a> <a id="2769" class="Symbol">_</a> <a id="2771" class="Symbol">_</a> <a id="2773" class="Symbol">_</a> <a id="2775" class="Symbol">_</a> <a id="2777" class="Symbol">_</a> <a id="2779" class="Symbol">_</a> <a id="2781" class="Symbol">_</a> <a id="2783" class="Symbol">_</a> <a id="2785" class="Symbol">_</a> <a id="2787" class="Symbol">_</a> <a id="2789" class="Symbol">_</a> <a id="2791" class="Symbol">_</a> <a id="2793" class="Symbol">_</a> <a id="2795" class="Symbol">_</a> <a id="2797" class="Symbol">_</a> <a id="2799" class="Symbol">_</a> <a id="2801" class="Symbol">_</a> <a id="2803" class="Symbol">_</a>
                 <a id="2822" class="Symbol">(</a><a id="2823" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2837" class="Symbol">_)))</a> <a id="2842" class="Symbol">=</a> <a id="2844" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2849" href="Ledger.Conway.Conformance.Equivalence.html#2535" class="Function">lemDepositsC</a> <a id="2862" class="Symbol">(</a><a id="2863" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2891" class="Symbol">(</a><a id="2892" href="Ledger.Conway.Conformance.Utxo.html#3942" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2910" class="Symbol">_</a> <a id="2912" class="Symbol">_</a> <a id="2914" class="Symbol">_</a> <a id="2916" class="Symbol">_</a> <a id="2918" class="Symbol">_</a> <a id="2920" class="Symbol">_</a> <a id="2922" class="Symbol">_</a> <a id="2924" class="Symbol">_</a> <a id="2926" class="Symbol">_</a> <a id="2928" class="Symbol">_</a> <a id="2930" class="Symbol">_</a> <a id="2932" class="Symbol">_</a> <a id="2934" class="Symbol">_</a> <a id="2936" class="Symbol">_</a> <a id="2938" class="Symbol">_</a> <a id="2940" class="Symbol">_</a> <a id="2942" class="Symbol">_</a> <a id="2944" class="Symbol">_</a> <a id="2946" class="Symbol">_</a> <a id="2948" class="Symbol">_</a>
                 <a id="2967" class="Symbol">(</a><a id="2968" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="2981" class="Symbol">_)))</a> <a id="2986" class="Symbol">=</a> <a id="2988" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemUpdateDeposits"></a><a id="2994" href="Ledger.Conway.Conformance.Equivalence.html#2994" class="Function">lemUpdateDeposits</a> <a id="3012" class="Symbol">:</a> <a id="3014" class="Symbol">∀</a> <a id="3016" class="Symbol">{</a><a id="3017" href="Ledger.Conway.Conformance.Equivalence.html#3017" class="Bound">Γ</a> <a id="3019" href="Ledger.Conway.Conformance.Equivalence.html#3019" class="Bound">s</a> <a id="3021" href="Ledger.Conway.Conformance.Equivalence.html#3021" class="Bound">tx</a> <a id="3024" href="Ledger.Conway.Conformance.Equivalence.html#3024" class="Bound">s&#39;</a><a id="3026" class="Symbol">}</a> <a id="3028" class="Symbol">(</a><a id="3029" class="Keyword">open</a> <a id="3034" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3044" href="Ledger.Conway.Conformance.Equivalence.html#3017" class="Bound">Γ</a><a id="3045" class="Symbol">)</a>
                  <a id="3065" class="Symbol">→</a> <a id="3067" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="3075" href="Ledger.Conway.Conformance.Equivalence.html#3021" class="Bound">tx</a> <a id="3078" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3080" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="3103" class="Symbol">→</a> <a id="3105" href="Ledger.Conway.Conformance.Equivalence.html#3017" class="Bound">Γ</a> <a id="3107" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="3111" href="Ledger.Conway.Conformance.Equivalence.html#3019" class="Bound">s</a> <a id="3113" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="3116" href="Ledger.Conway.Conformance.Equivalence.html#3021" class="Bound">tx</a> <a id="3119" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="3127" href="Ledger.Conway.Conformance.Equivalence.html#3024" class="Bound">s&#39;</a>
                  <a id="3148" class="Symbol">→</a> <a id="3150" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="3167" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="3181" href="Ledger.Conway.Conformance.Equivalence.html#3021" class="Bound">tx</a><a id="3183" class="Symbol">)</a> <a id="3185" class="Symbol">(</a><a id="3186" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="3207" href="Ledger.Conway.Conformance.Equivalence.html#3019" class="Bound">s</a><a id="3208" class="Symbol">)</a> <a id="3210" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3212" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="3233" href="Ledger.Conway.Conformance.Equivalence.html#3024" class="Bound">s&#39;</a>
<a id="3236" href="Ledger.Conway.Conformance.Equivalence.html#2994" class="Function">lemUpdateDeposits</a> <a id="3254" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3261" class="Symbol">(</a><a id="3262" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3279" class="Symbol">(</a><a id="3280" href="Ledger.Conway.Specification.Utxo.html#14155" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3298" class="Symbol">_</a> <a id="3300" class="Symbol">_</a> <a id="3302" class="Symbol">_</a> <a id="3304" class="Symbol">_</a> <a id="3306" class="Symbol">_</a> <a id="3308" class="Symbol">_</a> <a id="3310" class="Symbol">_</a> <a id="3312" class="Symbol">_</a> <a id="3314" class="Symbol">_</a> <a id="3316" class="Symbol">_</a> <a id="3318" class="Symbol">_</a> <a id="3320" class="Symbol">_</a> <a id="3322" class="Symbol">_</a> <a id="3324" class="Symbol">_</a> <a id="3326" class="Symbol">_</a> <a id="3328" class="Symbol">_</a> <a id="3330" class="Symbol">_</a>  <a id="3333" class="Symbol">_</a> <a id="3335" class="Symbol">_</a> <a id="3337" class="Symbol">_</a>
      <a id="3345" class="Symbol">(</a><a id="3346" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3360" class="Symbol">_)))</a> <a id="3365" class="Symbol">=</a> <a id="3367" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="getValidCertDeposits"></a><a id="3373" href="Ledger.Conway.Conformance.Equivalence.html#3373" class="Function">getValidCertDeposits</a> <a id="3394" class="Symbol">:</a> <a id="3396" class="Symbol">∀</a> <a id="3398" class="Symbol">{</a><a id="3399" href="Ledger.Conway.Conformance.Equivalence.html#3399" class="Bound">Γ</a> <a id="3401" href="Ledger.Conway.Conformance.Equivalence.html#3401" class="Bound">s</a> <a id="3403" href="Ledger.Conway.Conformance.Equivalence.html#3403" class="Bound">tx</a> <a id="3406" href="Ledger.Conway.Conformance.Equivalence.html#3406" class="Bound">s&#39;</a><a id="3408" class="Symbol">}</a>
                     <a id="3431" class="Symbol">→</a> <a id="3433" class="Symbol">(</a><a id="3434" class="Keyword">let</a> <a id="3438" class="Keyword">open</a> <a id="3443" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3453" href="Ledger.Conway.Conformance.Equivalence.html#3399" class="Bound">Γ</a> <a id="3455" class="Keyword">using</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="3469" class="Symbol">)</a>
                            <a id="3499" class="Keyword">open</a> <a id="3504" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="3516" href="Ledger.Conway.Conformance.Equivalence.html#3401" class="Bound">s</a> <a id="3518" class="Keyword">using</a> <a id="3524" class="Symbol">(</a><a id="3525" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="3533" class="Symbol">)</a>
                            <a id="3563" class="Keyword">open</a> <a id="3568" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="3575" class="Symbol">(</a><a id="3576" href="Ledger.Conway.Conformance.Equivalence.html#3403" class="Bound">tx</a> <a id="3579" class="Symbol">.</a><a id="3580" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">Tx.body</a><a id="3587" class="Symbol">)</a> <a id="3589" class="Keyword">using</a> <a id="3595" class="Symbol">(</a><a id="3596" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="3603" class="Symbol">))</a>
                     <a id="3627" class="Symbol">→</a> <a id="3629" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="3637" href="Ledger.Conway.Conformance.Equivalence.html#3403" class="Bound">tx</a> <a id="3640" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3642" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="3668" class="Symbol">→</a> <a id="3670" href="Ledger.Conway.Conformance.Equivalence.html#3399" class="Bound">Γ</a> <a id="3672" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="3676" href="Ledger.Conway.Conformance.Equivalence.html#3401" class="Bound">s</a> <a id="3678" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="3681" href="Ledger.Conway.Conformance.Equivalence.html#3403" class="Bound">tx</a> <a id="3684" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="3692" href="Ledger.Conway.Conformance.Equivalence.html#3406" class="Bound">s&#39;</a>
                     <a id="3716" class="Symbol">→</a> <a id="3718" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="3738" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="3746" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="3755" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a>
<a id="3763" href="Ledger.Conway.Conformance.Equivalence.html#3373" class="Function">getValidCertDeposits</a> <a id="3784" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3791" class="Symbol">(</a><a id="3792" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3809" class="Symbol">(</a><a id="3810" href="Ledger.Conway.Specification.Utxo.html#14155" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3828" class="Symbol">_</a> <a id="3830" class="Symbol">_</a> <a id="3832" class="Symbol">_</a> <a id="3834" class="Symbol">_</a> <a id="3836" class="Symbol">_</a> <a id="3838" class="Symbol">_</a> <a id="3840" class="Symbol">_</a> <a id="3842" class="Symbol">_</a> <a id="3844" class="Symbol">_</a> <a id="3846" class="Symbol">_</a> <a id="3848" class="Symbol">_</a> <a id="3850" class="Symbol">_</a> <a id="3852" class="Symbol">_</a> <a id="3854" class="Symbol">_</a> <a id="3856" class="Symbol">_</a> <a id="3858" class="Symbol">_</a> <a id="3860" class="Symbol">_</a> <a id="3862" class="Symbol">_</a> <a id="3864" class="Symbol">_</a> <a id="3866" class="Symbol">_</a>
      <a id="3874" class="Symbol">(</a><a id="3875" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Ledger.Conway.Conformance.Equivalence.html#3890" class="Bound">v</a> <a id="3892" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3894" class="Symbol">_))))</a> <a id="3900" class="Symbol">=</a> <a id="3902" href="Ledger.Conway.Conformance.Equivalence.html#3890" class="Bound">v</a>

<a id="makeCertDeps*"></a><a id="3905" href="Ledger.Conway.Conformance.Equivalence.html#3905" class="Function">makeCertDeps*</a> <a id="3919" class="Symbol">:</a> <a id="3921" class="Symbol">∀</a> <a id="3923" class="Symbol">{</a><a id="3924" href="Ledger.Conway.Conformance.Equivalence.html#3924" class="Bound">Γ</a> <a id="3926" href="Ledger.Conway.Conformance.Equivalence.html#3926" class="Bound">s</a> <a id="3928" href="Ledger.Conway.Conformance.Equivalence.html#3928" class="Bound">tx</a> <a id="3931" href="Ledger.Conway.Conformance.Equivalence.html#3931" class="Bound">s&#39;</a><a id="3933" class="Symbol">}</a>
              <a id="3949" class="Symbol">→</a> <a id="3951" class="Symbol">(</a><a id="3952" class="Keyword">let</a> <a id="3956" class="Keyword">open</a> <a id="3961" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3971" href="Ledger.Conway.Conformance.Equivalence.html#3924" class="Bound">Γ</a> <a id="3973" class="Keyword">using</a> <a id="3979" class="Symbol">(</a><a id="3980" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="3987" class="Symbol">)</a>
                     <a id="4010" class="Keyword">open</a> <a id="4015" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4027" href="Ledger.Conway.Conformance.Equivalence.html#3926" class="Bound">s</a> <a id="4029" class="Keyword">using</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4044" class="Symbol">)</a>
                     <a id="4067" class="Keyword">open</a> <a id="4072" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Ledger.Conway.Conformance.Equivalence.html#3928" class="Bound">tx</a> <a id="4083" class="Symbol">.</a><a id="4084" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">Tx.body</a><a id="4091" class="Symbol">)</a> <a id="4093" class="Keyword">using</a> <a id="4099" class="Symbol">(</a><a id="4100" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="4107" class="Symbol">))</a>
              <a id="4124" class="Symbol">→</a> <a id="4126" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="4134" href="Ledger.Conway.Conformance.Equivalence.html#3928" class="Bound">tx</a> <a id="4137" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4139" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
              <a id="4158" class="Symbol">→</a> <a id="4160" href="Ledger.Conway.Conformance.Equivalence.html#3924" class="Bound">Γ</a> <a id="4162" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="4166" href="Ledger.Conway.Conformance.Equivalence.html#3926" class="Bound">s</a> <a id="4168" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4171" href="Ledger.Conway.Conformance.Equivalence.html#3928" class="Bound">tx</a> <a id="4174" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4182" href="Ledger.Conway.Conformance.Equivalence.html#3931" class="Bound">s&#39;</a>
              <a id="4199" class="Symbol">→</a> <a id="4201" href="Ledger.Conway.Conformance.Equivalence.Certs.html#3978" class="Record">CertDeps*</a> <a id="4211" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="4219" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a>
<a id="4227" href="Ledger.Conway.Conformance.Equivalence.html#3905" class="Function">makeCertDeps*</a> <a id="4241" class="Symbol">{</a><a id="4242" class="Argument">s</a> <a id="4244" class="Symbol">=</a> <a id="4246" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">s</a><a id="4247" class="Symbol">}</a> <a id="4249" href="Ledger.Conway.Conformance.Equivalence.html#4249" class="Bound">valid</a> <a id="4255" href="Ledger.Conway.Conformance.Equivalence.html#4255" class="Bound">r</a> <a id="4257" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#3977}{\htmlId{4261}{\htmlClass{Function}{\text{certDDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1334}{\htmlId{4271}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#4123}{\htmlId{4282}{\htmlClass{Function}{\text{certGDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1334}{\htmlId{4292}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#7660}{\htmlId{4303}{\htmlClass{Function}{\text{validDDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4402}{\htmlId{4314}{\htmlClass{Function}{\text{validDeps}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#8749}{\htmlId{4326}{\htmlClass{Function}{\text{validGDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4402}{\htmlId{4337}{\htmlClass{Function}{\text{validDeps}}}}\, \end{pmatrix}$</a>
  <a id="4352" class="Keyword">where</a>
    <a id="4362" class="Keyword">open</a> <a id="4367" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4379" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">s</a> <a id="4381" class="Keyword">using</a> <a id="4387" class="Symbol">(</a><a id="4388" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4396" class="Symbol">)</a>
    <a id="4402" href="Ledger.Conway.Conformance.Equivalence.html#4402" class="Function">validDeps</a> <a id="4412" class="Symbol">=</a> <a id="4414" href="Ledger.Conway.Conformance.Equivalence.html#3373" class="Function">getValidCertDeposits</a> <a id="4435" href="Ledger.Conway.Conformance.Equivalence.html#4249" class="Bound">valid</a> <a id="4441" href="Ledger.Conway.Conformance.Equivalence.html#4255" class="Bound">r</a>

<a id="lem-cert-deposits-valid"></a><a id="4444" href="Ledger.Conway.Conformance.Equivalence.html#4444" class="Function">lem-cert-deposits-valid</a> <a id="4468" class="Symbol">:</a> <a id="4470" class="Symbol">∀</a> <a id="4472" class="Symbol">{</a><a id="4473" href="Ledger.Conway.Conformance.Equivalence.html#4473" class="Bound">Γ</a> <a id="4475" href="Ledger.Conway.Conformance.Equivalence.html#4475" class="Bound">s</a> <a id="4477" href="Ledger.Conway.Conformance.Equivalence.html#4477" class="Bound">tx</a> <a id="4480" href="Ledger.Conway.Conformance.Equivalence.html#4480" class="Bound">s&#39;</a><a id="4482" class="Symbol">}</a> <a id="4484" class="Symbol">(</a><a id="4485" class="Keyword">open</a> <a id="4490" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="4497" href="Ledger.Conway.Conformance.Equivalence.html#4473" class="Bound">Γ</a> <a id="4499" class="Keyword">using</a> <a id="4505" class="Symbol">(</a><a id="4506" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="4513" class="Symbol">))</a>
                        <a id="4540" class="Symbol">→</a> <a id="4542" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="4550" href="Ledger.Conway.Conformance.Equivalence.html#4477" class="Bound">tx</a> <a id="4553" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4555" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                        <a id="4584" class="Symbol">→</a> <a id="4586" href="Ledger.Conway.Conformance.Equivalence.html#4473" class="Bound">Γ</a> <a id="4588" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="4592" href="Ledger.Conway.Conformance.Equivalence.html#4475" class="Bound">s</a> <a id="4594" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="4597" href="Ledger.Conway.Conformance.Equivalence.html#4477" class="Bound">tx</a> <a id="4600" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="4609" href="Ledger.Conway.Conformance.Equivalence.html#4480" class="Bound">s&#39;</a>
                        <a id="4636" class="Symbol">→</a> <a id="4638" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="4655" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4663" href="Ledger.Conway.Conformance.Equivalence.html#4477" class="Bound">tx</a> <a id="4666" class="Symbol">(</a><a id="4667" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4680" href="Ledger.Conway.Conformance.Equivalence.html#4475" class="Bound">s</a><a id="4681" class="Symbol">)</a> <a id="4683" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="4686" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4699" href="Ledger.Conway.Conformance.Equivalence.html#4480" class="Bound">s&#39;</a>
<a id="4702" href="Ledger.Conway.Conformance.Equivalence.html#4444" class="Function">lem-cert-deposits-valid</a> <a id="4726" class="Symbol">{</a><a id="4727" href="Ledger.Conway.Conformance.Equivalence.html#4727" class="Bound">Γ</a><a id="4728" class="Symbol">}</a> <a id="4730" class="Symbol">{</a><a id="4731" href="Ledger.Conway.Conformance.Equivalence.html#4731" class="Bound">s</a><a id="4732" class="Symbol">}</a> <a id="4734" class="Symbol">{</a><a id="4735" href="Ledger.Conway.Conformance.Equivalence.html#4735" class="Bound">tx</a><a id="4737" class="Symbol">}</a> <a id="4739" class="Symbol">{</a><a id="4740" href="Ledger.Conway.Conformance.Equivalence.html#4740" class="Bound">s&#39;</a><a id="4742" class="Symbol">}</a> <a id="4744" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4749" class="Symbol">(</a><a id="4750" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="4762" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4767" href="Ledger.Conway.Conformance.Equivalence.html#4767" class="Bound">utxow</a> <a id="4773" href="Ledger.Conway.Conformance.Equivalence.html#4773" class="Bound">certs</a> <a id="4779" href="Ledger.Conway.Conformance.Equivalence.html#4779" class="Bound">gov</a><a id="4782" class="Symbol">)</a> <a id="4784" class="Keyword">rewrite</a> <a id="4792" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Ledger.Conway.Conformance.Equivalence.html#2994" class="Function">lemUpdateDeposits</a> <a id="4815" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4820" href="Ledger.Conway.Conformance.Equivalence.html#4767" class="Bound">utxow</a><a id="4825" class="Symbol">)</a> <a id="4827" class="Symbol">=</a>
  <a id="4831" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19246" class="Function">lem-upd-ddeps</a> <a id="4845" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4853" href="Ledger.Conway.Conformance.Equivalence.html#4941" class="Function">deps</a> <a id="4858" href="Ledger.Conway.Conformance.Equivalence.html#4735" class="Bound">tx</a> <a id="4861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="4865" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20035" class="Function">lem-upd-gdeps</a> <a id="4879" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4887" href="Ledger.Conway.Conformance.Equivalence.html#4941" class="Function">deps</a> <a id="4892" href="Ledger.Conway.Conformance.Equivalence.html#4735" class="Bound">tx</a>
  <a id="4897" class="Keyword">where</a>
    <a id="4907" class="Keyword">open</a> <a id="4912" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="4919" href="Ledger.Conway.Conformance.Equivalence.html#4727" class="Bound">Γ</a> <a id="4921" class="Keyword">using</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="4935" class="Symbol">)</a>
    <a id="4941" href="Ledger.Conway.Conformance.Equivalence.html#4941" class="Function">deps</a> <a id="4946" class="Symbol">=</a> <a id="4948" href="Ledger.Conway.Conformance.Equivalence.html#4731" class="Bound">s</a> <a id="4950" class="Symbol">.</a><a id="4951" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">L.LState.utxoSt</a> <a id="4967" class="Symbol">.</a> <a id="4969" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a>

<a id="lem-cert-deposits-invalid"></a><a id="4991" href="Ledger.Conway.Conformance.Equivalence.html#4991" class="Function">lem-cert-deposits-invalid</a> <a id="5017" class="Symbol">:</a> <a id="5019" class="Symbol">∀</a> <a id="5021" class="Symbol">{</a><a id="5022" href="Ledger.Conway.Conformance.Equivalence.html#5022" class="Bound">Γ</a> <a id="5024" href="Ledger.Conway.Conformance.Equivalence.html#5024" class="Bound">s</a> <a id="5026" href="Ledger.Conway.Conformance.Equivalence.html#5026" class="Bound">tx</a> <a id="5029" href="Ledger.Conway.Conformance.Equivalence.html#5029" class="Bound">s&#39;</a><a id="5031" class="Symbol">}</a> <a id="5033" class="Symbol">(</a><a id="5034" class="Keyword">open</a> <a id="5039" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="5046" href="Ledger.Conway.Conformance.Equivalence.html#5022" class="Bound">Γ</a> <a id="5048" class="Keyword">using</a> <a id="5054" class="Symbol">(</a><a id="5055" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="5062" class="Symbol">))</a>
                        <a id="5089" class="Symbol">→</a> <a id="5091" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="5099" href="Ledger.Conway.Conformance.Equivalence.html#5026" class="Bound">tx</a> <a id="5102" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5104" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                        <a id="5134" class="Symbol">→</a> <a id="5136" href="Ledger.Conway.Conformance.Equivalence.html#5022" class="Bound">Γ</a> <a id="5138" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="5142" href="Ledger.Conway.Conformance.Equivalence.html#5024" class="Bound">s</a> <a id="5144" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="5147" href="Ledger.Conway.Conformance.Equivalence.html#5026" class="Bound">tx</a> <a id="5150" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="5159" href="Ledger.Conway.Conformance.Equivalence.html#5029" class="Bound">s&#39;</a>
                        <a id="5186" class="Symbol">→</a> <a id="5188" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5201" href="Ledger.Conway.Conformance.Equivalence.html#5024" class="Bound">s</a> <a id="5203" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5206" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5219" href="Ledger.Conway.Conformance.Equivalence.html#5029" class="Bound">s&#39;</a>
<a id="5222" href="Ledger.Conway.Conformance.Equivalence.html#4991" class="Function">lem-cert-deposits-invalid</a> <a id="5248" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5253" class="Symbol">(</a><a id="5254" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="5266" class="Symbol">_</a> <a id="5268" href="Ledger.Conway.Conformance.Equivalence.html#5268" class="Bound">utxow</a><a id="5273" class="Symbol">)</a> <a id="5275" class="Keyword">rewrite</a> <a id="5283" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="5303" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5308" href="Ledger.Conway.Conformance.Equivalence.html#5268" class="Bound">utxow</a> <a id="5314" class="Symbol">=</a>
  <a id="5318" class="Symbol">(</a><a id="5319" href="Function.Base.html#704" class="Function">id</a> <a id="5322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5324" href="Function.Base.html#704" class="Function">id</a><a id="5326" class="Symbol">)</a> <a id="5328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5330" class="Symbol">(</a><a id="5331" href="Function.Base.html#704" class="Function">id</a> <a id="5334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5336" href="Function.Base.html#704" class="Function">id</a><a id="5338" class="Symbol">)</a>

<a id="5341" class="Keyword">instance</a>
  <a id="LStateToConf"></a><a id="5352" href="Ledger.Conway.Conformance.Equivalence.html#5352" class="Function">LStateToConf</a> <a id="5365" class="Symbol">:</a> <a id="5367" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5378" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5380" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5391" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="5393" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a> <a id="5402" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="5404" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a>
  <a id="5415" href="Ledger.Conway.Conformance.Equivalence.html#5352" class="Function">LStateToConf</a> <a id="5428" class="Symbol">.</a><a id="5429" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5435" href="Ledger.Conway.Conformance.Equivalence.html#5435" class="Bound">deposits</a> <a id="5444" href="Ledger.Conway.Conformance.Equivalence.html#5444" class="Bound">ledgerSt</a> <a id="5453" class="Symbol">=</a>
    <a id="5459" class="Keyword">let</a> <a id="5463" class="Keyword">open</a> <a id="5468" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="5477" href="Ledger.Conway.Conformance.Equivalence.html#5444" class="Bound">ledgerSt</a> <a id="5486" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#1047}{\htmlId{5495}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#1074}{\htmlId{5504}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5435}{\htmlId{5512}{\htmlClass{Bound}{\text{deposits}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#270}{\htmlId{5521}{\htmlClass{Function Operator}{\text{⊢conv}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#1100}{\htmlId{5527}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="5540" class="Keyword">instance</a>
  <a id="LEDGERToConf"></a><a id="5551" href="Ledger.Conway.Conformance.Equivalence.html#5551" class="Function">LEDGERToConf</a> <a id="5564" class="Symbol">:</a> <a id="5566" class="Symbol">∀</a> <a id="5568" class="Symbol">{</a><a id="5569" href="Ledger.Conway.Conformance.Equivalence.html#5569" class="Bound">Γ</a> <a id="5571" href="Ledger.Conway.Conformance.Equivalence.html#5571" class="Bound">s</a> <a id="5573" href="Ledger.Conway.Conformance.Equivalence.html#5573" class="Bound">tx</a> <a id="5576" href="Ledger.Conway.Conformance.Equivalence.html#5576" class="Bound">s&#39;</a><a id="5578" class="Symbol">}</a>
               <a id="5595" class="Symbol">→</a> <a id="5597" href="Ledger.Conway.Conformance.Equivalence.html#5569" class="Bound">Γ</a> <a id="5599" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="5603" href="Ledger.Conway.Conformance.Equivalence.html#5571" class="Bound">s</a> <a id="5605" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="5608" href="Ledger.Conway.Conformance.Equivalence.html#5573" class="Bound">tx</a> <a id="5611" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="5620" href="Ledger.Conway.Conformance.Equivalence.html#5576" class="Bound">s&#39;</a> <a id="5623" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a>
                 <a id="5642" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5645" href="Ledger.Conway.Conformance.Equivalence.html#5645" class="Bound">certDeposits-s&#39;</a> <a id="5661" href="Data.Product.Base.html#1371" class="Function">]</a>
                    <a id="5683" href="Ledger.Conway.Conformance.Equivalence.html#5645" class="Bound">certDeposits-s&#39;</a> <a id="5699" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5702" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5715" href="Ledger.Conway.Conformance.Equivalence.html#5576" class="Bound">s&#39;</a>
                  <a id="5736" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5738" href="Ledger.Conway.Conformance.Equivalence.html#5569" class="Bound">Γ</a> <a id="5740" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5744" class="Symbol">(</a><a id="5745" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5758" href="Ledger.Conway.Conformance.Equivalence.html#5571" class="Bound">s</a> <a id="5760" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5766" href="Ledger.Conway.Conformance.Equivalence.html#5571" class="Bound">s</a><a id="5767" class="Symbol">)</a> <a id="5769" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="5772" href="Ledger.Conway.Conformance.Equivalence.html#5573" class="Bound">tx</a> <a id="5775" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Ledger.Conway.Conformance.Equivalence.html#5645" class="Bound">certDeposits-s&#39;</a> <a id="5801" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5807" href="Ledger.Conway.Conformance.Equivalence.html#5576" class="Bound">s&#39;</a><a id="5809" class="Symbol">)</a>
  <a id="5813" href="Ledger.Conway.Conformance.Equivalence.html#5551" class="Function">LEDGERToConf</a> <a id="5826" class="Symbol">{</a><a id="5827" href="Ledger.Conway.Conformance.Equivalence.html#5827" class="Bound">Γ</a><a id="5828" class="Symbol">}</a> <a id="5830" class="Symbol">{</a><a id="5831" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s</a><a id="5832" class="Symbol">}</a> <a id="5834" class="Symbol">{</a><a id="5835" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a><a id="5837" class="Symbol">}</a> <a id="5839" class="Symbol">{</a><a id="5840" href="Ledger.Conway.Conformance.Equivalence.html#5840" class="Bound">s&#39;</a><a id="5842" class="Symbol">}</a> <a id="5844" class="Symbol">.</a><a id="5845" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5851" class="Symbol">_</a> <a id="5853" href="Ledger.Conway.Conformance.Equivalence.html#5853" class="Bound">r</a><a id="5854" class="Symbol">@(</a><a id="5856" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="5868" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5873" href="Ledger.Conway.Conformance.Equivalence.html#5873" class="Bound">utxow</a> <a id="5879" href="Ledger.Conway.Conformance.Equivalence.html#5879" class="Bound">certs</a> <a id="5885" href="Ledger.Conway.Conformance.Equivalence.html#5885" class="Bound">gov</a><a id="5888" class="Symbol">)</a> <a id="5890" class="Symbol">=</a>
    <a id="5896" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="5913" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="5921" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a> <a id="5924" class="Symbol">(</a><a id="5925" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5938" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s</a><a id="5939" class="Symbol">)</a>
    <a id="5945" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5947" href="Ledger.Conway.Conformance.Equivalence.html#4444" class="Function">lem-cert-deposits-valid</a> <a id="5971" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5976" href="Ledger.Conway.Conformance.Equivalence.html#5853" class="Bound">r</a>
    <a id="5982" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5984" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">subst₂</a> <a id="5991" class="Symbol">(λ</a> <a id="5994" href="Ledger.Conway.Conformance.Equivalence.html#5994" class="Bound">•</a> <a id="5996" href="Ledger.Conway.Conformance.Equivalence.html#5996" class="Bound">◆</a> <a id="5998" class="Symbol">→</a> <a id="6000" href="Ledger.Conway.Conformance.Equivalence.html#5827" class="Bound">Γ</a> <a id="6002" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6006" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6019" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="6029" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6035" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s</a> <a id="6037" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6040" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a> <a id="6043" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#5994}{\htmlId{6054}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{6058}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5996}{\htmlId{6062}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix}$</a><a id="6065" class="Symbol">)</a>
             <a id="6080" href="Ledger.Conway.Conformance.Equivalence.html#6975" class="Function">utxoEq</a> <a id="6087" href="Ledger.Conway.Conformance.Equivalence.html#7197" class="Function">certsEq</a> <a id="6095" href="Ledger.Conway.Conformance.Equivalence.html#6815" class="Function">ledger&#39;</a>
    <a id="6107" class="Keyword">where</a>
      <a id="6119" class="Keyword">open</a> <a id="6124" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="6131" href="Ledger.Conway.Conformance.Equivalence.html#5827" class="Bound">Γ</a>
      <a id="6139" class="Keyword">open</a> <a id="6144" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="6153" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s</a>
      <a id="6161" class="Keyword">open</a> <a id="6166" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="6175" href="Ledger.Conway.Conformance.Equivalence.html#5840" class="Bound">s&#39;</a> <a id="6178" class="Keyword">renaming</a> <a id="6187" class="Symbol">(</a><a id="6188" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="6195" class="Symbol">to</a> <a id="6198" class="Field">utxoSt&#39;</a><a id="6205" class="Symbol">;</a> <a id="6207" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">certState</a> <a id="6217" class="Symbol">to</a> <a id="6220" class="Field">certState&#39;</a><a id="6230" class="Symbol">;</a> <a id="6232" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">govSt</a> <a id="6238" class="Symbol">to</a> <a id="6241" class="Field">govSt&#39;</a><a id="6247" class="Symbol">)</a>
      <a id="6255" class="Keyword">open</a> <a id="6260" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="6267" class="Symbol">(</a><a id="6268" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="6273" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a><a id="6275" class="Symbol">)</a> <a id="6277" class="Keyword">using</a> <a id="6283" class="Symbol">(</a><a id="6284" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="6291" class="Symbol">)</a>
      <a id="6299" href="Ledger.Conway.Conformance.Equivalence.html#6299" class="Function">deposits</a> <a id="6308" class="Symbol">=</a> <a id="6310" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="6331" href="Ledger.Conway.Specification.Ledger.html#1047" class="Function">utxoSt</a>
      <a id="6344" href="Ledger.Conway.Conformance.Equivalence.html#6344" class="Function">utxow&#39;</a> <a id="6351" class="Symbol">:</a> <a id="6353" class="Symbol">_</a> <a id="6355" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="6359" href="Ledger.Conway.Specification.Ledger.html#1047" class="Function">utxoSt</a> <a id="6366" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="6369" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a> <a id="6372" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="6380" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6392" href="Ledger.Conway.Conformance.Equivalence.html#6299" class="Function">deposits</a> <a id="6401" href="Ledger.Conway.Conformance.Equivalence.html#6198" class="Function">utxoSt&#39;</a>
      <a id="6415" href="Ledger.Conway.Conformance.Equivalence.html#6344" class="Function">utxow&#39;</a> <a id="6422" class="Symbol">=</a> <a id="6424" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="6429" href="Ledger.Conway.Conformance.Equivalence.html#5873" class="Bound">utxow</a>
      <a id="6441" href="Ledger.Conway.Conformance.Equivalence.html#6441" class="Function">utxoStC&#39;</a>    <a id="6453" class="Symbol">=</a> <a id="6455" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6467" class="Symbol">(</a><a id="6468" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="6485" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="6493" class="Symbol">(</a><a id="6494" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="6499" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a><a id="6501" class="Symbol">)</a> <a id="6503" href="Ledger.Conway.Conformance.Equivalence.html#6299" class="Function">deposits</a><a id="6511" class="Symbol">)</a> <a id="6513" href="Ledger.Conway.Conformance.Equivalence.html#6198" class="Function">utxoSt&#39;</a>
      <a id="6527" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a>  <a id="6538" class="Symbol">=</a> <a id="6540" href="Ledger.Conway.Conformance.Equivalence.html#3905" class="Function">makeCertDeps*</a> <a id="6554" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6559" href="Ledger.Conway.Conformance.Equivalence.html#5873" class="Bound">utxow</a>
      <a id="6571" href="Ledger.Conway.Conformance.Equivalence.html#6571" class="Function">cdeposits&#39;</a> <a id="6582" class="Symbol">=</a> <a id="6584" href="Ledger.Conway.Conformance.Equivalence.Certs.html#5696" class="Function">updateCertDeps*</a> <a id="6600" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="6608" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a>
      <a id="6624" href="Ledger.Conway.Conformance.Equivalence.html#6624" class="Function">certStateC&#39;</a> <a id="6636" class="Symbol">=</a> <a id="6638" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6651" href="Ledger.Conway.Conformance.Equivalence.html#6571" class="Function">cdeposits&#39;</a> <a id="6662" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6668" href="Ledger.Conway.Conformance.Equivalence.html#6220" class="Function">certState&#39;</a>
      <a id="6685" href="Ledger.Conway.Conformance.Equivalence.html#6685" class="Function">certs&#39;</a> <a id="6692" class="Symbol">:</a> <a id="6694" class="Symbol">_</a> <a id="6696" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="6700" class="Symbol">(</a><a id="6701" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6714" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="6724" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6730" href="Ledger.Conway.Specification.Ledger.html#1100" class="Function">certState</a><a id="6739" class="Symbol">)</a> <a id="6741" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="6744" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="6752" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="6760" href="Ledger.Conway.Conformance.Equivalence.html#6624" class="Function">certStateC&#39;</a>
      <a id="6778" href="Ledger.Conway.Conformance.Equivalence.html#6685" class="Function">certs&#39;</a> <a id="6785" class="Symbol">=</a> <a id="6787" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="6797" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6803" href="Ledger.Conway.Conformance.Equivalence.html#5879" class="Bound">certs</a>
      <a id="6815" href="Ledger.Conway.Conformance.Equivalence.html#6815" class="Function">ledger&#39;</a> <a id="6823" class="Symbol">:</a> <a id="6825" href="Ledger.Conway.Conformance.Equivalence.html#5827" class="Bound">Γ</a> <a id="6827" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6831" class="Symbol">(</a><a id="6832" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6845" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="6855" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6861" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s</a><a id="6862" class="Symbol">)</a> <a id="6864" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6867" href="Ledger.Conway.Conformance.Equivalence.html#5835" class="Bound">tx</a> <a id="6870" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="6879" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">C.⟦</a> <a id="6883" href="Ledger.Conway.Conformance.Equivalence.html#6441" class="Function">utxoStC&#39;</a> <a id="6892" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6894" href="Ledger.Conway.Conformance.Equivalence.html#6241" class="Function">govSt&#39;</a> <a id="6901" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6903" href="Ledger.Conway.Conformance.Equivalence.html#6624" class="Function">certStateC&#39;</a> <a id="6915" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="6924" href="Ledger.Conway.Conformance.Equivalence.html#6815" class="Function">ledger&#39;</a> <a id="6932" class="Symbol">=</a> <a id="6934" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="6946" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6951" href="Ledger.Conway.Conformance.Equivalence.html#6344" class="Function">utxow&#39;</a> <a id="6958" href="Ledger.Conway.Conformance.Equivalence.html#6685" class="Function">certs&#39;</a> <a id="6965" href="Ledger.Conway.Conformance.Equivalence.html#5885" class="Bound">gov</a>
      <a id="6975" href="Ledger.Conway.Conformance.Equivalence.html#6975" class="Function">utxoEq</a>  <a id="6983" class="Symbol">:</a> <a id="6985" href="Ledger.Conway.Conformance.Equivalence.html#6441" class="Function">utxoStC&#39;</a> <a id="6994" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6996" href="Ledger.Conway.Conformance.Equivalence.html#6198" class="Function">utxoSt&#39;</a>
      <a id="7010" href="Ledger.Conway.Conformance.Equivalence.html#6975" class="Function">utxoEq</a>  <a id="7018" class="Symbol">=</a> <a id="7020" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="7025" class="Symbol">(λ</a> <a id="7028" href="Ledger.Conway.Conformance.Equivalence.html#7028" class="Bound">•</a> <a id="7030" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{7034}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7038}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7028}{\htmlId{7042}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7046}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7049" class="Symbol">)</a>
                     <a id="7072" class="Symbol">(</a><a id="7073" href="Ledger.Conway.Conformance.Equivalence.html#2994" class="Function">lemUpdateDeposits</a> <a id="7091" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7096" href="Ledger.Conway.Conformance.Equivalence.html#5873" class="Bound">utxow</a><a id="7101" class="Symbol">)</a>
      <a id="7109" href="Ledger.Conway.Conformance.Equivalence.html#7109" class="Function">ddeps</a> <a id="7115" class="Symbol">=</a> <a id="7117" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7130" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="7140" class="Symbol">.</a><a id="7141" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="7153" href="Ledger.Conway.Conformance.Equivalence.html#7153" class="Function">gdeps</a> <a id="7159" class="Symbol">=</a> <a id="7161" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7174" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a> <a id="7184" class="Symbol">.</a><a id="7185" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="7197" href="Ledger.Conway.Conformance.Equivalence.html#7197" class="Function">certsEq</a> <a id="7205" class="Symbol">:</a> <a id="7207" href="Ledger.Conway.Conformance.Equivalence.html#6624" class="Function">certStateC&#39;</a> <a id="7219" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7221" class="Symbol">(</a><a id="7222" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="7234" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="7242" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="7250" href="Ledger.Conway.Conformance.Equivalence.html#7109" class="Function">ddeps</a> <a id="7256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7258" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="7270" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="7278" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="7286" href="Ledger.Conway.Conformance.Equivalence.html#7153" class="Function">gdeps</a><a id="7291" class="Symbol">)</a> <a id="7293" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7299" href="Ledger.Conway.Conformance.Equivalence.html#6220" class="Function">certState&#39;</a>
      <a id="7316" href="Ledger.Conway.Conformance.Equivalence.html#7197" class="Function">certsEq</a> <a id="7324" class="Symbol">=</a> <a id="7326" href="Relation.Binary.PropositionalEquality.Core.html#1718" class="Function">cong₂</a> <a id="7332" class="Symbol">(λ</a> <a id="7335" href="Ledger.Conway.Conformance.Equivalence.html#7335" class="Bound">•</a> <a id="7337" href="Ledger.Conway.Conformance.Equivalence.html#7337" class="Bound">◆</a> <a id="7339" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7345}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7349}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7353}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7335}{\htmlId{7357}{\htmlClass{Bound}{\text{•}}}}\, \end{pmatrix} \\ \,\htmlId{7363}{\htmlClass{Symbol}{\text{\_}}}\, \\ \begin{pmatrix} \,\htmlId{7369}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7373}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7337}{\htmlId{7377}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix} \end{pmatrix}$</a><a id="7382" class="Symbol">)</a>
                     <a id="7405" class="Symbol">(</a><a id="7406" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#10968" class="Function">lem-ddeps</a> <a id="7416" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a><a id="7425" class="Symbol">)</a>
                     <a id="7448" class="Symbol">(</a><a id="7449" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#11881" class="Function">lem-gdeps</a> <a id="7459" href="Ledger.Conway.Conformance.Equivalence.html#6527" class="Function">cdeposits</a><a id="7468" class="Symbol">)</a>

  <a id="7473" class="Comment">-- LEDGERToConf {Γ} {s} {tx} {s&#39;} .convⁱ (cdeps , cdeps-eq) r@(L.LEDGER-I⋯ refl utxow) =</a>
  <a id="7564" href="Ledger.Conway.Conformance.Equivalence.html#5551" class="Function">LEDGERToConf</a> <a id="7577" class="Symbol">{</a><a id="7578" href="Ledger.Conway.Conformance.Equivalence.html#7578" class="Bound">Γ</a><a id="7579" class="Symbol">}</a> <a id="7581" class="Symbol">{</a><a id="7582" href="Ledger.Conway.Conformance.Equivalence.html#7582" class="Bound">s</a><a id="7583" class="Symbol">}</a> <a id="7585" class="Symbol">{</a><a id="7586" href="Ledger.Conway.Conformance.Equivalence.html#7586" class="Bound">tx</a><a id="7588" class="Symbol">}</a> <a id="7590" class="Symbol">{</a><a id="7591" href="Ledger.Conway.Conformance.Equivalence.html#7591" class="Bound">s&#39;</a><a id="7593" class="Symbol">}</a> <a id="7595" class="Symbol">.</a><a id="7596" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7602" class="Symbol">_</a> <a id="7604" href="Ledger.Conway.Conformance.Equivalence.html#7604" class="Bound">r</a><a id="7605" class="Symbol">@(</a><a id="7607" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="7619" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7624" href="Ledger.Conway.Conformance.Equivalence.html#7624" class="Bound">utxow</a><a id="7629" class="Symbol">)</a> <a id="7631" class="Symbol">=</a>
    <a id="7637" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="7650" href="Ledger.Conway.Conformance.Equivalence.html#7582" class="Bound">s</a> <a id="7652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7654" href="Ledger.Conway.Conformance.Equivalence.html#4991" class="Function">lem-cert-deposits-invalid</a> <a id="7680" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7685" href="Ledger.Conway.Conformance.Equivalence.html#7604" class="Bound">r</a> <a id="7687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="7693" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="7699" class="Symbol">(λ</a> <a id="7702" href="Ledger.Conway.Conformance.Equivalence.html#7702" class="Bound">•</a> <a id="7704" class="Symbol">→</a> <a id="7706" href="Ledger.Conway.Conformance.Equivalence.html#7578" class="Bound">Γ</a> <a id="7708" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="7712" class="Symbol">_</a> <a id="7714" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7720" href="Ledger.Conway.Conformance.Equivalence.html#7582" class="Bound">s</a> <a id="7722" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="7725" href="Ledger.Conway.Conformance.Equivalence.html#7586" class="Bound">tx</a> <a id="7728" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7741}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7745}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7702}{\htmlId{7749}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7753}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix} \\ \,\htmlId{7759}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7763}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7766" class="Symbol">)</a>
          <a id="7778" class="Symbol">(</a><a id="7779" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="7799" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7804" href="Ledger.Conway.Conformance.Equivalence.html#7624" class="Bound">utxow</a><a id="7809" class="Symbol">)</a>
          <a id="7821" class="Symbol">(</a><a id="7822" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="7834" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7839" class="Symbol">(</a><a id="7840" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="7845" href="Ledger.Conway.Conformance.Equivalence.html#7624" class="Bound">utxow</a><a id="7850" class="Symbol">))</a>

<a id="7854" class="Keyword">instance</a>

  <a id="LStateFromConf"></a><a id="7866" href="Ledger.Conway.Conformance.Equivalence.html#7866" class="Function">LStateFromConf</a> <a id="7881" class="Symbol">:</a> <a id="7883" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="7892" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="7894" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a>
  <a id="7905" href="Ledger.Conway.Conformance.Equivalence.html#7866" class="Function">LStateFromConf</a> <a id="7920" class="Symbol">.</a><a id="7921" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7927" class="Symbol">_</a> <a id="7929" href="Ledger.Conway.Conformance.Equivalence.html#7929" class="Bound">ls</a> <a id="7932" class="Symbol">=</a>
    <a id="7938" class="Keyword">let</a> <a id="7942" class="Keyword">open</a> <a id="7947" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="7956" href="Ledger.Conway.Conformance.Equivalence.html#7929" class="Bound">ls</a> <a id="7959" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Ledger.html#834}{\htmlId{7968}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Ledger.html#861}{\htmlId{7977}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{7985}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.html#887}{\htmlId{7990}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="certDepositsC"></a><a id="8003" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="8017" class="Symbol">:</a> <a id="8019" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="8031" class="Symbol">→</a> <a id="8033" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="8044" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8046" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="8057" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="8071" href="Ledger.Conway.Conformance.Equivalence.html#8071" class="Bound">cs</a> <a id="8074" class="Symbol">=</a> <a id="8076" class="Keyword">let</a> <a id="8080" class="Keyword">open</a> <a id="8085" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="8097" href="Ledger.Conway.Conformance.Equivalence.html#8071" class="Bound">cs</a> <a id="8100" class="Keyword">in</a> <a id="8103" href="Ledger.Conway.Conformance.Certs.html#762" class="Field">C.DState.deposits</a> <a id="8121" href="Ledger.Conway.Conformance.Certs.html#1021" class="Field">dState</a> <a id="8128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8130" href="Ledger.Conway.Conformance.Certs.html#932" class="Field">C.GState.deposits</a> <a id="8148" href="Ledger.Conway.Conformance.Certs.html#1061" class="Field">gState</a>

<a id="WellformedLState"></a><a id="8156" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="8173" class="Symbol">:</a> <a id="8175" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="8184" class="Symbol">→</a> <a id="8186" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8191" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="8208" href="Ledger.Conway.Conformance.Equivalence.html#8208" class="Bound">s</a> <a id="8210" class="Symbol">=</a> <a id="8212" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="8226" class="Symbol">(</a><a id="8227" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="8246" href="Ledger.Conway.Conformance.Equivalence.html#8208" class="Bound">s</a><a id="8247" class="Symbol">)</a> <a id="8249" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8252" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="8265" class="Symbol">(</a><a id="8266" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="8271" href="Ledger.Conway.Conformance.Equivalence.html#8208" class="Bound">s</a><a id="8272" class="Symbol">)</a>

<a id="getValidCertDepositsCERTS"></a><a id="8275" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="8301" class="Symbol">:</a> <a id="8303" class="Symbol">∀</a> <a id="8305" class="Symbol">{</a><a id="8306" href="Ledger.Conway.Conformance.Equivalence.html#8306" class="Bound">Γ</a> <a id="8308" href="Ledger.Conway.Conformance.Equivalence.html#8308" class="Bound">s</a> <a id="8310" href="Ledger.Conway.Conformance.Equivalence.html#8310" class="Bound">certs</a> <a id="8316" href="Ledger.Conway.Conformance.Equivalence.html#8316" class="Bound">s&#39;</a><a id="8318" class="Symbol">}</a> <a id="8320" href="Ledger.Conway.Conformance.Equivalence.html#8320" class="Bound">deposits</a> <a id="8329" class="Symbol">(</a><a id="8330" class="Keyword">open</a> <a id="8335" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">L.CertEnv</a> <a id="8345" href="Ledger.Conway.Conformance.Equivalence.html#8306" class="Bound">Γ</a> <a id="8347" class="Keyword">using</a> <a id="8353" class="Symbol">(</a><a id="8354" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="8356" class="Symbol">))</a>
                          <a id="8385" class="Symbol">→</a> <a id="8387" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="8401" href="Ledger.Conway.Conformance.Equivalence.html#8308" class="Bound">s</a> <a id="8403" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8406" class="Symbol">(</a><a id="8407" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="8417" href="Ledger.Conway.Conformance.Equivalence.html#8320" class="Bound">deposits</a> <a id="8426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8428" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="8438" href="Ledger.Conway.Conformance.Equivalence.html#8320" class="Bound">deposits</a><a id="8446" class="Symbol">)</a>
                          <a id="8474" class="Symbol">→</a> <a id="8476" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="8492" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="8508" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="8529" href="Ledger.Conway.Conformance.Equivalence.html#8306" class="Bound">Γ</a> <a id="8531" href="Ledger.Conway.Conformance.Equivalence.html#8308" class="Bound">s</a> <a id="8533" href="Ledger.Conway.Conformance.Equivalence.html#8310" class="Bound">certs</a> <a id="8539" href="Ledger.Conway.Conformance.Equivalence.html#8316" class="Bound">s&#39;</a>
                          <a id="8568" class="Symbol">→</a> <a id="8570" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="8590" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="8593" href="Ledger.Conway.Conformance.Equivalence.html#8320" class="Bound">deposits</a> <a id="8602" href="Ledger.Conway.Conformance.Equivalence.html#8310" class="Bound">certs</a>
<a id="8608" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="8634" href="Ledger.Conway.Conformance.Equivalence.html#8634" class="Bound">deposits</a> <a id="8643" href="Ledger.Conway.Conformance.Equivalence.html#8643" class="Bound">wf</a> <a id="8646" class="Symbol">(</a><a id="8647" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="8654" href="Ledger.Conway.Conformance.Equivalence.html#8654" class="Bound">x</a><a id="8655" class="Symbol">)</a> <a id="8657" class="Symbol">=</a> <a id="8659" href="Ledger.Conway.Specification.Utxo.html#3540" class="InductiveConstructor">L.[]</a>
<a id="8664" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="8690" class="Symbol">{</a><a id="8691" href="Ledger.Conway.Conformance.Equivalence.html#8691" class="Bound">Γ</a><a id="8692" class="Symbol">}</a> <a id="8694" class="Symbol">{</a><a id="8695" href="Ledger.Conway.Conformance.Equivalence.html#8695" class="Bound">s</a><a id="8696" class="Symbol">}</a> <a id="8698" class="Symbol">{</a><a id="8699" href="Ledger.Conway.Conformance.Equivalence.html#8699" class="Bound">cert</a> <a id="8704" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8706" class="Symbol">_}</a> <a id="8709" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">deposits</a> <a id="8718" href="Ledger.Conway.Conformance.Equivalence.html#8718" class="Bound">wf</a> <a id="8721" class="Symbol">(</a><a id="8722" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8728" class="Symbol">(</a><a id="8729" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8742" class="Symbol">(</a><a id="8743" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="8760" href="Ledger.Conway.Conformance.Equivalence.html#8760" class="Bound">x</a><a id="8761" class="Symbol">))</a> <a id="8764" href="Ledger.Conway.Conformance.Equivalence.html#8764" class="Bound">rs</a><a id="8766" class="Symbol">)</a>
  <a id="8770" class="Symbol">=</a> <a id="8772" href="Ledger.Conway.Specification.Utxo.html#3584" class="InductiveConstructor">L.delegate</a> <a id="8783" class="Symbol">(</a><a id="8784" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="8810" class="Symbol">_</a> <a id="8812" class="Symbol">(</a><a id="8813" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="8824" class="Symbol">(</a><a id="8825" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="8838" href="Ledger.Conway.Conformance.Equivalence.html#8691" class="Bound">Γ</a><a id="8839" class="Symbol">)</a> <a id="8841" class="Symbol">(</a><a id="8842" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="8856" href="Ledger.Conway.Conformance.Equivalence.html#8695" class="Bound">s</a><a id="8857" class="Symbol">)</a> <a id="8859" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">deposits</a> <a id="8868" href="Ledger.Conway.Conformance.Equivalence.html#8699" class="Bound">cert</a> <a id="8873" href="Ledger.Conway.Conformance.Equivalence.html#8718" class="Bound">wf</a><a id="8875" class="Symbol">)</a> <a id="8877" href="Ledger.Conway.Conformance.Equivalence.html#8764" class="Bound">rs</a><a id="8879" class="Symbol">)</a>
<a id="8881" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="8907" class="Symbol">{</a><a id="8908" href="Ledger.Conway.Conformance.Equivalence.html#8908" class="Bound">Γ</a><a id="8909" class="Symbol">}</a> <a id="8911" class="Symbol">{</a><a id="8912" href="Ledger.Conway.Conformance.Equivalence.html#8912" class="Bound">s</a><a id="8913" class="Symbol">}</a> <a id="8915" class="Symbol">{</a><a id="8916" href="Ledger.Conway.Conformance.Equivalence.html#8916" class="Bound">cert</a> <a id="8921" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8923" class="Symbol">_}</a> <a id="8926" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">deposits</a> <a id="8935" href="Ledger.Conway.Conformance.Equivalence.html#8935" class="Bound">wf</a> <a id="8938" class="Symbol">(</a><a id="8939" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8945" class="Symbol">(</a><a id="8946" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8959" class="Symbol">(</a><a id="8960" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="8974" class="Symbol">(_</a> <a id="8977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8979" href="Ledger.Conway.Conformance.Equivalence.html#8979" class="Bound">h</a> <a id="8981" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8983" href="Ledger.Conway.Conformance.Equivalence.html#8983" class="Bound">h&#39;</a><a id="8985" class="Symbol">)))</a> <a id="8989" href="Ledger.Conway.Conformance.Equivalence.html#8989" class="Bound">rs</a><a id="8991" class="Symbol">)</a>
  <a id="8995" class="Symbol">=</a> <a id="8997" href="Ledger.Conway.Specification.Utxo.html#4305" class="InductiveConstructor">L.dereg</a> <a id="9005" class="Symbol">(</a><a id="9006" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="9015" class="Symbol">.</a><a id="9016" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="9033" class="Symbol">(</a><a id="9034" href="Ledger.Conway.Conformance.Equivalence.html#8935" class="Bound">wf</a> <a id="9037" class="Symbol">.</a><a id="9038" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9044" class="Symbol">.</a><a id="9045" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9051" href="Ledger.Conway.Conformance.Equivalence.html#8979" class="Bound">h</a><a id="9052" class="Symbol">)</a> <a id="9054" class="Symbol">.</a><a id="9055" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9060" class="Symbol">)</a> <a id="9062" href="Ledger.Conway.Conformance.Equivalence.html#8983" class="Bound">h&#39;</a>
            <a id="9077" class="Symbol">(</a><a id="9078" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9104" class="Symbol">_</a> <a id="9106" class="Symbol">(</a><a id="9107" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9118" class="Symbol">(</a><a id="9119" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9132" href="Ledger.Conway.Conformance.Equivalence.html#8908" class="Bound">Γ</a><a id="9133" class="Symbol">)</a> <a id="9135" class="Symbol">(</a><a id="9136" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="9150" href="Ledger.Conway.Conformance.Equivalence.html#8912" class="Bound">s</a><a id="9151" class="Symbol">)</a> <a id="9153" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">deposits</a> <a id="9162" href="Ledger.Conway.Conformance.Equivalence.html#8916" class="Bound">cert</a> <a id="9167" href="Ledger.Conway.Conformance.Equivalence.html#8935" class="Bound">wf</a><a id="9169" class="Symbol">)</a> <a id="9171" href="Ledger.Conway.Conformance.Equivalence.html#8989" class="Bound">rs</a><a id="9173" class="Symbol">)</a>
<a id="9175" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9201" class="Symbol">{</a><a id="9202" href="Ledger.Conway.Conformance.Equivalence.html#9202" class="Bound">Γ</a><a id="9203" class="Symbol">}</a> <a id="9205" class="Symbol">{</a><a id="9206" href="Ledger.Conway.Conformance.Equivalence.html#9206" class="Bound">s</a><a id="9207" class="Symbol">}</a> <a id="9209" class="Symbol">{</a><a id="9210" href="Ledger.Conway.Conformance.Equivalence.html#9210" class="Bound">cert</a> <a id="9215" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9217" class="Symbol">_}</a> <a id="9220" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">deposits</a> <a id="9229" href="Ledger.Conway.Conformance.Equivalence.html#9229" class="Bound">wf</a> <a id="9232" class="Symbol">(</a><a id="9233" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9239" class="Symbol">(</a><a id="9240" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="9253" class="Symbol">(</a><a id="9254" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="9266" href="Ledger.Conway.Conformance.Equivalence.html#9266" class="Bound">x</a><a id="9267" class="Symbol">))</a> <a id="9270" href="Ledger.Conway.Conformance.Equivalence.html#9270" class="Bound">rs</a><a id="9272" class="Symbol">)</a>
  <a id="9276" class="Symbol">=</a> <a id="9278" href="Ledger.Conway.Specification.Utxo.html#4124" class="InductiveConstructor">L.reg</a> <a id="9284" class="Symbol">(</a><a id="9285" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9311" class="Symbol">_</a> <a id="9313" class="Symbol">(</a><a id="9314" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9325" class="Symbol">(</a><a id="9326" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9339" href="Ledger.Conway.Conformance.Equivalence.html#9202" class="Bound">Γ</a><a id="9340" class="Symbol">)</a> <a id="9342" class="Symbol">(</a><a id="9343" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="9357" href="Ledger.Conway.Conformance.Equivalence.html#9206" class="Bound">s</a><a id="9358" class="Symbol">)</a> <a id="9360" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">deposits</a> <a id="9369" href="Ledger.Conway.Conformance.Equivalence.html#9210" class="Bound">cert</a> <a id="9374" href="Ledger.Conway.Conformance.Equivalence.html#9229" class="Bound">wf</a><a id="9376" class="Symbol">)</a> <a id="9378" href="Ledger.Conway.Conformance.Equivalence.html#9270" class="Bound">rs</a><a id="9380" class="Symbol">)</a>
<a id="9382" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9408" class="Symbol">{</a><a id="9409" href="Ledger.Conway.Conformance.Equivalence.html#9409" class="Bound">Γ</a><a id="9410" class="Symbol">}</a> <a id="9412" class="Symbol">{</a><a id="9413" href="Ledger.Conway.Conformance.Equivalence.html#9413" class="Bound">s</a><a id="9414" class="Symbol">}</a> <a id="9416" class="Symbol">{</a><a id="9417" href="Ledger.Conway.Conformance.Equivalence.html#9417" class="Bound">cert</a> <a id="9422" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9424" class="Symbol">_}</a> <a id="9427" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">deposits</a> <a id="9436" href="Ledger.Conway.Conformance.Equivalence.html#9436" class="Bound">wf</a> <a id="9439" class="Symbol">(</a><a id="9440" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9446" class="Symbol">(</a><a id="9447" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9459" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="9473" class="Symbol">)</a> <a id="9475" href="Ledger.Conway.Conformance.Equivalence.html#9475" class="Bound">rs</a><a id="9477" class="Symbol">)</a>
  <a id="9481" class="Symbol">=</a> <a id="9483" href="Ledger.Conway.Specification.Utxo.html#3771" class="InductiveConstructor">L.regpool</a> <a id="9493" class="Symbol">(</a><a id="9494" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9520" class="Symbol">_</a> <a id="9522" class="Symbol">(</a><a id="9523" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9534" class="Symbol">(</a><a id="9535" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9548" href="Ledger.Conway.Conformance.Equivalence.html#9409" class="Bound">Γ</a><a id="9549" class="Symbol">)</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="9566" href="Ledger.Conway.Conformance.Equivalence.html#9413" class="Bound">s</a><a id="9567" class="Symbol">)</a> <a id="9569" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">deposits</a> <a id="9578" href="Ledger.Conway.Conformance.Equivalence.html#9417" class="Bound">cert</a> <a id="9583" href="Ledger.Conway.Conformance.Equivalence.html#9436" class="Bound">wf</a><a id="9585" class="Symbol">)</a> <a id="9587" href="Ledger.Conway.Conformance.Equivalence.html#9475" class="Bound">rs</a><a id="9589" class="Symbol">)</a>
<a id="9591" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9617" class="Symbol">{</a><a id="9618" href="Ledger.Conway.Conformance.Equivalence.html#9618" class="Bound">Γ</a><a id="9619" class="Symbol">}</a> <a id="9621" class="Symbol">{</a><a id="9622" href="Ledger.Conway.Conformance.Equivalence.html#9622" class="Bound">s</a><a id="9623" class="Symbol">}</a> <a id="9625" class="Symbol">{</a><a id="9626" href="Ledger.Conway.Conformance.Equivalence.html#9626" class="Bound">cert</a> <a id="9631" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9633" class="Symbol">_}</a> <a id="9636" href="Ledger.Conway.Conformance.Equivalence.html#9636" class="Bound">deposits</a> <a id="9645" href="Ledger.Conway.Conformance.Equivalence.html#9645" class="Bound">wf</a> <a id="9648" class="Symbol">(</a><a id="9649" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9655" class="Symbol">(</a><a id="9656" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9668" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="9685" class="Symbol">)</a> <a id="9687" href="Ledger.Conway.Conformance.Equivalence.html#9687" class="Bound">rs</a><a id="9689" class="Symbol">)</a>
  <a id="9693" class="Symbol">=</a> <a id="9695" href="Ledger.Conway.Specification.Utxo.html#4913" class="InductiveConstructor">L.retirepool</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9735" class="Symbol">_</a> <a id="9737" class="Symbol">(</a><a id="9738" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9749" class="Symbol">(</a><a id="9750" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9763" href="Ledger.Conway.Conformance.Equivalence.html#9618" class="Bound">Γ</a><a id="9764" class="Symbol">)</a> <a id="9766" class="Symbol">(</a><a id="9767" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="9781" href="Ledger.Conway.Conformance.Equivalence.html#9622" class="Bound">s</a><a id="9782" class="Symbol">)</a> <a id="9784" href="Ledger.Conway.Conformance.Equivalence.html#9636" class="Bound">deposits</a> <a id="9793" href="Ledger.Conway.Conformance.Equivalence.html#9626" class="Bound">cert</a> <a id="9798" href="Ledger.Conway.Conformance.Equivalence.html#9645" class="Bound">wf</a><a id="9800" class="Symbol">)</a> <a id="9802" href="Ledger.Conway.Conformance.Equivalence.html#9687" class="Bound">rs</a><a id="9804" class="Symbol">)</a>
<a id="9806" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9832" class="Symbol">{</a><a id="9833" href="Ledger.Conway.Conformance.Equivalence.html#9833" class="Bound">Γ</a><a id="9834" class="Symbol">}</a> <a id="9836" class="Symbol">{</a><a id="9837" href="Ledger.Conway.Conformance.Equivalence.html#9837" class="Bound">s</a><a id="9838" class="Symbol">}</a> <a id="9840" class="Symbol">{</a><a id="9841" href="Ledger.Conway.Conformance.Equivalence.html#9841" class="Bound">cert</a> <a id="9846" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9848" class="Symbol">_}</a> <a id="9851" href="Ledger.Conway.Conformance.Equivalence.html#9851" class="Bound">deposits</a> <a id="9860" href="Ledger.Conway.Conformance.Equivalence.html#9860" class="Bound">wf</a> <a id="9863" class="Symbol">(</a><a id="9864" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9870" class="Symbol">(</a><a id="9871" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="9883" class="Symbol">(</a><a id="9884" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="9902" href="Ledger.Conway.Conformance.Equivalence.html#9902" class="Bound">x</a><a id="9903" class="Symbol">))</a> <a id="9906" href="Ledger.Conway.Conformance.Equivalence.html#9906" class="Bound">rs</a><a id="9908" class="Symbol">)</a>
  <a id="9912" class="Symbol">=</a> <a id="9914" href="Ledger.Conway.Specification.Utxo.html#3954" class="InductiveConstructor">L.regdrep</a> <a id="9924" class="Symbol">(</a><a id="9925" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="9951" class="Symbol">_</a> <a id="9953" class="Symbol">(</a><a id="9954" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9965" class="Symbol">(</a><a id="9966" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9979" href="Ledger.Conway.Conformance.Equivalence.html#9833" class="Bound">Γ</a><a id="9980" class="Symbol">)</a> <a id="9982" class="Symbol">(</a><a id="9983" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="9997" href="Ledger.Conway.Conformance.Equivalence.html#9837" class="Bound">s</a><a id="9998" class="Symbol">)</a> <a id="10000" href="Ledger.Conway.Conformance.Equivalence.html#9851" class="Bound">deposits</a> <a id="10009" href="Ledger.Conway.Conformance.Equivalence.html#9841" class="Bound">cert</a> <a id="10014" href="Ledger.Conway.Conformance.Equivalence.html#9860" class="Bound">wf</a><a id="10016" class="Symbol">)</a> <a id="10018" href="Ledger.Conway.Conformance.Equivalence.html#9906" class="Bound">rs</a><a id="10020" class="Symbol">)</a>
<a id="10022" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="10048" class="Symbol">{</a><a id="10049" href="Ledger.Conway.Conformance.Equivalence.html#10049" class="Bound">Γ</a><a id="10050" class="Symbol">}</a> <a id="10052" class="Symbol">{</a><a id="10053" href="Ledger.Conway.Conformance.Equivalence.html#10053" class="Bound">s</a><a id="10054" class="Symbol">}</a> <a id="10056" class="Symbol">{</a><a id="10057" href="Ledger.Conway.Conformance.Equivalence.html#10057" class="Bound">cert</a> <a id="10062" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10064" class="Symbol">_}</a> <a id="10067" href="Ledger.Conway.Conformance.Equivalence.html#10067" class="Bound">deposits</a> <a id="10076" href="Ledger.Conway.Conformance.Equivalence.html#10076" class="Bound">wf</a> <a id="10079" class="Symbol">(</a><a id="10080" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10086" class="Symbol">(</a><a id="10087" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10099" class="Symbol">(</a><a id="10100" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="10120" class="Symbol">(_</a> <a id="10123" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10125" href="Ledger.Conway.Conformance.Equivalence.html#10125" class="Bound">h</a><a id="10126" class="Symbol">)))</a> <a id="10130" href="Ledger.Conway.Conformance.Equivalence.html#10130" class="Bound">rs</a><a id="10132" class="Symbol">)</a>
  <a id="10136" class="Symbol">=</a> <a id="10138" href="Ledger.Conway.Specification.Utxo.html#4566" class="InductiveConstructor">L.deregdrep</a> <a id="10150" class="Symbol">(</a><a id="10151" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="10160" class="Symbol">.</a><a id="10161" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="10178" class="Symbol">(</a><a id="10179" href="Ledger.Conway.Conformance.Equivalence.html#10076" class="Bound">wf</a> <a id="10182" class="Symbol">.</a><a id="10183" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10189" class="Symbol">.</a><a id="10190" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="10196" href="Ledger.Conway.Conformance.Equivalence.html#10125" class="Bound">h</a><a id="10197" class="Symbol">)</a> <a id="10199" class="Symbol">.</a><a id="10200" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="10205" class="Symbol">)</a>
                <a id="10223" class="Symbol">(</a><a id="10224" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="10250" class="Symbol">_</a> <a id="10252" class="Symbol">(</a><a id="10253" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="10264" class="Symbol">(</a><a id="10265" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10278" href="Ledger.Conway.Conformance.Equivalence.html#10049" class="Bound">Γ</a><a id="10279" class="Symbol">)</a> <a id="10281" class="Symbol">(</a><a id="10282" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="10296" href="Ledger.Conway.Conformance.Equivalence.html#10053" class="Bound">s</a><a id="10297" class="Symbol">)</a> <a id="10299" href="Ledger.Conway.Conformance.Equivalence.html#10067" class="Bound">deposits</a> <a id="10308" href="Ledger.Conway.Conformance.Equivalence.html#10057" class="Bound">cert</a> <a id="10313" href="Ledger.Conway.Conformance.Equivalence.html#10076" class="Bound">wf</a><a id="10315" class="Symbol">)</a> <a id="10317" href="Ledger.Conway.Conformance.Equivalence.html#10130" class="Bound">rs</a><a id="10319" class="Symbol">)</a>
<a id="10321" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="10347" class="Symbol">{</a><a id="10348" href="Ledger.Conway.Conformance.Equivalence.html#10348" class="Bound">Γ</a><a id="10349" class="Symbol">}</a> <a id="10351" class="Symbol">{</a><a id="10352" href="Ledger.Conway.Conformance.Equivalence.html#10352" class="Bound">s</a><a id="10353" class="Symbol">}</a> <a id="10355" class="Symbol">{</a><a id="10356" href="Ledger.Conway.Conformance.Equivalence.html#10356" class="Bound">cert</a> <a id="10361" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10363" class="Symbol">_}</a> <a id="10366" href="Ledger.Conway.Conformance.Equivalence.html#10366" class="Bound">deposits</a> <a id="10375" href="Ledger.Conway.Conformance.Equivalence.html#10375" class="Bound">wf</a> <a id="10378" class="Symbol">(</a><a id="10379" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10385" class="Symbol">(</a><a id="10386" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10398" class="Symbol">(</a><a id="10399" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="10418" href="Ledger.Conway.Conformance.Equivalence.html#10418" class="Bound">x</a><a id="10419" class="Symbol">))</a> <a id="10422" href="Ledger.Conway.Conformance.Equivalence.html#10422" class="Bound">rs</a><a id="10424" class="Symbol">)</a>
  <a id="10428" class="Symbol">=</a> <a id="10430" href="Ledger.Conway.Specification.Utxo.html#4773" class="InductiveConstructor">L.ccreghot</a><a id="10440" class="Symbol">(</a><a id="10441" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="10467" class="Symbol">_</a> <a id="10469" class="Symbol">(</a><a id="10470" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="10481" class="Symbol">(</a><a id="10482" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10495" href="Ledger.Conway.Conformance.Equivalence.html#10348" class="Bound">Γ</a><a id="10496" class="Symbol">)</a> <a id="10498" class="Symbol">(</a><a id="10499" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="10513" href="Ledger.Conway.Conformance.Equivalence.html#10352" class="Bound">s</a><a id="10514" class="Symbol">)</a> <a id="10516" href="Ledger.Conway.Conformance.Equivalence.html#10366" class="Bound">deposits</a> <a id="10525" href="Ledger.Conway.Conformance.Equivalence.html#10356" class="Bound">cert</a> <a id="10530" href="Ledger.Conway.Conformance.Equivalence.html#10375" class="Bound">wf</a><a id="10532" class="Symbol">)</a> <a id="10534" href="Ledger.Conway.Conformance.Equivalence.html#10422" class="Bound">rs</a><a id="10536" class="Symbol">)</a>


<a id="getValidCertDepositsC"></a><a id="10540" href="Ledger.Conway.Conformance.Equivalence.html#10540" class="Function">getValidCertDepositsC</a> <a id="10562" class="Symbol">:</a> <a id="10564" class="Symbol">∀</a> <a id="10566" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">Γ</a> <a id="10568" href="Ledger.Conway.Conformance.Equivalence.html#10568" class="Bound">s</a> <a id="10570" class="Symbol">{</a><a id="10571" href="Ledger.Conway.Conformance.Equivalence.html#10571" class="Bound">s&#39;</a><a id="10573" class="Symbol">}</a> <a id="10575" href="Ledger.Conway.Conformance.Equivalence.html#10575" class="Bound">tx</a>
                     <a id="10599" class="Symbol">→</a> <a id="10601" class="Symbol">(</a><a id="10602" class="Keyword">let</a> <a id="10606" class="Keyword">open</a> <a id="10611" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">C.LEnv</a> <a id="10618" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">Γ</a> <a id="10620" class="Keyword">using</a> <a id="10626" class="Symbol">(</a><a id="10627" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="10634" class="Symbol">;</a> <a id="10636" href="Ledger.Conway.Specification.Ledger.html#752" class="Field">slot</a><a id="10640" class="Symbol">;</a> <a id="10642" href="Ledger.Conway.Specification.Ledger.html#836" class="Field">enactState</a><a id="10652" class="Symbol">)</a>
                            <a id="10682" class="Keyword">open</a> <a id="10687" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="10694" class="Symbol">(</a><a id="10695" href="Ledger.Conway.Conformance.Equivalence.html#10575" class="Bound">tx</a> <a id="10698" class="Symbol">.</a><a id="10699" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">Tx.body</a><a id="10706" class="Symbol">)</a> <a id="10708" class="Keyword">using</a> <a id="10714" class="Symbol">(</a><a id="10715" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="10722" class="Symbol">;</a> <a id="10724" href="Ledger.Conway.Specification.Transaction.html#3646" class="Field">txGovVotes</a><a id="10734" class="Symbol">;</a> <a id="10736" href="Ledger.Conway.Specification.Transaction.html#3471" class="Field">txWithdrawals</a><a id="10749" class="Symbol">)</a>
                            <a id="10779" class="Keyword">open</a> <a id="10784" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="10793" href="Ledger.Conway.Conformance.Equivalence.html#10568" class="Bound">s</a>
                            <a id="10823" class="Keyword">open</a> <a id="10828" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">C.UTxOState</a> <a id="10840" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="10847" class="Keyword">using</a> <a id="10853" class="Symbol">(</a><a id="10854" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="10862" class="Symbol">)</a>
                            <a id="10892" href="Ledger.Conway.Conformance.Equivalence.html#10892" class="Bound">cc</a> <a id="10895" class="Symbol">=</a> <a id="10897" href="Ledger.Conway.Specification.Ledger.html#3259" class="Function">C.allColdCreds</a> <a id="10912" href="Ledger.Conway.Conformance.Ledger.html#861" class="Function">govSt</a> <a id="10918" href="Ledger.Conway.Specification.Ledger.html#836" class="Function">enactState</a>
                       <a id="10952" class="Symbol">)</a>
                     <a id="10975" class="Symbol">→</a> <a id="10977" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="10994" href="Ledger.Conway.Conformance.Equivalence.html#10568" class="Bound">s</a>
                     <a id="11017" class="Symbol">→</a> <a id="11019" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="11027" href="Ledger.Conway.Conformance.Equivalence.html#10575" class="Bound">tx</a> <a id="11030" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11032" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="11058" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{11062}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#752}{\htmlId{11068}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#810}{\htmlId{11075}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3646}{\htmlId{11085}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3471}{\htmlId{11098}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#10892}{\htmlId{11114}{\htmlClass{Bound}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="11119" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="11123" href="Ledger.Conway.Conformance.Ledger.html#887" class="Function">certState</a> <a id="11133" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="11136" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="11144" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="11152" href="Ledger.Conway.Conformance.Equivalence.html#10571" class="Bound">s&#39;</a>
                     <a id="11176" class="Symbol">→</a> <a id="11178" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="11198" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="11206" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="11215" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a>
<a id="11223" href="Ledger.Conway.Conformance.Equivalence.html#10540" class="Function">getValidCertDepositsC</a> <a id="11245" href="Ledger.Conway.Conformance.Equivalence.html#11245" class="Bound">Γ</a> <a id="11247" href="Ledger.Conway.Conformance.Equivalence.html#11247" class="Bound">s</a> <a id="11249" href="Ledger.Conway.Conformance.Equivalence.html#11249" class="Bound">tx</a> <a id="11252" href="Ledger.Conway.Conformance.Equivalence.html#11252" class="Bound">wf</a> <a id="11255" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11260" class="Symbol">(</a><a id="11261" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="11265" class="Symbol">{</a><a id="11266" class="Argument">s&#39;</a> <a id="11269" class="Symbol">=</a> <a id="11271" href="Ledger.Conway.Conformance.Equivalence.html#11271" class="Bound">s&#39;</a><a id="11273" class="Symbol">}</a> <a id="11275" class="Symbol">(</a><a id="11276" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="11287" class="Symbol">_</a> <a id="11289" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11291" href="Ledger.Conway.Conformance.Equivalence.html#11291" class="Bound">cert-post</a><a id="11300" class="Symbol">))</a> <a id="11303" class="Symbol">=</a>
  <a id="11307" href="Ledger.Conway.Conformance.Equivalence.html#8275" class="Function">getValidCertDepositsCERTS</a> <a id="11333" class="Symbol">(</a><a id="11334" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">C.UTxOState.deposits</a> <a id="11355" class="Symbol">((</a><a id="11357" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">C.LState.utxoSt</a> <a id="11373" href="Ledger.Conway.Conformance.Equivalence.html#11247" class="Bound">s</a><a id="11374" class="Symbol">)))</a> <a id="11378" href="Ledger.Conway.Conformance.Equivalence.html#11252" class="Bound">wf</a> <a id="11381" href="Ledger.Conway.Conformance.Equivalence.html#11291" class="Bound">cert-post</a>

<a id="lemUtxowDeposits"></a><a id="11392" href="Ledger.Conway.Conformance.Equivalence.html#11392" class="Function">lemUtxowDeposits</a> <a id="11409" class="Symbol">:</a> <a id="11411" class="Symbol">∀</a> <a id="11413" class="Symbol">{</a><a id="11414" href="Ledger.Conway.Conformance.Equivalence.html#11414" class="Bound">Γ</a> <a id="11416" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">s</a> <a id="11418" href="Ledger.Conway.Conformance.Equivalence.html#11418" class="Bound">s&#39;</a> <a id="11421" href="Ledger.Conway.Conformance.Equivalence.html#11421" class="Bound">tx</a><a id="11423" class="Symbol">}</a>
                      <a id="11447" class="Symbol">(</a><a id="11448" class="Keyword">let</a> <a id="11452" class="Keyword">open</a> <a id="11457" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">C.UTxOEnv</a> <a id="11467" href="Ledger.Conway.Conformance.Equivalence.html#11414" class="Bound">Γ</a> <a id="11469" class="Keyword">using</a> <a id="11475" class="Symbol">(</a><a id="11476" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="11483" class="Symbol">))</a>
                  <a id="11504" class="Symbol">→</a> <a id="11506" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="11514" href="Ledger.Conway.Conformance.Equivalence.html#11421" class="Bound">tx</a> <a id="11517" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11519" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="11542" class="Symbol">→</a> <a id="11544" class="Symbol">(</a><a id="11545" href="Ledger.Conway.Conformance.Equivalence.html#11545" class="Bound">r</a> <a id="11547" class="Symbol">:</a> <a id="11549" href="Ledger.Conway.Conformance.Equivalence.html#11414" class="Bound">Γ</a> <a id="11551" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="11555" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">s</a> <a id="11557" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="11560" href="Ledger.Conway.Conformance.Equivalence.html#11421" class="Bound">tx</a> <a id="11563" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="11571" href="Ledger.Conway.Conformance.Equivalence.html#11418" class="Bound">s&#39;</a><a id="11573" class="Symbol">)</a>
                  <a id="11593" class="Symbol">→</a> <a id="11595" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="11609" href="Ledger.Conway.Conformance.Equivalence.html#11545" class="Bound">r</a> <a id="11611" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11613" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="11630" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="11638" class="Symbol">(</a><a id="11639" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="11644" href="Ledger.Conway.Conformance.Equivalence.html#11421" class="Bound">tx</a><a id="11646" class="Symbol">)</a> <a id="11648" class="Symbol">(</a><a id="11649" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">C.UTxOState.deposits</a> <a id="11670" href="Ledger.Conway.Conformance.Equivalence.html#11418" class="Bound">s&#39;</a><a id="11672" class="Symbol">)</a>
<a id="11674" href="Ledger.Conway.Conformance.Equivalence.html#11392" class="Function">lemUtxowDeposits</a> <a id="11691" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11696" class="Symbol">(</a><a id="11697" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                        <a id="11734" class="Symbol">(</a><a id="11735" href="Ledger.Conway.Conformance.Utxo.html#3942" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="11753" class="Symbol">_</a> <a id="11755" class="Symbol">_</a> <a id="11757" class="Symbol">_</a> <a id="11759" class="Symbol">_</a> <a id="11761" class="Symbol">_</a> <a id="11763" class="Symbol">_</a> <a id="11765" class="Symbol">_</a> <a id="11767" class="Symbol">_</a> <a id="11769" class="Symbol">_</a> <a id="11771" class="Symbol">_</a> <a id="11773" class="Symbol">_</a> <a id="11775" class="Symbol">_</a> <a id="11777" class="Symbol">_</a> <a id="11779" class="Symbol">_</a> <a id="11781" class="Symbol">_</a> <a id="11783" class="Symbol">_</a> <a id="11785" class="Symbol">_</a> <a id="11787" class="Symbol">_</a> <a id="11789" class="Symbol">_</a> <a id="11791" class="Symbol">_</a>
                          <a id="11819" class="Symbol">(</a><a id="11820" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="11834" class="Symbol">_)))</a> <a id="11839" class="Symbol">=</a> <a id="11841" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11847" class="Keyword">instance</a>

  <a id="LEDGERFromConf"></a><a id="11859" href="Ledger.Conway.Conformance.Equivalence.html#11859" class="Function">LEDGERFromConf</a> <a id="11874" class="Symbol">:</a> <a id="11876" class="Symbol">∀</a> <a id="11878" class="Symbol">{</a><a id="11879" href="Ledger.Conway.Conformance.Equivalence.html#11879" class="Bound">Γ</a> <a id="11881" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s</a> <a id="11883" href="Ledger.Conway.Conformance.Equivalence.html#11883" class="Bound">tx</a> <a id="11886" href="Ledger.Conway.Conformance.Equivalence.html#11886" class="Bound">s&#39;</a><a id="11888" class="Symbol">}</a> <a id="11890" class="Symbol">→</a> <a id="11892" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="11909" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s</a>
                                    <a id="11947" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="11949" href="Ledger.Conway.Conformance.Equivalence.html#11879" class="Bound">Γ</a> <a id="11951" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="11955" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s</a> <a id="11957" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="11960" href="Ledger.Conway.Conformance.Equivalence.html#11883" class="Bound">tx</a> <a id="11963" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="11972" href="Ledger.Conway.Conformance.Equivalence.html#11886" class="Bound">s&#39;</a>
                                    <a id="12011" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="12013" href="Ledger.Conway.Conformance.Equivalence.html#11879" class="Bound">Γ</a> <a id="12015" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="12019" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12024" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s</a> <a id="12026" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="12029" href="Ledger.Conway.Conformance.Equivalence.html#11883" class="Bound">tx</a> <a id="12032" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="12041" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12046" href="Ledger.Conway.Conformance.Equivalence.html#11886" class="Bound">s&#39;</a>
  <a id="12051" href="Ledger.Conway.Conformance.Equivalence.html#11859" class="Function">LEDGERFromConf</a> <a id="12066" class="Symbol">.</a><a id="12067" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12073" class="Symbol">_</a> <a id="12075" class="Symbol">(</a><a id="12076" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="12088" href="Ledger.Conway.Conformance.Equivalence.html#12088" class="Bound">invalid</a> <a id="12096" href="Ledger.Conway.Conformance.Equivalence.html#12096" class="Bound">utxow</a><a id="12101" class="Symbol">)</a> <a id="12103" class="Keyword">with</a> <a id="12108" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="12113" href="Ledger.Conway.Conformance.Equivalence.html#12088" class="Bound">invalid</a> <a id="12121" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12127" href="Ledger.Conway.Conformance.Equivalence.html#12096" class="Bound">utxow</a>
  <a id="12135" class="Symbol">...</a> <a id="12139" class="Symbol">|</a> <a id="12141" href="Ledger.Conway.Conformance.Equivalence.html#12141" class="Bound">utxow&#39;</a> <a id="12148" class="Keyword">rewrite</a> <a id="12156" href="Ledger.Conway.Conformance.Equivalence.html#2076" class="Function">lemInvalidDepositsC</a> <a id="12176" class="Bound">invalid</a> <a id="12184" class="Bound">utxow</a> <a id="12190" class="Symbol">=</a> <a id="12192" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="12204" class="Bound">invalid</a> <a id="12212" href="Ledger.Conway.Conformance.Equivalence.html#12141" class="Bound">utxow&#39;</a>
  <a id="12221" href="Ledger.Conway.Conformance.Equivalence.html#11859" class="Function">LEDGERFromConf</a> <a id="12236" class="Symbol">{</a><a id="12237" href="Ledger.Conway.Conformance.Equivalence.html#12237" class="Bound">Γ</a><a id="12238" class="Symbol">}</a> <a id="12240" class="Symbol">{</a><a id="12241" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s</a><a id="12242" class="Symbol">}</a> <a id="12244" class="Symbol">{</a><a id="12245" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a><a id="12247" class="Symbol">}</a> <a id="12249" class="Symbol">{</a><a id="12250" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">s&#39;</a><a id="12252" class="Symbol">}</a> <a id="12254" class="Symbol">.</a><a id="12255" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12261" href="Ledger.Conway.Conformance.Equivalence.html#12261" class="Bound">wf</a> <a id="12264" class="Symbol">(</a><a id="12265" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="12277" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12282" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a> <a id="12288" href="Ledger.Conway.Conformance.Equivalence.html#12288" class="Bound">certs</a> <a id="12294" href="Ledger.Conway.Conformance.Equivalence.html#12294" class="Bound">gov</a><a id="12297" class="Symbol">)</a> <a id="12299" class="Symbol">=</a>
    <a id="12305" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="12311" class="Symbol">(λ</a> <a id="12314" href="Ledger.Conway.Conformance.Equivalence.html#12314" class="Bound">•</a> <a id="12316" class="Symbol">→</a> <a id="12318" href="Ledger.Conway.Conformance.Equivalence.html#12237" class="Bound">Γ</a> <a id="12320" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="12324" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12329" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s</a> <a id="12331" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="12334" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a> <a id="12337" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#12314}{\htmlId{12348}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12546}{\htmlId{12352}{\htmlClass{Function}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{12361}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#12567}{\htmlId{12366}{\htmlClass{Function}{\text{certSt&#39;}}}}\, \end{pmatrix}$</a><a id="12375" class="Symbol">)</a> <a id="12377" href="Ledger.Conway.Conformance.Equivalence.html#12916" class="Function">eqUtxo</a> <a id="12384" href="Ledger.Conway.Conformance.Equivalence.html#13060" class="Function">ledger&#39;</a>
    <a id="12396" class="Keyword">where</a>
      <a id="12408" class="Keyword">open</a> <a id="12413" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">C.LEnv</a> <a id="12420" href="Ledger.Conway.Conformance.Equivalence.html#12237" class="Bound">Γ</a>

      <a id="12429" class="Keyword">open</a> <a id="12434" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12443" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s</a> <a id="12445" class="Keyword">renaming</a> <a id="12454" class="Symbol">(</a><a id="12455" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12465" class="Symbol">to</a> <a id="12468" class="Field">certSt</a><a id="12474" class="Symbol">)</a>
      <a id="12482" class="Keyword">open</a> <a id="12487" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12496" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">s&#39;</a> <a id="12499" class="Keyword">using</a> <a id="12505" class="Symbol">()</a> <a id="12508" class="Keyword">renaming</a> <a id="12517" class="Symbol">(</a><a id="12518" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="12525" class="Symbol">to</a> <a id="12528" class="Field">utxoSt&#39;</a><a id="12535" class="Symbol">;</a> <a id="12537" href="Ledger.Conway.Conformance.Ledger.html#861" class="Field">govSt</a> <a id="12543" class="Symbol">to</a> <a id="12546" class="Field">govSt&#39;</a><a id="12552" class="Symbol">;</a> <a id="12554" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12564" class="Symbol">to</a> <a id="12567" class="Field">certSt&#39;</a><a id="12574" class="Symbol">)</a>

      <a id="12583" class="Keyword">open</a> <a id="12588" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="12595" class="Symbol">(</a><a id="12596" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="12601" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a><a id="12603" class="Symbol">)</a>
      <a id="12611" class="Keyword">open</a> <a id="12616" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">C.UTxOState</a> <a id="12628" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12635" class="Keyword">using</a> <a id="12641" class="Symbol">(</a><a id="12642" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="12650" class="Symbol">)</a>

      <a id="12659" href="Ledger.Conway.Conformance.Equivalence.html#12659" class="Function">valid-deps</a> <a id="12670" class="Symbol">:</a> <a id="12672" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="12692" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="12700" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="12709" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a>
      <a id="12723" href="Ledger.Conway.Conformance.Equivalence.html#12659" class="Function">valid-deps</a> <a id="12734" class="Symbol">=</a> <a id="12736" href="Ledger.Conway.Conformance.Equivalence.html#10540" class="Function">getValidCertDepositsC</a> <a id="12758" href="Ledger.Conway.Conformance.Equivalence.html#12237" class="Bound">Γ</a> <a id="12760" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s</a> <a id="12762" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a> <a id="12765" href="Ledger.Conway.Conformance.Equivalence.html#12261" class="Bound">wf</a> <a id="12768" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12773" href="Ledger.Conway.Conformance.Equivalence.html#12288" class="Bound">certs</a>

      <a id="12786" href="Ledger.Conway.Conformance.Equivalence.html#12786" class="Function">utxow&#39;</a> <a id="12793" class="Symbol">:</a> <a id="12795" class="Symbol">_</a> <a id="12797" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="12801" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12808" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="12811" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a> <a id="12814" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="12822" class="Symbol">(</a><a id="12823" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12835" class="Symbol">(</a><a id="12836" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12850" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a><a id="12855" class="Symbol">)</a> <a id="12857" href="Ledger.Conway.Conformance.Equivalence.html#12528" class="Function">utxoSt&#39;</a><a id="12864" class="Symbol">)</a>
      <a id="12872" href="Ledger.Conway.Conformance.Equivalence.html#12786" class="Function">utxow&#39;</a> <a id="12879" class="Symbol">=</a> <a id="12881" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="12886" href="Ledger.Conway.Conformance.Equivalence.html#12659" class="Function">valid-deps</a> <a id="12897" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12903" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a>

      <a id="12916" href="Ledger.Conway.Conformance.Equivalence.html#12916" class="Function">eqUtxo</a> <a id="12923" class="Symbol">:</a> <a id="12925" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12937" class="Symbol">(</a><a id="12938" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12952" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a><a id="12957" class="Symbol">)</a> <a id="12959" href="Ledger.Conway.Conformance.Equivalence.html#12528" class="Function">utxoSt&#39;</a> <a id="12967" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12969" href="Ledger.Conway.Conformance.Equivalence.html#12528" class="Function">utxoSt&#39;</a>
      <a id="12983" href="Ledger.Conway.Conformance.Equivalence.html#12916" class="Function">eqUtxo</a> <a id="12990" class="Symbol">=</a> <a id="12992" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="12997" class="Symbol">(λ</a> <a id="13000" href="Ledger.Conway.Conformance.Equivalence.html#13000" class="Bound">•</a> <a id="13002" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{13006}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{13010}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#13000}{\htmlId{13014}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{13018}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="13021" class="Symbol">)</a> <a id="13023" class="Symbol">(</a><a id="13024" href="Ledger.Conway.Conformance.Equivalence.html#11392" class="Function">lemUtxowDeposits</a> <a id="13041" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13046" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a><a id="13051" class="Symbol">)</a>

      <a id="13060" href="Ledger.Conway.Conformance.Equivalence.html#13060" class="Function">ledger&#39;</a> <a id="13068" class="Symbol">:</a> <a id="13070" href="Ledger.Conway.Conformance.Equivalence.html#12237" class="Bound">Γ</a> <a id="13072" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="13076" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13081" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s</a> <a id="13083" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="13086" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">tx</a> <a id="13089" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="13098" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">L.⟦</a> <a id="13102" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="13114" class="Symbol">(</a><a id="13115" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="13129" href="Ledger.Conway.Conformance.Equivalence.html#12282" class="Bound">utxow</a><a id="13134" class="Symbol">)</a> <a id="13136" href="Ledger.Conway.Conformance.Equivalence.html#12528" class="Function">utxoSt&#39;</a>
                                              <a id="13190" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">,</a> <a id="13192" href="Ledger.Conway.Conformance.Equivalence.html#12546" class="Function">govSt&#39;</a>
                                              <a id="13245" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">,</a> <a id="13247" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13252" href="Ledger.Conway.Conformance.Equivalence.html#12567" class="Function">certSt&#39;</a> <a id="13260" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="13269" href="Ledger.Conway.Conformance.Equivalence.html#13060" class="Function">ledger&#39;</a> <a id="13277" class="Symbol">=</a> <a id="13279" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="13291" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13296" href="Ledger.Conway.Conformance.Equivalence.html#12786" class="Function">utxow&#39;</a> <a id="13303" class="Symbol">(</a><a id="13304" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13309" href="Ledger.Conway.Conformance.Equivalence.html#12288" class="Bound">certs</a><a id="13314" class="Symbol">)</a> <a id="13316" href="Ledger.Conway.Conformance.Equivalence.html#12294" class="Bound">gov</a>

<a id="13321" class="Keyword">open</a> <a id="13326" href="Relation.Binary.Structures.html#1595" class="Module">IsEquivalence</a> <a id="13340" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13061" class="Function">≡ᵈ-isEquivalence</a> <a id="13357" class="Keyword">renaming</a> <a id="13366" class="Symbol">(</a><a id="13367" href="Relation.Binary.Structures.html#1641" class="Field">refl</a> <a id="13372" class="Symbol">to</a> <a id="13375" class="Field">≡ᵈ-refl</a><a id="13382" class="Symbol">;</a> <a id="13384" href="Relation.Binary.Structures.html#1667" class="Field">sym</a> <a id="13388" class="Symbol">to</a> <a id="13391" class="Field">≡ᵈ-sym</a><a id="13397" class="Symbol">;</a> <a id="13399" href="Relation.Binary.Structures.html#1693" class="Field">trans</a> <a id="13405" class="Symbol">to</a> <a id="13408" class="Field">≡ᵈ-trans</a><a id="13416" class="Symbol">)</a>

<a id="lemCERTS&#39;DepositsC"></a><a id="13419" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13438" class="Symbol">:</a> <a id="13440" class="Symbol">∀</a> <a id="13442" class="Symbol">{</a><a id="13443" href="Ledger.Conway.Conformance.Equivalence.html#13443" class="Bound">Γ</a> <a id="13445" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s</a> <a id="13447" href="Ledger.Conway.Conformance.Equivalence.html#13447" class="Bound">dcerts</a> <a id="13454" href="Ledger.Conway.Conformance.Equivalence.html#13454" class="Bound">s&#39;</a><a id="13456" class="Symbol">}</a> <a id="13458" class="Symbol">(</a><a id="13459" class="Keyword">open</a> <a id="13464" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="13474" href="Ledger.Conway.Conformance.Equivalence.html#13443" class="Bound">Γ</a> <a id="13476" class="Keyword">using</a> <a id="13482" class="Symbol">(</a><a id="13483" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="13485" class="Symbol">))</a>
                   <a id="13507" class="Symbol">→</a> <a id="13509" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="13525" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="13541" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="13562" href="Ledger.Conway.Conformance.Equivalence.html#13443" class="Bound">Γ</a> <a id="13564" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s</a> <a id="13566" href="Ledger.Conway.Conformance.Equivalence.html#13447" class="Bound">dcerts</a> <a id="13573" href="Ledger.Conway.Conformance.Equivalence.html#13454" class="Bound">s&#39;</a>
                   <a id="13595" class="Symbol">→</a> <a id="13597" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="13611" href="Ledger.Conway.Conformance.Equivalence.html#13454" class="Bound">s&#39;</a> <a id="13614" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13616" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="13618" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="13630" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13633" href="Ledger.Conway.Conformance.Equivalence.html#13447" class="Bound">dcerts</a> <a id="13640" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="13642" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="13654" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13657" href="Ledger.Conway.Conformance.Equivalence.html#13447" class="Bound">dcerts</a> <a id="13664" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="13666" class="Symbol">(</a><a id="13667" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="13681" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s</a><a id="13682" class="Symbol">)</a>
<a id="13684" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13703" class="Symbol">(</a><a id="13704" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="13711" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="13722" class="Symbol">)</a> <a id="13724" class="Symbol">=</a> <a id="13726" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13731" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13750" class="Symbol">(</a><a id="13751" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13757" class="Symbol">(</a><a id="13758" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13772" class="Symbol">(</a><a id="13773" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a>     <a id="13794" class="Symbol">_))</a> <a id="13798" href="Ledger.Conway.Conformance.Equivalence.html#13798" class="Bound">rs</a><a id="13800" class="Symbol">)</a> <a id="13802" class="Symbol">=</a> <a id="13804" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13823" href="Ledger.Conway.Conformance.Equivalence.html#13798" class="Bound">rs</a>
<a id="13826" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13845" class="Symbol">(</a><a id="13846" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13852" class="Symbol">(</a><a id="13853" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13867" class="Symbol">(</a><a id="13868" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a>        <a id="13889" class="Symbol">_))</a> <a id="13893" href="Ledger.Conway.Conformance.Equivalence.html#13893" class="Bound">rs</a><a id="13895" class="Symbol">)</a> <a id="13897" class="Symbol">=</a> <a id="13899" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13918" href="Ledger.Conway.Conformance.Equivalence.html#13893" class="Bound">rs</a>
<a id="13921" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="13940" class="Symbol">(</a><a id="13941" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13947" class="Symbol">(</a><a id="13948" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13962" class="Symbol">(</a><a id="13963" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a>          <a id="13984" class="Symbol">_))</a> <a id="13988" href="Ledger.Conway.Conformance.Equivalence.html#13988" class="Bound">rs</a><a id="13990" class="Symbol">)</a> <a id="13992" class="Symbol">=</a> <a id="13994" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14013" href="Ledger.Conway.Conformance.Equivalence.html#13988" class="Bound">rs</a>
<a id="14016" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14035" class="Symbol">(</a><a id="14036" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14042" class="Symbol">(</a><a id="14043" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>   <a id="14057" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a>          <a id="14081" class="Symbol">)</a> <a id="14083" href="Ledger.Conway.Conformance.Equivalence.html#14083" class="Bound">rs</a><a id="14085" class="Symbol">)</a> <a id="14087" class="Symbol">=</a> <a id="14089" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14108" href="Ledger.Conway.Conformance.Equivalence.html#14083" class="Bound">rs</a>
<a id="14111" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14130" class="Symbol">(</a><a id="14131" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14137" class="Symbol">(</a><a id="14138" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>    <a id="14153" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a>     <a id="14175" class="Symbol">)</a>  <a id="14178" href="Ledger.Conway.Conformance.Equivalence.html#14178" class="Bound">rs</a><a id="14180" class="Symbol">)</a> <a id="14182" class="Symbol">=</a> <a id="14184" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14203" href="Ledger.Conway.Conformance.Equivalence.html#14178" class="Bound">rs</a>
<a id="14206" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14225" class="Symbol">(</a><a id="14226" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14232" class="Symbol">(</a><a id="14233" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14247" class="Symbol">(</a><a id="14248" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a>    <a id="14269" class="Symbol">_))</a> <a id="14273" href="Ledger.Conway.Conformance.Equivalence.html#14273" class="Bound">rs</a><a id="14275" class="Symbol">)</a> <a id="14277" class="Symbol">=</a> <a id="14279" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14298" href="Ledger.Conway.Conformance.Equivalence.html#14273" class="Bound">rs</a>
<a id="14301" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14320" class="Symbol">(</a><a id="14321" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14327" class="Symbol">(</a><a id="14328" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14342" class="Symbol">(</a><a id="14343" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a>  <a id="14364" class="Symbol">_))</a> <a id="14368" href="Ledger.Conway.Conformance.Equivalence.html#14368" class="Bound">rs</a><a id="14370" class="Symbol">)</a> <a id="14372" class="Symbol">=</a> <a id="14374" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14393" href="Ledger.Conway.Conformance.Equivalence.html#14368" class="Bound">rs</a>
<a id="14396" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14415" class="Symbol">(</a><a id="14416" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14422" class="Symbol">(</a><a id="14423" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14437" class="Symbol">(</a><a id="14438" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a>   <a id="14459" class="Symbol">_))</a> <a id="14463" href="Ledger.Conway.Conformance.Equivalence.html#14463" class="Bound">rs</a><a id="14465" class="Symbol">)</a> <a id="14467" class="Symbol">=</a> <a id="14469" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14488" href="Ledger.Conway.Conformance.Equivalence.html#14463" class="Bound">rs</a>

<a id="lemCERTSDepositsC"></a><a id="14492" href="Ledger.Conway.Conformance.Equivalence.html#14492" class="Function">lemCERTSDepositsC</a> <a id="14510" class="Symbol">:</a> <a id="14512" class="Symbol">∀</a> <a id="14514" class="Symbol">{</a><a id="14515" href="Ledger.Conway.Conformance.Equivalence.html#14515" class="Bound">Γ</a> <a id="14517" href="Ledger.Conway.Conformance.Equivalence.html#14517" class="Bound">s</a> <a id="14519" href="Ledger.Conway.Conformance.Equivalence.html#14519" class="Bound">txCerts</a> <a id="14527" href="Ledger.Conway.Conformance.Equivalence.html#14527" class="Bound">s&#39;</a><a id="14529" class="Symbol">}</a> <a id="14531" class="Symbol">(</a><a id="14532" class="Keyword">open</a> <a id="14537" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="14547" href="Ledger.Conway.Conformance.Equivalence.html#14515" class="Bound">Γ</a> <a id="14549" class="Keyword">using</a> <a id="14555" class="Symbol">(</a><a id="14556" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="14558" class="Symbol">))</a>
                  <a id="14579" class="Symbol">→</a> <a id="14581" href="Ledger.Conway.Conformance.Equivalence.html#14515" class="Bound">Γ</a> <a id="14583" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="14587" href="Ledger.Conway.Conformance.Equivalence.html#14517" class="Bound">s</a> <a id="14589" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="14592" href="Ledger.Conway.Conformance.Equivalence.html#14519" class="Bound">txCerts</a> <a id="14600" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="14608" href="Ledger.Conway.Conformance.Equivalence.html#14527" class="Bound">s&#39;</a>
                  <a id="14629" class="Symbol">→</a> <a id="14631" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="14645" href="Ledger.Conway.Conformance.Equivalence.html#14527" class="Bound">s&#39;</a> <a id="14648" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14650" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="14652" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="14664" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14667" href="Ledger.Conway.Conformance.Equivalence.html#14519" class="Bound">txCerts</a> <a id="14675" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="14677" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="14689" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14692" href="Ledger.Conway.Conformance.Equivalence.html#14519" class="Bound">txCerts</a> <a id="14700" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="14702" class="Symbol">(</a><a id="14703" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="14717" href="Ledger.Conway.Conformance.Equivalence.html#14517" class="Bound">s</a><a id="14718" class="Symbol">)</a>
<a id="14720" href="Ledger.Conway.Conformance.Equivalence.html#14492" class="Function">lemCERTSDepositsC</a> <a id="14738" class="Symbol">(</a><a id="14739" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="14743" class="Symbol">(</a><a id="14744" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="14755" class="Symbol">_</a> <a id="14757" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14759" href="Ledger.Conway.Conformance.Equivalence.html#14759" class="Bound">step</a><a id="14763" class="Symbol">))</a> <a id="14766" class="Symbol">=</a> <a id="14768" href="Ledger.Conway.Conformance.Equivalence.html#13419" class="Function">lemCERTS&#39;DepositsC</a> <a id="14787" href="Ledger.Conway.Conformance.Equivalence.html#14759" class="Bound">step</a>

<a id="lemWellformed"></a><a id="14793" href="Ledger.Conway.Conformance.Equivalence.html#14793" class="Function">lemWellformed</a> <a id="14807" class="Symbol">:</a> <a id="14809" class="Symbol">∀</a> <a id="14811" class="Symbol">{</a><a id="14812" href="Ledger.Conway.Conformance.Equivalence.html#14812" class="Bound">Γ</a> <a id="14814" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s</a> <a id="14816" href="Ledger.Conway.Conformance.Equivalence.html#14816" class="Bound">tx</a> <a id="14819" href="Ledger.Conway.Conformance.Equivalence.html#14819" class="Bound">s&#39;</a><a id="14821" class="Symbol">}</a> <a id="14823" class="Symbol">→</a> <a id="14825" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="14842" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s</a> <a id="14844" class="Symbol">→</a> <a id="14846" href="Ledger.Conway.Conformance.Equivalence.html#14812" class="Bound">Γ</a> <a id="14848" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="14852" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s</a> <a id="14854" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="14857" href="Ledger.Conway.Conformance.Equivalence.html#14816" class="Bound">tx</a> <a id="14860" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="14869" href="Ledger.Conway.Conformance.Equivalence.html#14819" class="Bound">s&#39;</a> <a id="14872" class="Symbol">→</a> <a id="14874" href="Ledger.Conway.Conformance.Equivalence.html#8156" class="Function">WellformedLState</a> <a id="14891" href="Ledger.Conway.Conformance.Equivalence.html#14819" class="Bound">s&#39;</a>
<a id="14894" href="Ledger.Conway.Conformance.Equivalence.html#14793" class="Function">lemWellformed</a> <a id="14908" class="Symbol">{</a><a id="14909" href="Ledger.Conway.Conformance.Equivalence.html#14909" class="Bound">Γ</a><a id="14910" class="Symbol">}</a> <a id="14912" class="Symbol">{</a><a id="14913" class="Argument">s</a> <a id="14915" class="Symbol">=</a> <a id="14917" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">ls</a><a id="14919" class="Symbol">}</a> <a id="14921" class="Symbol">{</a><a id="14922" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">tx</a><a id="14924" class="Symbol">}</a> <a id="14926" class="Symbol">{</a><a id="14927" class="Argument">s&#39;</a> <a id="14930" class="Symbol">=</a> <a id="14932" href="Ledger.Conway.Conformance.Equivalence.html#14932" class="Bound">ls&#39;</a><a id="14935" class="Symbol">}</a> <a id="14937" href="Ledger.Conway.Conformance.Equivalence.html#14937" class="Bound">wf</a> <a id="14940" class="Symbol">(</a><a id="14941" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="14953" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14958" href="Ledger.Conway.Conformance.Equivalence.html#14958" class="Bound">utxo</a> <a id="14963" href="Ledger.Conway.Conformance.Equivalence.html#14963" class="Bound">certs</a> <a id="14969" href="Ledger.Conway.Conformance.Equivalence.html#14969" class="Bound">gov</a><a id="14972" class="Symbol">)</a> <a id="14974" class="Symbol">=</a> <a id="14976" href="Ledger.Conway.Conformance.Equivalence.html#16245" class="Function">goal</a>
  <a id="14983" class="Keyword">where</a>
    <a id="14993" class="Keyword">open</a> <a id="14998" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15007" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">ls</a>  <a id="15011" class="Keyword">renaming</a> <a id="15020" class="Symbol">(</a><a id="15021" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15031" class="Symbol">to</a> <a id="15034" class="Field">certSt</a><a id="15040" class="Symbol">)</a>
    <a id="15046" class="Keyword">open</a> <a id="15051" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15060" href="Ledger.Conway.Conformance.Equivalence.html#14932" class="Bound">ls&#39;</a> <a id="15064" class="Keyword">renaming</a> <a id="15073" class="Symbol">(</a><a id="15074" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="15081" class="Symbol">to</a> <a id="15084" class="Field">utxoSt&#39;</a><a id="15091" class="Symbol">;</a> <a id="15093" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15103" class="Symbol">to</a> <a id="15106" class="Field">certSt&#39;</a><a id="15113" class="Symbol">)</a>
    <a id="15119" class="Keyword">open</a> <a id="15124" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="15131" href="Ledger.Conway.Conformance.Equivalence.html#14909" class="Bound">Γ</a> <a id="15133" class="Keyword">using</a> <a id="15139" class="Symbol">(</a><a id="15140" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="15147" class="Symbol">)</a>
    <a id="15153" class="Keyword">open</a> <a id="15158" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="15165" class="Symbol">(</a><a id="15166" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="15171" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">tx</a><a id="15173" class="Symbol">)</a>

    <a id="15180" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a>  <a id="15190" class="Symbol">=</a> <a id="15192" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="15213" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a>
    <a id="15224" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a> <a id="15234" class="Symbol">=</a> <a id="15236" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="15257" href="Ledger.Conway.Conformance.Equivalence.html#15084" class="Function">utxoSt&#39;</a>

    <a id="15270" href="Ledger.Conway.Conformance.Equivalence.html#15270" class="Function">depositsL&#39;</a> <a id="15281" class="Symbol">=</a> <a id="15283" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="15300" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15308" class="Symbol">(</a><a id="15309" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="15314" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">tx</a><a id="15316" class="Symbol">)</a> <a id="15318" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a>

    <a id="15332" href="Ledger.Conway.Conformance.Equivalence.html#15332" class="Function">ddeps</a> <a id="15338" class="Symbol">=</a> <a id="15340" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="15354" href="Ledger.Conway.Conformance.Equivalence.html#15034" class="Function">certSt</a> <a id="15361" class="Symbol">.</a><a id="15362" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15372" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">gdeps</a> <a id="15378" class="Symbol">=</a> <a id="15380" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="15394" href="Ledger.Conway.Conformance.Equivalence.html#15034" class="Function">certSt</a> <a id="15401" class="Symbol">.</a><a id="15402" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15413" href="Ledger.Conway.Conformance.Equivalence.html#15413" class="Function">ddeps&#39;</a> <a id="15420" class="Symbol">=</a> <a id="15422" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="15436" href="Ledger.Conway.Conformance.Equivalence.html#15106" class="Function">certSt&#39;</a> <a id="15444" class="Symbol">.</a><a id="15445" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15455" href="Ledger.Conway.Conformance.Equivalence.html#15455" class="Function">gdeps&#39;</a> <a id="15462" class="Symbol">=</a> <a id="15464" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="15478" href="Ledger.Conway.Conformance.Equivalence.html#15106" class="Function">certSt&#39;</a> <a id="15486" class="Symbol">.</a><a id="15487" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15498" href="Ledger.Conway.Conformance.Equivalence.html#15498" class="Function">lem</a> <a id="15502" class="Symbol">:</a> <a id="15504" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a> <a id="15514" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15516" href="Ledger.Conway.Conformance.Equivalence.html#15270" class="Function">depositsL&#39;</a>
    <a id="15531" href="Ledger.Conway.Conformance.Equivalence.html#15498" class="Function">lem</a> <a id="15535" class="Keyword">rewrite</a> <a id="15543" href="Ledger.Conway.Conformance.Equivalence.html#2535" class="Function">lemDepositsC</a> <a id="15556" href="Ledger.Conway.Conformance.Equivalence.html#14958" class="Bound">utxo</a> <a id="15561" class="Symbol">=</a> <a id="15563" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="15573" href="Ledger.Conway.Conformance.Equivalence.html#15573" class="Function">lem₁</a> <a id="15578" class="Symbol">:</a> <a id="15580" class="Symbol">(</a><a id="15581" href="Ledger.Conway.Conformance.Equivalence.html#15413" class="Function">ddeps&#39;</a> <a id="15588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15590" href="Ledger.Conway.Conformance.Equivalence.html#15455" class="Function">gdeps&#39;</a><a id="15596" class="Symbol">)</a> <a id="15598" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15600" class="Symbol">(</a><a id="15601" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15613" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15621" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="15629" href="Ledger.Conway.Conformance.Equivalence.html#15332" class="Function">ddeps</a> <a id="15635" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15637" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15649" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15657" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="15665" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">gdeps</a><a id="15670" class="Symbol">)</a>
    <a id="15676" href="Ledger.Conway.Conformance.Equivalence.html#15573" class="Function">lem₁</a> <a id="15681" class="Symbol">=</a> <a id="15683" href="Ledger.Conway.Conformance.Equivalence.html#14492" class="Function">lemCERTSDepositsC</a> <a id="15701" href="Ledger.Conway.Conformance.Equivalence.html#14963" class="Bound">certs</a>

    <a id="15712" href="Ledger.Conway.Conformance.Equivalence.html#15712" class="Function">lem₂</a> <a id="15717" class="Symbol">:</a>  <a id="15720" class="Symbol">(</a><a id="15721" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15733" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15741" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="15749" class="Symbol">(</a><a id="15750" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15760" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="15768" class="Symbol">)</a> <a id="15770" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15772" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15784" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15792" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="15800" class="Symbol">(</a><a id="15801" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15811" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="15819" class="Symbol">))</a>
         <a id="15831" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="15834" class="Symbol">(</a><a id="15835" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15845" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a> <a id="15855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15857" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15867" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a><a id="15876" class="Symbol">)</a>
    <a id="15882" href="Ledger.Conway.Conformance.Equivalence.html#15712" class="Function">lem₂</a> <a id="15887" class="Keyword">rewrite</a> <a id="15895" href="Ledger.Conway.Conformance.Equivalence.html#15498" class="Function">lem</a> <a id="15899" class="Symbol">=</a> <a id="15901" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19246" class="Function">lem-upd-ddeps</a> <a id="15915" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15923" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a> <a id="15932" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">tx</a> <a id="15935" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15937" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20035" class="Function">lem-upd-gdeps</a> <a id="15951" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15959" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a> <a id="15968" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">tx</a>

    <a id="15976" href="Ledger.Conway.Conformance.Equivalence.html#15976" class="Function">lem₃</a> <a id="15981" class="Symbol">:</a>  <a id="15984" class="Symbol">(</a><a id="15985" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15997" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16005" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16013" href="Ledger.Conway.Conformance.Equivalence.html#15332" class="Function">ddeps</a> <a id="16019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16021" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16033" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16041" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16049" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">gdeps</a><a id="16054" class="Symbol">)</a>
         <a id="16065" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16068" class="Symbol">(</a><a id="16069" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16081" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16089" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16097" class="Symbol">(</a><a id="16098" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16108" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="16116" class="Symbol">)</a> <a id="16118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16120" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16132" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16140" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16148" class="Symbol">(</a><a id="16149" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16159" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="16167" class="Symbol">))</a>
    <a id="16174" href="Ledger.Conway.Conformance.Equivalence.html#15976" class="Function">lem₃</a> <a id="16179" class="Symbol">=</a> <a id="16181" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="16183" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14211" class="Function">cong-updateDDeps</a> <a id="16200" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16208" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="16210" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#15197" class="Function">cong-updateGDeps</a> <a id="16227" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16235" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="16237" href="Ledger.Conway.Conformance.Equivalence.html#14937" class="Bound">wf</a>

    <a id="16245" href="Ledger.Conway.Conformance.Equivalence.html#16245" class="Function">goal</a> <a id="16250" class="Symbol">:</a> <a id="16252" class="Symbol">(</a><a id="16253" href="Ledger.Conway.Conformance.Equivalence.html#15413" class="Function">ddeps&#39;</a> <a id="16260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16262" href="Ledger.Conway.Conformance.Equivalence.html#15455" class="Function">gdeps&#39;</a><a id="16268" class="Symbol">)</a> <a id="16270" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16273" class="Symbol">(</a><a id="16274" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16284" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a> <a id="16294" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16296" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16306" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a><a id="16315" class="Symbol">)</a>
    <a id="16321" href="Ledger.Conway.Conformance.Equivalence.html#16245" class="Function">goal</a> <a id="16326" class="Keyword">with</a> <a id="16331" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="16338" href="Ledger.Conway.Conformance.Equivalence.html#15573" class="Function">lem₁</a> <a id="16343" class="Symbol">=</a> <a id="16345" href="Ledger.Conway.Conformance.Equivalence.html#13408" class="Function">≡ᵈ-trans</a> <a id="16354" class="Symbol">{</a><a id="16355" href="Ledger.Conway.Conformance.Equivalence.html#15413" class="Function">ddeps&#39;</a> <a id="16362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16364" href="Ledger.Conway.Conformance.Equivalence.html#15455" class="Function">gdeps&#39;</a><a id="16370" class="Symbol">}</a>
                                     <a id="16409" class="Symbol">{</a><a id="16410" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16422" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16430" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16438" class="Symbol">(</a><a id="16439" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16449" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="16457" class="Symbol">)</a> <a id="16459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16461" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16473" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16481" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="16489" class="Symbol">(</a><a id="16490" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16500" href="Ledger.Conway.Conformance.Equivalence.html#15180" class="Function">deposits</a><a id="16508" class="Symbol">)}</a>
                                     <a id="16548" class="Symbol">{</a><a id="16549" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16559" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a> <a id="16569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16571" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16581" href="Ledger.Conway.Conformance.Equivalence.html#15224" class="Function">deposits&#39;</a><a id="16590" class="Symbol">}</a>
                              <a id="16622" href="Ledger.Conway.Conformance.Equivalence.html#15976" class="Function">lem₃</a>
                              <a id="16657" href="Ledger.Conway.Conformance.Equivalence.html#15712" class="Function">lem₂</a>
<a id="16662" href="Ledger.Conway.Conformance.Equivalence.html#14793" class="Function">lemWellformed</a> <a id="16676" href="Ledger.Conway.Conformance.Equivalence.html#16676" class="Bound">wf</a> <a id="16679" class="Symbol">(</a><a id="16680" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="16692" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="16697" href="Ledger.Conway.Conformance.Equivalence.html#16697" class="Bound">utxo</a><a id="16701" class="Symbol">)</a> <a id="16703" class="Keyword">rewrite</a> <a id="16711" href="Ledger.Conway.Conformance.Equivalence.html#2535" class="Function">lemDepositsC</a> <a id="16724" href="Ledger.Conway.Conformance.Equivalence.html#16697" class="Bound">utxo</a> <a id="16729" class="Symbol">=</a> <a id="16731" href="Ledger.Conway.Conformance.Equivalence.html#16676" class="Bound">wf</a>

<a id="setCertDeposits"></a><a id="16735" href="Ledger.Conway.Conformance.Equivalence.html#16735" class="Function">setCertDeposits</a> <a id="16751" class="Symbol">:</a> <a id="16753" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16764" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16766" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16777" class="Symbol">→</a> <a id="16779" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="16791" class="Symbol">→</a> <a id="16793" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a>
<a id="16805" href="Ledger.Conway.Conformance.Equivalence.html#16735" class="Function">setCertDeposits</a> <a id="16821" class="Symbol">(</a><a id="16822" href="Ledger.Conway.Conformance.Equivalence.html#16822" class="Bound">ddeps</a> <a id="16828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16830" href="Ledger.Conway.Conformance.Equivalence.html#16830" class="Bound">gdeps</a><a id="16835" class="Symbol">)</a> <a id="16837" href="Ledger.Conway.Conformance.Equivalence.html#16837" class="Bound">cs</a> <a id="16840" class="Symbol">=</a>
  <a id="16844" class="Keyword">let</a> <a id="16848" class="Keyword">open</a> <a id="16853" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="16865" href="Ledger.Conway.Conformance.Equivalence.html#16837" class="Bound">cs</a> <a id="16868" class="Keyword">in</a>
  <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{16875}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1021}{\htmlId{16882}{\htmlClass{Field}{\text{dState}}}}\, \,\htmlId{16889}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#762}{\htmlId{16890}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16899}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16822}{\htmlId{16901}{\htmlClass{Bound}{\text{ddeps}}}}\,\,\htmlId{16906}{\htmlClass{Symbol}{\text{}}}}\, \\ \,\href{Ledger.Conway.Conformance.Certs.html#1041}{\htmlId{16910}{\htmlClass{Field}{\text{pState}}}}\, \\ \,\htmlId{16919}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1061}{\htmlId{16926}{\htmlClass{Field}{\text{gState}}}}\, \,\htmlId{16933}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#932}{\htmlId{16934}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16943}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16830}{\htmlId{16945}{\htmlClass{Bound}{\text{gdeps}}}}\,\,\htmlId{16950}{\htmlClass{Symbol}{\text{}}}}\, \end{pmatrix}$</a>

<a id="updateCDep"></a><a id="16955" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="16966" class="Symbol">:</a> <a id="16968" href="Ledger.Conway.Specification.PParams.html#1779" class="Record">PParams</a> <a id="16976" class="Symbol">→</a> <a id="16978" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">L.DCert</a> <a id="16986" class="Symbol">→</a> <a id="16988" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16999" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17001" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17012" class="Symbol">→</a> <a id="17014" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17025" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17027" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="17038" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="17049" href="Ledger.Conway.Conformance.Equivalence.html#17049" class="Bound">pp</a> <a id="17052" href="Ledger.Conway.Conformance.Equivalence.html#17052" class="Bound">cert</a> <a id="17057" class="Symbol">(</a><a id="17058" href="Ledger.Conway.Conformance.Equivalence.html#17058" class="Bound">ddep</a> <a id="17063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17065" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">gdep</a><a id="17069" class="Symbol">)</a> <a id="17071" class="Symbol">=</a> <a id="17073" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#1980" class="Function">updateDDep</a> <a id="17084" href="Ledger.Conway.Conformance.Equivalence.html#17049" class="Bound">pp</a> <a id="17087" href="Ledger.Conway.Conformance.Equivalence.html#17052" class="Bound">cert</a> <a id="17092" href="Ledger.Conway.Conformance.Equivalence.html#17058" class="Bound">ddep</a> <a id="17097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17099" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2520" class="Function">updateGDep</a> <a id="17110" href="Ledger.Conway.Conformance.Equivalence.html#17049" class="Bound">pp</a> <a id="17113" href="Ledger.Conway.Conformance.Equivalence.html#17052" class="Bound">cert</a> <a id="17118" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">gdep</a>

<a id="17124" class="Keyword">opaque</a>
  <a id="castCERTS&#39;"></a><a id="17133" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="17144" class="Symbol">:</a> <a id="17146" class="Symbol">∀</a> <a id="17148" class="Symbol">{</a><a id="17149" href="Ledger.Conway.Conformance.Equivalence.html#17149" class="Bound">Γ</a> <a id="17151" href="Ledger.Conway.Conformance.Equivalence.html#17151" class="Bound">certs</a><a id="17156" class="Symbol">}</a> <a id="17158" class="Symbol">{</a><a id="17159" href="Ledger.Conway.Conformance.Equivalence.html#17159" class="Bound">s</a> <a id="17161" href="Ledger.Conway.Conformance.Equivalence.html#17161" class="Bound">s&#39;</a> <a id="17164" class="Symbol">:</a> <a id="17166" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="17177" class="Symbol">}</a> <a id="17179" href="Ledger.Conway.Conformance.Equivalence.html#17179" class="Bound">deps₁</a> <a id="17185" href="Ledger.Conway.Conformance.Equivalence.html#17185" class="Bound">deps₂</a> <a id="17191" href="Ledger.Conway.Conformance.Equivalence.html#17191" class="Bound">deps₁&#39;</a>
             <a id="17211" class="Symbol">→</a> <a id="17213" href="Ledger.Conway.Conformance.Equivalence.html#17179" class="Bound">deps₁</a> <a id="17219" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17222" href="Ledger.Conway.Conformance.Equivalence.html#17185" class="Bound">deps₂</a>
             <a id="17241" class="Symbol">→</a> <a id="17243" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17259" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17275" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17296" href="Ledger.Conway.Conformance.Equivalence.html#17149" class="Bound">Γ</a> <a id="17298" class="Symbol">(</a><a id="17299" href="Ledger.Conway.Conformance.Equivalence.html#17179" class="Bound">deps₁</a> <a id="17305" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17311" href="Ledger.Conway.Conformance.Equivalence.html#17159" class="Bound">s</a><a id="17312" class="Symbol">)</a> <a id="17314" href="Ledger.Conway.Conformance.Equivalence.html#17151" class="Bound">certs</a> <a id="17320" class="Symbol">(</a><a id="17321" href="Ledger.Conway.Conformance.Equivalence.html#17191" class="Bound">deps₁&#39;</a> <a id="17328" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17334" href="Ledger.Conway.Conformance.Equivalence.html#17161" class="Bound">s&#39;</a><a id="17336" class="Symbol">)</a>
             <a id="17351" class="Symbol">→</a> <a id="17353" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="17356" href="Ledger.Conway.Conformance.Equivalence.html#17356" class="Bound">deps₂&#39;</a> <a id="17363" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="17365" href="Ledger.Conway.Conformance.Equivalence.html#17191" class="Bound">deps₁&#39;</a> <a id="17372" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17375" href="Ledger.Conway.Conformance.Equivalence.html#17356" class="Bound">deps₂&#39;</a>
                           <a id="17409" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17411" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17427" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17443" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17464" href="Ledger.Conway.Conformance.Equivalence.html#17149" class="Bound">Γ</a> <a id="17466" class="Symbol">(</a><a id="17467" href="Ledger.Conway.Conformance.Equivalence.html#17185" class="Bound">deps₂</a> <a id="17473" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17479" href="Ledger.Conway.Conformance.Equivalence.html#17159" class="Bound">s</a><a id="17480" class="Symbol">)</a> <a id="17482" href="Ledger.Conway.Conformance.Equivalence.html#17151" class="Bound">certs</a> <a id="17488" class="Symbol">(</a><a id="17489" href="Ledger.Conway.Conformance.Equivalence.html#17356" class="Bound">deps₂&#39;</a> <a id="17496" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17502" href="Ledger.Conway.Conformance.Equivalence.html#17161" class="Bound">s&#39;</a><a id="17504" class="Symbol">)</a>
  <a id="17508" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="17519" href="Ledger.Conway.Conformance.Equivalence.html#17519" class="Bound">deps₁</a> <a id="17525" href="Ledger.Conway.Conformance.Equivalence.html#17525" class="Bound">deps₂</a> <a id="17531" href="Ledger.Conway.Conformance.Equivalence.html#17531" class="Bound">deps₁&#39;</a> <a id="17538" href="Ledger.Conway.Conformance.Equivalence.html#17538" class="Bound">eqd</a> <a id="17542" class="Symbol">(</a><a id="17543" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17550" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="17561" class="Symbol">)</a> <a id="17563" class="Symbol">=</a> <a id="17565" href="Ledger.Conway.Conformance.Equivalence.html#17525" class="Bound">deps₂</a> <a id="17571" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17573" href="Ledger.Conway.Conformance.Equivalence.html#17538" class="Bound">eqd</a> <a id="17577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17579" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17586" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a>
  <a id="17600" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="17611" class="Symbol">{</a><a id="17612" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">Γ</a><a id="17613" class="Symbol">}</a> <a id="17615" href="Ledger.Conway.Conformance.Equivalence.html#17615" class="Bound">deps₁</a> <a id="17621" href="Ledger.Conway.Conformance.Equivalence.html#17621" class="Bound">deps₂</a> <a id="17627" href="Ledger.Conway.Conformance.Equivalence.html#17627" class="Bound">deps₁&#39;</a> <a id="17634" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">eqd</a> <a id="17638" class="Symbol">(</a><a id="17639" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17645" class="Symbol">(</a><a id="17646" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="17659" class="Symbol">{</a><a id="17660" class="Argument">dCert</a> <a id="17666" class="Symbol">=</a> <a id="17668" href="Ledger.Conway.Conformance.Equivalence.html#17668" class="Bound">cert</a><a id="17672" class="Symbol">}</a> <a id="17674" class="Symbol">(</a><a id="17675" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="17692" href="Ledger.Conway.Conformance.Equivalence.html#17692" class="Bound">h</a><a id="17693" class="Symbol">))</a>    <a id="17699" href="Ledger.Conway.Conformance.Equivalence.html#17699" class="Bound">rs</a><a id="17701" class="Symbol">)</a>
    <a id="17707" class="Symbol">=</a> <a id="17709" class="Keyword">let</a>
        <a id="17721" class="Keyword">open</a> <a id="17726" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="17736" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">Γ</a> <a id="17738" class="Keyword">using</a> <a id="17744" class="Symbol">(</a><a id="17745" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="17747" class="Symbol">)</a>
        <a id="17757" href="Ledger.Conway.Conformance.Equivalence.html#17757" class="Bound">deps₂&#39;</a> <a id="17764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17766" href="Ledger.Conway.Conformance.Equivalence.html#17766" class="Bound">eqd&#39;</a> <a id="17771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17773" href="Ledger.Conway.Conformance.Equivalence.html#17773" class="Bound">rs&#39;</a> <a id="17777" class="Symbol">=</a> <a id="17779" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="17790" class="Symbol">(</a><a id="17791" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="17802" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17805" href="Ledger.Conway.Conformance.Equivalence.html#17668" class="Bound">cert</a> <a id="17810" href="Ledger.Conway.Conformance.Equivalence.html#17615" class="Bound">deps₁</a><a id="17815" class="Symbol">)</a> <a id="17817" class="Symbol">(</a><a id="17818" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="17829" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17832" href="Ledger.Conway.Conformance.Equivalence.html#17668" class="Bound">cert</a> <a id="17837" href="Ledger.Conway.Conformance.Equivalence.html#17621" class="Bound">deps₂</a><a id="17842" class="Symbol">)</a> <a id="17844" href="Ledger.Conway.Conformance.Equivalence.html#17627" class="Bound">deps₁&#39;</a>
                                         <a id="17892" class="Symbol">(</a><a id="17893" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="17895" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="17911" class="Symbol">{</a><a id="17912" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="17914" class="Symbol">}</a> <a id="17916" href="Ledger.Conway.Conformance.Equivalence.html#17668" class="Bound">cert</a> <a id="17921" class="Symbol">{</a><a id="17922" href="Ledger.Conway.Conformance.Equivalence.html#17615" class="Bound">deps₁</a> <a id="17928" class="Symbol">.</a><a id="17929" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17934" class="Symbol">}</a> <a id="17936" class="Symbol">{</a><a id="17937" href="Ledger.Conway.Conformance.Equivalence.html#17621" class="Bound">deps₂</a> <a id="17943" class="Symbol">.</a><a id="17944" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17949" class="Symbol">}</a>
                                          <a id="17993" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="17995" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18011" class="Symbol">{</a><a id="18012" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18014" class="Symbol">}</a> <a id="18016" href="Ledger.Conway.Conformance.Equivalence.html#17668" class="Bound">cert</a> <a id="18021" class="Symbol">{</a><a id="18022" href="Ledger.Conway.Conformance.Equivalence.html#17615" class="Bound">deps₁</a> <a id="18028" class="Symbol">.</a><a id="18029" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18034" class="Symbol">}</a> <a id="18036" class="Symbol">{</a><a id="18037" href="Ledger.Conway.Conformance.Equivalence.html#17621" class="Bound">deps₂</a> <a id="18043" class="Symbol">.</a><a id="18044" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18049" class="Symbol">}</a> <a id="18051" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18053" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">eqd</a><a id="18056" class="Symbol">)</a> <a id="18058" href="Ledger.Conway.Conformance.Equivalence.html#17699" class="Bound">rs</a>
        <a id="18069" class="Keyword">in</a>  <a id="18073" href="Ledger.Conway.Conformance.Equivalence.html#17757" class="Bound">deps₂&#39;</a> <a id="18080" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18082" href="Ledger.Conway.Conformance.Equivalence.html#17766" class="Bound">eqd&#39;</a> <a id="18087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18089" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18095" class="Symbol">(</a><a id="18096" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18109" class="Symbol">(</a><a id="18110" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="18127" href="Ledger.Conway.Conformance.Equivalence.html#17692" class="Bound">h</a><a id="18128" class="Symbol">))</a> <a id="18131" href="Ledger.Conway.Conformance.Equivalence.html#17773" class="Bound">rs&#39;</a>

  <a id="18138" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="18149" class="Symbol">{</a><a id="18150" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">Γ</a><a id="18151" class="Symbol">}</a> <a id="18153" href="Ledger.Conway.Conformance.Equivalence.html#18153" class="Bound">deps₁</a> <a id="18159" href="Ledger.Conway.Conformance.Equivalence.html#18159" class="Bound">deps₂</a> <a id="18165" href="Ledger.Conway.Conformance.Equivalence.html#18165" class="Bound">deps₁&#39;</a> <a id="18172" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">eqd</a> <a id="18176" class="Symbol">(</a><a id="18177" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18183" class="Symbol">(</a><a id="18184" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18197" class="Symbol">{</a><a id="18198" class="Argument">dCert</a> <a id="18204" class="Symbol">=</a> <a id="18206" href="Ledger.Conway.Conformance.Equivalence.html#18206" class="Bound">cert</a><a id="18210" class="Symbol">}</a> <a id="18212" class="Symbol">(</a><a id="18213" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18227" class="Symbol">(</a><a id="18228" href="Ledger.Conway.Conformance.Equivalence.html#18228" class="Bound">a</a> <a id="18230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18232" href="Ledger.Conway.Conformance.Equivalence.html#18232" class="Bound">b</a> <a id="18234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18236" href="Ledger.Conway.Conformance.Equivalence.html#18236" class="Bound">c</a><a id="18237" class="Symbol">)))</a> <a id="18241" href="Ledger.Conway.Conformance.Equivalence.html#18241" class="Bound">rs</a><a id="18243" class="Symbol">)</a> <a id="18245" class="Symbol">=</a>
    <a id="18251" class="Keyword">let</a> <a id="18255" class="Keyword">open</a> <a id="18260" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18270" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">Γ</a> <a id="18272" class="Keyword">using</a> <a id="18278" class="Symbol">(</a><a id="18279" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18281" class="Symbol">)</a>
        <a id="18291" href="Ledger.Conway.Conformance.Equivalence.html#18291" class="Bound">deps₂&#39;</a> <a id="18298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18300" href="Ledger.Conway.Conformance.Equivalence.html#18300" class="Bound">eqd&#39;</a> <a id="18305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18307" href="Ledger.Conway.Conformance.Equivalence.html#18307" class="Bound">rs&#39;</a> <a id="18311" class="Symbol">=</a> <a id="18313" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="18324" class="Symbol">(</a><a id="18325" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="18336" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18339" href="Ledger.Conway.Conformance.Equivalence.html#18206" class="Bound">cert</a> <a id="18344" href="Ledger.Conway.Conformance.Equivalence.html#18153" class="Bound">deps₁</a><a id="18349" class="Symbol">)</a> <a id="18351" class="Symbol">(</a><a id="18352" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="18363" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18366" href="Ledger.Conway.Conformance.Equivalence.html#18206" class="Bound">cert</a> <a id="18371" href="Ledger.Conway.Conformance.Equivalence.html#18159" class="Bound">deps₂</a><a id="18376" class="Symbol">)</a> <a id="18378" href="Ledger.Conway.Conformance.Equivalence.html#18165" class="Bound">deps₁&#39;</a>
                                         <a id="18426" class="Symbol">(</a><a id="18427" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18429" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="18445" class="Symbol">{</a><a id="18446" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18448" class="Symbol">}</a> <a id="18450" href="Ledger.Conway.Conformance.Equivalence.html#18206" class="Bound">cert</a> <a id="18455" class="Symbol">{</a><a id="18456" href="Ledger.Conway.Conformance.Equivalence.html#18153" class="Bound">deps₁</a> <a id="18462" class="Symbol">.</a><a id="18463" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18468" class="Symbol">}</a> <a id="18470" class="Symbol">{</a><a id="18471" href="Ledger.Conway.Conformance.Equivalence.html#18159" class="Bound">deps₂</a> <a id="18477" class="Symbol">.</a><a id="18478" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18483" class="Symbol">}</a>
                                          <a id="18527" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="18529" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18545" class="Symbol">{</a><a id="18546" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18548" class="Symbol">}</a> <a id="18550" href="Ledger.Conway.Conformance.Equivalence.html#18206" class="Bound">cert</a> <a id="18555" class="Symbol">{</a><a id="18556" href="Ledger.Conway.Conformance.Equivalence.html#18153" class="Bound">deps₁</a> <a id="18562" class="Symbol">.</a><a id="18563" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18568" class="Symbol">}</a> <a id="18570" class="Symbol">{</a><a id="18571" href="Ledger.Conway.Conformance.Equivalence.html#18159" class="Bound">deps₂</a> <a id="18577" class="Symbol">.</a><a id="18578" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18583" class="Symbol">}</a> <a id="18585" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18587" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">eqd</a><a id="18590" class="Symbol">)</a> <a id="18592" href="Ledger.Conway.Conformance.Equivalence.html#18241" class="Bound">rs</a>
    <a id="18599" class="Keyword">in</a>  <a id="18603" href="Ledger.Conway.Conformance.Equivalence.html#18291" class="Bound">deps₂&#39;</a> <a id="18610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18612" href="Ledger.Conway.Conformance.Equivalence.html#18300" class="Bound">eqd&#39;</a> <a id="18617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18619" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18625" class="Symbol">(</a><a id="18626" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18639" class="Symbol">(</a><a id="18640" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18654" class="Symbol">(</a><a id="18655" href="Ledger.Conway.Conformance.Equivalence.html#18228" class="Bound">a</a> <a id="18657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18659" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">eqd</a> <a id="18663" class="Symbol">.</a><a id="18664" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18670" class="Symbol">.</a><a id="18671" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18677" href="Ledger.Conway.Conformance.Equivalence.html#18232" class="Bound">b</a> <a id="18679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18681" href="Ledger.Conway.Conformance.Equivalence.html#18236" class="Bound">c</a><a id="18682" class="Symbol">)))</a> <a id="18686" href="Ledger.Conway.Conformance.Equivalence.html#18307" class="Bound">rs&#39;</a>
  <a id="18692" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="18703" class="Symbol">{</a><a id="18704" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">Γ</a><a id="18705" class="Symbol">}</a> <a id="18707" href="Ledger.Conway.Conformance.Equivalence.html#18707" class="Bound">deps₁</a> <a id="18713" href="Ledger.Conway.Conformance.Equivalence.html#18713" class="Bound">deps₂</a> <a id="18719" href="Ledger.Conway.Conformance.Equivalence.html#18719" class="Bound">deps₁&#39;</a> <a id="18726" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">eqd</a> <a id="18730" class="Symbol">(</a><a id="18731" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18737" class="Symbol">(</a><a id="18738" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18751" class="Symbol">{</a><a id="18752" class="Argument">dCert</a> <a id="18758" class="Symbol">=</a> <a id="18760" href="Ledger.Conway.Conformance.Equivalence.html#18760" class="Bound">cert</a><a id="18764" class="Symbol">}</a> <a id="18766" class="Symbol">(</a><a id="18767" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="18779" href="Ledger.Conway.Conformance.Equivalence.html#18779" class="Bound">h</a><a id="18780" class="Symbol">))</a>         <a id="18791" href="Ledger.Conway.Conformance.Equivalence.html#18791" class="Bound">rs</a><a id="18793" class="Symbol">)</a> <a id="18795" class="Symbol">=</a>
    <a id="18801" class="Keyword">let</a> <a id="18805" class="Keyword">open</a> <a id="18810" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18820" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">Γ</a> <a id="18822" class="Keyword">using</a> <a id="18828" class="Symbol">(</a><a id="18829" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18831" class="Symbol">)</a>
        <a id="18841" href="Ledger.Conway.Conformance.Equivalence.html#18841" class="Bound">deps₂&#39;</a> <a id="18848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18850" href="Ledger.Conway.Conformance.Equivalence.html#18850" class="Bound">eqd&#39;</a> <a id="18855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18857" href="Ledger.Conway.Conformance.Equivalence.html#18857" class="Bound">rs&#39;</a> <a id="18861" class="Symbol">=</a> <a id="18863" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="18874" class="Symbol">(</a><a id="18875" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="18886" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18889" href="Ledger.Conway.Conformance.Equivalence.html#18760" class="Bound">cert</a> <a id="18894" href="Ledger.Conway.Conformance.Equivalence.html#18707" class="Bound">deps₁</a><a id="18899" class="Symbol">)</a> <a id="18901" class="Symbol">(</a><a id="18902" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="18913" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18916" href="Ledger.Conway.Conformance.Equivalence.html#18760" class="Bound">cert</a> <a id="18921" href="Ledger.Conway.Conformance.Equivalence.html#18713" class="Bound">deps₂</a><a id="18926" class="Symbol">)</a> <a id="18928" href="Ledger.Conway.Conformance.Equivalence.html#18719" class="Bound">deps₁&#39;</a>
                                         <a id="18976" class="Symbol">(</a><a id="18977" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18979" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="18995" class="Symbol">{</a><a id="18996" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18998" class="Symbol">}</a> <a id="19000" href="Ledger.Conway.Conformance.Equivalence.html#18760" class="Bound">cert</a> <a id="19005" class="Symbol">{</a><a id="19006" href="Ledger.Conway.Conformance.Equivalence.html#18707" class="Bound">deps₁</a> <a id="19012" class="Symbol">.</a><a id="19013" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19018" class="Symbol">}</a> <a id="19020" class="Symbol">{</a><a id="19021" href="Ledger.Conway.Conformance.Equivalence.html#18713" class="Bound">deps₂</a> <a id="19027" class="Symbol">.</a><a id="19028" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19033" class="Symbol">}</a>
                                          <a id="19077" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="19079" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="19095" class="Symbol">{</a><a id="19096" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19098" class="Symbol">}</a> <a id="19100" href="Ledger.Conway.Conformance.Equivalence.html#18760" class="Bound">cert</a> <a id="19105" class="Symbol">{</a><a id="19106" href="Ledger.Conway.Conformance.Equivalence.html#18707" class="Bound">deps₁</a> <a id="19112" class="Symbol">.</a><a id="19113" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19118" class="Symbol">}</a> <a id="19120" class="Symbol">{</a><a id="19121" href="Ledger.Conway.Conformance.Equivalence.html#18713" class="Bound">deps₂</a> <a id="19127" class="Symbol">.</a><a id="19128" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19133" class="Symbol">}</a> <a id="19135" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="19137" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">eqd</a><a id="19140" class="Symbol">)</a> <a id="19142" href="Ledger.Conway.Conformance.Equivalence.html#18791" class="Bound">rs</a>
    <a id="19149" class="Keyword">in</a>  <a id="19153" href="Ledger.Conway.Conformance.Equivalence.html#18841" class="Bound">deps₂&#39;</a> <a id="19160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19162" href="Ledger.Conway.Conformance.Equivalence.html#18850" class="Bound">eqd&#39;</a> <a id="19167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19169" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19175" class="Symbol">(</a><a id="19176" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="19189" class="Symbol">(</a><a id="19190" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="19202" href="Ledger.Conway.Conformance.Equivalence.html#18779" class="Bound">h</a><a id="19203" class="Symbol">))</a> <a id="19206" href="Ledger.Conway.Conformance.Equivalence.html#18857" class="Bound">rs&#39;</a>

  <a id="19213" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19224" class="Symbol">{</a><a id="19225" href="Ledger.Conway.Conformance.Equivalence.html#19225" class="Bound">Γ</a><a id="19226" class="Symbol">}</a> <a id="19228" href="Ledger.Conway.Conformance.Equivalence.html#19228" class="Bound">deps₁</a> <a id="19234" href="Ledger.Conway.Conformance.Equivalence.html#19234" class="Bound">deps₂</a> <a id="19240" href="Ledger.Conway.Conformance.Equivalence.html#19240" class="Bound">deps₁&#39;</a> <a id="19247" href="Ledger.Conway.Conformance.Equivalence.html#19247" class="Bound">eqd</a> <a id="19251" class="Symbol">(</a><a id="19252" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19258" class="Symbol">(</a><a id="19259" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19272" class="Symbol">{</a><a id="19273" class="Argument">dCert</a> <a id="19279" class="Symbol">=</a> <a id="19281" href="Ledger.Conway.Conformance.Equivalence.html#19281" class="Bound">cert</a><a id="19285" class="Symbol">}</a> <a id="19287" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19301" class="Symbol">)</a>          <a id="19312" href="Ledger.Conway.Conformance.Equivalence.html#19312" class="Bound">rs</a><a id="19314" class="Symbol">)</a> <a id="19316" class="Symbol">=</a>
    <a id="19322" class="Keyword">let</a> <a id="19326" href="Ledger.Conway.Conformance.Equivalence.html#19326" class="Bound">deps₂&#39;</a> <a id="19333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19335" href="Ledger.Conway.Conformance.Equivalence.html#19335" class="Bound">eqd&#39;</a> <a id="19340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19342" href="Ledger.Conway.Conformance.Equivalence.html#19342" class="Bound">rs&#39;</a> <a id="19346" class="Symbol">=</a> <a id="19348" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19359" href="Ledger.Conway.Conformance.Equivalence.html#19228" class="Bound">deps₁</a> <a id="19365" href="Ledger.Conway.Conformance.Equivalence.html#19234" class="Bound">deps₂</a> <a id="19371" href="Ledger.Conway.Conformance.Equivalence.html#19240" class="Bound">deps₁&#39;</a> <a id="19378" href="Ledger.Conway.Conformance.Equivalence.html#19247" class="Bound">eqd</a> <a id="19382" href="Ledger.Conway.Conformance.Equivalence.html#19312" class="Bound">rs</a>
    <a id="19389" class="Keyword">in</a>  <a id="19393" href="Ledger.Conway.Conformance.Equivalence.html#19326" class="Bound">deps₂&#39;</a> <a id="19400" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19402" href="Ledger.Conway.Conformance.Equivalence.html#19335" class="Bound">eqd&#39;</a> <a id="19407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19409" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a>  <a id="19416" class="Symbol">(</a><a id="19417" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19429" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19443" class="Symbol">)</a> <a id="19445" href="Ledger.Conway.Conformance.Equivalence.html#19342" class="Bound">rs&#39;</a>

  <a id="19452" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19463" class="Symbol">{</a><a id="19464" href="Ledger.Conway.Conformance.Equivalence.html#19464" class="Bound">Γ</a><a id="19465" class="Symbol">}</a> <a id="19467" href="Ledger.Conway.Conformance.Equivalence.html#19467" class="Bound">deps₁</a> <a id="19473" href="Ledger.Conway.Conformance.Equivalence.html#19473" class="Bound">deps₂</a> <a id="19479" href="Ledger.Conway.Conformance.Equivalence.html#19479" class="Bound">deps₁&#39;</a> <a id="19486" href="Ledger.Conway.Conformance.Equivalence.html#19486" class="Bound">eqd</a> <a id="19490" class="Symbol">(</a><a id="19491" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19497" class="Symbol">(</a><a id="19498" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19511" class="Symbol">{</a><a id="19512" class="Argument">dCert</a> <a id="19518" class="Symbol">=</a> <a id="19520" href="Ledger.Conway.Conformance.Equivalence.html#19520" class="Bound">cert</a><a id="19524" class="Symbol">}</a> <a id="19526" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19543" class="Symbol">)</a>       <a id="19551" href="Ledger.Conway.Conformance.Equivalence.html#19551" class="Bound">rs</a><a id="19553" class="Symbol">)</a> <a id="19555" class="Symbol">=</a>
    <a id="19561" class="Keyword">let</a> <a id="19565" href="Ledger.Conway.Conformance.Equivalence.html#19565" class="Bound">deps₂&#39;</a> <a id="19572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19574" href="Ledger.Conway.Conformance.Equivalence.html#19574" class="Bound">eqd&#39;</a> <a id="19579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19581" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">rs&#39;</a> <a id="19585" class="Symbol">=</a> <a id="19587" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19598" href="Ledger.Conway.Conformance.Equivalence.html#19467" class="Bound">deps₁</a> <a id="19604" href="Ledger.Conway.Conformance.Equivalence.html#19473" class="Bound">deps₂</a> <a id="19610" href="Ledger.Conway.Conformance.Equivalence.html#19479" class="Bound">deps₁&#39;</a> <a id="19617" href="Ledger.Conway.Conformance.Equivalence.html#19486" class="Bound">eqd</a> <a id="19621" href="Ledger.Conway.Conformance.Equivalence.html#19551" class="Bound">rs</a>
    <a id="19628" class="Keyword">in</a>  <a id="19632" href="Ledger.Conway.Conformance.Equivalence.html#19565" class="Bound">deps₂&#39;</a> <a id="19639" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19641" href="Ledger.Conway.Conformance.Equivalence.html#19574" class="Bound">eqd&#39;</a> <a id="19646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19648" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19654" class="Symbol">(</a><a id="19655" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19667" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19684" class="Symbol">)</a> <a id="19686" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">rs&#39;</a>
  <a id="19692" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19703" class="Symbol">{</a><a id="19704" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">Γ</a><a id="19705" class="Symbol">}</a> <a id="19707" href="Ledger.Conway.Conformance.Equivalence.html#19707" class="Bound">deps₁</a> <a id="19713" href="Ledger.Conway.Conformance.Equivalence.html#19713" class="Bound">deps₂</a> <a id="19719" href="Ledger.Conway.Conformance.Equivalence.html#19719" class="Bound">deps₁&#39;</a> <a id="19726" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">eqd</a> <a id="19730" class="Symbol">(</a><a id="19731" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19737" class="Symbol">(</a><a id="19738" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="19751" class="Symbol">{</a><a id="19752" class="Argument">dCert</a> <a id="19758" class="Symbol">=</a> <a id="19760" href="Ledger.Conway.Conformance.Equivalence.html#19760" class="Bound">cert</a><a id="19764" class="Symbol">}</a> <a id="19766" class="Symbol">(</a><a id="19767" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="19785" href="Ledger.Conway.Conformance.Equivalence.html#19785" class="Bound">h</a><a id="19786" class="Symbol">))</a>   <a id="19791" href="Ledger.Conway.Conformance.Equivalence.html#19791" class="Bound">rs</a><a id="19793" class="Symbol">)</a> <a id="19795" class="Symbol">=</a>
    <a id="19801" class="Keyword">let</a> <a id="19805" class="Keyword">open</a> <a id="19810" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="19820" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">Γ</a> <a id="19822" class="Keyword">using</a> <a id="19828" class="Symbol">(</a><a id="19829" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="19831" class="Symbol">)</a>
        <a id="19841" href="Ledger.Conway.Conformance.Equivalence.html#19841" class="Bound">deps₂&#39;</a> <a id="19848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19850" href="Ledger.Conway.Conformance.Equivalence.html#19850" class="Bound">eqd&#39;</a> <a id="19855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19857" href="Ledger.Conway.Conformance.Equivalence.html#19857" class="Bound">rs&#39;</a> <a id="19861" class="Symbol">=</a> <a id="19863" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="19874" class="Symbol">(</a><a id="19875" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="19886" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19889" href="Ledger.Conway.Conformance.Equivalence.html#19760" class="Bound">cert</a> <a id="19894" href="Ledger.Conway.Conformance.Equivalence.html#19707" class="Bound">deps₁</a><a id="19899" class="Symbol">)</a> <a id="19901" class="Symbol">(</a><a id="19902" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="19913" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19916" href="Ledger.Conway.Conformance.Equivalence.html#19760" class="Bound">cert</a> <a id="19921" href="Ledger.Conway.Conformance.Equivalence.html#19713" class="Bound">deps₂</a><a id="19926" class="Symbol">)</a> <a id="19928" href="Ledger.Conway.Conformance.Equivalence.html#19719" class="Bound">deps₁&#39;</a>
                                         <a id="19976" class="Symbol">(</a><a id="19977" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="19979" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="19995" class="Symbol">{</a><a id="19996" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19998" class="Symbol">}</a> <a id="20000" href="Ledger.Conway.Conformance.Equivalence.html#19760" class="Bound">cert</a> <a id="20005" class="Symbol">{</a><a id="20006" href="Ledger.Conway.Conformance.Equivalence.html#19707" class="Bound">deps₁</a> <a id="20012" class="Symbol">.</a><a id="20013" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20018" class="Symbol">}</a> <a id="20020" class="Symbol">{</a><a id="20021" href="Ledger.Conway.Conformance.Equivalence.html#19713" class="Bound">deps₂</a> <a id="20027" class="Symbol">.</a><a id="20028" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20033" class="Symbol">}</a>
                                          <a id="20077" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20079" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20095" class="Symbol">{</a><a id="20096" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20098" class="Symbol">}</a> <a id="20100" href="Ledger.Conway.Conformance.Equivalence.html#19760" class="Bound">cert</a> <a id="20105" class="Symbol">{</a><a id="20106" href="Ledger.Conway.Conformance.Equivalence.html#19707" class="Bound">deps₁</a> <a id="20112" class="Symbol">.</a><a id="20113" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20118" class="Symbol">}</a> <a id="20120" class="Symbol">{</a><a id="20121" href="Ledger.Conway.Conformance.Equivalence.html#19713" class="Bound">deps₂</a> <a id="20127" class="Symbol">.</a><a id="20128" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20133" class="Symbol">}</a> <a id="20135" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20137" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">eqd</a><a id="20140" class="Symbol">)</a> <a id="20142" href="Ledger.Conway.Conformance.Equivalence.html#19791" class="Bound">rs</a>
    <a id="20149" class="Keyword">in</a>  <a id="20153" href="Ledger.Conway.Conformance.Equivalence.html#19841" class="Bound">deps₂&#39;</a> <a id="20160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20162" href="Ledger.Conway.Conformance.Equivalence.html#19850" class="Bound">eqd&#39;</a> <a id="20167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20169" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20175" class="Symbol">(</a><a id="20176" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20188" class="Symbol">(</a><a id="20189" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="20207" href="Ledger.Conway.Conformance.Equivalence.html#19785" class="Bound">h</a><a id="20208" class="Symbol">))</a> <a id="20211" href="Ledger.Conway.Conformance.Equivalence.html#19857" class="Bound">rs&#39;</a>
  <a id="20217" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="20228" class="Symbol">{</a><a id="20229" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">Γ</a><a id="20230" class="Symbol">}</a> <a id="20232" href="Ledger.Conway.Conformance.Equivalence.html#20232" class="Bound">deps₁</a> <a id="20238" href="Ledger.Conway.Conformance.Equivalence.html#20238" class="Bound">deps₂</a> <a id="20244" href="Ledger.Conway.Conformance.Equivalence.html#20244" class="Bound">deps₁&#39;</a> <a id="20251" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">eqd</a> <a id="20255" class="Symbol">(</a><a id="20256" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20262" class="Symbol">(</a><a id="20263" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20276" class="Symbol">{</a><a id="20277" class="Argument">dCert</a> <a id="20283" class="Symbol">=</a> <a id="20285" href="Ledger.Conway.Conformance.Equivalence.html#20285" class="Bound">cert</a><a id="20289" class="Symbol">}</a> <a id="20291" class="Symbol">(</a><a id="20292" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20312" class="Symbol">(</a><a id="20313" href="Ledger.Conway.Conformance.Equivalence.html#20313" class="Bound">a</a> <a id="20315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20317" href="Ledger.Conway.Conformance.Equivalence.html#20317" class="Bound">b</a><a id="20318" class="Symbol">)))</a> <a id="20322" href="Ledger.Conway.Conformance.Equivalence.html#20322" class="Bound">rs</a><a id="20324" class="Symbol">)</a> <a id="20326" class="Symbol">=</a>
    <a id="20332" class="Keyword">let</a> <a id="20336" class="Keyword">open</a> <a id="20341" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="20351" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">Γ</a> <a id="20353" class="Keyword">using</a> <a id="20359" class="Symbol">(</a><a id="20360" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="20362" class="Symbol">)</a>
        <a id="20372" href="Ledger.Conway.Conformance.Equivalence.html#20372" class="Bound">deps₂&#39;</a> <a id="20379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20381" href="Ledger.Conway.Conformance.Equivalence.html#20381" class="Bound">eqd&#39;</a> <a id="20386" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20388" href="Ledger.Conway.Conformance.Equivalence.html#20388" class="Bound">rs&#39;</a> <a id="20392" class="Symbol">=</a> <a id="20394" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="20405" class="Symbol">(</a><a id="20406" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="20417" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20420" href="Ledger.Conway.Conformance.Equivalence.html#20285" class="Bound">cert</a> <a id="20425" href="Ledger.Conway.Conformance.Equivalence.html#20232" class="Bound">deps₁</a><a id="20430" class="Symbol">)</a> <a id="20432" class="Symbol">(</a><a id="20433" href="Ledger.Conway.Conformance.Equivalence.html#16955" class="Function">updateCDep</a> <a id="20444" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20447" href="Ledger.Conway.Conformance.Equivalence.html#20285" class="Bound">cert</a> <a id="20452" href="Ledger.Conway.Conformance.Equivalence.html#20238" class="Bound">deps₂</a><a id="20457" class="Symbol">)</a> <a id="20459" href="Ledger.Conway.Conformance.Equivalence.html#20244" class="Bound">deps₁&#39;</a>
                                         <a id="20507" class="Symbol">(</a><a id="20508" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="20510" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="20526" class="Symbol">{</a><a id="20527" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20529" class="Symbol">}</a> <a id="20531" href="Ledger.Conway.Conformance.Equivalence.html#20285" class="Bound">cert</a> <a id="20536" class="Symbol">{</a><a id="20537" href="Ledger.Conway.Conformance.Equivalence.html#20232" class="Bound">deps₁</a> <a id="20543" class="Symbol">.</a><a id="20544" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20549" class="Symbol">}</a> <a id="20551" class="Symbol">{</a><a id="20552" href="Ledger.Conway.Conformance.Equivalence.html#20238" class="Bound">deps₂</a> <a id="20558" class="Symbol">.</a><a id="20559" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20564" class="Symbol">}</a>
                                          <a id="20608" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20610" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20626" class="Symbol">{</a><a id="20627" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20629" class="Symbol">}</a> <a id="20631" href="Ledger.Conway.Conformance.Equivalence.html#20285" class="Bound">cert</a> <a id="20636" class="Symbol">{</a><a id="20637" href="Ledger.Conway.Conformance.Equivalence.html#20232" class="Bound">deps₁</a> <a id="20643" class="Symbol">.</a><a id="20644" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20649" class="Symbol">}</a> <a id="20651" class="Symbol">{</a><a id="20652" href="Ledger.Conway.Conformance.Equivalence.html#20238" class="Bound">deps₂</a> <a id="20658" class="Symbol">.</a><a id="20659" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20664" class="Symbol">}</a> <a id="20666" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20668" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">eqd</a><a id="20671" class="Symbol">)</a> <a id="20673" href="Ledger.Conway.Conformance.Equivalence.html#20322" class="Bound">rs</a>
    <a id="20680" class="Keyword">in</a>  <a id="20684" href="Ledger.Conway.Conformance.Equivalence.html#20372" class="Bound">deps₂&#39;</a> <a id="20691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20693" href="Ledger.Conway.Conformance.Equivalence.html#20381" class="Bound">eqd&#39;</a> <a id="20698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20700" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20706" class="Symbol">(</a><a id="20707" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20719" class="Symbol">(</a><a id="20720" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20740" class="Symbol">(</a><a id="20741" href="Ledger.Conway.Conformance.Equivalence.html#20313" class="Bound">a</a> <a id="20743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20745" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">eqd</a> <a id="20749" class="Symbol">.</a><a id="20750" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20756" class="Symbol">.</a><a id="20757" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="20763" href="Ledger.Conway.Conformance.Equivalence.html#20317" class="Bound">b</a><a id="20764" class="Symbol">)))</a> <a id="20768" href="Ledger.Conway.Conformance.Equivalence.html#20388" class="Bound">rs&#39;</a>
                                                                   <a id="20839" class="Comment">-- ^^^^^^^^^^^^^^^^^^^ Actual work</a>
  <a id="20876" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="20887" class="Symbol">{</a><a id="20888" href="Ledger.Conway.Conformance.Equivalence.html#20888" class="Bound">Γ</a><a id="20889" class="Symbol">}</a> <a id="20891" href="Ledger.Conway.Conformance.Equivalence.html#20891" class="Bound">deps₁</a> <a id="20897" href="Ledger.Conway.Conformance.Equivalence.html#20897" class="Bound">deps₂</a> <a id="20903" href="Ledger.Conway.Conformance.Equivalence.html#20903" class="Bound">deps₁&#39;</a> <a id="20910" href="Ledger.Conway.Conformance.Equivalence.html#20910" class="Bound">eqd</a> <a id="20914" class="Symbol">(</a><a id="20915" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20921" class="Symbol">(</a><a id="20922" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20935" class="Symbol">{</a><a id="20936" class="Argument">dCert</a> <a id="20942" class="Symbol">=</a> <a id="20944" href="Ledger.Conway.Conformance.Equivalence.html#20944" class="Bound">cert</a><a id="20948" class="Symbol">}</a> <a id="20950" class="Symbol">(</a><a id="20951" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20970" href="Ledger.Conway.Conformance.Equivalence.html#20970" class="Bound">h</a><a id="20971" class="Symbol">))</a>  <a id="20975" href="Ledger.Conway.Conformance.Equivalence.html#20975" class="Bound">rs</a><a id="20977" class="Symbol">)</a> <a id="20979" class="Symbol">=</a>
    <a id="20985" class="Keyword">let</a> <a id="20989" href="Ledger.Conway.Conformance.Equivalence.html#20989" class="Bound">deps₂&#39;</a> <a id="20996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20998" href="Ledger.Conway.Conformance.Equivalence.html#20998" class="Bound">eqd&#39;</a> <a id="21003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21005" href="Ledger.Conway.Conformance.Equivalence.html#21005" class="Bound">rs&#39;</a> <a id="21009" class="Symbol">=</a> <a id="21011" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="21022" href="Ledger.Conway.Conformance.Equivalence.html#20891" class="Bound">deps₁</a> <a id="21028" href="Ledger.Conway.Conformance.Equivalence.html#20897" class="Bound">deps₂</a> <a id="21034" href="Ledger.Conway.Conformance.Equivalence.html#20903" class="Bound">deps₁&#39;</a> <a id="21041" href="Ledger.Conway.Conformance.Equivalence.html#20910" class="Bound">eqd</a> <a id="21045" href="Ledger.Conway.Conformance.Equivalence.html#20975" class="Bound">rs</a>
    <a id="21052" class="Keyword">in</a>  <a id="21056" href="Ledger.Conway.Conformance.Equivalence.html#20989" class="Bound">deps₂&#39;</a> <a id="21063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21065" href="Ledger.Conway.Conformance.Equivalence.html#20998" class="Bound">eqd&#39;</a> <a id="21070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21072" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="21078" class="Symbol">(</a><a id="21079" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="21091" class="Symbol">(</a><a id="21092" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="21111" href="Ledger.Conway.Conformance.Equivalence.html#20970" class="Bound">h</a><a id="21112" class="Symbol">))</a> <a id="21115" href="Ledger.Conway.Conformance.Equivalence.html#21005" class="Bound">rs&#39;</a>

  <a id="castCERTS"></a><a id="21122" href="Ledger.Conway.Conformance.Equivalence.html#21122" class="Function">castCERTS</a> <a id="21132" class="Symbol">:</a> <a id="21134" class="Symbol">∀</a> <a id="21136" class="Symbol">{</a><a id="21137" href="Ledger.Conway.Conformance.Equivalence.html#21137" class="Bound">Γ</a> <a id="21139" href="Ledger.Conway.Conformance.Equivalence.html#21139" class="Bound">certs</a><a id="21144" class="Symbol">}</a> <a id="21146" class="Symbol">{</a><a id="21147" href="Ledger.Conway.Conformance.Equivalence.html#21147" class="Bound">s</a> <a id="21149" href="Ledger.Conway.Conformance.Equivalence.html#21149" class="Bound">s&#39;</a> <a id="21152" class="Symbol">:</a> <a id="21154" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="21165" class="Symbol">}</a> <a id="21167" href="Ledger.Conway.Conformance.Equivalence.html#21167" class="Bound">deps₁</a> <a id="21173" href="Ledger.Conway.Conformance.Equivalence.html#21173" class="Bound">deps₂</a> <a id="21179" href="Ledger.Conway.Conformance.Equivalence.html#21179" class="Bound">deps₁&#39;</a>
            <a id="21198" class="Symbol">→</a> <a id="21200" href="Ledger.Conway.Conformance.Equivalence.html#21167" class="Bound">deps₁</a> <a id="21206" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21209" href="Ledger.Conway.Conformance.Equivalence.html#21173" class="Bound">deps₂</a>
            <a id="21227" class="Symbol">→</a> <a id="21229" href="Ledger.Conway.Conformance.Equivalence.html#21137" class="Bound">Γ</a> <a id="21231" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21235" href="Ledger.Conway.Conformance.Equivalence.html#21167" class="Bound">deps₁</a> <a id="21241" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21247" href="Ledger.Conway.Conformance.Equivalence.html#21147" class="Bound">s</a> <a id="21249" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21252" href="Ledger.Conway.Conformance.Equivalence.html#21139" class="Bound">certs</a> <a id="21258" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21266" class="Symbol">(</a><a id="21267" href="Ledger.Conway.Conformance.Equivalence.html#21179" class="Bound">deps₁&#39;</a> <a id="21274" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21280" href="Ledger.Conway.Conformance.Equivalence.html#21149" class="Bound">s&#39;</a><a id="21282" class="Symbol">)</a>
            <a id="21296" class="Symbol">→</a> <a id="21298" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21301" href="Ledger.Conway.Conformance.Equivalence.html#21301" class="Bound">deps₂&#39;</a> <a id="21308" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21310" href="Ledger.Conway.Conformance.Equivalence.html#21179" class="Bound">deps₁&#39;</a> <a id="21317" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21320" href="Ledger.Conway.Conformance.Equivalence.html#21301" class="Bound">deps₂&#39;</a> <a id="21327" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21329" href="Ledger.Conway.Conformance.Equivalence.html#21137" class="Bound">Γ</a> <a id="21331" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21335" href="Ledger.Conway.Conformance.Equivalence.html#21173" class="Bound">deps₂</a> <a id="21341" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21347" href="Ledger.Conway.Conformance.Equivalence.html#21147" class="Bound">s</a> <a id="21349" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21352" href="Ledger.Conway.Conformance.Equivalence.html#21139" class="Bound">certs</a> <a id="21358" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21366" class="Symbol">(</a><a id="21367" href="Ledger.Conway.Conformance.Equivalence.html#21301" class="Bound">deps₂&#39;</a> <a id="21374" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21380" href="Ledger.Conway.Conformance.Equivalence.html#21149" class="Bound">s&#39;</a><a id="21382" class="Symbol">)</a>
  <a id="21386" href="Ledger.Conway.Conformance.Equivalence.html#21122" class="Function">castCERTS</a> <a id="21396" href="Ledger.Conway.Conformance.Equivalence.html#21396" class="Bound">deps₁</a> <a id="21402" href="Ledger.Conway.Conformance.Equivalence.html#21402" class="Bound">deps₂</a> <a id="21408" href="Ledger.Conway.Conformance.Equivalence.html#21408" class="Bound">deps₁&#39;</a> <a id="21415" href="Ledger.Conway.Conformance.Equivalence.html#21415" class="Bound">eqd</a> <a id="21419" class="Symbol">(</a><a id="21420" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21424" class="Symbol">(</a><a id="21425" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21436" href="Ledger.Conway.Conformance.Equivalence.html#21436" class="Bound">h</a> <a id="21438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21440" href="Ledger.Conway.Conformance.Equivalence.html#21440" class="Bound">step</a><a id="21444" class="Symbol">))</a> <a id="21447" class="Symbol">=</a>
    <a id="21453" class="Keyword">let</a> <a id="21457" href="Ledger.Conway.Conformance.Equivalence.html#21457" class="Bound">deps₂&#39;</a> <a id="21464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21466" href="Ledger.Conway.Conformance.Equivalence.html#21466" class="Bound">eqd&#39;</a> <a id="21471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21473" href="Ledger.Conway.Conformance.Equivalence.html#21473" class="Bound">step&#39;</a> <a id="21479" class="Symbol">=</a> <a id="21481" href="Ledger.Conway.Conformance.Equivalence.html#17133" class="Function">castCERTS&#39;</a> <a id="21492" href="Ledger.Conway.Conformance.Equivalence.html#21396" class="Bound">deps₁</a> <a id="21498" href="Ledger.Conway.Conformance.Equivalence.html#21402" class="Bound">deps₂</a> <a id="21504" href="Ledger.Conway.Conformance.Equivalence.html#21408" class="Bound">deps₁&#39;</a> <a id="21511" href="Ledger.Conway.Conformance.Equivalence.html#21415" class="Bound">eqd</a> <a id="21515" href="Ledger.Conway.Conformance.Equivalence.html#21440" class="Bound">step</a>
    <a id="21524" class="Keyword">in</a>  <a id="21528" href="Ledger.Conway.Conformance.Equivalence.html#21457" class="Bound">deps₂&#39;</a> <a id="21535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21537" href="Ledger.Conway.Conformance.Equivalence.html#21466" class="Bound">eqd&#39;</a> <a id="21542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21544" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21548" class="Symbol">(</a><a id="21549" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21560" href="Ledger.Conway.Conformance.Equivalence.html#21436" class="Bound">h</a> <a id="21562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21564" href="Ledger.Conway.Conformance.Equivalence.html#21473" class="Bound">step&#39;</a><a id="21569" class="Symbol">)</a>

<a id="_⊢_⇀⦇_,GOVn⦈_"></a><a id="21572" href="Ledger.Conway.Conformance.Equivalence.html#21572" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21586" class="Symbol">:</a> <a id="21588" href="Ledger.Conway.Specification.Gov.html#1590" class="Record">L.GovEnv</a> <a id="21597" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21599" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="21601" class="Symbol">→</a> <a id="21603" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">L.GovState</a> <a id="21614" class="Symbol">→</a> <a id="21616" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21621" class="Symbol">(</a><a id="21622" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a> <a id="21630" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="21632" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a><a id="21643" class="Symbol">)</a> <a id="21645" class="Symbol">→</a> <a id="21647" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">L.GovState</a> <a id="21658" class="Symbol">→</a> <a id="21660" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="21665" href="Ledger.Conway.Conformance.Equivalence.html#21572" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21679" class="Symbol">=</a> <a id="21681" href="Interface.STS.html#1505" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="21693" class="Symbol">{</a><a id="21694" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="21704" class="Symbol">=</a> <a id="21706" href="Interface.STS.html#1981" class="Datatype">IdSTS</a><a id="21711" class="Symbol">}</a> <a id="21713" class="Symbol">{</a><a id="21714" class="Argument">_⊢_⇀⟦_⟧_</a> <a id="21723" class="Symbol">=</a> <a id="21725" href="Ledger.Conway.Specification.Gov.html#15296" class="Datatype Operator">L._⊢_⇀⦇_,GOV⦈_</a><a id="21739" class="Symbol">}</a>

<a id="21742" class="Keyword">opaque</a>
  <a id="castLEDGER"></a><a id="21751" href="Ledger.Conway.Conformance.Equivalence.html#21751" class="Function">castLEDGER</a> <a id="21762" class="Symbol">:</a> <a id="21764" class="Symbol">∀</a> <a id="21766" class="Symbol">{</a><a id="21767" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">Γ</a> <a id="21769" href="Ledger.Conway.Conformance.Equivalence.html#21769" class="Bound">tx</a><a id="21771" class="Symbol">}</a> <a id="21773" class="Symbol">{</a><a id="21774" href="Ledger.Conway.Conformance.Equivalence.html#21774" class="Bound">s</a> <a id="21776" href="Ledger.Conway.Conformance.Equivalence.html#21776" class="Bound">s&#39;</a> <a id="21779" class="Symbol">:</a> <a id="21781" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a><a id="21789" class="Symbol">}</a> <a id="21791" href="Ledger.Conway.Conformance.Equivalence.html#21791" class="Bound">deps₁</a> <a id="21797" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂</a> <a id="21803" href="Ledger.Conway.Conformance.Equivalence.html#21803" class="Bound">deps₁&#39;</a>
            <a id="21822" class="Symbol">→</a> <a id="21824" href="Ledger.Conway.Conformance.Equivalence.html#21791" class="Bound">deps₁</a> <a id="21830" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21833" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂</a>
            <a id="21851" class="Symbol">→</a> <a id="21853" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">Γ</a> <a id="21855" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21859" href="Ledger.Conway.Conformance.Equivalence.html#21791" class="Bound">deps₁</a> <a id="21865" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21871" href="Ledger.Conway.Conformance.Equivalence.html#21774" class="Bound">s</a> <a id="21873" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21876" href="Ledger.Conway.Conformance.Equivalence.html#21769" class="Bound">tx</a> <a id="21879" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21888" class="Symbol">(</a><a id="21889" href="Ledger.Conway.Conformance.Equivalence.html#21803" class="Bound">deps₁&#39;</a> <a id="21896" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21902" href="Ledger.Conway.Conformance.Equivalence.html#21776" class="Bound">s&#39;</a><a id="21904" class="Symbol">)</a>
            <a id="21918" class="Symbol">→</a> <a id="21920" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21923" href="Ledger.Conway.Conformance.Equivalence.html#21923" class="Bound">deps₂&#39;</a> <a id="21930" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21932" href="Ledger.Conway.Conformance.Equivalence.html#21803" class="Bound">deps₁&#39;</a> <a id="21939" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21942" href="Ledger.Conway.Conformance.Equivalence.html#21923" class="Bound">deps₂&#39;</a> <a id="21949" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21951" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">Γ</a> <a id="21953" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21957" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂</a> <a id="21963" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21969" href="Ledger.Conway.Conformance.Equivalence.html#21774" class="Bound">s</a> <a id="21971" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21974" href="Ledger.Conway.Conformance.Equivalence.html#21769" class="Bound">tx</a> <a id="21977" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21986" class="Symbol">(</a><a id="21987" href="Ledger.Conway.Conformance.Equivalence.html#21923" class="Bound">deps₂&#39;</a> <a id="21994" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="22000" href="Ledger.Conway.Conformance.Equivalence.html#21776" class="Bound">s&#39;</a><a id="22002" class="Symbol">)</a>
  <a id="22006" href="Ledger.Conway.Conformance.Equivalence.html#21751" class="Function">castLEDGER</a> <a id="22017" class="Symbol">{</a><a id="22018" href="Ledger.Conway.Conformance.Equivalence.html#22018" class="Bound">Γ</a><a id="22019" class="Symbol">}</a> <a id="22021" class="Symbol">{</a><a id="22022" href="Ledger.Conway.Conformance.Equivalence.html#22022" class="Bound">tx</a><a id="22024" class="Symbol">}</a> <a id="22026" class="Symbol">{</a><a id="22027" href="Ledger.Conway.Conformance.Equivalence.html#22027" class="Bound">s</a><a id="22028" class="Symbol">}</a> <a id="22030" class="Symbol">{</a><a id="22031" href="Ledger.Conway.Conformance.Equivalence.html#22031" class="Bound">s&#39;</a><a id="22033" class="Symbol">}</a> <a id="22035" href="Ledger.Conway.Conformance.Equivalence.html#22035" class="Bound">deps₁</a> <a id="22041" href="Ledger.Conway.Conformance.Equivalence.html#22041" class="Bound">deps₂</a> <a id="22047" href="Ledger.Conway.Conformance.Equivalence.html#22047" class="Bound">deps₁&#39;</a> <a id="22054" href="Ledger.Conway.Conformance.Equivalence.html#22054" class="Bound">eqd</a> <a id="22058" class="Symbol">(</a><a id="22059" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22071" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22076" href="Ledger.Conway.Conformance.Equivalence.html#22076" class="Bound">utxo</a> <a id="22081" href="Ledger.Conway.Conformance.Equivalence.html#22081" class="Bound">certs</a> <a id="22087" href="Ledger.Conway.Conformance.Equivalence.html#22087" class="Bound">gov</a><a id="22090" class="Symbol">)</a> <a id="22092" class="Symbol">=</a>
    <a id="22098" class="Keyword">let</a> <a id="22102" href="Ledger.Conway.Conformance.Equivalence.html#22102" class="Bound">deps₂&#39;</a> <a id="22109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22111" href="Ledger.Conway.Conformance.Equivalence.html#22111" class="Bound">eqd&#39;</a> <a id="22116" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22118" href="Ledger.Conway.Conformance.Equivalence.html#22118" class="Bound">certs&#39;</a> <a id="22125" class="Symbol">=</a> <a id="22127" href="Ledger.Conway.Conformance.Equivalence.html#21122" class="Function">castCERTS</a> <a id="22137" href="Ledger.Conway.Conformance.Equivalence.html#22035" class="Bound">deps₁</a> <a id="22143" href="Ledger.Conway.Conformance.Equivalence.html#22041" class="Bound">deps₂</a> <a id="22149" href="Ledger.Conway.Conformance.Equivalence.html#22047" class="Bound">deps₁&#39;</a> <a id="22156" href="Ledger.Conway.Conformance.Equivalence.html#22054" class="Bound">eqd</a> <a id="22160" href="Ledger.Conway.Conformance.Equivalence.html#22081" class="Bound">certs</a>
    <a id="22170" class="Keyword">in</a>  <a id="22174" href="Ledger.Conway.Conformance.Equivalence.html#22102" class="Bound">deps₂&#39;</a> <a id="22181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22183" href="Ledger.Conway.Conformance.Equivalence.html#22111" class="Bound">eqd&#39;</a> <a id="22188" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22190" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22202" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22207" href="Ledger.Conway.Conformance.Equivalence.html#22076" class="Bound">utxo</a> <a id="22212" href="Ledger.Conway.Conformance.Equivalence.html#22118" class="Bound">certs&#39;</a> <a id="22219" href="Ledger.Conway.Conformance.Equivalence.html#22087" class="Bound">gov</a>
  <a id="22225" href="Ledger.Conway.Conformance.Equivalence.html#21751" class="Function">castLEDGER</a> <a id="22236" href="Ledger.Conway.Conformance.Equivalence.html#22236" class="Bound">deps₁</a> <a id="22242" href="Ledger.Conway.Conformance.Equivalence.html#22242" class="Bound">deps₂</a> <a id="22248" href="Ledger.Conway.Conformance.Equivalence.html#22248" class="Bound">deps₁&#39;</a> <a id="22255" href="Ledger.Conway.Conformance.Equivalence.html#22255" class="Bound">eqd</a> <a id="22259" class="Symbol">(</a><a id="22260" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22272" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22277" href="Ledger.Conway.Conformance.Equivalence.html#22277" class="Bound">utxo</a><a id="22281" class="Symbol">)</a> <a id="22283" class="Symbol">=</a> <a id="22285" class="Symbol">_</a> <a id="22287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22289" href="Ledger.Conway.Conformance.Equivalence.html#22255" class="Bound">eqd</a> <a id="22293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22295" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22307" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22312" href="Ledger.Conway.Conformance.Equivalence.html#22277" class="Bound">utxo</a>

<a id="22318" class="Comment">---------------------------------------------------------------------------</a>
<a id="22394" class="Comment">-- The main result</a>
<a id="22413" class="Comment">---------------------------------------------------------------------------</a>

<a id="22490" class="Keyword">open</a> <a id="22495" class="Keyword">import</a> <a id="22502" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="Module">Ledger.Conway.Conformance.Equivalence.Bisimilarity</a>

<a id="22554" class="Comment">-- An LState sˡ from the Spec and an LState sᶜ from Conformance are</a>
<a id="22622" class="Comment">-- bisimular iff</a>
<a id="22639" class="Comment">--  ∙ the deposits in the CertState of sᶜ are equal (as maps) to the</a>
<a id="22708" class="Comment">--    appropriate restrictions of the deposits in the UTxOState of sˡ</a>
<a id="22778" class="Comment">--  ∙ the only difference between sˡ and sᶜ are the extra deposits in</a>
<a id="22848" class="Comment">--    the CertState of sᶜ.</a>
<a id="_∼_"></a><a id="22875" href="Ledger.Conway.Conformance.Equivalence.html#22875" class="Function Operator">_∼_</a> <a id="22879" class="Symbol">:</a> <a id="22881" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a> <a id="22890" class="Symbol">→</a> <a id="22892" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="22901" class="Symbol">→</a> <a id="22903" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="22908" href="Ledger.Conway.Conformance.Equivalence.html#22908" class="Bound">sˡ</a> <a id="22911" href="Ledger.Conway.Conformance.Equivalence.html#22875" class="Function Operator">∼</a> <a id="22913" href="Ledger.Conway.Conformance.Equivalence.html#22913" class="Bound">sᶜ</a> <a id="22916" class="Symbol">=</a> <a id="22918" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="22931" href="Ledger.Conway.Conformance.Equivalence.html#22908" class="Bound">sˡ</a> <a id="22934" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="22937" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="22951" class="Symbol">(</a><a id="22952" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="22971" href="Ledger.Conway.Conformance.Equivalence.html#22913" class="Bound">sᶜ</a><a id="22973" class="Symbol">)</a> <a id="22975" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="22977" href="Ledger.Conway.Conformance.Equivalence.html#22908" class="Bound">sˡ</a> <a id="22980" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22982" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="22987" href="Ledger.Conway.Conformance.Equivalence.html#22913" class="Bound">sᶜ</a>

<a id="22991" class="Comment">-- This gives us the main result: a bisimulation between the LEDGER</a>
<a id="23059" class="Comment">-- rules in Ledger and in Conformance.</a>
<a id="bisimilarityProof"></a><a id="23098" href="Ledger.Conway.Conformance.Equivalence.html#23098" class="Function">bisimilarityProof</a> <a id="23116" class="Symbol">:</a> <a id="23118" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#128" class="Record">Bisimilar</a> <a id="23128" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L._⊢_⇀⦇_,LEDGER⦈_</a> <a id="23146" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C._⊢_⇀⦇_,LEDGER⦈_</a>
<a id="23164" href="Ledger.Conway.Conformance.Equivalence.html#23098" class="Function">bisimilarityProof</a> <a id="23182" class="Symbol">.</a><a id="23183" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#259" class="Field Operator">Bisimilar._≈_</a> <a id="23197" class="Symbol">=</a> <a id="23199" href="Ledger.Conway.Conformance.Equivalence.html#22875" class="Function Operator">_∼_</a>
<a id="23203" href="Ledger.Conway.Conformance.Equivalence.html#23098" class="Function">bisimilarityProof</a> <a id="23221" class="Symbol">.</a><a id="23222" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#284" class="Field">Bisimilar.to</a> <a id="23235" class="Symbol">{</a><a id="23236" href="Ledger.Conway.Conformance.Equivalence.html#23236" class="Bound">Γ</a><a id="23237" class="Symbol">}</a> <a id="23239" class="Symbol">{</a><a id="23240" href="Ledger.Conway.Conformance.Equivalence.html#23240" class="Bound">tx</a><a id="23242" class="Symbol">}</a> <a id="23244" class="Symbol">{</a><a id="23245" href="Ledger.Conway.Conformance.Equivalence.html#23245" class="Bound">sˡ</a><a id="23247" class="Symbol">}</a> <a id="23249" class="Symbol">{</a><a id="23250" href="Ledger.Conway.Conformance.Equivalence.html#23250" class="Bound">sˡ&#39;</a><a id="23253" class="Symbol">}</a> <a id="23255" class="Symbol">{</a><a id="23256" href="Ledger.Conway.Conformance.Equivalence.html#23256" class="Bound">sᶜ</a><a id="23258" class="Symbol">}</a> <a id="23260" class="Symbol">(</a><a id="23261" href="Ledger.Conway.Conformance.Equivalence.html#23261" class="Bound">eq</a> <a id="23264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23266" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23270" class="Symbol">)</a> <a id="23272" href="Ledger.Conway.Conformance.Equivalence.html#23272" class="Bound">r</a> <a id="23274" class="Symbol">=</a>
  <a id="23278" class="Keyword">let</a> <a id="23282" href="Ledger.Conway.Conformance.Equivalence.html#23282" class="Bound">deps</a>  <a id="23288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23290" href="Ledger.Conway.Conformance.Equivalence.html#23290" class="Bound">eqd</a>  <a id="23295" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23297" href="Ledger.Conway.Conformance.Equivalence.html#23297" class="Bound">r&#39;</a>  <a id="23301" class="Symbol">=</a> <a id="23303" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23308" href="Ledger.Conway.Conformance.Equivalence.html#23272" class="Bound">r</a>
      <a id="23316" href="Ledger.Conway.Conformance.Equivalence.html#23316" class="Bound">deps&#39;</a> <a id="23322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23324" href="Ledger.Conway.Conformance.Equivalence.html#23324" class="Bound">eqd&#39;</a> <a id="23329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23331" href="Ledger.Conway.Conformance.Equivalence.html#23331" class="Bound">r&#39;&#39;</a> <a id="23335" class="Symbol">=</a> <a id="23337" href="Ledger.Conway.Conformance.Equivalence.html#21751" class="Function">castLEDGER</a> <a id="23348" class="Symbol">(</a><a id="23349" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23362" class="Symbol">(</a><a id="23363" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23368" href="Ledger.Conway.Conformance.Equivalence.html#23256" class="Bound">sᶜ</a><a id="23370" class="Symbol">))</a>
                                      <a id="23411" class="Symbol">(</a><a id="23412" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="23426" class="Symbol">(</a><a id="23427" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23446" href="Ledger.Conway.Conformance.Equivalence.html#23256" class="Bound">sᶜ</a><a id="23448" class="Symbol">))</a>
                                      <a id="23489" href="Ledger.Conway.Conformance.Equivalence.html#23282" class="Bound">deps</a>
                                      <a id="23532" href="Ledger.Conway.Conformance.Equivalence.html#23261" class="Bound">eq</a>
                                      <a id="23573" href="Ledger.Conway.Conformance.Equivalence.html#23297" class="Bound">r&#39;</a>
      <a id="23582" href="Ledger.Conway.Conformance.Equivalence.html#23582" class="Bound">eqd&#39;&#39;</a> <a id="23588" class="Symbol">:</a> <a id="23590" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23603" href="Ledger.Conway.Conformance.Equivalence.html#23250" class="Bound">sˡ&#39;</a> <a id="23607" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="23610" href="Ledger.Conway.Conformance.Equivalence.html#23316" class="Bound">deps&#39;</a>
      <a id="23622" href="Ledger.Conway.Conformance.Equivalence.html#23582" class="Bound">eqd&#39;&#39;</a> <a id="23628" class="Symbol">=</a> <a id="23630" href="Ledger.Conway.Conformance.Equivalence.html#13408" class="Function">≡ᵈ-trans</a> <a id="23639" class="Symbol">{</a><a id="23640" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23653" href="Ledger.Conway.Conformance.Equivalence.html#23250" class="Bound">sˡ&#39;</a><a id="23656" class="Symbol">}</a> <a id="23658" class="Symbol">{</a><a id="23659" href="Ledger.Conway.Conformance.Equivalence.html#23282" class="Bound">deps</a><a id="23663" class="Symbol">}</a> <a id="23665" class="Symbol">{</a><a id="23666" href="Ledger.Conway.Conformance.Equivalence.html#23316" class="Bound">deps&#39;</a><a id="23671" class="Symbol">}</a> <a id="23673" class="Symbol">(</a><a id="23674" href="Ledger.Conway.Conformance.Equivalence.html#13391" class="Function">≡ᵈ-sym</a> <a id="23681" class="Symbol">{</a><a id="23682" href="Ledger.Conway.Conformance.Equivalence.html#23282" class="Bound">deps</a><a id="23686" class="Symbol">}</a> <a id="23688" class="Symbol">{</a><a id="23689" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23702" href="Ledger.Conway.Conformance.Equivalence.html#23250" class="Bound">sˡ&#39;</a><a id="23705" class="Symbol">}</a> <a id="23707" href="Ledger.Conway.Conformance.Equivalence.html#23290" class="Bound">eqd</a><a id="23710" class="Symbol">)</a> <a id="23712" href="Ledger.Conway.Conformance.Equivalence.html#23324" class="Bound">eqd&#39;</a>
  <a id="23719" class="Keyword">in</a>
  <a id="23724" class="Symbol">(</a><a id="23725" href="Ledger.Conway.Conformance.Equivalence.html#23316" class="Bound">deps&#39;</a> <a id="23731" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23737" href="Ledger.Conway.Conformance.Equivalence.html#23250" class="Bound">sˡ&#39;</a><a id="23740" class="Symbol">)</a> <a id="23742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23744" class="Symbol">(</a><a id="23745" href="Ledger.Conway.Conformance.Equivalence.html#23582" class="Bound">eqd&#39;&#39;</a> <a id="23751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23753" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23757" class="Symbol">)</a> <a id="23759" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23761" href="Ledger.Conway.Conformance.Equivalence.html#23331" class="Bound">r&#39;&#39;</a>
<a id="23765" href="Ledger.Conway.Conformance.Equivalence.html#23098" class="Function">bisimilarityProof</a> <a id="23783" class="Symbol">.</a><a id="23784" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#419" class="Field">Bisimilar.from</a> <a id="23799" class="Symbol">{</a><a id="23800" href="Ledger.Conway.Conformance.Equivalence.html#23800" class="Bound">Γ</a><a id="23801" class="Symbol">}</a> <a id="23803" class="Symbol">{</a><a id="23804" href="Ledger.Conway.Conformance.Equivalence.html#23804" class="Bound">tx</a><a id="23806" class="Symbol">}</a> <a id="23808" class="Symbol">{</a><a id="23809" href="Ledger.Conway.Conformance.Equivalence.html#23809" class="Bound">sˡ</a><a id="23811" class="Symbol">}</a> <a id="23813" class="Symbol">{</a><a id="23814" href="Ledger.Conway.Conformance.Equivalence.html#23814" class="Bound">sᶜ</a><a id="23816" class="Symbol">}</a> <a id="23818" class="Symbol">{</a><a id="23819" href="Ledger.Conway.Conformance.Equivalence.html#23819" class="Bound">sᶜ&#39;</a><a id="23822" class="Symbol">}</a> <a id="23824" class="Symbol">(</a><a id="23825" href="Ledger.Conway.Conformance.Equivalence.html#23825" class="Bound">eqd</a> <a id="23829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23831" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23835" class="Symbol">)</a> <a id="23837" href="Ledger.Conway.Conformance.Equivalence.html#23837" class="Bound">r</a> <a id="23839" class="Symbol">=</a>
  <a id="23843" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23848" href="Ledger.Conway.Conformance.Equivalence.html#23819" class="Bound">sᶜ&#39;</a> <a id="23852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23854" class="Symbol">(</a><a id="23855" href="Ledger.Conway.Conformance.Equivalence.html#23978" class="Function">wf&#39;</a> <a id="23859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23861" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23865" class="Symbol">)</a> <a id="23867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23869" href="Ledger.Conway.Conformance.Equivalence.html#23892" class="Function">wf</a> <a id="23872" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23878" href="Ledger.Conway.Conformance.Equivalence.html#23837" class="Bound">r</a>
  <a id="23882" class="Keyword">where</a>
    <a id="23892" href="Ledger.Conway.Conformance.Equivalence.html#23892" class="Function">wf</a>  <a id="23896" class="Symbol">=</a> <a id="23898" href="Ledger.Conway.Conformance.Equivalence.html#13391" class="Function">≡ᵈ-sym</a> <a id="23905" class="Symbol">{</a><a id="23906" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23919" class="Symbol">(</a><a id="23920" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23925" href="Ledger.Conway.Conformance.Equivalence.html#23814" class="Bound">sᶜ</a><a id="23927" class="Symbol">)}</a> <a id="23930" class="Symbol">{</a><a id="23931" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="23945" class="Symbol">(</a><a id="23946" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23965" href="Ledger.Conway.Conformance.Equivalence.html#23814" class="Bound">sᶜ</a><a id="23967" class="Symbol">)}</a> <a id="23970" href="Ledger.Conway.Conformance.Equivalence.html#23825" class="Bound">eqd</a>
    <a id="23978" href="Ledger.Conway.Conformance.Equivalence.html#23978" class="Function">wf&#39;</a> <a id="23982" class="Symbol">=</a> <a id="23984" href="Ledger.Conway.Conformance.Equivalence.html#13391" class="Function">≡ᵈ-sym</a> <a id="23991" class="Symbol">{</a><a id="23992" href="Ledger.Conway.Conformance.Equivalence.html#8003" class="Function">certDepositsC</a> <a id="24006" class="Symbol">(</a><a id="24007" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="24026" href="Ledger.Conway.Conformance.Equivalence.html#23819" class="Bound">sᶜ&#39;</a><a id="24029" class="Symbol">)}</a> <a id="24032" class="Symbol">{</a><a id="24033" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="24046" class="Symbol">(</a><a id="24047" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="24052" href="Ledger.Conway.Conformance.Equivalence.html#23819" class="Bound">sᶜ&#39;</a><a id="24055" class="Symbol">)}</a> <a id="24058" class="Symbol">(</a><a id="24059" href="Ledger.Conway.Conformance.Equivalence.html#14793" class="Function">lemWellformed</a> <a id="24073" href="Ledger.Conway.Conformance.Equivalence.html#23892" class="Function">wf</a> <a id="24076" href="Ledger.Conway.Conformance.Equivalence.html#23837" class="Bound">r</a><a id="24077" class="Symbol">)</a>
    <a id="24083" href="Ledger.Conway.Conformance.Equivalence.html#24083" class="Function">r&#39;</a> <a id="24086" class="Symbol">=</a> <a id="24088" href="Ledger.Conway.Conformance.Equivalence.html#23892" class="Function">wf</a> <a id="24091" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="24097" href="Ledger.Conway.Conformance.Equivalence.html#23837" class="Bound">r</a>
</pre></body></html>