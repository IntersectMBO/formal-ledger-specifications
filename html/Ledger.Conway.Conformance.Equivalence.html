<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- Proof that the rules under Ledger.Conway.Conformance are equivalent</a>
<a id="95" class="Comment">-- to the rules under Ledger.</a>

<a id="126" class="Keyword">open</a> <a id="131" class="Keyword">import</a> <a id="138" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="281" class="Symbol">)</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="306" class="Keyword">using</a> <a id="312" class="Symbol">(</a><a id="313" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Data.Product.html" class="Module">Data.Product</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="351" class="Symbol">;</a> <a id="353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="356" class="Symbol">)</a> <a id="358" class="Keyword">renaming</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Product.Base.html#2173" class="Function">map</a> <a id="372" class="Symbol">to</a> <a id="375" class="Function">⟨_,_⟩</a><a id="380" class="Symbol">)</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="421" class="Symbol">;</a> <a id="423" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="426" class="Symbol">;</a> <a id="428" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="539" class="Symbol">)</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="601" class="Keyword">module</a> <a id="608" href="Ledger.Conway.Conformance.Equivalence.html" class="Module">Ledger.Conway.Conformance.Equivalence</a>
  <a id="648" class="Symbol">(</a><a id="649" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="653" class="Symbol">:</a> <a id="655" class="Symbol">_)</a> <a id="658" class="Symbol">(</a><a id="659" class="Keyword">open</a> <a id="664" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="688" class="Symbol">)</a>
  <a id="692" class="Symbol">(</a><a id="693" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="697" class="Symbol">:</a> <a id="699" href="Ledger.Conway.Specification.Abstract.html#732" class="Record">AbstractFunctions</a> <a id="717" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="720" class="Symbol">)</a> <a id="722" class="Symbol">(</a><a id="723" class="Keyword">open</a> <a id="728" href="Ledger.Conway.Specification.Abstract.html#732" class="Module">AbstractFunctions</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a><a id="749" class="Symbol">)</a>
  <a id="753" class="Keyword">where</a>

<a id="760" class="Keyword">module</a> <a id="L"></a><a id="767" href="Ledger.Conway.Conformance.Equivalence.html#767" class="Module">L</a> <a id="769" class="Keyword">where</a>
  <a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="824" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="828" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="832" class="Keyword">public</a>
  <a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="886" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="890" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="894" class="Keyword">public</a>
  <a id="903" class="Keyword">open</a> <a id="908" class="Keyword">import</a> <a id="915" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="949" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="953" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="957" class="Keyword">public</a>
  <a id="966" class="Keyword">open</a> <a id="971" class="Keyword">import</a> <a id="978" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="1010" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1014" class="Keyword">public</a>
  <a id="1023" class="Keyword">open</a> <a id="1028" class="Keyword">import</a> <a id="1035" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="1069" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="1082" class="Keyword">public</a>

<a id="1090" class="Keyword">module</a> <a id="C"></a><a id="1097" href="Ledger.Conway.Conformance.Equivalence.html#1097" class="Module">C</a> <a id="1099" class="Keyword">where</a>
  <a id="1107" class="Keyword">open</a> <a id="1112" class="Keyword">import</a> <a id="1119" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="1152" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1156" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1160" class="Keyword">public</a>
  <a id="1169" class="Keyword">open</a> <a id="1174" class="Keyword">import</a> <a id="1181" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="1212" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1216" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1220" class="Keyword">public</a>
  <a id="1229" class="Keyword">open</a> <a id="1234" class="Keyword">import</a> <a id="1241" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="1273" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1277" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1281" class="Keyword">public</a>
  <a id="1290" class="Keyword">open</a> <a id="1295" class="Keyword">import</a> <a id="1302" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1334" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="1347" class="Keyword">public</a>

<a id="1355" class="Keyword">open</a> <a id="1360" class="Keyword">import</a> <a id="1367" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="1411" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1415" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1419" class="Keyword">open</a> <a id="1424" class="Keyword">import</a> <a id="1431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a> <a id="1474" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1478" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1482" class="Keyword">open</a> <a id="1487" class="Keyword">import</a> <a id="1494" href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="Module">Ledger.Conway.Conformance.Equivalence.Deposits</a> <a id="1541" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1545" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>

<a id="1550" class="Keyword">open</a> <a id="1555" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a>
<a id="1558" class="Keyword">open</a> <a id="1563" class="Keyword">import</a> <a id="1570" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1591" href="Axiom.Set.html#10936" class="Function">th</a> <a id="1594" class="Keyword">using</a> <a id="1600" class="Symbol">(</a><a id="1601" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="1610" class="Symbol">)</a>

<a id="1613" class="Comment">-- Invalid transactions don&#39;t change the deposits</a>
<a id="lemInvalidDepositsL"></a><a id="1663" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="1683" class="Symbol">:</a> <a id="1685" class="Symbol">∀</a> <a id="1687" class="Symbol">{</a><a id="1688" href="Ledger.Conway.Conformance.Equivalence.html#1688" class="Bound">Γ</a> <a id="1690" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1697" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a> <a id="1705" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a><a id="1707" class="Symbol">}</a>
                    <a id="1729" class="Symbol">→</a> <a id="1731" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="1739" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a> <a id="1742" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1744" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="1770" class="Symbol">→</a> <a id="1772" href="Ledger.Conway.Conformance.Equivalence.html#1688" class="Bound">Γ</a> <a id="1774" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">L.⊢</a> <a id="1778" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1785" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">⇀⦇</a> <a id="1788" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a> <a id="1791" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">,UTXOW⦈</a> <a id="1799" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a>
                    <a id="1827" class="Symbol">→</a> <a id="1829" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="1850" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1857" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1859" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="1880" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a>
<a id="1888" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="1908" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1913" class="Symbol">(</a><a id="1914" href="Ledger.Conway.Specification.Utxow.html#4725" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
                          <a id="1953" class="Symbol">(</a><a id="1954" href="Ledger.Conway.Specification.Utxo.html#14159" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="1972" class="Symbol">_</a> <a id="1974" class="Symbol">_</a> <a id="1976" class="Symbol">_</a> <a id="1978" class="Symbol">_</a> <a id="1980" class="Symbol">_</a> <a id="1982" class="Symbol">_</a> <a id="1984" class="Symbol">_</a> <a id="1986" class="Symbol">_</a> <a id="1988" class="Symbol">_</a> <a id="1990" class="Symbol">_</a> <a id="1992" class="Symbol">_</a> <a id="1994" class="Symbol">_</a> <a id="1996" class="Symbol">_</a> <a id="1998" class="Symbol">_</a> <a id="2000" class="Symbol">_</a> <a id="2002" class="Symbol">_</a> <a id="2004" class="Symbol">_</a> <a id="2006" class="Symbol">_</a> <a id="2008" class="Symbol">_</a> <a id="2010" class="Symbol">_</a>
                            <a id="2040" class="Symbol">(</a><a id="2041" href="Ledger.Conway.Specification.Utxo.html#12171" class="InductiveConstructor">L.Scripts-No</a> <a id="2054" class="Symbol">_)))</a> <a id="2059" class="Symbol">=</a> <a id="2061" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemInvalidDepositsC"></a><a id="2067" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="2087" class="Symbol">:</a> <a id="2089" class="Symbol">∀</a> <a id="2091" class="Symbol">{</a><a id="2092" href="Ledger.Conway.Conformance.Equivalence.html#2092" class="Bound">Γ</a> <a id="2094" href="Ledger.Conway.Conformance.Equivalence.html#2094" class="Bound">utxoSt</a> <a id="2101" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a> <a id="2109" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a><a id="2111" class="Symbol">}</a>
                    <a id="2133" class="Symbol">→</a> <a id="2135" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2143" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a> <a id="2146" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2148" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="2174" class="Symbol">→</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Ledger.Conway.Conformance.Equivalence.html#2177" class="Bound">h</a> <a id="2179" class="Symbol">:</a> <a id="2181" href="Ledger.Conway.Conformance.Equivalence.html#2092" class="Bound">Γ</a> <a id="2183" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2187" href="Ledger.Conway.Conformance.Equivalence.html#2094" class="Bound">utxoSt</a> <a id="2194" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2197" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a> <a id="2200" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2208" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a><a id="2215" class="Symbol">)</a>
                    <a id="2237" class="Symbol">→</a> <a id="2239" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2253" href="Ledger.Conway.Conformance.Equivalence.html#2177" class="Bound">h</a> <a id="2255" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2257" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2278" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a>
<a id="2286" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="2306" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2311" class="Symbol">(</a><a id="2312" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                          <a id="2351" class="Symbol">(</a><a id="2352" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2370" class="Symbol">_</a> <a id="2372" class="Symbol">_</a> <a id="2374" class="Symbol">_</a> <a id="2376" class="Symbol">_</a> <a id="2378" class="Symbol">_</a> <a id="2380" class="Symbol">_</a> <a id="2382" class="Symbol">_</a> <a id="2384" class="Symbol">_</a> <a id="2386" class="Symbol">_</a> <a id="2388" class="Symbol">_</a> <a id="2390" class="Symbol">_</a> <a id="2392" class="Symbol">_</a> <a id="2394" class="Symbol">_</a> <a id="2396" class="Symbol">_</a> <a id="2398" class="Symbol">_</a> <a id="2400" class="Symbol">_</a> <a id="2402" class="Symbol">_</a> <a id="2404" class="Symbol">_</a> <a id="2406" class="Symbol">_</a> <a id="2408" class="Symbol">_</a>
                            <a id="2438" class="Symbol">(</a><a id="2439" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a> <a id="2452" class="Symbol">_)))</a> <a id="2457" class="Symbol">=</a> <a id="2459" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2465" class="Comment">-- The UTXOW rule doesn&#39;t change the deposits in Conformance</a>
<a id="lemDepositsC"></a><a id="2526" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2539" class="Symbol">:</a> <a id="2541" class="Symbol">∀</a> <a id="2543" class="Symbol">{</a><a id="2544" href="Ledger.Conway.Conformance.Equivalence.html#2544" class="Bound">Γ</a> <a id="2546" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2553" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a> <a id="2561" href="Ledger.Conway.Conformance.Equivalence.html#2561" class="Bound">tx</a><a id="2563" class="Symbol">}</a>
             <a id="2578" class="Symbol">→</a> <a id="2580" class="Symbol">(</a><a id="2581" href="Ledger.Conway.Conformance.Equivalence.html#2581" class="Bound">h</a> <a id="2583" class="Symbol">:</a> <a id="2585" href="Ledger.Conway.Conformance.Equivalence.html#2544" class="Bound">Γ</a> <a id="2587" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2591" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2598" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2601" href="Ledger.Conway.Conformance.Equivalence.html#2561" class="Bound">tx</a> <a id="2604" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2612" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a><a id="2619" class="Symbol">)</a>
             <a id="2634" class="Symbol">→</a> <a id="2636" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2657" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2664" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2666" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2687" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a>
<a id="2695" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2708" class="Symbol">(</a><a id="2709" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2737" class="Symbol">(</a><a id="2738" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2756" class="Symbol">_</a> <a id="2758" class="Symbol">_</a> <a id="2760" class="Symbol">_</a> <a id="2762" class="Symbol">_</a> <a id="2764" class="Symbol">_</a> <a id="2766" class="Symbol">_</a> <a id="2768" class="Symbol">_</a> <a id="2770" class="Symbol">_</a> <a id="2772" class="Symbol">_</a> <a id="2774" class="Symbol">_</a> <a id="2776" class="Symbol">_</a> <a id="2778" class="Symbol">_</a> <a id="2780" class="Symbol">_</a> <a id="2782" class="Symbol">_</a> <a id="2784" class="Symbol">_</a> <a id="2786" class="Symbol">_</a> <a id="2788" class="Symbol">_</a> <a id="2790" class="Symbol">_</a> <a id="2792" class="Symbol">_</a> <a id="2794" class="Symbol">_</a>
                 <a id="2813" class="Symbol">(</a><a id="2814" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2828" class="Symbol">_)))</a> <a id="2833" class="Symbol">=</a> <a id="2835" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2840" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2853" class="Symbol">(</a><a id="2854" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2882" class="Symbol">(</a><a id="2883" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2901" class="Symbol">_</a> <a id="2903" class="Symbol">_</a> <a id="2905" class="Symbol">_</a> <a id="2907" class="Symbol">_</a> <a id="2909" class="Symbol">_</a> <a id="2911" class="Symbol">_</a> <a id="2913" class="Symbol">_</a> <a id="2915" class="Symbol">_</a> <a id="2917" class="Symbol">_</a> <a id="2919" class="Symbol">_</a> <a id="2921" class="Symbol">_</a> <a id="2923" class="Symbol">_</a> <a id="2925" class="Symbol">_</a> <a id="2927" class="Symbol">_</a> <a id="2929" class="Symbol">_</a> <a id="2931" class="Symbol">_</a> <a id="2933" class="Symbol">_</a> <a id="2935" class="Symbol">_</a> <a id="2937" class="Symbol">_</a> <a id="2939" class="Symbol">_</a>
                 <a id="2958" class="Symbol">(</a><a id="2959" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a> <a id="2972" class="Symbol">_)))</a> <a id="2977" class="Symbol">=</a> <a id="2979" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemUpdateDeposits"></a><a id="2985" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="3003" class="Symbol">:</a> <a id="3005" class="Symbol">∀</a> <a id="3007" class="Symbol">{</a><a id="3008" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a> <a id="3010" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a> <a id="3012" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3015" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a><a id="3017" class="Symbol">}</a> <a id="3019" class="Symbol">(</a><a id="3020" class="Keyword">open</a> <a id="3025" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3035" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a><a id="3036" class="Symbol">)</a>
                  <a id="3056" class="Symbol">→</a> <a id="3058" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3066" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3069" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3071" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="3094" class="Symbol">→</a> <a id="3096" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a> <a id="3098" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">L.⊢</a> <a id="3102" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a> <a id="3104" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">⇀⦇</a> <a id="3107" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3110" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">,UTXOW⦈</a> <a id="3118" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a>
                  <a id="3139" class="Symbol">→</a> <a id="3141" href="Ledger.Conway.Specification.Utxo.html#8237" class="Function">L.updateDeposits</a> <a id="3158" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="3166" class="Symbol">(</a><a id="3167" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="3172" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a><a id="3174" class="Symbol">)</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="3198" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a><a id="3199" class="Symbol">)</a> <a id="3201" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3203" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="3224" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a>
<a id="3227" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="3245" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3252" class="Symbol">(</a><a id="3253" href="Ledger.Conway.Specification.Utxow.html#4725" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3270" class="Symbol">(</a><a id="3271" href="Ledger.Conway.Specification.Utxo.html#14159" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3289" class="Symbol">_</a> <a id="3291" class="Symbol">_</a> <a id="3293" class="Symbol">_</a> <a id="3295" class="Symbol">_</a> <a id="3297" class="Symbol">_</a> <a id="3299" class="Symbol">_</a> <a id="3301" class="Symbol">_</a> <a id="3303" class="Symbol">_</a> <a id="3305" class="Symbol">_</a> <a id="3307" class="Symbol">_</a> <a id="3309" class="Symbol">_</a> <a id="3311" class="Symbol">_</a> <a id="3313" class="Symbol">_</a> <a id="3315" class="Symbol">_</a> <a id="3317" class="Symbol">_</a> <a id="3319" class="Symbol">_</a> <a id="3321" class="Symbol">_</a>  <a id="3324" class="Symbol">_</a> <a id="3326" class="Symbol">_</a> <a id="3328" class="Symbol">_</a>
      <a id="3336" class="Symbol">(</a><a id="3337" href="Ledger.Conway.Specification.Utxo.html#11653" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3351" class="Symbol">_)))</a> <a id="3356" class="Symbol">=</a> <a id="3358" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="getValidCertDeposits"></a><a id="3364" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="3385" class="Symbol">:</a> <a id="3387" class="Symbol">∀</a> <a id="3389" class="Symbol">{</a><a id="3390" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3392" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3394" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3397" href="Ledger.Conway.Conformance.Equivalence.html#3397" class="Bound">s&#39;</a><a id="3399" class="Symbol">}</a>
                     <a id="3422" class="Symbol">→</a> <a id="3424" class="Symbol">(</a><a id="3425" class="Keyword">let</a> <a id="3429" class="Keyword">open</a> <a id="3434" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3444" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3446" class="Keyword">using</a> <a id="3452" class="Symbol">(</a><a id="3453" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="3460" class="Symbol">)</a>
                            <a id="3490" class="Keyword">open</a> <a id="3495" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="3507" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3509" class="Keyword">using</a> <a id="3515" class="Symbol">(</a><a id="3516" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="3524" class="Symbol">)</a>
                            <a id="3554" class="Keyword">open</a> <a id="3559" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3570" class="Symbol">.</a><a id="3571" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="3578" class="Symbol">)</a> <a id="3580" class="Keyword">using</a> <a id="3586" class="Symbol">(</a><a id="3587" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="3594" class="Symbol">))</a>
                     <a id="3618" class="Symbol">→</a> <a id="3620" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3628" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3631" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3633" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="3659" class="Symbol">→</a> <a id="3661" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3663" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">L.⊢</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3669" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">⇀⦇</a> <a id="3672" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3675" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">,UTXOW⦈</a> <a id="3683" href="Ledger.Conway.Conformance.Equivalence.html#3397" class="Bound">s&#39;</a>
                     <a id="3707" class="Symbol">→</a> <a id="3709" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="3729" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="3737" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="3746" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="3754" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="3775" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3782" class="Symbol">(</a><a id="3783" href="Ledger.Conway.Specification.Utxow.html#4725" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3800" class="Symbol">(</a><a id="3801" href="Ledger.Conway.Specification.Utxo.html#14159" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3819" class="Symbol">_</a> <a id="3821" class="Symbol">_</a> <a id="3823" class="Symbol">_</a> <a id="3825" class="Symbol">_</a> <a id="3827" class="Symbol">_</a> <a id="3829" class="Symbol">_</a> <a id="3831" class="Symbol">_</a> <a id="3833" class="Symbol">_</a> <a id="3835" class="Symbol">_</a> <a id="3837" class="Symbol">_</a> <a id="3839" class="Symbol">_</a> <a id="3841" class="Symbol">_</a> <a id="3843" class="Symbol">_</a> <a id="3845" class="Symbol">_</a> <a id="3847" class="Symbol">_</a> <a id="3849" class="Symbol">_</a> <a id="3851" class="Symbol">_</a> <a id="3853" class="Symbol">_</a> <a id="3855" class="Symbol">_</a> <a id="3857" class="Symbol">_</a>
      <a id="3865" class="Symbol">(</a><a id="3866" href="Ledger.Conway.Specification.Utxo.html#11653" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3880" class="Symbol">(</a><a id="3881" href="Ledger.Conway.Conformance.Equivalence.html#3881" class="Bound">v</a> <a id="3883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3885" class="Symbol">_))))</a> <a id="3891" class="Symbol">=</a> <a id="3893" href="Ledger.Conway.Conformance.Equivalence.html#3881" class="Bound">v</a>

<a id="makeCertDeps*"></a><a id="3896" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="3910" class="Symbol">:</a> <a id="3912" class="Symbol">∀</a> <a id="3914" class="Symbol">{</a><a id="3915" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="3917" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="3919" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="3922" href="Ledger.Conway.Conformance.Equivalence.html#3922" class="Bound">s&#39;</a><a id="3924" class="Symbol">}</a>
              <a id="3940" class="Symbol">→</a> <a id="3942" class="Symbol">(</a><a id="3943" class="Keyword">let</a> <a id="3947" class="Keyword">open</a> <a id="3952" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3962" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="3964" class="Keyword">using</a> <a id="3970" class="Symbol">(</a><a id="3971" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="3978" class="Symbol">)</a>
                     <a id="4001" class="Keyword">open</a> <a id="4006" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="4018" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="4020" class="Keyword">using</a> <a id="4026" class="Symbol">(</a><a id="4027" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="4035" class="Symbol">)</a>
                     <a id="4058" class="Keyword">open</a> <a id="4063" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4074" class="Symbol">.</a><a id="4075" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="4082" class="Symbol">)</a> <a id="4084" class="Keyword">using</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="4098" class="Symbol">))</a>
              <a id="4115" class="Symbol">→</a> <a id="4117" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4125" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4128" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4130" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
              <a id="4149" class="Symbol">→</a> <a id="4151" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="4153" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">L.⊢</a> <a id="4157" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="4159" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">⇀⦇</a> <a id="4162" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4165" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">,UTXOW⦈</a> <a id="4173" href="Ledger.Conway.Conformance.Equivalence.html#3922" class="Bound">s&#39;</a>
              <a id="4190" class="Symbol">→</a> <a id="4192" href="Ledger.Conway.Conformance.Equivalence.Certs.html#3978" class="Record">CertDeps*</a> <a id="4202" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="4210" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="4218" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="4232" class="Symbol">{</a><a id="4233" class="Argument">s</a> <a id="4235" class="Symbol">=</a> <a id="4237" href="Ledger.Conway.Conformance.Equivalence.html#4237" class="Bound">s</a><a id="4238" class="Symbol">}</a> <a id="4240" href="Ledger.Conway.Conformance.Equivalence.html#4240" class="Bound">valid</a> <a id="4246" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">r</a> <a id="4248" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#3977}{\htmlId{4252}{\htmlClass{Function}{\text{certDDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4262}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#4123}{\htmlId{4273}{\htmlClass{Function}{\text{certGDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4283}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#7660}{\htmlId{4294}{\htmlClass{Function}{\text{validDDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4393}{\htmlId{4305}{\htmlClass{Function}{\text{validDeps}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#8749}{\htmlId{4317}{\htmlClass{Function}{\text{validGDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4393}{\htmlId{4328}{\htmlClass{Function}{\text{validDeps}}}}\, \end{pmatrix}$</a>
  <a id="4343" class="Keyword">where</a>
    <a id="4353" class="Keyword">open</a> <a id="4358" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="4370" href="Ledger.Conway.Conformance.Equivalence.html#4237" class="Bound">s</a> <a id="4372" class="Keyword">using</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="4387" class="Symbol">)</a>
    <a id="4393" href="Ledger.Conway.Conformance.Equivalence.html#4393" class="Function">validDeps</a> <a id="4403" class="Symbol">=</a> <a id="4405" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="4426" href="Ledger.Conway.Conformance.Equivalence.html#4240" class="Bound">valid</a> <a id="4432" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">r</a>

<a id="lem-cert-deposits-valid"></a><a id="4435" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="4459" class="Symbol">:</a> <a id="4461" class="Symbol">∀</a> <a id="4463" class="Symbol">{</a><a id="4464" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4466" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a> <a id="4468" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4471" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a><a id="4473" class="Symbol">}</a> <a id="4475" class="Symbol">(</a><a id="4476" class="Keyword">open</a> <a id="4481" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="4488" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4490" class="Keyword">using</a> <a id="4496" class="Symbol">(</a><a id="4497" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="4504" class="Symbol">))</a>
                        <a id="4531" class="Symbol">→</a> <a id="4533" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4541" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4544" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4546" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                        <a id="4575" class="Symbol">→</a> <a id="4577" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4579" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="4583" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a> <a id="4585" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="4588" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4591" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="4600" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a>
                        <a id="4627" class="Symbol">→</a> <a id="4629" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="4646" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4654" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4671" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a><a id="4672" class="Symbol">)</a> <a id="4674" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="4677" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4690" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a>
<a id="4693" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="4717" class="Symbol">{</a><a id="4718" href="Ledger.Conway.Conformance.Equivalence.html#4718" class="Bound">Γ</a><a id="4719" class="Symbol">}</a> <a id="4721" class="Symbol">{</a><a id="4722" href="Ledger.Conway.Conformance.Equivalence.html#4722" class="Bound">s</a><a id="4723" class="Symbol">}</a> <a id="4725" class="Symbol">{</a><a id="4726" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a><a id="4728" class="Symbol">}</a> <a id="4730" class="Symbol">{</a><a id="4731" href="Ledger.Conway.Conformance.Equivalence.html#4731" class="Bound">s&#39;</a><a id="4733" class="Symbol">}</a> <a id="4735" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4740" class="Symbol">(</a><a id="4741" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="4753" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4758" href="Ledger.Conway.Conformance.Equivalence.html#4758" class="Bound">utxow</a> <a id="4764" href="Ledger.Conway.Conformance.Equivalence.html#4764" class="Bound">certs</a> <a id="4770" href="Ledger.Conway.Conformance.Equivalence.html#4770" class="Bound">gov</a><a id="4773" class="Symbol">)</a> <a id="4775" class="Keyword">rewrite</a> <a id="4783" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="4787" class="Symbol">(</a><a id="4788" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="4806" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4811" href="Ledger.Conway.Conformance.Equivalence.html#4758" class="Bound">utxow</a><a id="4816" class="Symbol">)</a> <a id="4818" class="Symbol">=</a>
  <a id="4822" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#18988" class="Function">lem-upd-ddeps</a> <a id="4836" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4844" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4849" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a> <a id="4852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="4856" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19777" class="Function">lem-upd-gdeps</a> <a id="4870" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4878" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4883" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a>
  <a id="4888" class="Keyword">where</a>
    <a id="4898" class="Keyword">open</a> <a id="4903" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="4910" href="Ledger.Conway.Conformance.Equivalence.html#4718" class="Bound">Γ</a> <a id="4912" class="Keyword">using</a> <a id="4918" class="Symbol">(</a><a id="4919" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="4926" class="Symbol">)</a>
    <a id="4932" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4937" class="Symbol">=</a> <a id="4939" href="Ledger.Conway.Conformance.Equivalence.html#4722" class="Bound">s</a> <a id="4941" class="Symbol">.</a><a id="4942" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">L.LState.utxoSt</a> <a id="4958" class="Symbol">.</a> <a id="4960" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a>

<a id="lem-cert-deposits-invalid"></a><a id="4982" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="5008" class="Symbol">:</a> <a id="5010" class="Symbol">∀</a> <a id="5012" class="Symbol">{</a><a id="5013" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5015" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5017" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5020" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a><a id="5022" class="Symbol">}</a> <a id="5024" class="Symbol">(</a><a id="5025" class="Keyword">open</a> <a id="5030" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="5037" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5039" class="Keyword">using</a> <a id="5045" class="Symbol">(</a><a id="5046" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="5053" class="Symbol">))</a>
                        <a id="5080" class="Symbol">→</a> <a id="5082" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="5090" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5093" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5095" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                        <a id="5125" class="Symbol">→</a> <a id="5127" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5129" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="5133" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5135" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="5138" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5141" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="5150" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a>
                        <a id="5177" class="Symbol">→</a> <a id="5179" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5192" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5194" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5197" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5210" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a>
<a id="5213" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="5239" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5244" class="Symbol">(</a><a id="5245" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="5257" class="Symbol">_</a> <a id="5259" href="Ledger.Conway.Conformance.Equivalence.html#5259" class="Bound">utxow</a><a id="5264" class="Symbol">)</a> <a id="5266" class="Keyword">rewrite</a> <a id="5274" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="5294" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5299" href="Ledger.Conway.Conformance.Equivalence.html#5259" class="Bound">utxow</a> <a id="5305" class="Symbol">=</a>
  <a id="5309" class="Symbol">(</a><a id="5310" href="Function.Base.html#704" class="Function">id</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" href="Function.Base.html#704" class="Function">id</a><a id="5317" class="Symbol">)</a> <a id="5319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5321" class="Symbol">(</a><a id="5322" href="Function.Base.html#704" class="Function">id</a> <a id="5325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5327" href="Function.Base.html#704" class="Function">id</a><a id="5329" class="Symbol">)</a>

<a id="5332" class="Keyword">instance</a>
  <a id="LStateToConf"></a><a id="5343" href="Ledger.Conway.Conformance.Equivalence.html#5343" class="Function">LStateToConf</a> <a id="5356" class="Symbol">:</a> <a id="5358" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5369" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5371" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5382" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="5384" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a> <a id="5393" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="5395" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a>
  <a id="5406" href="Ledger.Conway.Conformance.Equivalence.html#5343" class="Function">LStateToConf</a> <a id="5419" class="Symbol">.</a><a id="5420" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5426" href="Ledger.Conway.Conformance.Equivalence.html#5426" class="Bound">deposits</a> <a id="5435" href="Ledger.Conway.Conformance.Equivalence.html#5435" class="Bound">ledgerSt</a> <a id="5444" class="Symbol">=</a>
    <a id="5450" class="Keyword">let</a> <a id="5454" class="Keyword">open</a> <a id="5459" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="5468" href="Ledger.Conway.Conformance.Equivalence.html#5435" class="Bound">ledgerSt</a> <a id="5477" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#1038}{\htmlId{5486}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#1065}{\htmlId{5495}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5426}{\htmlId{5503}{\htmlClass{Bound}{\text{deposits}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#270}{\htmlId{5512}{\htmlClass{Function Operator}{\text{⊢conv}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#1091}{\htmlId{5518}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="5531" class="Keyword">instance</a>
  <a id="LEDGERToConf"></a><a id="5542" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="5555" class="Symbol">:</a> <a id="5557" class="Symbol">∀</a> <a id="5559" class="Symbol">{</a><a id="5560" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5562" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5564" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5567" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a><a id="5569" class="Symbol">}</a>
               <a id="5586" class="Symbol">→</a> <a id="5588" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5590" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="5594" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5596" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="5599" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5602" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="5611" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a> <a id="5614" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a>
                 <a id="5633" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5636" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5652" href="Data.Product.Base.html#1371" class="Function">]</a>
                    <a id="5674" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5690" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5693" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5706" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a>
                  <a id="5727" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5729" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5731" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5735" class="Symbol">(</a><a id="5736" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5749" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5751" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5757" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a><a id="5758" class="Symbol">)</a> <a id="5760" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="5763" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5766" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="5775" class="Symbol">(</a><a id="5776" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5792" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5798" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a><a id="5800" class="Symbol">)</a>
  <a id="5804" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="5817" class="Symbol">{</a><a id="5818" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a><a id="5819" class="Symbol">}</a> <a id="5821" class="Symbol">{</a><a id="5822" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="5823" class="Symbol">}</a> <a id="5825" class="Symbol">{</a><a id="5826" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="5828" class="Symbol">}</a> <a id="5830" class="Symbol">{</a><a id="5831" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s&#39;</a><a id="5833" class="Symbol">}</a> <a id="5835" class="Symbol">.</a><a id="5836" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5842" class="Symbol">_</a> <a id="5844" href="Ledger.Conway.Conformance.Equivalence.html#5844" class="Bound">r</a><a id="5845" class="Symbol">@(</a><a id="5847" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="5859" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5864" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a> <a id="5870" href="Ledger.Conway.Conformance.Equivalence.html#5870" class="Bound">certs</a> <a id="5876" href="Ledger.Conway.Conformance.Equivalence.html#5876" class="Bound">gov</a><a id="5879" class="Symbol">)</a> <a id="5881" class="Symbol">=</a>
    <a id="5887" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="5904" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="5912" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="5915" class="Symbol">(</a><a id="5916" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5929" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="5930" class="Symbol">)</a>
    <a id="5936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5938" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="5962" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5967" href="Ledger.Conway.Conformance.Equivalence.html#5844" class="Bound">r</a>
    <a id="5973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5975" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">subst₂</a> <a id="5982" class="Symbol">(λ</a> <a id="5985" href="Ledger.Conway.Conformance.Equivalence.html#5985" class="Bound">•</a> <a id="5987" href="Ledger.Conway.Conformance.Equivalence.html#5987" class="Bound">◆</a> <a id="5989" class="Symbol">→</a> <a id="5991" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a> <a id="5993" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5997" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6010" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6020" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6026" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a> <a id="6028" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6031" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6034" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#5985}{\htmlId{6045}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{6049}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5987}{\htmlId{6053}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix}$</a><a id="6056" class="Symbol">)</a>
             <a id="6071" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a> <a id="6078" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="6086" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a>
    <a id="6098" class="Keyword">where</a>
      <a id="6110" class="Keyword">open</a> <a id="6115" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="6122" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a>
      <a id="6130" class="Keyword">open</a> <a id="6135" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="6144" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a>
      <a id="6152" class="Keyword">open</a> <a id="6157" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="6166" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s&#39;</a> <a id="6169" class="Keyword">renaming</a> <a id="6178" class="Symbol">(</a><a id="6179" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="6186" class="Symbol">to</a> <a id="6189" class="Field">utxoSt&#39;</a><a id="6196" class="Symbol">;</a> <a id="6198" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="6208" class="Symbol">to</a> <a id="6211" class="Field">certState&#39;</a><a id="6221" class="Symbol">;</a> <a id="6223" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="6229" class="Symbol">to</a> <a id="6232" class="Field">govSt&#39;</a><a id="6238" class="Symbol">)</a>
      <a id="6246" class="Keyword">open</a> <a id="6251" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="6258" class="Symbol">(</a><a id="6259" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="6264" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="6266" class="Symbol">)</a> <a id="6268" class="Keyword">using</a> <a id="6274" class="Symbol">(</a><a id="6275" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="6282" class="Symbol">)</a>
      <a id="6290" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a> <a id="6299" class="Symbol">=</a> <a id="6301" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="6322" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a>
      <a id="6335" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6342" class="Symbol">:</a> <a id="6344" class="Symbol">_</a> <a id="6346" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="6350" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="6357" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="6360" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6363" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="6371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6383" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a> <a id="6392" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="6406" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6413" class="Symbol">=</a> <a id="6415" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="6420" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a>
      <a id="6432" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a>    <a id="6444" class="Symbol">=</a> <a id="6446" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6458" class="Symbol">(</a><a id="6459" href="Ledger.Conway.Specification.Utxo.html#8237" class="Function">L.updateDeposits</a> <a id="6476" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="6484" class="Symbol">(</a><a id="6485" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="6490" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="6492" class="Symbol">)</a> <a id="6494" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a><a id="6502" class="Symbol">)</a> <a id="6504" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="6518" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a>  <a id="6529" class="Symbol">=</a> <a id="6531" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="6545" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6550" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a>
      <a id="6562" href="Ledger.Conway.Conformance.Equivalence.html#6562" class="Function">cdeposits&#39;</a> <a id="6573" class="Symbol">=</a> <a id="6575" href="Ledger.Conway.Conformance.Equivalence.Certs.html#5696" class="Function">updateCertDeps*</a> <a id="6591" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="6599" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a>
      <a id="6615" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6642" href="Ledger.Conway.Conformance.Equivalence.html#6562" class="Function">cdeposits&#39;</a> <a id="6653" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6659" href="Ledger.Conway.Conformance.Equivalence.html#6211" class="Function">certState&#39;</a>
      <a id="6676" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6683" class="Symbol">:</a> <a id="6685" class="Symbol">_</a> <a id="6687" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="6691" class="Symbol">(</a><a id="6692" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6705" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6715" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6721" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a><a id="6730" class="Symbol">)</a> <a id="6732" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="6735" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="6743" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="6751" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a>
      <a id="6769" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6776" class="Symbol">=</a> <a id="6778" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6788" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6794" href="Ledger.Conway.Conformance.Equivalence.html#5870" class="Bound">certs</a>
      <a id="6806" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a> <a id="6814" class="Symbol">:</a> <a id="6816" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a> <a id="6818" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6822" class="Symbol">(</a><a id="6823" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6836" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6846" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6852" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="6853" class="Symbol">)</a> <a id="6855" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6858" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6861" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="6870" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">C.⟦</a> <a id="6874" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a> <a id="6883" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6885" href="Ledger.Conway.Conformance.Equivalence.html#6232" class="Function">govSt&#39;</a> <a id="6892" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6894" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="6906" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="6915" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a> <a id="6923" class="Symbol">=</a> <a id="6925" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="6937" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6942" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6949" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6956" href="Ledger.Conway.Conformance.Equivalence.html#5876" class="Bound">gov</a>
      <a id="6966" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a>  <a id="6974" class="Symbol">:</a> <a id="6976" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a> <a id="6985" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6987" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="7001" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a>  <a id="7009" class="Symbol">=</a> <a id="7011" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="7016" class="Symbol">(λ</a> <a id="7019" href="Ledger.Conway.Conformance.Equivalence.html#7019" class="Bound">•</a> <a id="7021" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{7025}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7029}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7019}{\htmlId{7033}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7037}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7040" class="Symbol">)</a>
                     <a id="7063" class="Symbol">(</a><a id="7064" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="7082" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7087" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a><a id="7092" class="Symbol">)</a>
      <a id="7100" href="Ledger.Conway.Conformance.Equivalence.html#7100" class="Function">ddeps</a> <a id="7106" class="Symbol">=</a> <a id="7108" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7121" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="7131" class="Symbol">.</a><a id="7132" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="7144" href="Ledger.Conway.Conformance.Equivalence.html#7144" class="Function">gdeps</a> <a id="7150" class="Symbol">=</a> <a id="7152" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7165" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="7175" class="Symbol">.</a><a id="7176" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="7188" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="7196" class="Symbol">:</a> <a id="7198" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="7210" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7212" class="Symbol">(</a><a id="7213" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="7225" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="7233" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="7241" href="Ledger.Conway.Conformance.Equivalence.html#7100" class="Function">ddeps</a> <a id="7247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7249" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="7261" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="7269" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="7277" href="Ledger.Conway.Conformance.Equivalence.html#7144" class="Function">gdeps</a><a id="7282" class="Symbol">)</a> <a id="7284" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7290" href="Ledger.Conway.Conformance.Equivalence.html#6211" class="Function">certState&#39;</a>
      <a id="7307" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="7315" class="Symbol">=</a> <a id="7317" href="Relation.Binary.PropositionalEquality.Core.html#1718" class="Function">cong₂</a> <a id="7323" class="Symbol">(λ</a> <a id="7326" href="Ledger.Conway.Conformance.Equivalence.html#7326" class="Bound">•</a> <a id="7328" href="Ledger.Conway.Conformance.Equivalence.html#7328" class="Bound">◆</a> <a id="7330" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7336}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7340}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7344}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7326}{\htmlId{7348}{\htmlClass{Bound}{\text{•}}}}\, \end{pmatrix} \\ \,\htmlId{7354}{\htmlClass{Symbol}{\text{\_}}}\, \\ \begin{pmatrix} \,\htmlId{7360}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7364}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7328}{\htmlId{7368}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix} \end{pmatrix}$</a><a id="7373" class="Symbol">)</a>
                     <a id="7396" class="Symbol">(</a><a id="7397" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#10968" class="Function">lem-ddeps</a> <a id="7407" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a><a id="7416" class="Symbol">)</a>
                     <a id="7439" class="Symbol">(</a><a id="7440" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#11881" class="Function">lem-gdeps</a> <a id="7450" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a><a id="7459" class="Symbol">)</a>

  <a id="7464" class="Comment">-- LEDGERToConf {Γ} {s} {tx} {s&#39;} .convⁱ (cdeps , cdeps-eq) r@(L.LEDGER-I⋯ refl utxow) =</a>
  <a id="7555" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="7568" class="Symbol">{</a><a id="7569" href="Ledger.Conway.Conformance.Equivalence.html#7569" class="Bound">Γ</a><a id="7570" class="Symbol">}</a> <a id="7572" class="Symbol">{</a><a id="7573" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a><a id="7574" class="Symbol">}</a> <a id="7576" class="Symbol">{</a><a id="7577" href="Ledger.Conway.Conformance.Equivalence.html#7577" class="Bound">tx</a><a id="7579" class="Symbol">}</a> <a id="7581" class="Symbol">{</a><a id="7582" href="Ledger.Conway.Conformance.Equivalence.html#7582" class="Bound">s&#39;</a><a id="7584" class="Symbol">}</a> <a id="7586" class="Symbol">.</a><a id="7587" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7593" class="Symbol">_</a> <a id="7595" href="Ledger.Conway.Conformance.Equivalence.html#7595" class="Bound">r</a><a id="7596" class="Symbol">@(</a><a id="7598" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="7610" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7615" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7620" class="Symbol">)</a> <a id="7622" class="Symbol">=</a>
    <a id="7628" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="7641" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a> <a id="7643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7645" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="7671" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7676" href="Ledger.Conway.Conformance.Equivalence.html#7595" class="Bound">r</a> <a id="7678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="7684" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="7690" class="Symbol">(λ</a> <a id="7693" href="Ledger.Conway.Conformance.Equivalence.html#7693" class="Bound">•</a> <a id="7695" class="Symbol">→</a> <a id="7697" href="Ledger.Conway.Conformance.Equivalence.html#7569" class="Bound">Γ</a> <a id="7699" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="7703" class="Symbol">_</a> <a id="7705" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7711" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a> <a id="7713" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="7716" href="Ledger.Conway.Conformance.Equivalence.html#7577" class="Bound">tx</a> <a id="7719" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7732}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7736}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7693}{\htmlId{7740}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7744}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix} \\ \,\htmlId{7750}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7754}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7757" class="Symbol">)</a>
          <a id="7769" class="Symbol">(</a><a id="7770" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="7790" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7795" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7800" class="Symbol">)</a>
          <a id="7812" class="Symbol">(</a><a id="7813" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="7825" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7830" class="Symbol">(</a><a id="7831" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="7836" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7841" class="Symbol">))</a>

<a id="7845" class="Keyword">instance</a>

  <a id="LStateFromConf"></a><a id="7857" href="Ledger.Conway.Conformance.Equivalence.html#7857" class="Function">LStateFromConf</a> <a id="7872" class="Symbol">:</a> <a id="7874" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="7883" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="7885" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a>
  <a id="7896" href="Ledger.Conway.Conformance.Equivalence.html#7857" class="Function">LStateFromConf</a> <a id="7911" class="Symbol">.</a><a id="7912" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7918" class="Symbol">_</a> <a id="7920" href="Ledger.Conway.Conformance.Equivalence.html#7920" class="Bound">ls</a> <a id="7923" class="Symbol">=</a>
    <a id="7929" class="Keyword">let</a> <a id="7933" class="Keyword">open</a> <a id="7938" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="7947" href="Ledger.Conway.Conformance.Equivalence.html#7920" class="Bound">ls</a> <a id="7950" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Ledger.html#834}{\htmlId{7959}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Ledger.html#861}{\htmlId{7968}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{7976}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.html#887}{\htmlId{7981}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="certDepositsC"></a><a id="7994" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8008" class="Symbol">:</a> <a id="8010" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="8022" class="Symbol">→</a> <a id="8024" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="8035" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8037" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="8048" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8062" href="Ledger.Conway.Conformance.Equivalence.html#8062" class="Bound">cs</a> <a id="8065" class="Symbol">=</a> <a id="8067" class="Keyword">let</a> <a id="8071" class="Keyword">open</a> <a id="8076" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="8088" href="Ledger.Conway.Conformance.Equivalence.html#8062" class="Bound">cs</a> <a id="8091" class="Keyword">in</a> <a id="8094" href="Ledger.Conway.Conformance.Certs.html#762" class="Field">C.DState.deposits</a> <a id="8112" href="Ledger.Conway.Conformance.Certs.html#1021" class="Field">dState</a> <a id="8119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8121" href="Ledger.Conway.Conformance.Certs.html#932" class="Field">C.GState.deposits</a> <a id="8139" href="Ledger.Conway.Conformance.Certs.html#1061" class="Field">gState</a>

<a id="WellformedLState"></a><a id="8147" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="8164" class="Symbol">:</a> <a id="8166" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="8175" class="Symbol">→</a> <a id="8177" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8182" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="8199" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a> <a id="8201" class="Symbol">=</a> <a id="8203" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8217" class="Symbol">(</a><a id="8218" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="8237" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a><a id="8238" class="Symbol">)</a> <a id="8240" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8243" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="8256" class="Symbol">(</a><a id="8257" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="8262" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a><a id="8263" class="Symbol">)</a>

<a id="getValidCertDepositsCERTS"></a><a id="8266" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8292" class="Symbol">:</a> <a id="8294" class="Symbol">∀</a> <a id="8296" class="Symbol">{</a><a id="8297" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8299" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8301" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a> <a id="8307" href="Ledger.Conway.Conformance.Equivalence.html#8307" class="Bound">s&#39;</a><a id="8309" class="Symbol">}</a> <a id="8311" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8320" class="Symbol">(</a><a id="8321" class="Keyword">open</a> <a id="8326" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">L.CertEnv</a> <a id="8336" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8338" class="Keyword">using</a> <a id="8344" class="Symbol">(</a><a id="8345" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="8347" class="Symbol">))</a>
                          <a id="8376" class="Symbol">→</a> <a id="8378" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8392" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8394" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8397" class="Symbol">(</a><a id="8398" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="8408" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8419" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="8429" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a><a id="8437" class="Symbol">)</a>
                          <a id="8465" class="Symbol">→</a> <a id="8467" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="8483" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="8499" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="8520" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8522" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8524" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a> <a id="8530" href="Ledger.Conway.Conformance.Equivalence.html#8307" class="Bound">s&#39;</a>
                          <a id="8559" class="Symbol">→</a> <a id="8561" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="8581" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="8584" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8593" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a>
<a id="8599" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8625" href="Ledger.Conway.Conformance.Equivalence.html#8625" class="Bound">deposits</a> <a id="8634" href="Ledger.Conway.Conformance.Equivalence.html#8634" class="Bound">wf</a> <a id="8637" class="Symbol">(</a><a id="8638" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="8645" href="Ledger.Conway.Conformance.Equivalence.html#8645" class="Bound">x</a><a id="8646" class="Symbol">)</a> <a id="8648" class="Symbol">=</a> <a id="8650" href="Ledger.Conway.Specification.Utxo.html#3544" class="InductiveConstructor">L.[]</a>
<a id="8655" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8681" class="Symbol">{</a><a id="8682" href="Ledger.Conway.Conformance.Equivalence.html#8682" class="Bound">Γ</a><a id="8683" class="Symbol">}</a> <a id="8685" class="Symbol">{</a><a id="8686" href="Ledger.Conway.Conformance.Equivalence.html#8686" class="Bound">s</a><a id="8687" class="Symbol">}</a> <a id="8689" class="Symbol">{</a><a id="8690" href="Ledger.Conway.Conformance.Equivalence.html#8690" class="Bound">cert</a> <a id="8695" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8697" class="Symbol">_}</a> <a id="8700" href="Ledger.Conway.Conformance.Equivalence.html#8700" class="Bound">deposits</a> <a id="8709" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">wf</a> <a id="8712" class="Symbol">(</a><a id="8713" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8719" class="Symbol">(</a><a id="8720" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8733" class="Symbol">(</a><a id="8734" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="8751" href="Ledger.Conway.Conformance.Equivalence.html#8751" class="Bound">x</a><a id="8752" class="Symbol">))</a> <a id="8755" href="Ledger.Conway.Conformance.Equivalence.html#8755" class="Bound">rs</a><a id="8757" class="Symbol">)</a>
  <a id="8761" class="Symbol">=</a> <a id="8763" href="Ledger.Conway.Specification.Utxo.html#3588" class="InductiveConstructor">L.delegate</a> <a id="8774" class="Symbol">(</a><a id="8775" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8801" class="Symbol">_</a> <a id="8803" class="Symbol">(</a><a id="8804" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="8815" class="Symbol">(</a><a id="8816" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="8829" href="Ledger.Conway.Conformance.Equivalence.html#8682" class="Bound">Γ</a><a id="8830" class="Symbol">)</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8847" href="Ledger.Conway.Conformance.Equivalence.html#8686" class="Bound">s</a><a id="8848" class="Symbol">)</a> <a id="8850" href="Ledger.Conway.Conformance.Equivalence.html#8700" class="Bound">deposits</a> <a id="8859" href="Ledger.Conway.Conformance.Equivalence.html#8690" class="Bound">cert</a> <a id="8864" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">wf</a><a id="8866" class="Symbol">)</a> <a id="8868" href="Ledger.Conway.Conformance.Equivalence.html#8755" class="Bound">rs</a><a id="8870" class="Symbol">)</a>
<a id="8872" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8898" class="Symbol">{</a><a id="8899" href="Ledger.Conway.Conformance.Equivalence.html#8899" class="Bound">Γ</a><a id="8900" class="Symbol">}</a> <a id="8902" class="Symbol">{</a><a id="8903" href="Ledger.Conway.Conformance.Equivalence.html#8903" class="Bound">s</a><a id="8904" class="Symbol">}</a> <a id="8906" class="Symbol">{</a><a id="8907" href="Ledger.Conway.Conformance.Equivalence.html#8907" class="Bound">cert</a> <a id="8912" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8914" class="Symbol">_}</a> <a id="8917" href="Ledger.Conway.Conformance.Equivalence.html#8917" class="Bound">deposits</a> <a id="8926" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8936" class="Symbol">(</a><a id="8937" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8950" class="Symbol">(</a><a id="8951" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="8965" class="Symbol">(_</a> <a id="8968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8970" href="Ledger.Conway.Conformance.Equivalence.html#8970" class="Bound">h</a> <a id="8972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8974" href="Ledger.Conway.Conformance.Equivalence.html#8974" class="Bound">h&#39;</a><a id="8976" class="Symbol">)))</a> <a id="8980" href="Ledger.Conway.Conformance.Equivalence.html#8980" class="Bound">rs</a><a id="8982" class="Symbol">)</a>
  <a id="8986" class="Symbol">=</a> <a id="8988" href="Ledger.Conway.Specification.Utxo.html#4309" class="InductiveConstructor">L.dereg</a> <a id="8996" class="Symbol">(</a><a id="8997" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="9006" class="Symbol">.</a><a id="9007" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="9024" class="Symbol">(</a><a id="9025" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a> <a id="9028" class="Symbol">.</a><a id="9029" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9035" class="Symbol">.</a><a id="9036" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9042" href="Ledger.Conway.Conformance.Equivalence.html#8970" class="Bound">h</a><a id="9043" class="Symbol">)</a> <a id="9045" class="Symbol">.</a><a id="9046" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9051" class="Symbol">)</a> <a id="9053" href="Ledger.Conway.Conformance.Equivalence.html#8974" class="Bound">h&#39;</a>
            <a id="9068" class="Symbol">(</a><a id="9069" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9095" class="Symbol">_</a> <a id="9097" class="Symbol">(</a><a id="9098" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9123" href="Ledger.Conway.Conformance.Equivalence.html#8899" class="Bound">Γ</a><a id="9124" class="Symbol">)</a> <a id="9126" class="Symbol">(</a><a id="9127" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9141" href="Ledger.Conway.Conformance.Equivalence.html#8903" class="Bound">s</a><a id="9142" class="Symbol">)</a> <a id="9144" href="Ledger.Conway.Conformance.Equivalence.html#8917" class="Bound">deposits</a> <a id="9153" href="Ledger.Conway.Conformance.Equivalence.html#8907" class="Bound">cert</a> <a id="9158" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a><a id="9160" class="Symbol">)</a> <a id="9162" href="Ledger.Conway.Conformance.Equivalence.html#8980" class="Bound">rs</a><a id="9164" class="Symbol">)</a>
<a id="9166" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9192" class="Symbol">{</a><a id="9193" href="Ledger.Conway.Conformance.Equivalence.html#9193" class="Bound">Γ</a><a id="9194" class="Symbol">}</a> <a id="9196" class="Symbol">{</a><a id="9197" href="Ledger.Conway.Conformance.Equivalence.html#9197" class="Bound">s</a><a id="9198" class="Symbol">}</a> <a id="9200" class="Symbol">{</a><a id="9201" href="Ledger.Conway.Conformance.Equivalence.html#9201" class="Bound">cert</a> <a id="9206" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9208" class="Symbol">_}</a> <a id="9211" href="Ledger.Conway.Conformance.Equivalence.html#9211" class="Bound">deposits</a> <a id="9220" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">wf</a> <a id="9223" class="Symbol">(</a><a id="9224" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9230" class="Symbol">(</a><a id="9231" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="9244" class="Symbol">(</a><a id="9245" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="9257" href="Ledger.Conway.Conformance.Equivalence.html#9257" class="Bound">x</a><a id="9258" class="Symbol">))</a> <a id="9261" href="Ledger.Conway.Conformance.Equivalence.html#9261" class="Bound">rs</a><a id="9263" class="Symbol">)</a>
  <a id="9267" class="Symbol">=</a> <a id="9269" href="Ledger.Conway.Specification.Utxo.html#4128" class="InductiveConstructor">L.reg</a> <a id="9275" class="Symbol">(</a><a id="9276" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9302" class="Symbol">_</a> <a id="9304" class="Symbol">(</a><a id="9305" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="9316" class="Symbol">(</a><a id="9317" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9330" href="Ledger.Conway.Conformance.Equivalence.html#9193" class="Bound">Γ</a><a id="9331" class="Symbol">)</a> <a id="9333" class="Symbol">(</a><a id="9334" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9348" href="Ledger.Conway.Conformance.Equivalence.html#9197" class="Bound">s</a><a id="9349" class="Symbol">)</a> <a id="9351" href="Ledger.Conway.Conformance.Equivalence.html#9211" class="Bound">deposits</a> <a id="9360" href="Ledger.Conway.Conformance.Equivalence.html#9201" class="Bound">cert</a> <a id="9365" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">wf</a><a id="9367" class="Symbol">)</a> <a id="9369" href="Ledger.Conway.Conformance.Equivalence.html#9261" class="Bound">rs</a><a id="9371" class="Symbol">)</a>
<a id="9373" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9399" class="Symbol">{</a><a id="9400" href="Ledger.Conway.Conformance.Equivalence.html#9400" class="Bound">Γ</a><a id="9401" class="Symbol">}</a> <a id="9403" class="Symbol">{</a><a id="9404" href="Ledger.Conway.Conformance.Equivalence.html#9404" class="Bound">s</a><a id="9405" class="Symbol">}</a> <a id="9407" class="Symbol">{</a><a id="9408" href="Ledger.Conway.Conformance.Equivalence.html#9408" class="Bound">cert</a> <a id="9413" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9415" class="Symbol">_}</a> <a id="9418" href="Ledger.Conway.Conformance.Equivalence.html#9418" class="Bound">deposits</a> <a id="9427" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">wf</a> <a id="9430" class="Symbol">(</a><a id="9431" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9437" class="Symbol">(</a><a id="9438" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9450" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="9464" class="Symbol">)</a> <a id="9466" href="Ledger.Conway.Conformance.Equivalence.html#9466" class="Bound">rs</a><a id="9468" class="Symbol">)</a>
  <a id="9472" class="Symbol">=</a> <a id="9474" href="Ledger.Conway.Specification.Utxo.html#3775" class="InductiveConstructor">L.regpool</a> <a id="9484" class="Symbol">(</a><a id="9485" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9511" class="Symbol">_</a> <a id="9513" class="Symbol">(</a><a id="9514" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="9525" class="Symbol">(</a><a id="9526" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9539" href="Ledger.Conway.Conformance.Equivalence.html#9400" class="Bound">Γ</a><a id="9540" class="Symbol">)</a> <a id="9542" class="Symbol">(</a><a id="9543" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9557" href="Ledger.Conway.Conformance.Equivalence.html#9404" class="Bound">s</a><a id="9558" class="Symbol">)</a> <a id="9560" href="Ledger.Conway.Conformance.Equivalence.html#9418" class="Bound">deposits</a> <a id="9569" href="Ledger.Conway.Conformance.Equivalence.html#9408" class="Bound">cert</a> <a id="9574" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">wf</a><a id="9576" class="Symbol">)</a> <a id="9578" href="Ledger.Conway.Conformance.Equivalence.html#9466" class="Bound">rs</a><a id="9580" class="Symbol">)</a>
<a id="9582" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9608" class="Symbol">{</a><a id="9609" href="Ledger.Conway.Conformance.Equivalence.html#9609" class="Bound">Γ</a><a id="9610" class="Symbol">}</a> <a id="9612" class="Symbol">{</a><a id="9613" href="Ledger.Conway.Conformance.Equivalence.html#9613" class="Bound">s</a><a id="9614" class="Symbol">}</a> <a id="9616" class="Symbol">{</a><a id="9617" href="Ledger.Conway.Conformance.Equivalence.html#9617" class="Bound">cert</a> <a id="9622" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9624" class="Symbol">_}</a> <a id="9627" href="Ledger.Conway.Conformance.Equivalence.html#9627" class="Bound">deposits</a> <a id="9636" href="Ledger.Conway.Conformance.Equivalence.html#9636" class="Bound">wf</a> <a id="9639" class="Symbol">(</a><a id="9640" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9646" class="Symbol">(</a><a id="9647" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9659" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="9676" class="Symbol">)</a> <a id="9678" href="Ledger.Conway.Conformance.Equivalence.html#9678" class="Bound">rs</a><a id="9680" class="Symbol">)</a>
  <a id="9684" class="Symbol">=</a> <a id="9686" href="Ledger.Conway.Specification.Utxo.html#4917" class="InductiveConstructor">L.retirepool</a> <a id="9699" class="Symbol">(</a><a id="9700" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9726" class="Symbol">_</a> <a id="9728" class="Symbol">(</a><a id="9729" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="9740" class="Symbol">(</a><a id="9741" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9754" href="Ledger.Conway.Conformance.Equivalence.html#9609" class="Bound">Γ</a><a id="9755" class="Symbol">)</a> <a id="9757" class="Symbol">(</a><a id="9758" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9772" href="Ledger.Conway.Conformance.Equivalence.html#9613" class="Bound">s</a><a id="9773" class="Symbol">)</a> <a id="9775" href="Ledger.Conway.Conformance.Equivalence.html#9627" class="Bound">deposits</a> <a id="9784" href="Ledger.Conway.Conformance.Equivalence.html#9617" class="Bound">cert</a> <a id="9789" href="Ledger.Conway.Conformance.Equivalence.html#9636" class="Bound">wf</a><a id="9791" class="Symbol">)</a> <a id="9793" href="Ledger.Conway.Conformance.Equivalence.html#9678" class="Bound">rs</a><a id="9795" class="Symbol">)</a>
<a id="9797" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9823" class="Symbol">{</a><a id="9824" href="Ledger.Conway.Conformance.Equivalence.html#9824" class="Bound">Γ</a><a id="9825" class="Symbol">}</a> <a id="9827" class="Symbol">{</a><a id="9828" href="Ledger.Conway.Conformance.Equivalence.html#9828" class="Bound">s</a><a id="9829" class="Symbol">}</a> <a id="9831" class="Symbol">{</a><a id="9832" href="Ledger.Conway.Conformance.Equivalence.html#9832" class="Bound">cert</a> <a id="9837" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9839" class="Symbol">_}</a> <a id="9842" href="Ledger.Conway.Conformance.Equivalence.html#9842" class="Bound">deposits</a> <a id="9851" href="Ledger.Conway.Conformance.Equivalence.html#9851" class="Bound">wf</a> <a id="9854" class="Symbol">(</a><a id="9855" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9861" class="Symbol">(</a><a id="9862" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="9874" class="Symbol">(</a><a id="9875" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="9893" href="Ledger.Conway.Conformance.Equivalence.html#9893" class="Bound">x</a><a id="9894" class="Symbol">))</a> <a id="9897" href="Ledger.Conway.Conformance.Equivalence.html#9897" class="Bound">rs</a><a id="9899" class="Symbol">)</a>
  <a id="9903" class="Symbol">=</a> <a id="9905" href="Ledger.Conway.Specification.Utxo.html#3958" class="InductiveConstructor">L.regdrep</a> <a id="9915" class="Symbol">(</a><a id="9916" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9942" class="Symbol">_</a> <a id="9944" class="Symbol">(</a><a id="9945" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="9956" class="Symbol">(</a><a id="9957" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9970" href="Ledger.Conway.Conformance.Equivalence.html#9824" class="Bound">Γ</a><a id="9971" class="Symbol">)</a> <a id="9973" class="Symbol">(</a><a id="9974" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9988" href="Ledger.Conway.Conformance.Equivalence.html#9828" class="Bound">s</a><a id="9989" class="Symbol">)</a> <a id="9991" href="Ledger.Conway.Conformance.Equivalence.html#9842" class="Bound">deposits</a> <a id="10000" href="Ledger.Conway.Conformance.Equivalence.html#9832" class="Bound">cert</a> <a id="10005" href="Ledger.Conway.Conformance.Equivalence.html#9851" class="Bound">wf</a><a id="10007" class="Symbol">)</a> <a id="10009" href="Ledger.Conway.Conformance.Equivalence.html#9897" class="Bound">rs</a><a id="10011" class="Symbol">)</a>
<a id="10013" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10039" class="Symbol">{</a><a id="10040" href="Ledger.Conway.Conformance.Equivalence.html#10040" class="Bound">Γ</a><a id="10041" class="Symbol">}</a> <a id="10043" class="Symbol">{</a><a id="10044" href="Ledger.Conway.Conformance.Equivalence.html#10044" class="Bound">s</a><a id="10045" class="Symbol">}</a> <a id="10047" class="Symbol">{</a><a id="10048" href="Ledger.Conway.Conformance.Equivalence.html#10048" class="Bound">cert</a> <a id="10053" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10055" class="Symbol">_}</a> <a id="10058" href="Ledger.Conway.Conformance.Equivalence.html#10058" class="Bound">deposits</a> <a id="10067" href="Ledger.Conway.Conformance.Equivalence.html#10067" class="Bound">wf</a> <a id="10070" class="Symbol">(</a><a id="10071" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10077" class="Symbol">(</a><a id="10078" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10090" class="Symbol">(</a><a id="10091" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="10111" class="Symbol">(_</a> <a id="10114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10116" href="Ledger.Conway.Conformance.Equivalence.html#10116" class="Bound">h</a><a id="10117" class="Symbol">)))</a> <a id="10121" href="Ledger.Conway.Conformance.Equivalence.html#10121" class="Bound">rs</a><a id="10123" class="Symbol">)</a>
  <a id="10127" class="Symbol">=</a> <a id="10129" href="Ledger.Conway.Specification.Utxo.html#4570" class="InductiveConstructor">L.deregdrep</a> <a id="10141" class="Symbol">(</a><a id="10142" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="10151" class="Symbol">.</a><a id="10152" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="10169" class="Symbol">(</a><a id="10170" href="Ledger.Conway.Conformance.Equivalence.html#10067" class="Bound">wf</a> <a id="10173" class="Symbol">.</a><a id="10174" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10180" class="Symbol">.</a><a id="10181" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="10187" href="Ledger.Conway.Conformance.Equivalence.html#10116" class="Bound">h</a><a id="10188" class="Symbol">)</a> <a id="10190" class="Symbol">.</a><a id="10191" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="10196" class="Symbol">)</a>
                <a id="10214" class="Symbol">(</a><a id="10215" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10241" class="Symbol">_</a> <a id="10243" class="Symbol">(</a><a id="10244" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="10255" class="Symbol">(</a><a id="10256" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10269" href="Ledger.Conway.Conformance.Equivalence.html#10040" class="Bound">Γ</a><a id="10270" class="Symbol">)</a> <a id="10272" class="Symbol">(</a><a id="10273" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="10287" href="Ledger.Conway.Conformance.Equivalence.html#10044" class="Bound">s</a><a id="10288" class="Symbol">)</a> <a id="10290" href="Ledger.Conway.Conformance.Equivalence.html#10058" class="Bound">deposits</a> <a id="10299" href="Ledger.Conway.Conformance.Equivalence.html#10048" class="Bound">cert</a> <a id="10304" href="Ledger.Conway.Conformance.Equivalence.html#10067" class="Bound">wf</a><a id="10306" class="Symbol">)</a> <a id="10308" href="Ledger.Conway.Conformance.Equivalence.html#10121" class="Bound">rs</a><a id="10310" class="Symbol">)</a>
<a id="10312" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10338" class="Symbol">{</a><a id="10339" href="Ledger.Conway.Conformance.Equivalence.html#10339" class="Bound">Γ</a><a id="10340" class="Symbol">}</a> <a id="10342" class="Symbol">{</a><a id="10343" href="Ledger.Conway.Conformance.Equivalence.html#10343" class="Bound">s</a><a id="10344" class="Symbol">}</a> <a id="10346" class="Symbol">{</a><a id="10347" href="Ledger.Conway.Conformance.Equivalence.html#10347" class="Bound">cert</a> <a id="10352" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10354" class="Symbol">_}</a> <a id="10357" href="Ledger.Conway.Conformance.Equivalence.html#10357" class="Bound">deposits</a> <a id="10366" href="Ledger.Conway.Conformance.Equivalence.html#10366" class="Bound">wf</a> <a id="10369" class="Symbol">(</a><a id="10370" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10376" class="Symbol">(</a><a id="10377" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10389" class="Symbol">(</a><a id="10390" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="10409" href="Ledger.Conway.Conformance.Equivalence.html#10409" class="Bound">x</a><a id="10410" class="Symbol">))</a> <a id="10413" href="Ledger.Conway.Conformance.Equivalence.html#10413" class="Bound">rs</a><a id="10415" class="Symbol">)</a>
  <a id="10419" class="Symbol">=</a> <a id="10421" href="Ledger.Conway.Specification.Utxo.html#4777" class="InductiveConstructor">L.ccreghot</a><a id="10431" class="Symbol">(</a><a id="10432" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10458" class="Symbol">_</a> <a id="10460" class="Symbol">(</a><a id="10461" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20588" class="Function">lemUpdCert</a> <a id="10472" class="Symbol">(</a><a id="10473" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10486" href="Ledger.Conway.Conformance.Equivalence.html#10339" class="Bound">Γ</a><a id="10487" class="Symbol">)</a> <a id="10489" class="Symbol">(</a><a id="10490" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="10504" href="Ledger.Conway.Conformance.Equivalence.html#10343" class="Bound">s</a><a id="10505" class="Symbol">)</a> <a id="10507" href="Ledger.Conway.Conformance.Equivalence.html#10357" class="Bound">deposits</a> <a id="10516" href="Ledger.Conway.Conformance.Equivalence.html#10347" class="Bound">cert</a> <a id="10521" href="Ledger.Conway.Conformance.Equivalence.html#10366" class="Bound">wf</a><a id="10523" class="Symbol">)</a> <a id="10525" href="Ledger.Conway.Conformance.Equivalence.html#10413" class="Bound">rs</a><a id="10527" class="Symbol">)</a>


<a id="getValidCertDepositsC"></a><a id="10531" href="Ledger.Conway.Conformance.Equivalence.html#10531" class="Function">getValidCertDepositsC</a> <a id="10553" class="Symbol">:</a> <a id="10555" class="Symbol">∀</a> <a id="10557" href="Ledger.Conway.Conformance.Equivalence.html#10557" class="Bound">Γ</a> <a id="10559" href="Ledger.Conway.Conformance.Equivalence.html#10559" class="Bound">s</a> <a id="10561" class="Symbol">{</a><a id="10562" href="Ledger.Conway.Conformance.Equivalence.html#10562" class="Bound">s&#39;</a><a id="10564" class="Symbol">}</a> <a id="10566" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">tx</a>
                     <a id="10590" class="Symbol">→</a> <a id="10592" class="Symbol">(</a><a id="10593" class="Keyword">let</a> <a id="10597" class="Keyword">open</a> <a id="10602" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">C.LEnv</a> <a id="10609" href="Ledger.Conway.Conformance.Equivalence.html#10557" class="Bound">Γ</a> <a id="10611" class="Keyword">using</a> <a id="10617" class="Symbol">(</a><a id="10618" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="10625" class="Symbol">;</a> <a id="10627" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a><a id="10631" class="Symbol">;</a> <a id="10633" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a><a id="10643" class="Symbol">)</a>
                            <a id="10673" class="Keyword">open</a> <a id="10678" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="10685" class="Symbol">(</a><a id="10686" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">tx</a> <a id="10689" class="Symbol">.</a><a id="10690" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="10697" class="Symbol">)</a> <a id="10699" class="Keyword">using</a> <a id="10705" class="Symbol">(</a><a id="10706" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="10713" class="Symbol">;</a> <a id="10715" href="Ledger.Conway.Specification.Transaction.html#3463" class="Field">txGovVotes</a><a id="10725" class="Symbol">;</a> <a id="10727" href="Ledger.Conway.Specification.Transaction.html#3288" class="Field">txWithdrawals</a><a id="10740" class="Symbol">)</a>
                            <a id="10770" class="Keyword">open</a> <a id="10775" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="10784" href="Ledger.Conway.Conformance.Equivalence.html#10559" class="Bound">s</a>
                            <a id="10814" class="Keyword">open</a> <a id="10819" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">C.UTxOState</a> <a id="10831" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="10838" class="Keyword">using</a> <a id="10844" class="Symbol">(</a><a id="10845" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="10853" class="Symbol">)</a>
                            <a id="10883" href="Ledger.Conway.Conformance.Equivalence.html#10883" class="Bound">cc</a> <a id="10886" class="Symbol">=</a> <a id="10888" href="Ledger.Conway.Specification.Ledger.html#3250" class="Function">C.allColdCreds</a> <a id="10903" href="Ledger.Conway.Conformance.Ledger.html#861" class="Function">govSt</a> <a id="10909" href="Ledger.Conway.Specification.Ledger.html#827" class="Function">enactState</a>
                       <a id="10943" class="Symbol">)</a>
                     <a id="10966" class="Symbol">→</a> <a id="10968" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="10985" href="Ledger.Conway.Conformance.Equivalence.html#10559" class="Bound">s</a>
                     <a id="11008" class="Symbol">→</a> <a id="11010" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="11018" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">tx</a> <a id="11021" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11023" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="11049" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{11053}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#743}{\htmlId{11059}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#801}{\htmlId{11066}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3463}{\htmlId{11076}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3288}{\htmlId{11089}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#10883}{\htmlId{11105}{\htmlClass{Bound}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="11110" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="11114" href="Ledger.Conway.Conformance.Ledger.html#887" class="Function">certState</a> <a id="11124" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="11127" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="11135" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="11143" href="Ledger.Conway.Conformance.Equivalence.html#10562" class="Bound">s&#39;</a>
                     <a id="11167" class="Symbol">→</a> <a id="11169" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="11189" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="11197" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="11206" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="11214" href="Ledger.Conway.Conformance.Equivalence.html#10531" class="Function">getValidCertDepositsC</a> <a id="11236" href="Ledger.Conway.Conformance.Equivalence.html#11236" class="Bound">Γ</a> <a id="11238" href="Ledger.Conway.Conformance.Equivalence.html#11238" class="Bound">s</a> <a id="11240" href="Ledger.Conway.Conformance.Equivalence.html#11240" class="Bound">tx</a> <a id="11243" href="Ledger.Conway.Conformance.Equivalence.html#11243" class="Bound">wf</a> <a id="11246" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11251" class="Symbol">(</a><a id="11252" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="11256" class="Symbol">{</a><a id="11257" class="Argument">s&#39;</a> <a id="11260" class="Symbol">=</a> <a id="11262" href="Ledger.Conway.Conformance.Equivalence.html#11262" class="Bound">s&#39;</a><a id="11264" class="Symbol">}</a> <a id="11266" class="Symbol">(</a><a id="11267" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="11278" class="Symbol">_</a> <a id="11280" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11282" href="Ledger.Conway.Conformance.Equivalence.html#11282" class="Bound">cert-post</a><a id="11291" class="Symbol">))</a> <a id="11294" class="Symbol">=</a>
  <a id="11298" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="11324" class="Symbol">(</a><a id="11325" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">C.UTxOState.deposits</a> <a id="11346" class="Symbol">((</a><a id="11348" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">C.LState.utxoSt</a> <a id="11364" href="Ledger.Conway.Conformance.Equivalence.html#11238" class="Bound">s</a><a id="11365" class="Symbol">)))</a> <a id="11369" href="Ledger.Conway.Conformance.Equivalence.html#11243" class="Bound">wf</a> <a id="11372" href="Ledger.Conway.Conformance.Equivalence.html#11282" class="Bound">cert-post</a>

<a id="lemUtxowDeposits"></a><a id="11383" href="Ledger.Conway.Conformance.Equivalence.html#11383" class="Function">lemUtxowDeposits</a> <a id="11400" class="Symbol">:</a> <a id="11402" class="Symbol">∀</a> <a id="11404" class="Symbol">{</a><a id="11405" href="Ledger.Conway.Conformance.Equivalence.html#11405" class="Bound">Γ</a> <a id="11407" href="Ledger.Conway.Conformance.Equivalence.html#11407" class="Bound">s</a> <a id="11409" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">s&#39;</a> <a id="11412" href="Ledger.Conway.Conformance.Equivalence.html#11412" class="Bound">tx</a><a id="11414" class="Symbol">}</a>
                      <a id="11438" class="Symbol">(</a><a id="11439" class="Keyword">let</a> <a id="11443" class="Keyword">open</a> <a id="11448" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">C.UTxOEnv</a> <a id="11458" href="Ledger.Conway.Conformance.Equivalence.html#11405" class="Bound">Γ</a> <a id="11460" class="Keyword">using</a> <a id="11466" class="Symbol">(</a><a id="11467" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="11474" class="Symbol">))</a>
                  <a id="11495" class="Symbol">→</a> <a id="11497" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="11505" href="Ledger.Conway.Conformance.Equivalence.html#11412" class="Bound">tx</a> <a id="11508" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11510" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="11533" class="Symbol">→</a> <a id="11535" class="Symbol">(</a><a id="11536" href="Ledger.Conway.Conformance.Equivalence.html#11536" class="Bound">r</a> <a id="11538" class="Symbol">:</a> <a id="11540" href="Ledger.Conway.Conformance.Equivalence.html#11405" class="Bound">Γ</a> <a id="11542" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="11546" href="Ledger.Conway.Conformance.Equivalence.html#11407" class="Bound">s</a> <a id="11548" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="11551" href="Ledger.Conway.Conformance.Equivalence.html#11412" class="Bound">tx</a> <a id="11554" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="11562" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">s&#39;</a><a id="11564" class="Symbol">)</a>
                  <a id="11584" class="Symbol">→</a> <a id="11586" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="11600" href="Ledger.Conway.Conformance.Equivalence.html#11536" class="Bound">r</a> <a id="11602" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11604" href="Ledger.Conway.Specification.Utxo.html#8237" class="Function">L.updateDeposits</a> <a id="11621" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="11629" class="Symbol">(</a><a id="11630" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="11635" href="Ledger.Conway.Conformance.Equivalence.html#11412" class="Bound">tx</a><a id="11637" class="Symbol">)</a> <a id="11639" class="Symbol">(</a><a id="11640" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">C.UTxOState.deposits</a> <a id="11661" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">s&#39;</a><a id="11663" class="Symbol">)</a>
<a id="11665" href="Ledger.Conway.Conformance.Equivalence.html#11383" class="Function">lemUtxowDeposits</a> <a id="11682" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11687" class="Symbol">(</a><a id="11688" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                        <a id="11725" class="Symbol">(</a><a id="11726" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="11744" class="Symbol">_</a> <a id="11746" class="Symbol">_</a> <a id="11748" class="Symbol">_</a> <a id="11750" class="Symbol">_</a> <a id="11752" class="Symbol">_</a> <a id="11754" class="Symbol">_</a> <a id="11756" class="Symbol">_</a> <a id="11758" class="Symbol">_</a> <a id="11760" class="Symbol">_</a> <a id="11762" class="Symbol">_</a> <a id="11764" class="Symbol">_</a> <a id="11766" class="Symbol">_</a> <a id="11768" class="Symbol">_</a> <a id="11770" class="Symbol">_</a> <a id="11772" class="Symbol">_</a> <a id="11774" class="Symbol">_</a> <a id="11776" class="Symbol">_</a> <a id="11778" class="Symbol">_</a> <a id="11780" class="Symbol">_</a> <a id="11782" class="Symbol">_</a>
                          <a id="11810" class="Symbol">(</a><a id="11811" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="11825" class="Symbol">_)))</a> <a id="11830" class="Symbol">=</a> <a id="11832" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11838" class="Keyword">instance</a>

  <a id="LEDGERFromConf"></a><a id="11850" href="Ledger.Conway.Conformance.Equivalence.html#11850" class="Function">LEDGERFromConf</a> <a id="11865" class="Symbol">:</a> <a id="11867" class="Symbol">∀</a> <a id="11869" class="Symbol">{</a><a id="11870" href="Ledger.Conway.Conformance.Equivalence.html#11870" class="Bound">Γ</a> <a id="11872" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Bound">s</a> <a id="11874" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">tx</a> <a id="11877" href="Ledger.Conway.Conformance.Equivalence.html#11877" class="Bound">s&#39;</a><a id="11879" class="Symbol">}</a> <a id="11881" class="Symbol">→</a> <a id="11883" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="11900" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Bound">s</a>
                                    <a id="11938" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="11940" href="Ledger.Conway.Conformance.Equivalence.html#11870" class="Bound">Γ</a> <a id="11942" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="11946" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Bound">s</a> <a id="11948" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="11951" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">tx</a> <a id="11954" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="11963" href="Ledger.Conway.Conformance.Equivalence.html#11877" class="Bound">s&#39;</a>
                                    <a id="12002" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="12004" href="Ledger.Conway.Conformance.Equivalence.html#11870" class="Bound">Γ</a> <a id="12006" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="12010" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12015" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Bound">s</a> <a id="12017" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="12020" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">tx</a> <a id="12023" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="12032" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12037" href="Ledger.Conway.Conformance.Equivalence.html#11877" class="Bound">s&#39;</a>
  <a id="12042" href="Ledger.Conway.Conformance.Equivalence.html#11850" class="Function">LEDGERFromConf</a> <a id="12057" class="Symbol">.</a><a id="12058" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12064" class="Symbol">_</a> <a id="12066" class="Symbol">(</a><a id="12067" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="12079" href="Ledger.Conway.Conformance.Equivalence.html#12079" class="Bound">invalid</a> <a id="12087" href="Ledger.Conway.Conformance.Equivalence.html#12087" class="Bound">utxow</a><a id="12092" class="Symbol">)</a> <a id="12094" class="Keyword">with</a> <a id="12099" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="12104" href="Ledger.Conway.Conformance.Equivalence.html#12079" class="Bound">invalid</a> <a id="12112" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12118" href="Ledger.Conway.Conformance.Equivalence.html#12087" class="Bound">utxow</a>
  <a id="12126" class="Symbol">...</a> <a id="12130" class="Symbol">|</a> <a id="12132" href="Ledger.Conway.Conformance.Equivalence.html#12132" class="Bound">utxow&#39;</a> <a id="12139" class="Keyword">rewrite</a> <a id="12147" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="12167" class="Bound">invalid</a> <a id="12175" class="Bound">utxow</a> <a id="12181" class="Symbol">=</a> <a id="12183" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="12195" class="Bound">invalid</a> <a id="12203" href="Ledger.Conway.Conformance.Equivalence.html#12132" class="Bound">utxow&#39;</a>
  <a id="12212" href="Ledger.Conway.Conformance.Equivalence.html#11850" class="Function">LEDGERFromConf</a> <a id="12227" class="Symbol">{</a><a id="12228" href="Ledger.Conway.Conformance.Equivalence.html#12228" class="Bound">Γ</a><a id="12229" class="Symbol">}</a> <a id="12231" class="Symbol">{</a><a id="12232" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">s</a><a id="12233" class="Symbol">}</a> <a id="12235" class="Symbol">{</a><a id="12236" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a><a id="12238" class="Symbol">}</a> <a id="12240" class="Symbol">{</a><a id="12241" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s&#39;</a><a id="12243" class="Symbol">}</a> <a id="12245" class="Symbol">.</a><a id="12246" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12252" href="Ledger.Conway.Conformance.Equivalence.html#12252" class="Bound">wf</a> <a id="12255" class="Symbol">(</a><a id="12256" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="12268" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12273" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a> <a id="12279" href="Ledger.Conway.Conformance.Equivalence.html#12279" class="Bound">certs</a> <a id="12285" href="Ledger.Conway.Conformance.Equivalence.html#12285" class="Bound">gov</a><a id="12288" class="Symbol">)</a> <a id="12290" class="Symbol">=</a>
    <a id="12296" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="12302" class="Symbol">(λ</a> <a id="12305" href="Ledger.Conway.Conformance.Equivalence.html#12305" class="Bound">•</a> <a id="12307" class="Symbol">→</a> <a id="12309" href="Ledger.Conway.Conformance.Equivalence.html#12228" class="Bound">Γ</a> <a id="12311" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="12315" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12320" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">s</a> <a id="12322" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="12325" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a> <a id="12328" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#12305}{\htmlId{12339}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12537}{\htmlId{12343}{\htmlClass{Function}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{12352}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#12558}{\htmlId{12357}{\htmlClass{Function}{\text{certSt&#39;}}}}\, \end{pmatrix}$</a><a id="12366" class="Symbol">)</a> <a id="12368" href="Ledger.Conway.Conformance.Equivalence.html#12907" class="Function">eqUtxo</a> <a id="12375" href="Ledger.Conway.Conformance.Equivalence.html#13051" class="Function">ledger&#39;</a>
    <a id="12387" class="Keyword">where</a>
      <a id="12399" class="Keyword">open</a> <a id="12404" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">C.LEnv</a> <a id="12411" href="Ledger.Conway.Conformance.Equivalence.html#12228" class="Bound">Γ</a>

      <a id="12420" class="Keyword">open</a> <a id="12425" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12434" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">s</a> <a id="12436" class="Keyword">renaming</a> <a id="12445" class="Symbol">(</a><a id="12446" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12456" class="Symbol">to</a> <a id="12459" class="Field">certSt</a><a id="12465" class="Symbol">)</a>
      <a id="12473" class="Keyword">open</a> <a id="12478" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12487" href="Ledger.Conway.Conformance.Equivalence.html#12241" class="Bound">s&#39;</a> <a id="12490" class="Keyword">using</a> <a id="12496" class="Symbol">()</a> <a id="12499" class="Keyword">renaming</a> <a id="12508" class="Symbol">(</a><a id="12509" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="12516" class="Symbol">to</a> <a id="12519" class="Field">utxoSt&#39;</a><a id="12526" class="Symbol">;</a> <a id="12528" href="Ledger.Conway.Conformance.Ledger.html#861" class="Field">govSt</a> <a id="12534" class="Symbol">to</a> <a id="12537" class="Field">govSt&#39;</a><a id="12543" class="Symbol">;</a> <a id="12545" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12555" class="Symbol">to</a> <a id="12558" class="Field">certSt&#39;</a><a id="12565" class="Symbol">)</a>

      <a id="12574" class="Keyword">open</a> <a id="12579" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="12586" class="Symbol">(</a><a id="12587" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="12592" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a><a id="12594" class="Symbol">)</a>
      <a id="12602" class="Keyword">open</a> <a id="12607" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">C.UTxOState</a> <a id="12619" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12626" class="Keyword">using</a> <a id="12632" class="Symbol">(</a><a id="12633" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="12641" class="Symbol">)</a>

      <a id="12650" href="Ledger.Conway.Conformance.Equivalence.html#12650" class="Function">valid-deps</a> <a id="12661" class="Symbol">:</a> <a id="12663" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="12683" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="12691" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="12700" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
      <a id="12714" href="Ledger.Conway.Conformance.Equivalence.html#12650" class="Function">valid-deps</a> <a id="12725" class="Symbol">=</a> <a id="12727" href="Ledger.Conway.Conformance.Equivalence.html#10531" class="Function">getValidCertDepositsC</a> <a id="12749" href="Ledger.Conway.Conformance.Equivalence.html#12228" class="Bound">Γ</a> <a id="12751" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">s</a> <a id="12753" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a> <a id="12756" href="Ledger.Conway.Conformance.Equivalence.html#12252" class="Bound">wf</a> <a id="12759" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12764" href="Ledger.Conway.Conformance.Equivalence.html#12279" class="Bound">certs</a>

      <a id="12777" href="Ledger.Conway.Conformance.Equivalence.html#12777" class="Function">utxow&#39;</a> <a id="12784" class="Symbol">:</a> <a id="12786" class="Symbol">_</a> <a id="12788" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">L.⊢</a> <a id="12792" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12799" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">⇀⦇</a> <a id="12802" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a> <a id="12805" href="Ledger.Conway.Specification.Utxow.html#2933" class="Datatype Operator">,UTXOW⦈</a> <a id="12813" class="Symbol">(</a><a id="12814" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12826" class="Symbol">(</a><a id="12827" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12841" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a><a id="12846" class="Symbol">)</a> <a id="12848" href="Ledger.Conway.Conformance.Equivalence.html#12519" class="Function">utxoSt&#39;</a><a id="12855" class="Symbol">)</a>
      <a id="12863" href="Ledger.Conway.Conformance.Equivalence.html#12777" class="Function">utxow&#39;</a> <a id="12870" class="Symbol">=</a> <a id="12872" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="12877" href="Ledger.Conway.Conformance.Equivalence.html#12650" class="Function">valid-deps</a> <a id="12888" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12894" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a>

      <a id="12907" href="Ledger.Conway.Conformance.Equivalence.html#12907" class="Function">eqUtxo</a> <a id="12914" class="Symbol">:</a> <a id="12916" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12928" class="Symbol">(</a><a id="12929" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12943" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a><a id="12948" class="Symbol">)</a> <a id="12950" href="Ledger.Conway.Conformance.Equivalence.html#12519" class="Function">utxoSt&#39;</a> <a id="12958" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12960" href="Ledger.Conway.Conformance.Equivalence.html#12519" class="Function">utxoSt&#39;</a>
      <a id="12974" href="Ledger.Conway.Conformance.Equivalence.html#12907" class="Function">eqUtxo</a> <a id="12981" class="Symbol">=</a> <a id="12983" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="12988" class="Symbol">(λ</a> <a id="12991" href="Ledger.Conway.Conformance.Equivalence.html#12991" class="Bound">•</a> <a id="12993" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{12997}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{13001}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12991}{\htmlId{13005}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{13009}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="13012" class="Symbol">)</a> <a id="13014" class="Symbol">(</a><a id="13015" href="Ledger.Conway.Conformance.Equivalence.html#11383" class="Function">lemUtxowDeposits</a> <a id="13032" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13037" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a><a id="13042" class="Symbol">)</a>

      <a id="13051" href="Ledger.Conway.Conformance.Equivalence.html#13051" class="Function">ledger&#39;</a> <a id="13059" class="Symbol">:</a> <a id="13061" href="Ledger.Conway.Conformance.Equivalence.html#12228" class="Bound">Γ</a> <a id="13063" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="13067" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13072" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">s</a> <a id="13074" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="13077" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">tx</a> <a id="13080" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="13089" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">L.⟦</a> <a id="13093" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="13105" class="Symbol">(</a><a id="13106" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="13120" href="Ledger.Conway.Conformance.Equivalence.html#12273" class="Bound">utxow</a><a id="13125" class="Symbol">)</a> <a id="13127" href="Ledger.Conway.Conformance.Equivalence.html#12519" class="Function">utxoSt&#39;</a>
                                              <a id="13181" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">,</a> <a id="13183" href="Ledger.Conway.Conformance.Equivalence.html#12537" class="Function">govSt&#39;</a>
                                              <a id="13236" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">,</a> <a id="13238" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13243" href="Ledger.Conway.Conformance.Equivalence.html#12558" class="Function">certSt&#39;</a> <a id="13251" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="13260" href="Ledger.Conway.Conformance.Equivalence.html#13051" class="Function">ledger&#39;</a> <a id="13268" class="Symbol">=</a> <a id="13270" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="13282" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13287" href="Ledger.Conway.Conformance.Equivalence.html#12777" class="Function">utxow&#39;</a> <a id="13294" class="Symbol">(</a><a id="13295" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13300" href="Ledger.Conway.Conformance.Equivalence.html#12279" class="Bound">certs</a><a id="13305" class="Symbol">)</a> <a id="13307" href="Ledger.Conway.Conformance.Equivalence.html#12285" class="Bound">gov</a>

<a id="13312" class="Keyword">open</a> <a id="13317" href="Relation.Binary.Structures.html#1595" class="Module">IsEquivalence</a> <a id="13331" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13061" class="Function">≡ᵈ-isEquivalence</a> <a id="13348" class="Keyword">renaming</a> <a id="13357" class="Symbol">(</a><a id="13358" href="Relation.Binary.Structures.html#1641" class="Field">refl</a> <a id="13363" class="Symbol">to</a> <a id="13366" class="Field">≡ᵈ-refl</a><a id="13373" class="Symbol">;</a> <a id="13375" href="Relation.Binary.Structures.html#1667" class="Field">sym</a> <a id="13379" class="Symbol">to</a> <a id="13382" class="Field">≡ᵈ-sym</a><a id="13388" class="Symbol">;</a> <a id="13390" href="Relation.Binary.Structures.html#1693" class="Field">trans</a> <a id="13396" class="Symbol">to</a> <a id="13399" class="Field">≡ᵈ-trans</a><a id="13407" class="Symbol">)</a>

<a id="lemCERTS&#39;DepositsC"></a><a id="13410" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13429" class="Symbol">:</a> <a id="13431" class="Symbol">∀</a> <a id="13433" class="Symbol">{</a><a id="13434" href="Ledger.Conway.Conformance.Equivalence.html#13434" class="Bound">Γ</a> <a id="13436" href="Ledger.Conway.Conformance.Equivalence.html#13436" class="Bound">s</a> <a id="13438" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">dcerts</a> <a id="13445" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s&#39;</a><a id="13447" class="Symbol">}</a> <a id="13449" class="Symbol">(</a><a id="13450" class="Keyword">open</a> <a id="13455" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="13465" href="Ledger.Conway.Conformance.Equivalence.html#13434" class="Bound">Γ</a> <a id="13467" class="Keyword">using</a> <a id="13473" class="Symbol">(</a><a id="13474" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="13476" class="Symbol">))</a>
                   <a id="13498" class="Symbol">→</a> <a id="13500" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="13516" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="13532" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="13553" href="Ledger.Conway.Conformance.Equivalence.html#13434" class="Bound">Γ</a> <a id="13555" href="Ledger.Conway.Conformance.Equivalence.html#13436" class="Bound">s</a> <a id="13557" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">dcerts</a> <a id="13564" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s&#39;</a>
                   <a id="13586" class="Symbol">→</a> <a id="13588" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="13602" href="Ledger.Conway.Conformance.Equivalence.html#13445" class="Bound">s&#39;</a> <a id="13605" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13607" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="13609" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="13621" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13624" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">dcerts</a> <a id="13631" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="13633" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="13645" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13648" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">dcerts</a> <a id="13655" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="13657" class="Symbol">(</a><a id="13658" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="13672" href="Ledger.Conway.Conformance.Equivalence.html#13436" class="Bound">s</a><a id="13673" class="Symbol">)</a>
<a id="13675" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13694" class="Symbol">(</a><a id="13695" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="13702" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="13713" class="Symbol">)</a> <a id="13715" class="Symbol">=</a> <a id="13717" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13722" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13741" class="Symbol">(</a><a id="13742" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13748" class="Symbol">(</a><a id="13749" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13763" class="Symbol">(</a><a id="13764" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a>     <a id="13785" class="Symbol">_))</a> <a id="13789" href="Ledger.Conway.Conformance.Equivalence.html#13789" class="Bound">rs</a><a id="13791" class="Symbol">)</a> <a id="13793" class="Symbol">=</a> <a id="13795" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13814" href="Ledger.Conway.Conformance.Equivalence.html#13789" class="Bound">rs</a>
<a id="13817" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13836" class="Symbol">(</a><a id="13837" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13843" class="Symbol">(</a><a id="13844" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13858" class="Symbol">(</a><a id="13859" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a>        <a id="13880" class="Symbol">_))</a> <a id="13884" href="Ledger.Conway.Conformance.Equivalence.html#13884" class="Bound">rs</a><a id="13886" class="Symbol">)</a> <a id="13888" class="Symbol">=</a> <a id="13890" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13909" href="Ledger.Conway.Conformance.Equivalence.html#13884" class="Bound">rs</a>
<a id="13912" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="13931" class="Symbol">(</a><a id="13932" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13938" class="Symbol">(</a><a id="13939" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13953" class="Symbol">(</a><a id="13954" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a>          <a id="13975" class="Symbol">_))</a> <a id="13979" href="Ledger.Conway.Conformance.Equivalence.html#13979" class="Bound">rs</a><a id="13981" class="Symbol">)</a> <a id="13983" class="Symbol">=</a> <a id="13985" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14004" href="Ledger.Conway.Conformance.Equivalence.html#13979" class="Bound">rs</a>
<a id="14007" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14026" class="Symbol">(</a><a id="14027" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>   <a id="14048" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a>          <a id="14072" class="Symbol">)</a> <a id="14074" href="Ledger.Conway.Conformance.Equivalence.html#14074" class="Bound">rs</a><a id="14076" class="Symbol">)</a> <a id="14078" class="Symbol">=</a> <a id="14080" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14099" href="Ledger.Conway.Conformance.Equivalence.html#14074" class="Bound">rs</a>
<a id="14102" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14121" class="Symbol">(</a><a id="14122" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14128" class="Symbol">(</a><a id="14129" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>    <a id="14144" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a>     <a id="14166" class="Symbol">)</a>  <a id="14169" href="Ledger.Conway.Conformance.Equivalence.html#14169" class="Bound">rs</a><a id="14171" class="Symbol">)</a> <a id="14173" class="Symbol">=</a> <a id="14175" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14194" href="Ledger.Conway.Conformance.Equivalence.html#14169" class="Bound">rs</a>
<a id="14197" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14216" class="Symbol">(</a><a id="14217" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14223" class="Symbol">(</a><a id="14224" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14238" class="Symbol">(</a><a id="14239" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a>    <a id="14260" class="Symbol">_))</a> <a id="14264" href="Ledger.Conway.Conformance.Equivalence.html#14264" class="Bound">rs</a><a id="14266" class="Symbol">)</a> <a id="14268" class="Symbol">=</a> <a id="14270" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14289" href="Ledger.Conway.Conformance.Equivalence.html#14264" class="Bound">rs</a>
<a id="14292" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14311" class="Symbol">(</a><a id="14312" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14318" class="Symbol">(</a><a id="14319" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14333" class="Symbol">(</a><a id="14334" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a>  <a id="14355" class="Symbol">_))</a> <a id="14359" href="Ledger.Conway.Conformance.Equivalence.html#14359" class="Bound">rs</a><a id="14361" class="Symbol">)</a> <a id="14363" class="Symbol">=</a> <a id="14365" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14384" href="Ledger.Conway.Conformance.Equivalence.html#14359" class="Bound">rs</a>
<a id="14387" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14406" class="Symbol">(</a><a id="14407" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14413" class="Symbol">(</a><a id="14414" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14428" class="Symbol">(</a><a id="14429" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a>   <a id="14450" class="Symbol">_))</a> <a id="14454" href="Ledger.Conway.Conformance.Equivalence.html#14454" class="Bound">rs</a><a id="14456" class="Symbol">)</a> <a id="14458" class="Symbol">=</a> <a id="14460" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14479" href="Ledger.Conway.Conformance.Equivalence.html#14454" class="Bound">rs</a>

<a id="lemCERTSDepositsC"></a><a id="14483" href="Ledger.Conway.Conformance.Equivalence.html#14483" class="Function">lemCERTSDepositsC</a> <a id="14501" class="Symbol">:</a> <a id="14503" class="Symbol">∀</a> <a id="14505" class="Symbol">{</a><a id="14506" href="Ledger.Conway.Conformance.Equivalence.html#14506" class="Bound">Γ</a> <a id="14508" href="Ledger.Conway.Conformance.Equivalence.html#14508" class="Bound">s</a> <a id="14510" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">txCerts</a> <a id="14518" href="Ledger.Conway.Conformance.Equivalence.html#14518" class="Bound">s&#39;</a><a id="14520" class="Symbol">}</a> <a id="14522" class="Symbol">(</a><a id="14523" class="Keyword">open</a> <a id="14528" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="14538" href="Ledger.Conway.Conformance.Equivalence.html#14506" class="Bound">Γ</a> <a id="14540" class="Keyword">using</a> <a id="14546" class="Symbol">(</a><a id="14547" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="14549" class="Symbol">))</a>
                  <a id="14570" class="Symbol">→</a> <a id="14572" href="Ledger.Conway.Conformance.Equivalence.html#14506" class="Bound">Γ</a> <a id="14574" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="14578" href="Ledger.Conway.Conformance.Equivalence.html#14508" class="Bound">s</a> <a id="14580" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="14583" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">txCerts</a> <a id="14591" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="14599" href="Ledger.Conway.Conformance.Equivalence.html#14518" class="Bound">s&#39;</a>
                  <a id="14620" class="Symbol">→</a> <a id="14622" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="14636" href="Ledger.Conway.Conformance.Equivalence.html#14518" class="Bound">s&#39;</a> <a id="14639" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14641" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="14643" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="14655" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14658" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">txCerts</a> <a id="14666" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="14668" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="14680" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14683" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">txCerts</a> <a id="14691" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="14693" class="Symbol">(</a><a id="14694" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="14708" href="Ledger.Conway.Conformance.Equivalence.html#14508" class="Bound">s</a><a id="14709" class="Symbol">)</a>
<a id="14711" href="Ledger.Conway.Conformance.Equivalence.html#14483" class="Function">lemCERTSDepositsC</a> <a id="14729" class="Symbol">(</a><a id="14730" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="14734" class="Symbol">(</a><a id="14735" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="14746" class="Symbol">_</a> <a id="14748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14750" href="Ledger.Conway.Conformance.Equivalence.html#14750" class="Bound">step</a><a id="14754" class="Symbol">))</a> <a id="14757" class="Symbol">=</a> <a id="14759" href="Ledger.Conway.Conformance.Equivalence.html#13410" class="Function">lemCERTS&#39;DepositsC</a> <a id="14778" href="Ledger.Conway.Conformance.Equivalence.html#14750" class="Bound">step</a>

<a id="lemWellformed"></a><a id="14784" href="Ledger.Conway.Conformance.Equivalence.html#14784" class="Function">lemWellformed</a> <a id="14798" class="Symbol">:</a> <a id="14800" class="Symbol">∀</a> <a id="14802" class="Symbol">{</a><a id="14803" href="Ledger.Conway.Conformance.Equivalence.html#14803" class="Bound">Γ</a> <a id="14805" href="Ledger.Conway.Conformance.Equivalence.html#14805" class="Bound">s</a> <a id="14807" href="Ledger.Conway.Conformance.Equivalence.html#14807" class="Bound">tx</a> <a id="14810" href="Ledger.Conway.Conformance.Equivalence.html#14810" class="Bound">s&#39;</a><a id="14812" class="Symbol">}</a> <a id="14814" class="Symbol">→</a> <a id="14816" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="14833" href="Ledger.Conway.Conformance.Equivalence.html#14805" class="Bound">s</a> <a id="14835" class="Symbol">→</a> <a id="14837" href="Ledger.Conway.Conformance.Equivalence.html#14803" class="Bound">Γ</a> <a id="14839" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="14843" href="Ledger.Conway.Conformance.Equivalence.html#14805" class="Bound">s</a> <a id="14845" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="14848" href="Ledger.Conway.Conformance.Equivalence.html#14807" class="Bound">tx</a> <a id="14851" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="14860" href="Ledger.Conway.Conformance.Equivalence.html#14810" class="Bound">s&#39;</a> <a id="14863" class="Symbol">→</a> <a id="14865" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="14882" href="Ledger.Conway.Conformance.Equivalence.html#14810" class="Bound">s&#39;</a>
<a id="14885" href="Ledger.Conway.Conformance.Equivalence.html#14784" class="Function">lemWellformed</a> <a id="14899" class="Symbol">{</a><a id="14900" href="Ledger.Conway.Conformance.Equivalence.html#14900" class="Bound">Γ</a><a id="14901" class="Symbol">}</a> <a id="14903" class="Symbol">{</a><a id="14904" class="Argument">s</a> <a id="14906" class="Symbol">=</a> <a id="14908" href="Ledger.Conway.Conformance.Equivalence.html#14908" class="Bound">ls</a><a id="14910" class="Symbol">}</a> <a id="14912" class="Symbol">{</a><a id="14913" href="Ledger.Conway.Conformance.Equivalence.html#14913" class="Bound">tx</a><a id="14915" class="Symbol">}</a> <a id="14917" class="Symbol">{</a><a id="14918" class="Argument">s&#39;</a> <a id="14921" class="Symbol">=</a> <a id="14923" href="Ledger.Conway.Conformance.Equivalence.html#14923" class="Bound">ls&#39;</a><a id="14926" class="Symbol">}</a> <a id="14928" href="Ledger.Conway.Conformance.Equivalence.html#14928" class="Bound">wf</a> <a id="14931" class="Symbol">(</a><a id="14932" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="14944" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14949" href="Ledger.Conway.Conformance.Equivalence.html#14949" class="Bound">utxo</a> <a id="14954" href="Ledger.Conway.Conformance.Equivalence.html#14954" class="Bound">certs</a> <a id="14960" href="Ledger.Conway.Conformance.Equivalence.html#14960" class="Bound">gov</a><a id="14963" class="Symbol">)</a> <a id="14965" class="Symbol">=</a> <a id="14967" href="Ledger.Conway.Conformance.Equivalence.html#16236" class="Function">goal</a>
  <a id="14974" class="Keyword">where</a>
    <a id="14984" class="Keyword">open</a> <a id="14989" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="14998" href="Ledger.Conway.Conformance.Equivalence.html#14908" class="Bound">ls</a>  <a id="15002" class="Keyword">renaming</a> <a id="15011" class="Symbol">(</a><a id="15012" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15022" class="Symbol">to</a> <a id="15025" class="Field">certSt</a><a id="15031" class="Symbol">)</a>
    <a id="15037" class="Keyword">open</a> <a id="15042" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15051" href="Ledger.Conway.Conformance.Equivalence.html#14923" class="Bound">ls&#39;</a> <a id="15055" class="Keyword">renaming</a> <a id="15064" class="Symbol">(</a><a id="15065" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="15072" class="Symbol">to</a> <a id="15075" class="Field">utxoSt&#39;</a><a id="15082" class="Symbol">;</a> <a id="15084" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15094" class="Symbol">to</a> <a id="15097" class="Field">certSt&#39;</a><a id="15104" class="Symbol">)</a>
    <a id="15110" class="Keyword">open</a> <a id="15115" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="15122" href="Ledger.Conway.Conformance.Equivalence.html#14900" class="Bound">Γ</a> <a id="15124" class="Keyword">using</a> <a id="15130" class="Symbol">(</a><a id="15131" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="15138" class="Symbol">)</a>
    <a id="15144" class="Keyword">open</a> <a id="15149" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="15156" class="Symbol">(</a><a id="15157" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="15162" href="Ledger.Conway.Conformance.Equivalence.html#14913" class="Bound">tx</a><a id="15164" class="Symbol">)</a>

    <a id="15171" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a>  <a id="15181" class="Symbol">=</a> <a id="15183" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="15204" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a>
    <a id="15215" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a> <a id="15225" class="Symbol">=</a> <a id="15227" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="15248" href="Ledger.Conway.Conformance.Equivalence.html#15075" class="Function">utxoSt&#39;</a>

    <a id="15261" href="Ledger.Conway.Conformance.Equivalence.html#15261" class="Function">depositsL&#39;</a> <a id="15272" class="Symbol">=</a> <a id="15274" href="Ledger.Conway.Specification.Utxo.html#8237" class="Function">L.updateDeposits</a> <a id="15291" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15299" class="Symbol">(</a><a id="15300" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="15305" href="Ledger.Conway.Conformance.Equivalence.html#14913" class="Bound">tx</a><a id="15307" class="Symbol">)</a> <a id="15309" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a>

    <a id="15323" href="Ledger.Conway.Conformance.Equivalence.html#15323" class="Function">ddeps</a> <a id="15329" class="Symbol">=</a> <a id="15331" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15345" href="Ledger.Conway.Conformance.Equivalence.html#15025" class="Function">certSt</a> <a id="15352" class="Symbol">.</a><a id="15353" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15363" href="Ledger.Conway.Conformance.Equivalence.html#15363" class="Function">gdeps</a> <a id="15369" class="Symbol">=</a> <a id="15371" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15385" href="Ledger.Conway.Conformance.Equivalence.html#15025" class="Function">certSt</a> <a id="15392" class="Symbol">.</a><a id="15393" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15404" href="Ledger.Conway.Conformance.Equivalence.html#15404" class="Function">ddeps&#39;</a> <a id="15411" class="Symbol">=</a> <a id="15413" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15427" href="Ledger.Conway.Conformance.Equivalence.html#15097" class="Function">certSt&#39;</a> <a id="15435" class="Symbol">.</a><a id="15436" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15446" href="Ledger.Conway.Conformance.Equivalence.html#15446" class="Function">gdeps&#39;</a> <a id="15453" class="Symbol">=</a> <a id="15455" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15469" href="Ledger.Conway.Conformance.Equivalence.html#15097" class="Function">certSt&#39;</a> <a id="15477" class="Symbol">.</a><a id="15478" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15489" href="Ledger.Conway.Conformance.Equivalence.html#15489" class="Function">lem</a> <a id="15493" class="Symbol">:</a> <a id="15495" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a> <a id="15505" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15507" href="Ledger.Conway.Conformance.Equivalence.html#15261" class="Function">depositsL&#39;</a>
    <a id="15522" href="Ledger.Conway.Conformance.Equivalence.html#15489" class="Function">lem</a> <a id="15526" class="Keyword">rewrite</a> <a id="15534" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="15547" href="Ledger.Conway.Conformance.Equivalence.html#14949" class="Bound">utxo</a> <a id="15552" class="Symbol">=</a> <a id="15554" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="15564" href="Ledger.Conway.Conformance.Equivalence.html#15564" class="Function">lem₁</a> <a id="15569" class="Symbol">:</a> <a id="15571" class="Symbol">(</a><a id="15572" href="Ledger.Conway.Conformance.Equivalence.html#15404" class="Function">ddeps&#39;</a> <a id="15579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15581" href="Ledger.Conway.Conformance.Equivalence.html#15446" class="Function">gdeps&#39;</a><a id="15587" class="Symbol">)</a> <a id="15589" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15591" class="Symbol">(</a><a id="15592" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15604" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15612" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15620" href="Ledger.Conway.Conformance.Equivalence.html#15323" class="Function">ddeps</a> <a id="15626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15628" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15640" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15648" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15656" href="Ledger.Conway.Conformance.Equivalence.html#15363" class="Function">gdeps</a><a id="15661" class="Symbol">)</a>
    <a id="15667" href="Ledger.Conway.Conformance.Equivalence.html#15564" class="Function">lem₁</a> <a id="15672" class="Symbol">=</a> <a id="15674" href="Ledger.Conway.Conformance.Equivalence.html#14483" class="Function">lemCERTSDepositsC</a> <a id="15692" href="Ledger.Conway.Conformance.Equivalence.html#14954" class="Bound">certs</a>

    <a id="15703" href="Ledger.Conway.Conformance.Equivalence.html#15703" class="Function">lem₂</a> <a id="15708" class="Symbol">:</a>  <a id="15711" class="Symbol">(</a><a id="15712" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15724" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15732" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15740" class="Symbol">(</a><a id="15741" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15751" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="15759" class="Symbol">)</a> <a id="15761" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15763" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15775" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15783" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15791" class="Symbol">(</a><a id="15792" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15802" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="15810" class="Symbol">))</a>
         <a id="15822" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="15825" class="Symbol">(</a><a id="15826" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15836" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a> <a id="15846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15848" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15858" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a><a id="15867" class="Symbol">)</a>
    <a id="15873" href="Ledger.Conway.Conformance.Equivalence.html#15703" class="Function">lem₂</a> <a id="15878" class="Keyword">rewrite</a> <a id="15886" href="Ledger.Conway.Conformance.Equivalence.html#15489" class="Function">lem</a> <a id="15890" class="Symbol">=</a> <a id="15892" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#18988" class="Function">lem-upd-ddeps</a> <a id="15906" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15914" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a> <a id="15923" href="Ledger.Conway.Conformance.Equivalence.html#14913" class="Bound">tx</a> <a id="15926" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15928" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19777" class="Function">lem-upd-gdeps</a> <a id="15942" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15950" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a> <a id="15959" href="Ledger.Conway.Conformance.Equivalence.html#14913" class="Bound">tx</a>

    <a id="15967" href="Ledger.Conway.Conformance.Equivalence.html#15967" class="Function">lem₃</a> <a id="15972" class="Symbol">:</a>  <a id="15975" class="Symbol">(</a><a id="15976" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15988" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15996" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16004" href="Ledger.Conway.Conformance.Equivalence.html#15323" class="Function">ddeps</a> <a id="16010" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16012" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16024" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16032" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16040" href="Ledger.Conway.Conformance.Equivalence.html#15363" class="Function">gdeps</a><a id="16045" class="Symbol">)</a>
         <a id="16056" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16059" class="Symbol">(</a><a id="16060" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16072" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16080" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16088" class="Symbol">(</a><a id="16089" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16099" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="16107" class="Symbol">)</a> <a id="16109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16111" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16123" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16131" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16139" class="Symbol">(</a><a id="16140" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16150" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="16158" class="Symbol">))</a>
    <a id="16165" href="Ledger.Conway.Conformance.Equivalence.html#15967" class="Function">lem₃</a> <a id="16170" class="Symbol">=</a> <a id="16172" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="16174" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14211" class="Function">cong-updateDDeps</a> <a id="16191" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16199" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="16201" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#15197" class="Function">cong-updateGDeps</a> <a id="16218" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16226" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="16228" href="Ledger.Conway.Conformance.Equivalence.html#14928" class="Bound">wf</a>

    <a id="16236" href="Ledger.Conway.Conformance.Equivalence.html#16236" class="Function">goal</a> <a id="16241" class="Symbol">:</a> <a id="16243" class="Symbol">(</a><a id="16244" href="Ledger.Conway.Conformance.Equivalence.html#15404" class="Function">ddeps&#39;</a> <a id="16251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16253" href="Ledger.Conway.Conformance.Equivalence.html#15446" class="Function">gdeps&#39;</a><a id="16259" class="Symbol">)</a> <a id="16261" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16264" class="Symbol">(</a><a id="16265" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16275" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a> <a id="16285" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16287" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16297" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a><a id="16306" class="Symbol">)</a>
    <a id="16312" href="Ledger.Conway.Conformance.Equivalence.html#16236" class="Function">goal</a> <a id="16317" class="Keyword">with</a> <a id="16322" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="16329" href="Ledger.Conway.Conformance.Equivalence.html#15564" class="Function">lem₁</a> <a id="16334" class="Symbol">=</a> <a id="16336" href="Ledger.Conway.Conformance.Equivalence.html#13399" class="Function">≡ᵈ-trans</a> <a id="16345" class="Symbol">{</a><a id="16346" href="Ledger.Conway.Conformance.Equivalence.html#15404" class="Function">ddeps&#39;</a> <a id="16353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16355" href="Ledger.Conway.Conformance.Equivalence.html#15446" class="Function">gdeps&#39;</a><a id="16361" class="Symbol">}</a>
                                     <a id="16400" class="Symbol">{</a><a id="16401" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16413" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16421" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16429" class="Symbol">(</a><a id="16430" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16440" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="16448" class="Symbol">)</a> <a id="16450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16452" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16464" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16472" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16480" class="Symbol">(</a><a id="16481" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16491" href="Ledger.Conway.Conformance.Equivalence.html#15171" class="Function">deposits</a><a id="16499" class="Symbol">)}</a>
                                     <a id="16539" class="Symbol">{</a><a id="16540" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16550" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a> <a id="16560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16562" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16572" href="Ledger.Conway.Conformance.Equivalence.html#15215" class="Function">deposits&#39;</a><a id="16581" class="Symbol">}</a>
                              <a id="16613" href="Ledger.Conway.Conformance.Equivalence.html#15967" class="Function">lem₃</a>
                              <a id="16648" href="Ledger.Conway.Conformance.Equivalence.html#15703" class="Function">lem₂</a>
<a id="16653" href="Ledger.Conway.Conformance.Equivalence.html#14784" class="Function">lemWellformed</a> <a id="16667" href="Ledger.Conway.Conformance.Equivalence.html#16667" class="Bound">wf</a> <a id="16670" class="Symbol">(</a><a id="16671" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="16683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="16688" href="Ledger.Conway.Conformance.Equivalence.html#16688" class="Bound">utxo</a><a id="16692" class="Symbol">)</a> <a id="16694" class="Keyword">rewrite</a> <a id="16702" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="16715" href="Ledger.Conway.Conformance.Equivalence.html#16688" class="Bound">utxo</a> <a id="16720" class="Symbol">=</a> <a id="16722" href="Ledger.Conway.Conformance.Equivalence.html#16667" class="Bound">wf</a>

<a id="setCertDeposits"></a><a id="16726" href="Ledger.Conway.Conformance.Equivalence.html#16726" class="Function">setCertDeposits</a> <a id="16742" class="Symbol">:</a> <a id="16744" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16755" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16757" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16768" class="Symbol">→</a> <a id="16770" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="16782" class="Symbol">→</a> <a id="16784" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a>
<a id="16796" href="Ledger.Conway.Conformance.Equivalence.html#16726" class="Function">setCertDeposits</a> <a id="16812" class="Symbol">(</a><a id="16813" href="Ledger.Conway.Conformance.Equivalence.html#16813" class="Bound">ddeps</a> <a id="16819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16821" href="Ledger.Conway.Conformance.Equivalence.html#16821" class="Bound">gdeps</a><a id="16826" class="Symbol">)</a> <a id="16828" href="Ledger.Conway.Conformance.Equivalence.html#16828" class="Bound">cs</a> <a id="16831" class="Symbol">=</a>
  <a id="16835" class="Keyword">let</a> <a id="16839" class="Keyword">open</a> <a id="16844" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="16856" href="Ledger.Conway.Conformance.Equivalence.html#16828" class="Bound">cs</a> <a id="16859" class="Keyword">in</a>
  <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{16866}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1021}{\htmlId{16873}{\htmlClass{Field}{\text{dState}}}}\, \,\htmlId{16880}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#762}{\htmlId{16881}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16890}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16813}{\htmlId{16892}{\htmlClass{Bound}{\text{ddeps}}}}\,\,\htmlId{16897}{\htmlClass{Symbol}{\text{}}}}\, \\ \,\href{Ledger.Conway.Conformance.Certs.html#1041}{\htmlId{16901}{\htmlClass{Field}{\text{pState}}}}\, \\ \,\htmlId{16910}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1061}{\htmlId{16917}{\htmlClass{Field}{\text{gState}}}}\, \,\htmlId{16924}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#932}{\htmlId{16925}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16934}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16821}{\htmlId{16936}{\htmlClass{Bound}{\text{gdeps}}}}\,\,\htmlId{16941}{\htmlClass{Symbol}{\text{}}}}\, \end{pmatrix}$</a>

<a id="updateCDep"></a><a id="16946" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="16957" class="Symbol">:</a> <a id="16959" href="Ledger.Conway.Specification.PParams.html#1689" class="Record">PParams</a> <a id="16967" class="Symbol">→</a> <a id="16969" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">L.DCert</a> <a id="16977" class="Symbol">→</a> <a id="16979" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16990" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16992" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17003" class="Symbol">→</a> <a id="17005" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17016" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17018" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="17029" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="17040" href="Ledger.Conway.Conformance.Equivalence.html#17040" class="Bound">pp</a> <a id="17043" href="Ledger.Conway.Conformance.Equivalence.html#17043" class="Bound">cert</a> <a id="17048" class="Symbol">(</a><a id="17049" href="Ledger.Conway.Conformance.Equivalence.html#17049" class="Bound">ddep</a> <a id="17054" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17056" href="Ledger.Conway.Conformance.Equivalence.html#17056" class="Bound">gdep</a><a id="17060" class="Symbol">)</a> <a id="17062" class="Symbol">=</a> <a id="17064" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#1980" class="Function">updateDDep</a> <a id="17075" href="Ledger.Conway.Conformance.Equivalence.html#17040" class="Bound">pp</a> <a id="17078" href="Ledger.Conway.Conformance.Equivalence.html#17043" class="Bound">cert</a> <a id="17083" href="Ledger.Conway.Conformance.Equivalence.html#17049" class="Bound">ddep</a> <a id="17088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17090" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2520" class="Function">updateGDep</a> <a id="17101" href="Ledger.Conway.Conformance.Equivalence.html#17040" class="Bound">pp</a> <a id="17104" href="Ledger.Conway.Conformance.Equivalence.html#17043" class="Bound">cert</a> <a id="17109" href="Ledger.Conway.Conformance.Equivalence.html#17056" class="Bound">gdep</a>

<a id="17115" class="Keyword">opaque</a>
  <a id="castCERTS&#39;"></a><a id="17124" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="17135" class="Symbol">:</a> <a id="17137" class="Symbol">∀</a> <a id="17139" class="Symbol">{</a><a id="17140" href="Ledger.Conway.Conformance.Equivalence.html#17140" class="Bound">Γ</a> <a id="17142" href="Ledger.Conway.Conformance.Equivalence.html#17142" class="Bound">certs</a><a id="17147" class="Symbol">}</a> <a id="17149" class="Symbol">{</a><a id="17150" href="Ledger.Conway.Conformance.Equivalence.html#17150" class="Bound">s</a> <a id="17152" href="Ledger.Conway.Conformance.Equivalence.html#17152" class="Bound">s&#39;</a> <a id="17155" class="Symbol">:</a> <a id="17157" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="17168" class="Symbol">}</a> <a id="17170" href="Ledger.Conway.Conformance.Equivalence.html#17170" class="Bound">deps₁</a> <a id="17176" href="Ledger.Conway.Conformance.Equivalence.html#17176" class="Bound">deps₂</a> <a id="17182" href="Ledger.Conway.Conformance.Equivalence.html#17182" class="Bound">deps₁&#39;</a>
             <a id="17202" class="Symbol">→</a> <a id="17204" href="Ledger.Conway.Conformance.Equivalence.html#17170" class="Bound">deps₁</a> <a id="17210" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17213" href="Ledger.Conway.Conformance.Equivalence.html#17176" class="Bound">deps₂</a>
             <a id="17232" class="Symbol">→</a> <a id="17234" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17250" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17266" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17287" href="Ledger.Conway.Conformance.Equivalence.html#17140" class="Bound">Γ</a> <a id="17289" class="Symbol">(</a><a id="17290" href="Ledger.Conway.Conformance.Equivalence.html#17170" class="Bound">deps₁</a> <a id="17296" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17302" href="Ledger.Conway.Conformance.Equivalence.html#17150" class="Bound">s</a><a id="17303" class="Symbol">)</a> <a id="17305" href="Ledger.Conway.Conformance.Equivalence.html#17142" class="Bound">certs</a> <a id="17311" class="Symbol">(</a><a id="17312" href="Ledger.Conway.Conformance.Equivalence.html#17182" class="Bound">deps₁&#39;</a> <a id="17319" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17325" href="Ledger.Conway.Conformance.Equivalence.html#17152" class="Bound">s&#39;</a><a id="17327" class="Symbol">)</a>
             <a id="17342" class="Symbol">→</a> <a id="17344" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="17347" href="Ledger.Conway.Conformance.Equivalence.html#17347" class="Bound">deps₂&#39;</a> <a id="17354" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="17356" href="Ledger.Conway.Conformance.Equivalence.html#17182" class="Bound">deps₁&#39;</a> <a id="17363" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17366" href="Ledger.Conway.Conformance.Equivalence.html#17347" class="Bound">deps₂&#39;</a>
                           <a id="17400" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17402" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17418" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17434" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17455" href="Ledger.Conway.Conformance.Equivalence.html#17140" class="Bound">Γ</a> <a id="17457" class="Symbol">(</a><a id="17458" href="Ledger.Conway.Conformance.Equivalence.html#17176" class="Bound">deps₂</a> <a id="17464" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17470" href="Ledger.Conway.Conformance.Equivalence.html#17150" class="Bound">s</a><a id="17471" class="Symbol">)</a> <a id="17473" href="Ledger.Conway.Conformance.Equivalence.html#17142" class="Bound">certs</a> <a id="17479" class="Symbol">(</a><a id="17480" href="Ledger.Conway.Conformance.Equivalence.html#17347" class="Bound">deps₂&#39;</a> <a id="17487" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17493" href="Ledger.Conway.Conformance.Equivalence.html#17152" class="Bound">s&#39;</a><a id="17495" class="Symbol">)</a>
  <a id="17499" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="17510" href="Ledger.Conway.Conformance.Equivalence.html#17510" class="Bound">deps₁</a> <a id="17516" href="Ledger.Conway.Conformance.Equivalence.html#17516" class="Bound">deps₂</a> <a id="17522" href="Ledger.Conway.Conformance.Equivalence.html#17522" class="Bound">deps₁&#39;</a> <a id="17529" href="Ledger.Conway.Conformance.Equivalence.html#17529" class="Bound">eqd</a> <a id="17533" class="Symbol">(</a><a id="17534" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17541" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="17552" class="Symbol">)</a> <a id="17554" class="Symbol">=</a> <a id="17556" href="Ledger.Conway.Conformance.Equivalence.html#17516" class="Bound">deps₂</a> <a id="17562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17564" href="Ledger.Conway.Conformance.Equivalence.html#17529" class="Bound">eqd</a> <a id="17568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17570" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17577" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a>
  <a id="17591" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="17602" class="Symbol">{</a><a id="17603" href="Ledger.Conway.Conformance.Equivalence.html#17603" class="Bound">Γ</a><a id="17604" class="Symbol">}</a> <a id="17606" href="Ledger.Conway.Conformance.Equivalence.html#17606" class="Bound">deps₁</a> <a id="17612" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">deps₂</a> <a id="17618" href="Ledger.Conway.Conformance.Equivalence.html#17618" class="Bound">deps₁&#39;</a> <a id="17625" href="Ledger.Conway.Conformance.Equivalence.html#17625" class="Bound">eqd</a> <a id="17629" class="Symbol">(</a><a id="17630" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17636" class="Symbol">(</a><a id="17637" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="17650" class="Symbol">{</a><a id="17651" class="Argument">dCert</a> <a id="17657" class="Symbol">=</a> <a id="17659" href="Ledger.Conway.Conformance.Equivalence.html#17659" class="Bound">cert</a><a id="17663" class="Symbol">}</a> <a id="17665" class="Symbol">(</a><a id="17666" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="17683" href="Ledger.Conway.Conformance.Equivalence.html#17683" class="Bound">h</a><a id="17684" class="Symbol">))</a>    <a id="17690" href="Ledger.Conway.Conformance.Equivalence.html#17690" class="Bound">rs</a><a id="17692" class="Symbol">)</a>
    <a id="17698" class="Symbol">=</a> <a id="17700" class="Keyword">let</a>
        <a id="17712" class="Keyword">open</a> <a id="17717" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="17727" href="Ledger.Conway.Conformance.Equivalence.html#17603" class="Bound">Γ</a> <a id="17729" class="Keyword">using</a> <a id="17735" class="Symbol">(</a><a id="17736" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="17738" class="Symbol">)</a>
        <a id="17748" href="Ledger.Conway.Conformance.Equivalence.html#17748" class="Bound">deps₂&#39;</a> <a id="17755" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17757" href="Ledger.Conway.Conformance.Equivalence.html#17757" class="Bound">eqd&#39;</a> <a id="17762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17764" href="Ledger.Conway.Conformance.Equivalence.html#17764" class="Bound">rs&#39;</a> <a id="17768" class="Symbol">=</a> <a id="17770" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="17781" class="Symbol">(</a><a id="17782" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="17793" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17796" href="Ledger.Conway.Conformance.Equivalence.html#17659" class="Bound">cert</a> <a id="17801" href="Ledger.Conway.Conformance.Equivalence.html#17606" class="Bound">deps₁</a><a id="17806" class="Symbol">)</a> <a id="17808" class="Symbol">(</a><a id="17809" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="17820" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17823" href="Ledger.Conway.Conformance.Equivalence.html#17659" class="Bound">cert</a> <a id="17828" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">deps₂</a><a id="17833" class="Symbol">)</a> <a id="17835" href="Ledger.Conway.Conformance.Equivalence.html#17618" class="Bound">deps₁&#39;</a>
                                         <a id="17883" class="Symbol">(</a><a id="17884" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="17886" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="17902" class="Symbol">{</a><a id="17903" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="17905" class="Symbol">}</a> <a id="17907" href="Ledger.Conway.Conformance.Equivalence.html#17659" class="Bound">cert</a> <a id="17912" class="Symbol">{</a><a id="17913" href="Ledger.Conway.Conformance.Equivalence.html#17606" class="Bound">deps₁</a> <a id="17919" class="Symbol">.</a><a id="17920" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17925" class="Symbol">}</a> <a id="17927" class="Symbol">{</a><a id="17928" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">deps₂</a> <a id="17934" class="Symbol">.</a><a id="17935" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17940" class="Symbol">}</a>
                                          <a id="17984" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="17986" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18002" class="Symbol">{</a><a id="18003" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18005" class="Symbol">}</a> <a id="18007" href="Ledger.Conway.Conformance.Equivalence.html#17659" class="Bound">cert</a> <a id="18012" class="Symbol">{</a><a id="18013" href="Ledger.Conway.Conformance.Equivalence.html#17606" class="Bound">deps₁</a> <a id="18019" class="Symbol">.</a><a id="18020" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18025" class="Symbol">}</a> <a id="18027" class="Symbol">{</a><a id="18028" href="Ledger.Conway.Conformance.Equivalence.html#17612" class="Bound">deps₂</a> <a id="18034" class="Symbol">.</a><a id="18035" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18040" class="Symbol">}</a> <a id="18042" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18044" href="Ledger.Conway.Conformance.Equivalence.html#17625" class="Bound">eqd</a><a id="18047" class="Symbol">)</a> <a id="18049" href="Ledger.Conway.Conformance.Equivalence.html#17690" class="Bound">rs</a>
        <a id="18060" class="Keyword">in</a>  <a id="18064" href="Ledger.Conway.Conformance.Equivalence.html#17748" class="Bound">deps₂&#39;</a> <a id="18071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18073" href="Ledger.Conway.Conformance.Equivalence.html#17757" class="Bound">eqd&#39;</a> <a id="18078" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18080" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18086" class="Symbol">(</a><a id="18087" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18100" class="Symbol">(</a><a id="18101" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="18118" href="Ledger.Conway.Conformance.Equivalence.html#17683" class="Bound">h</a><a id="18119" class="Symbol">))</a> <a id="18122" href="Ledger.Conway.Conformance.Equivalence.html#17764" class="Bound">rs&#39;</a>

  <a id="18129" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="18140" class="Symbol">{</a><a id="18141" href="Ledger.Conway.Conformance.Equivalence.html#18141" class="Bound">Γ</a><a id="18142" class="Symbol">}</a> <a id="18144" href="Ledger.Conway.Conformance.Equivalence.html#18144" class="Bound">deps₁</a> <a id="18150" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">deps₂</a> <a id="18156" href="Ledger.Conway.Conformance.Equivalence.html#18156" class="Bound">deps₁&#39;</a> <a id="18163" href="Ledger.Conway.Conformance.Equivalence.html#18163" class="Bound">eqd</a> <a id="18167" class="Symbol">(</a><a id="18168" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18174" class="Symbol">(</a><a id="18175" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18188" class="Symbol">{</a><a id="18189" class="Argument">dCert</a> <a id="18195" class="Symbol">=</a> <a id="18197" href="Ledger.Conway.Conformance.Equivalence.html#18197" class="Bound">cert</a><a id="18201" class="Symbol">}</a> <a id="18203" class="Symbol">(</a><a id="18204" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18218" class="Symbol">(</a><a id="18219" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">a</a> <a id="18221" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18223" href="Ledger.Conway.Conformance.Equivalence.html#18223" class="Bound">b</a> <a id="18225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18227" href="Ledger.Conway.Conformance.Equivalence.html#18227" class="Bound">c</a><a id="18228" class="Symbol">)))</a> <a id="18232" href="Ledger.Conway.Conformance.Equivalence.html#18232" class="Bound">rs</a><a id="18234" class="Symbol">)</a> <a id="18236" class="Symbol">=</a>
    <a id="18242" class="Keyword">let</a> <a id="18246" class="Keyword">open</a> <a id="18251" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18261" href="Ledger.Conway.Conformance.Equivalence.html#18141" class="Bound">Γ</a> <a id="18263" class="Keyword">using</a> <a id="18269" class="Symbol">(</a><a id="18270" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18272" class="Symbol">)</a>
        <a id="18282" href="Ledger.Conway.Conformance.Equivalence.html#18282" class="Bound">deps₂&#39;</a> <a id="18289" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18291" href="Ledger.Conway.Conformance.Equivalence.html#18291" class="Bound">eqd&#39;</a> <a id="18296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18298" href="Ledger.Conway.Conformance.Equivalence.html#18298" class="Bound">rs&#39;</a> <a id="18302" class="Symbol">=</a> <a id="18304" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="18315" class="Symbol">(</a><a id="18316" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="18327" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18330" href="Ledger.Conway.Conformance.Equivalence.html#18197" class="Bound">cert</a> <a id="18335" href="Ledger.Conway.Conformance.Equivalence.html#18144" class="Bound">deps₁</a><a id="18340" class="Symbol">)</a> <a id="18342" class="Symbol">(</a><a id="18343" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="18354" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18357" href="Ledger.Conway.Conformance.Equivalence.html#18197" class="Bound">cert</a> <a id="18362" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">deps₂</a><a id="18367" class="Symbol">)</a> <a id="18369" href="Ledger.Conway.Conformance.Equivalence.html#18156" class="Bound">deps₁&#39;</a>
                                         <a id="18417" class="Symbol">(</a><a id="18418" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18420" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="18436" class="Symbol">{</a><a id="18437" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18439" class="Symbol">}</a> <a id="18441" href="Ledger.Conway.Conformance.Equivalence.html#18197" class="Bound">cert</a> <a id="18446" class="Symbol">{</a><a id="18447" href="Ledger.Conway.Conformance.Equivalence.html#18144" class="Bound">deps₁</a> <a id="18453" class="Symbol">.</a><a id="18454" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18459" class="Symbol">}</a> <a id="18461" class="Symbol">{</a><a id="18462" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">deps₂</a> <a id="18468" class="Symbol">.</a><a id="18469" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18474" class="Symbol">}</a>
                                          <a id="18518" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="18520" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18536" class="Symbol">{</a><a id="18537" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18539" class="Symbol">}</a> <a id="18541" href="Ledger.Conway.Conformance.Equivalence.html#18197" class="Bound">cert</a> <a id="18546" class="Symbol">{</a><a id="18547" href="Ledger.Conway.Conformance.Equivalence.html#18144" class="Bound">deps₁</a> <a id="18553" class="Symbol">.</a><a id="18554" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18559" class="Symbol">}</a> <a id="18561" class="Symbol">{</a><a id="18562" href="Ledger.Conway.Conformance.Equivalence.html#18150" class="Bound">deps₂</a> <a id="18568" class="Symbol">.</a><a id="18569" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18574" class="Symbol">}</a> <a id="18576" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18578" href="Ledger.Conway.Conformance.Equivalence.html#18163" class="Bound">eqd</a><a id="18581" class="Symbol">)</a> <a id="18583" href="Ledger.Conway.Conformance.Equivalence.html#18232" class="Bound">rs</a>
    <a id="18590" class="Keyword">in</a>  <a id="18594" href="Ledger.Conway.Conformance.Equivalence.html#18282" class="Bound">deps₂&#39;</a> <a id="18601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18603" href="Ledger.Conway.Conformance.Equivalence.html#18291" class="Bound">eqd&#39;</a> <a id="18608" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18610" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18616" class="Symbol">(</a><a id="18617" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18630" class="Symbol">(</a><a id="18631" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18645" class="Symbol">(</a><a id="18646" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">a</a> <a id="18648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18650" href="Ledger.Conway.Conformance.Equivalence.html#18163" class="Bound">eqd</a> <a id="18654" class="Symbol">.</a><a id="18655" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18661" class="Symbol">.</a><a id="18662" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18668" href="Ledger.Conway.Conformance.Equivalence.html#18223" class="Bound">b</a> <a id="18670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18672" href="Ledger.Conway.Conformance.Equivalence.html#18227" class="Bound">c</a><a id="18673" class="Symbol">)))</a> <a id="18677" href="Ledger.Conway.Conformance.Equivalence.html#18298" class="Bound">rs&#39;</a>
  <a id="18683" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="18694" class="Symbol">{</a><a id="18695" href="Ledger.Conway.Conformance.Equivalence.html#18695" class="Bound">Γ</a><a id="18696" class="Symbol">}</a> <a id="18698" href="Ledger.Conway.Conformance.Equivalence.html#18698" class="Bound">deps₁</a> <a id="18704" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">deps₂</a> <a id="18710" href="Ledger.Conway.Conformance.Equivalence.html#18710" class="Bound">deps₁&#39;</a> <a id="18717" href="Ledger.Conway.Conformance.Equivalence.html#18717" class="Bound">eqd</a> <a id="18721" class="Symbol">(</a><a id="18722" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18728" class="Symbol">(</a><a id="18729" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18742" class="Symbol">{</a><a id="18743" class="Argument">dCert</a> <a id="18749" class="Symbol">=</a> <a id="18751" href="Ledger.Conway.Conformance.Equivalence.html#18751" class="Bound">cert</a><a id="18755" class="Symbol">}</a> <a id="18757" class="Symbol">(</a><a id="18758" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="18770" href="Ledger.Conway.Conformance.Equivalence.html#18770" class="Bound">h</a><a id="18771" class="Symbol">))</a>         <a id="18782" href="Ledger.Conway.Conformance.Equivalence.html#18782" class="Bound">rs</a><a id="18784" class="Symbol">)</a> <a id="18786" class="Symbol">=</a>
    <a id="18792" class="Keyword">let</a> <a id="18796" class="Keyword">open</a> <a id="18801" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18811" href="Ledger.Conway.Conformance.Equivalence.html#18695" class="Bound">Γ</a> <a id="18813" class="Keyword">using</a> <a id="18819" class="Symbol">(</a><a id="18820" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18822" class="Symbol">)</a>
        <a id="18832" href="Ledger.Conway.Conformance.Equivalence.html#18832" class="Bound">deps₂&#39;</a> <a id="18839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18841" href="Ledger.Conway.Conformance.Equivalence.html#18841" class="Bound">eqd&#39;</a> <a id="18846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18848" href="Ledger.Conway.Conformance.Equivalence.html#18848" class="Bound">rs&#39;</a> <a id="18852" class="Symbol">=</a> <a id="18854" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="18865" class="Symbol">(</a><a id="18866" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="18877" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18880" href="Ledger.Conway.Conformance.Equivalence.html#18751" class="Bound">cert</a> <a id="18885" href="Ledger.Conway.Conformance.Equivalence.html#18698" class="Bound">deps₁</a><a id="18890" class="Symbol">)</a> <a id="18892" class="Symbol">(</a><a id="18893" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="18904" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18907" href="Ledger.Conway.Conformance.Equivalence.html#18751" class="Bound">cert</a> <a id="18912" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">deps₂</a><a id="18917" class="Symbol">)</a> <a id="18919" href="Ledger.Conway.Conformance.Equivalence.html#18710" class="Bound">deps₁&#39;</a>
                                         <a id="18967" class="Symbol">(</a><a id="18968" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18970" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="18986" class="Symbol">{</a><a id="18987" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18989" class="Symbol">}</a> <a id="18991" href="Ledger.Conway.Conformance.Equivalence.html#18751" class="Bound">cert</a> <a id="18996" class="Symbol">{</a><a id="18997" href="Ledger.Conway.Conformance.Equivalence.html#18698" class="Bound">deps₁</a> <a id="19003" class="Symbol">.</a><a id="19004" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19009" class="Symbol">}</a> <a id="19011" class="Symbol">{</a><a id="19012" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">deps₂</a> <a id="19018" class="Symbol">.</a><a id="19019" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19024" class="Symbol">}</a>
                                          <a id="19068" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="19070" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="19086" class="Symbol">{</a><a id="19087" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19089" class="Symbol">}</a> <a id="19091" href="Ledger.Conway.Conformance.Equivalence.html#18751" class="Bound">cert</a> <a id="19096" class="Symbol">{</a><a id="19097" href="Ledger.Conway.Conformance.Equivalence.html#18698" class="Bound">deps₁</a> <a id="19103" class="Symbol">.</a><a id="19104" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19109" class="Symbol">}</a> <a id="19111" class="Symbol">{</a><a id="19112" href="Ledger.Conway.Conformance.Equivalence.html#18704" class="Bound">deps₂</a> <a id="19118" class="Symbol">.</a><a id="19119" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19124" class="Symbol">}</a> <a id="19126" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="19128" href="Ledger.Conway.Conformance.Equivalence.html#18717" class="Bound">eqd</a><a id="19131" class="Symbol">)</a> <a id="19133" href="Ledger.Conway.Conformance.Equivalence.html#18782" class="Bound">rs</a>
    <a id="19140" class="Keyword">in</a>  <a id="19144" href="Ledger.Conway.Conformance.Equivalence.html#18832" class="Bound">deps₂&#39;</a> <a id="19151" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19153" href="Ledger.Conway.Conformance.Equivalence.html#18841" class="Bound">eqd&#39;</a> <a id="19158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19160" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19166" class="Symbol">(</a><a id="19167" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="19180" class="Symbol">(</a><a id="19181" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="19193" href="Ledger.Conway.Conformance.Equivalence.html#18770" class="Bound">h</a><a id="19194" class="Symbol">))</a> <a id="19197" href="Ledger.Conway.Conformance.Equivalence.html#18848" class="Bound">rs&#39;</a>

  <a id="19204" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19215" class="Symbol">{</a><a id="19216" href="Ledger.Conway.Conformance.Equivalence.html#19216" class="Bound">Γ</a><a id="19217" class="Symbol">}</a> <a id="19219" href="Ledger.Conway.Conformance.Equivalence.html#19219" class="Bound">deps₁</a> <a id="19225" href="Ledger.Conway.Conformance.Equivalence.html#19225" class="Bound">deps₂</a> <a id="19231" href="Ledger.Conway.Conformance.Equivalence.html#19231" class="Bound">deps₁&#39;</a> <a id="19238" href="Ledger.Conway.Conformance.Equivalence.html#19238" class="Bound">eqd</a> <a id="19242" class="Symbol">(</a><a id="19243" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19249" class="Symbol">(</a><a id="19250" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19263" class="Symbol">{</a><a id="19264" class="Argument">dCert</a> <a id="19270" class="Symbol">=</a> <a id="19272" href="Ledger.Conway.Conformance.Equivalence.html#19272" class="Bound">cert</a><a id="19276" class="Symbol">}</a> <a id="19278" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19292" class="Symbol">)</a>          <a id="19303" href="Ledger.Conway.Conformance.Equivalence.html#19303" class="Bound">rs</a><a id="19305" class="Symbol">)</a> <a id="19307" class="Symbol">=</a>
    <a id="19313" class="Keyword">let</a> <a id="19317" href="Ledger.Conway.Conformance.Equivalence.html#19317" class="Bound">deps₂&#39;</a> <a id="19324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19326" href="Ledger.Conway.Conformance.Equivalence.html#19326" class="Bound">eqd&#39;</a> <a id="19331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19333" href="Ledger.Conway.Conformance.Equivalence.html#19333" class="Bound">rs&#39;</a> <a id="19337" class="Symbol">=</a> <a id="19339" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19350" href="Ledger.Conway.Conformance.Equivalence.html#19219" class="Bound">deps₁</a> <a id="19356" href="Ledger.Conway.Conformance.Equivalence.html#19225" class="Bound">deps₂</a> <a id="19362" href="Ledger.Conway.Conformance.Equivalence.html#19231" class="Bound">deps₁&#39;</a> <a id="19369" href="Ledger.Conway.Conformance.Equivalence.html#19238" class="Bound">eqd</a> <a id="19373" href="Ledger.Conway.Conformance.Equivalence.html#19303" class="Bound">rs</a>
    <a id="19380" class="Keyword">in</a>  <a id="19384" href="Ledger.Conway.Conformance.Equivalence.html#19317" class="Bound">deps₂&#39;</a> <a id="19391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19393" href="Ledger.Conway.Conformance.Equivalence.html#19326" class="Bound">eqd&#39;</a> <a id="19398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19400" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a>  <a id="19407" class="Symbol">(</a><a id="19408" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19420" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19434" class="Symbol">)</a> <a id="19436" href="Ledger.Conway.Conformance.Equivalence.html#19333" class="Bound">rs&#39;</a>

  <a id="19443" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19454" class="Symbol">{</a><a id="19455" href="Ledger.Conway.Conformance.Equivalence.html#19455" class="Bound">Γ</a><a id="19456" class="Symbol">}</a> <a id="19458" href="Ledger.Conway.Conformance.Equivalence.html#19458" class="Bound">deps₁</a> <a id="19464" href="Ledger.Conway.Conformance.Equivalence.html#19464" class="Bound">deps₂</a> <a id="19470" href="Ledger.Conway.Conformance.Equivalence.html#19470" class="Bound">deps₁&#39;</a> <a id="19477" href="Ledger.Conway.Conformance.Equivalence.html#19477" class="Bound">eqd</a> <a id="19481" class="Symbol">(</a><a id="19482" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19488" class="Symbol">(</a><a id="19489" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19502" class="Symbol">{</a><a id="19503" class="Argument">dCert</a> <a id="19509" class="Symbol">=</a> <a id="19511" href="Ledger.Conway.Conformance.Equivalence.html#19511" class="Bound">cert</a><a id="19515" class="Symbol">}</a> <a id="19517" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19534" class="Symbol">)</a>       <a id="19542" href="Ledger.Conway.Conformance.Equivalence.html#19542" class="Bound">rs</a><a id="19544" class="Symbol">)</a> <a id="19546" class="Symbol">=</a>
    <a id="19552" class="Keyword">let</a> <a id="19556" href="Ledger.Conway.Conformance.Equivalence.html#19556" class="Bound">deps₂&#39;</a> <a id="19563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19565" href="Ledger.Conway.Conformance.Equivalence.html#19565" class="Bound">eqd&#39;</a> <a id="19570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19572" href="Ledger.Conway.Conformance.Equivalence.html#19572" class="Bound">rs&#39;</a> <a id="19576" class="Symbol">=</a> <a id="19578" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19589" href="Ledger.Conway.Conformance.Equivalence.html#19458" class="Bound">deps₁</a> <a id="19595" href="Ledger.Conway.Conformance.Equivalence.html#19464" class="Bound">deps₂</a> <a id="19601" href="Ledger.Conway.Conformance.Equivalence.html#19470" class="Bound">deps₁&#39;</a> <a id="19608" href="Ledger.Conway.Conformance.Equivalence.html#19477" class="Bound">eqd</a> <a id="19612" href="Ledger.Conway.Conformance.Equivalence.html#19542" class="Bound">rs</a>
    <a id="19619" class="Keyword">in</a>  <a id="19623" href="Ledger.Conway.Conformance.Equivalence.html#19556" class="Bound">deps₂&#39;</a> <a id="19630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19632" href="Ledger.Conway.Conformance.Equivalence.html#19565" class="Bound">eqd&#39;</a> <a id="19637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19639" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19645" class="Symbol">(</a><a id="19646" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19658" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19675" class="Symbol">)</a> <a id="19677" href="Ledger.Conway.Conformance.Equivalence.html#19572" class="Bound">rs&#39;</a>
  <a id="19683" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19694" class="Symbol">{</a><a id="19695" href="Ledger.Conway.Conformance.Equivalence.html#19695" class="Bound">Γ</a><a id="19696" class="Symbol">}</a> <a id="19698" href="Ledger.Conway.Conformance.Equivalence.html#19698" class="Bound">deps₁</a> <a id="19704" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">deps₂</a> <a id="19710" href="Ledger.Conway.Conformance.Equivalence.html#19710" class="Bound">deps₁&#39;</a> <a id="19717" href="Ledger.Conway.Conformance.Equivalence.html#19717" class="Bound">eqd</a> <a id="19721" class="Symbol">(</a><a id="19722" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19728" class="Symbol">(</a><a id="19729" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="19742" class="Symbol">{</a><a id="19743" class="Argument">dCert</a> <a id="19749" class="Symbol">=</a> <a id="19751" href="Ledger.Conway.Conformance.Equivalence.html#19751" class="Bound">cert</a><a id="19755" class="Symbol">}</a> <a id="19757" class="Symbol">(</a><a id="19758" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="19776" href="Ledger.Conway.Conformance.Equivalence.html#19776" class="Bound">h</a><a id="19777" class="Symbol">))</a>   <a id="19782" href="Ledger.Conway.Conformance.Equivalence.html#19782" class="Bound">rs</a><a id="19784" class="Symbol">)</a> <a id="19786" class="Symbol">=</a>
    <a id="19792" class="Keyword">let</a> <a id="19796" class="Keyword">open</a> <a id="19801" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="19811" href="Ledger.Conway.Conformance.Equivalence.html#19695" class="Bound">Γ</a> <a id="19813" class="Keyword">using</a> <a id="19819" class="Symbol">(</a><a id="19820" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="19822" class="Symbol">)</a>
        <a id="19832" href="Ledger.Conway.Conformance.Equivalence.html#19832" class="Bound">deps₂&#39;</a> <a id="19839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19841" href="Ledger.Conway.Conformance.Equivalence.html#19841" class="Bound">eqd&#39;</a> <a id="19846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19848" href="Ledger.Conway.Conformance.Equivalence.html#19848" class="Bound">rs&#39;</a> <a id="19852" class="Symbol">=</a> <a id="19854" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="19865" class="Symbol">(</a><a id="19866" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="19877" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19880" href="Ledger.Conway.Conformance.Equivalence.html#19751" class="Bound">cert</a> <a id="19885" href="Ledger.Conway.Conformance.Equivalence.html#19698" class="Bound">deps₁</a><a id="19890" class="Symbol">)</a> <a id="19892" class="Symbol">(</a><a id="19893" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="19904" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19907" href="Ledger.Conway.Conformance.Equivalence.html#19751" class="Bound">cert</a> <a id="19912" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">deps₂</a><a id="19917" class="Symbol">)</a> <a id="19919" href="Ledger.Conway.Conformance.Equivalence.html#19710" class="Bound">deps₁&#39;</a>
                                         <a id="19967" class="Symbol">(</a><a id="19968" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="19970" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="19986" class="Symbol">{</a><a id="19987" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19989" class="Symbol">}</a> <a id="19991" href="Ledger.Conway.Conformance.Equivalence.html#19751" class="Bound">cert</a> <a id="19996" class="Symbol">{</a><a id="19997" href="Ledger.Conway.Conformance.Equivalence.html#19698" class="Bound">deps₁</a> <a id="20003" class="Symbol">.</a><a id="20004" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20009" class="Symbol">}</a> <a id="20011" class="Symbol">{</a><a id="20012" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">deps₂</a> <a id="20018" class="Symbol">.</a><a id="20019" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20024" class="Symbol">}</a>
                                          <a id="20068" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20070" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20086" class="Symbol">{</a><a id="20087" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20089" class="Symbol">}</a> <a id="20091" href="Ledger.Conway.Conformance.Equivalence.html#19751" class="Bound">cert</a> <a id="20096" class="Symbol">{</a><a id="20097" href="Ledger.Conway.Conformance.Equivalence.html#19698" class="Bound">deps₁</a> <a id="20103" class="Symbol">.</a><a id="20104" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20109" class="Symbol">}</a> <a id="20111" class="Symbol">{</a><a id="20112" href="Ledger.Conway.Conformance.Equivalence.html#19704" class="Bound">deps₂</a> <a id="20118" class="Symbol">.</a><a id="20119" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20124" class="Symbol">}</a> <a id="20126" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20128" href="Ledger.Conway.Conformance.Equivalence.html#19717" class="Bound">eqd</a><a id="20131" class="Symbol">)</a> <a id="20133" href="Ledger.Conway.Conformance.Equivalence.html#19782" class="Bound">rs</a>
    <a id="20140" class="Keyword">in</a>  <a id="20144" href="Ledger.Conway.Conformance.Equivalence.html#19832" class="Bound">deps₂&#39;</a> <a id="20151" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20153" href="Ledger.Conway.Conformance.Equivalence.html#19841" class="Bound">eqd&#39;</a> <a id="20158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20160" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20166" class="Symbol">(</a><a id="20167" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20179" class="Symbol">(</a><a id="20180" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="20198" href="Ledger.Conway.Conformance.Equivalence.html#19776" class="Bound">h</a><a id="20199" class="Symbol">))</a> <a id="20202" href="Ledger.Conway.Conformance.Equivalence.html#19848" class="Bound">rs&#39;</a>
  <a id="20208" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="20219" class="Symbol">{</a><a id="20220" href="Ledger.Conway.Conformance.Equivalence.html#20220" class="Bound">Γ</a><a id="20221" class="Symbol">}</a> <a id="20223" href="Ledger.Conway.Conformance.Equivalence.html#20223" class="Bound">deps₁</a> <a id="20229" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">deps₂</a> <a id="20235" href="Ledger.Conway.Conformance.Equivalence.html#20235" class="Bound">deps₁&#39;</a> <a id="20242" href="Ledger.Conway.Conformance.Equivalence.html#20242" class="Bound">eqd</a> <a id="20246" class="Symbol">(</a><a id="20247" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20253" class="Symbol">(</a><a id="20254" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20267" class="Symbol">{</a><a id="20268" class="Argument">dCert</a> <a id="20274" class="Symbol">=</a> <a id="20276" href="Ledger.Conway.Conformance.Equivalence.html#20276" class="Bound">cert</a><a id="20280" class="Symbol">}</a> <a id="20282" class="Symbol">(</a><a id="20283" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20303" class="Symbol">(</a><a id="20304" href="Ledger.Conway.Conformance.Equivalence.html#20304" class="Bound">a</a> <a id="20306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20308" href="Ledger.Conway.Conformance.Equivalence.html#20308" class="Bound">b</a><a id="20309" class="Symbol">)))</a> <a id="20313" href="Ledger.Conway.Conformance.Equivalence.html#20313" class="Bound">rs</a><a id="20315" class="Symbol">)</a> <a id="20317" class="Symbol">=</a>
    <a id="20323" class="Keyword">let</a> <a id="20327" class="Keyword">open</a> <a id="20332" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="20342" href="Ledger.Conway.Conformance.Equivalence.html#20220" class="Bound">Γ</a> <a id="20344" class="Keyword">using</a> <a id="20350" class="Symbol">(</a><a id="20351" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="20353" class="Symbol">)</a>
        <a id="20363" href="Ledger.Conway.Conformance.Equivalence.html#20363" class="Bound">deps₂&#39;</a> <a id="20370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20372" href="Ledger.Conway.Conformance.Equivalence.html#20372" class="Bound">eqd&#39;</a> <a id="20377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20379" href="Ledger.Conway.Conformance.Equivalence.html#20379" class="Bound">rs&#39;</a> <a id="20383" class="Symbol">=</a> <a id="20385" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="20396" class="Symbol">(</a><a id="20397" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="20408" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20411" href="Ledger.Conway.Conformance.Equivalence.html#20276" class="Bound">cert</a> <a id="20416" href="Ledger.Conway.Conformance.Equivalence.html#20223" class="Bound">deps₁</a><a id="20421" class="Symbol">)</a> <a id="20423" class="Symbol">(</a><a id="20424" href="Ledger.Conway.Conformance.Equivalence.html#16946" class="Function">updateCDep</a> <a id="20435" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20438" href="Ledger.Conway.Conformance.Equivalence.html#20276" class="Bound">cert</a> <a id="20443" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">deps₂</a><a id="20448" class="Symbol">)</a> <a id="20450" href="Ledger.Conway.Conformance.Equivalence.html#20235" class="Bound">deps₁&#39;</a>
                                         <a id="20498" class="Symbol">(</a><a id="20499" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="20501" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="20517" class="Symbol">{</a><a id="20518" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20520" class="Symbol">}</a> <a id="20522" href="Ledger.Conway.Conformance.Equivalence.html#20276" class="Bound">cert</a> <a id="20527" class="Symbol">{</a><a id="20528" href="Ledger.Conway.Conformance.Equivalence.html#20223" class="Bound">deps₁</a> <a id="20534" class="Symbol">.</a><a id="20535" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20540" class="Symbol">}</a> <a id="20542" class="Symbol">{</a><a id="20543" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">deps₂</a> <a id="20549" class="Symbol">.</a><a id="20550" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20555" class="Symbol">}</a>
                                          <a id="20599" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20601" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20617" class="Symbol">{</a><a id="20618" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20620" class="Symbol">}</a> <a id="20622" href="Ledger.Conway.Conformance.Equivalence.html#20276" class="Bound">cert</a> <a id="20627" class="Symbol">{</a><a id="20628" href="Ledger.Conway.Conformance.Equivalence.html#20223" class="Bound">deps₁</a> <a id="20634" class="Symbol">.</a><a id="20635" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20640" class="Symbol">}</a> <a id="20642" class="Symbol">{</a><a id="20643" href="Ledger.Conway.Conformance.Equivalence.html#20229" class="Bound">deps₂</a> <a id="20649" class="Symbol">.</a><a id="20650" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20655" class="Symbol">}</a> <a id="20657" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20659" href="Ledger.Conway.Conformance.Equivalence.html#20242" class="Bound">eqd</a><a id="20662" class="Symbol">)</a> <a id="20664" href="Ledger.Conway.Conformance.Equivalence.html#20313" class="Bound">rs</a>
    <a id="20671" class="Keyword">in</a>  <a id="20675" href="Ledger.Conway.Conformance.Equivalence.html#20363" class="Bound">deps₂&#39;</a> <a id="20682" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20684" href="Ledger.Conway.Conformance.Equivalence.html#20372" class="Bound">eqd&#39;</a> <a id="20689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20691" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20697" class="Symbol">(</a><a id="20698" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20710" class="Symbol">(</a><a id="20711" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20731" class="Symbol">(</a><a id="20732" href="Ledger.Conway.Conformance.Equivalence.html#20304" class="Bound">a</a> <a id="20734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20736" href="Ledger.Conway.Conformance.Equivalence.html#20242" class="Bound">eqd</a> <a id="20740" class="Symbol">.</a><a id="20741" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20747" class="Symbol">.</a><a id="20748" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="20754" href="Ledger.Conway.Conformance.Equivalence.html#20308" class="Bound">b</a><a id="20755" class="Symbol">)))</a> <a id="20759" href="Ledger.Conway.Conformance.Equivalence.html#20379" class="Bound">rs&#39;</a>
                                                                   <a id="20830" class="Comment">-- ^^^^^^^^^^^^^^^^^^^ Actual work</a>
  <a id="20867" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="20878" class="Symbol">{</a><a id="20879" href="Ledger.Conway.Conformance.Equivalence.html#20879" class="Bound">Γ</a><a id="20880" class="Symbol">}</a> <a id="20882" href="Ledger.Conway.Conformance.Equivalence.html#20882" class="Bound">deps₁</a> <a id="20888" href="Ledger.Conway.Conformance.Equivalence.html#20888" class="Bound">deps₂</a> <a id="20894" href="Ledger.Conway.Conformance.Equivalence.html#20894" class="Bound">deps₁&#39;</a> <a id="20901" href="Ledger.Conway.Conformance.Equivalence.html#20901" class="Bound">eqd</a> <a id="20905" class="Symbol">(</a><a id="20906" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20912" class="Symbol">(</a><a id="20913" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20926" class="Symbol">{</a><a id="20927" class="Argument">dCert</a> <a id="20933" class="Symbol">=</a> <a id="20935" href="Ledger.Conway.Conformance.Equivalence.html#20935" class="Bound">cert</a><a id="20939" class="Symbol">}</a> <a id="20941" class="Symbol">(</a><a id="20942" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20961" href="Ledger.Conway.Conformance.Equivalence.html#20961" class="Bound">h</a><a id="20962" class="Symbol">))</a>  <a id="20966" href="Ledger.Conway.Conformance.Equivalence.html#20966" class="Bound">rs</a><a id="20968" class="Symbol">)</a> <a id="20970" class="Symbol">=</a>
    <a id="20976" class="Keyword">let</a> <a id="20980" href="Ledger.Conway.Conformance.Equivalence.html#20980" class="Bound">deps₂&#39;</a> <a id="20987" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20989" href="Ledger.Conway.Conformance.Equivalence.html#20989" class="Bound">eqd&#39;</a> <a id="20994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20996" href="Ledger.Conway.Conformance.Equivalence.html#20996" class="Bound">rs&#39;</a> <a id="21000" class="Symbol">=</a> <a id="21002" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="21013" href="Ledger.Conway.Conformance.Equivalence.html#20882" class="Bound">deps₁</a> <a id="21019" href="Ledger.Conway.Conformance.Equivalence.html#20888" class="Bound">deps₂</a> <a id="21025" href="Ledger.Conway.Conformance.Equivalence.html#20894" class="Bound">deps₁&#39;</a> <a id="21032" href="Ledger.Conway.Conformance.Equivalence.html#20901" class="Bound">eqd</a> <a id="21036" href="Ledger.Conway.Conformance.Equivalence.html#20966" class="Bound">rs</a>
    <a id="21043" class="Keyword">in</a>  <a id="21047" href="Ledger.Conway.Conformance.Equivalence.html#20980" class="Bound">deps₂&#39;</a> <a id="21054" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21056" href="Ledger.Conway.Conformance.Equivalence.html#20989" class="Bound">eqd&#39;</a> <a id="21061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21063" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="21069" class="Symbol">(</a><a id="21070" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="21082" class="Symbol">(</a><a id="21083" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="21102" href="Ledger.Conway.Conformance.Equivalence.html#20961" class="Bound">h</a><a id="21103" class="Symbol">))</a> <a id="21106" href="Ledger.Conway.Conformance.Equivalence.html#20996" class="Bound">rs&#39;</a>

  <a id="castCERTS"></a><a id="21113" href="Ledger.Conway.Conformance.Equivalence.html#21113" class="Function">castCERTS</a> <a id="21123" class="Symbol">:</a> <a id="21125" class="Symbol">∀</a> <a id="21127" class="Symbol">{</a><a id="21128" href="Ledger.Conway.Conformance.Equivalence.html#21128" class="Bound">Γ</a> <a id="21130" href="Ledger.Conway.Conformance.Equivalence.html#21130" class="Bound">certs</a><a id="21135" class="Symbol">}</a> <a id="21137" class="Symbol">{</a><a id="21138" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">s</a> <a id="21140" href="Ledger.Conway.Conformance.Equivalence.html#21140" class="Bound">s&#39;</a> <a id="21143" class="Symbol">:</a> <a id="21145" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="21156" class="Symbol">}</a> <a id="21158" href="Ledger.Conway.Conformance.Equivalence.html#21158" class="Bound">deps₁</a> <a id="21164" href="Ledger.Conway.Conformance.Equivalence.html#21164" class="Bound">deps₂</a> <a id="21170" href="Ledger.Conway.Conformance.Equivalence.html#21170" class="Bound">deps₁&#39;</a>
            <a id="21189" class="Symbol">→</a> <a id="21191" href="Ledger.Conway.Conformance.Equivalence.html#21158" class="Bound">deps₁</a> <a id="21197" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21200" href="Ledger.Conway.Conformance.Equivalence.html#21164" class="Bound">deps₂</a>
            <a id="21218" class="Symbol">→</a> <a id="21220" href="Ledger.Conway.Conformance.Equivalence.html#21128" class="Bound">Γ</a> <a id="21222" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21226" href="Ledger.Conway.Conformance.Equivalence.html#21158" class="Bound">deps₁</a> <a id="21232" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21238" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">s</a> <a id="21240" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21243" href="Ledger.Conway.Conformance.Equivalence.html#21130" class="Bound">certs</a> <a id="21249" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21257" class="Symbol">(</a><a id="21258" href="Ledger.Conway.Conformance.Equivalence.html#21170" class="Bound">deps₁&#39;</a> <a id="21265" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21271" href="Ledger.Conway.Conformance.Equivalence.html#21140" class="Bound">s&#39;</a><a id="21273" class="Symbol">)</a>
            <a id="21287" class="Symbol">→</a> <a id="21289" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21292" href="Ledger.Conway.Conformance.Equivalence.html#21292" class="Bound">deps₂&#39;</a> <a id="21299" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21301" href="Ledger.Conway.Conformance.Equivalence.html#21170" class="Bound">deps₁&#39;</a> <a id="21308" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21311" href="Ledger.Conway.Conformance.Equivalence.html#21292" class="Bound">deps₂&#39;</a> <a id="21318" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21320" href="Ledger.Conway.Conformance.Equivalence.html#21128" class="Bound">Γ</a> <a id="21322" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21326" href="Ledger.Conway.Conformance.Equivalence.html#21164" class="Bound">deps₂</a> <a id="21332" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21338" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">s</a> <a id="21340" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21343" href="Ledger.Conway.Conformance.Equivalence.html#21130" class="Bound">certs</a> <a id="21349" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21357" class="Symbol">(</a><a id="21358" href="Ledger.Conway.Conformance.Equivalence.html#21292" class="Bound">deps₂&#39;</a> <a id="21365" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21371" href="Ledger.Conway.Conformance.Equivalence.html#21140" class="Bound">s&#39;</a><a id="21373" class="Symbol">)</a>
  <a id="21377" href="Ledger.Conway.Conformance.Equivalence.html#21113" class="Function">castCERTS</a> <a id="21387" href="Ledger.Conway.Conformance.Equivalence.html#21387" class="Bound">deps₁</a> <a id="21393" href="Ledger.Conway.Conformance.Equivalence.html#21393" class="Bound">deps₂</a> <a id="21399" href="Ledger.Conway.Conformance.Equivalence.html#21399" class="Bound">deps₁&#39;</a> <a id="21406" href="Ledger.Conway.Conformance.Equivalence.html#21406" class="Bound">eqd</a> <a id="21410" class="Symbol">(</a><a id="21411" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21415" class="Symbol">(</a><a id="21416" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21427" href="Ledger.Conway.Conformance.Equivalence.html#21427" class="Bound">h</a> <a id="21429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21431" href="Ledger.Conway.Conformance.Equivalence.html#21431" class="Bound">step</a><a id="21435" class="Symbol">))</a> <a id="21438" class="Symbol">=</a>
    <a id="21444" class="Keyword">let</a> <a id="21448" href="Ledger.Conway.Conformance.Equivalence.html#21448" class="Bound">deps₂&#39;</a> <a id="21455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21457" href="Ledger.Conway.Conformance.Equivalence.html#21457" class="Bound">eqd&#39;</a> <a id="21462" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21464" href="Ledger.Conway.Conformance.Equivalence.html#21464" class="Bound">step&#39;</a> <a id="21470" class="Symbol">=</a> <a id="21472" href="Ledger.Conway.Conformance.Equivalence.html#17124" class="Function">castCERTS&#39;</a> <a id="21483" href="Ledger.Conway.Conformance.Equivalence.html#21387" class="Bound">deps₁</a> <a id="21489" href="Ledger.Conway.Conformance.Equivalence.html#21393" class="Bound">deps₂</a> <a id="21495" href="Ledger.Conway.Conformance.Equivalence.html#21399" class="Bound">deps₁&#39;</a> <a id="21502" href="Ledger.Conway.Conformance.Equivalence.html#21406" class="Bound">eqd</a> <a id="21506" href="Ledger.Conway.Conformance.Equivalence.html#21431" class="Bound">step</a>
    <a id="21515" class="Keyword">in</a>  <a id="21519" href="Ledger.Conway.Conformance.Equivalence.html#21448" class="Bound">deps₂&#39;</a> <a id="21526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21528" href="Ledger.Conway.Conformance.Equivalence.html#21457" class="Bound">eqd&#39;</a> <a id="21533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21535" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21539" class="Symbol">(</a><a id="21540" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21551" href="Ledger.Conway.Conformance.Equivalence.html#21427" class="Bound">h</a> <a id="21553" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21555" href="Ledger.Conway.Conformance.Equivalence.html#21464" class="Bound">step&#39;</a><a id="21560" class="Symbol">)</a>

<a id="_⊢_⇀⦇_,GOVn⦈_"></a><a id="21563" href="Ledger.Conway.Conformance.Equivalence.html#21563" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21577" class="Symbol">:</a> <a id="21579" href="Ledger.Conway.Specification.Gov.html#1654" class="Record">L.GovEnv</a> <a id="21588" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21590" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="21592" class="Symbol">→</a> <a id="21594" href="Ledger.Conway.Specification.Gov.html#1465" class="Function">L.GovState</a> <a id="21605" class="Symbol">→</a> <a id="21607" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21612" class="Symbol">(</a><a id="21613" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a> <a id="21621" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="21623" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a><a id="21634" class="Symbol">)</a> <a id="21636" class="Symbol">→</a> <a id="21638" href="Ledger.Conway.Specification.Gov.html#1465" class="Function">L.GovState</a> <a id="21649" class="Symbol">→</a> <a id="21651" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="21656" href="Ledger.Conway.Conformance.Equivalence.html#21563" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21670" class="Symbol">=</a> <a id="21672" href="Interface.STS.html#1505" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="21684" class="Symbol">{</a><a id="21685" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="21695" class="Symbol">=</a> <a id="21697" href="Interface.STS.html#1981" class="Datatype">IdSTS</a><a id="21702" class="Symbol">}</a> <a id="21704" class="Symbol">{</a><a id="21705" class="Argument">_⊢_⇀⟦_⟧_</a> <a id="21714" class="Symbol">=</a> <a id="21716" href="Ledger.Conway.Specification.Gov.html#15380" class="Datatype Operator">L._⊢_⇀⦇_,GOV⦈_</a><a id="21730" class="Symbol">}</a>

<a id="21733" class="Keyword">opaque</a>
  <a id="castLEDGER"></a><a id="21742" href="Ledger.Conway.Conformance.Equivalence.html#21742" class="Function">castLEDGER</a> <a id="21753" class="Symbol">:</a> <a id="21755" class="Symbol">∀</a> <a id="21757" class="Symbol">{</a><a id="21758" href="Ledger.Conway.Conformance.Equivalence.html#21758" class="Bound">Γ</a> <a id="21760" href="Ledger.Conway.Conformance.Equivalence.html#21760" class="Bound">tx</a><a id="21762" class="Symbol">}</a> <a id="21764" class="Symbol">{</a><a id="21765" href="Ledger.Conway.Conformance.Equivalence.html#21765" class="Bound">s</a> <a id="21767" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">s&#39;</a> <a id="21770" class="Symbol">:</a> <a id="21772" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a><a id="21780" class="Symbol">}</a> <a id="21782" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">deps₁</a> <a id="21788" href="Ledger.Conway.Conformance.Equivalence.html#21788" class="Bound">deps₂</a> <a id="21794" href="Ledger.Conway.Conformance.Equivalence.html#21794" class="Bound">deps₁&#39;</a>
            <a id="21813" class="Symbol">→</a> <a id="21815" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">deps₁</a> <a id="21821" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21824" href="Ledger.Conway.Conformance.Equivalence.html#21788" class="Bound">deps₂</a>
            <a id="21842" class="Symbol">→</a> <a id="21844" href="Ledger.Conway.Conformance.Equivalence.html#21758" class="Bound">Γ</a> <a id="21846" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21850" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">deps₁</a> <a id="21856" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21862" href="Ledger.Conway.Conformance.Equivalence.html#21765" class="Bound">s</a> <a id="21864" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21867" href="Ledger.Conway.Conformance.Equivalence.html#21760" class="Bound">tx</a> <a id="21870" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21879" class="Symbol">(</a><a id="21880" href="Ledger.Conway.Conformance.Equivalence.html#21794" class="Bound">deps₁&#39;</a> <a id="21887" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21893" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">s&#39;</a><a id="21895" class="Symbol">)</a>
            <a id="21909" class="Symbol">→</a> <a id="21911" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21914" href="Ledger.Conway.Conformance.Equivalence.html#21914" class="Bound">deps₂&#39;</a> <a id="21921" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21923" href="Ledger.Conway.Conformance.Equivalence.html#21794" class="Bound">deps₁&#39;</a> <a id="21930" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21933" href="Ledger.Conway.Conformance.Equivalence.html#21914" class="Bound">deps₂&#39;</a> <a id="21940" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21942" href="Ledger.Conway.Conformance.Equivalence.html#21758" class="Bound">Γ</a> <a id="21944" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21948" href="Ledger.Conway.Conformance.Equivalence.html#21788" class="Bound">deps₂</a> <a id="21954" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21960" href="Ledger.Conway.Conformance.Equivalence.html#21765" class="Bound">s</a> <a id="21962" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21965" href="Ledger.Conway.Conformance.Equivalence.html#21760" class="Bound">tx</a> <a id="21968" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21977" class="Symbol">(</a><a id="21978" href="Ledger.Conway.Conformance.Equivalence.html#21914" class="Bound">deps₂&#39;</a> <a id="21985" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21991" href="Ledger.Conway.Conformance.Equivalence.html#21767" class="Bound">s&#39;</a><a id="21993" class="Symbol">)</a>
  <a id="21997" href="Ledger.Conway.Conformance.Equivalence.html#21742" class="Function">castLEDGER</a> <a id="22008" class="Symbol">{</a><a id="22009" href="Ledger.Conway.Conformance.Equivalence.html#22009" class="Bound">Γ</a><a id="22010" class="Symbol">}</a> <a id="22012" class="Symbol">{</a><a id="22013" href="Ledger.Conway.Conformance.Equivalence.html#22013" class="Bound">tx</a><a id="22015" class="Symbol">}</a> <a id="22017" class="Symbol">{</a><a id="22018" href="Ledger.Conway.Conformance.Equivalence.html#22018" class="Bound">s</a><a id="22019" class="Symbol">}</a> <a id="22021" class="Symbol">{</a><a id="22022" href="Ledger.Conway.Conformance.Equivalence.html#22022" class="Bound">s&#39;</a><a id="22024" class="Symbol">}</a> <a id="22026" href="Ledger.Conway.Conformance.Equivalence.html#22026" class="Bound">deps₁</a> <a id="22032" href="Ledger.Conway.Conformance.Equivalence.html#22032" class="Bound">deps₂</a> <a id="22038" href="Ledger.Conway.Conformance.Equivalence.html#22038" class="Bound">deps₁&#39;</a> <a id="22045" href="Ledger.Conway.Conformance.Equivalence.html#22045" class="Bound">eqd</a> <a id="22049" class="Symbol">(</a><a id="22050" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22062" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22067" href="Ledger.Conway.Conformance.Equivalence.html#22067" class="Bound">utxo</a> <a id="22072" href="Ledger.Conway.Conformance.Equivalence.html#22072" class="Bound">certs</a> <a id="22078" href="Ledger.Conway.Conformance.Equivalence.html#22078" class="Bound">gov</a><a id="22081" class="Symbol">)</a> <a id="22083" class="Symbol">=</a>
    <a id="22089" class="Keyword">let</a> <a id="22093" href="Ledger.Conway.Conformance.Equivalence.html#22093" class="Bound">deps₂&#39;</a> <a id="22100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22102" href="Ledger.Conway.Conformance.Equivalence.html#22102" class="Bound">eqd&#39;</a> <a id="22107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22109" href="Ledger.Conway.Conformance.Equivalence.html#22109" class="Bound">certs&#39;</a> <a id="22116" class="Symbol">=</a> <a id="22118" href="Ledger.Conway.Conformance.Equivalence.html#21113" class="Function">castCERTS</a> <a id="22128" href="Ledger.Conway.Conformance.Equivalence.html#22026" class="Bound">deps₁</a> <a id="22134" href="Ledger.Conway.Conformance.Equivalence.html#22032" class="Bound">deps₂</a> <a id="22140" href="Ledger.Conway.Conformance.Equivalence.html#22038" class="Bound">deps₁&#39;</a> <a id="22147" href="Ledger.Conway.Conformance.Equivalence.html#22045" class="Bound">eqd</a> <a id="22151" href="Ledger.Conway.Conformance.Equivalence.html#22072" class="Bound">certs</a>
    <a id="22161" class="Keyword">in</a>  <a id="22165" href="Ledger.Conway.Conformance.Equivalence.html#22093" class="Bound">deps₂&#39;</a> <a id="22172" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22174" href="Ledger.Conway.Conformance.Equivalence.html#22102" class="Bound">eqd&#39;</a> <a id="22179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22181" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22193" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22198" href="Ledger.Conway.Conformance.Equivalence.html#22067" class="Bound">utxo</a> <a id="22203" href="Ledger.Conway.Conformance.Equivalence.html#22109" class="Bound">certs&#39;</a> <a id="22210" href="Ledger.Conway.Conformance.Equivalence.html#22078" class="Bound">gov</a>
  <a id="22216" href="Ledger.Conway.Conformance.Equivalence.html#21742" class="Function">castLEDGER</a> <a id="22227" href="Ledger.Conway.Conformance.Equivalence.html#22227" class="Bound">deps₁</a> <a id="22233" href="Ledger.Conway.Conformance.Equivalence.html#22233" class="Bound">deps₂</a> <a id="22239" href="Ledger.Conway.Conformance.Equivalence.html#22239" class="Bound">deps₁&#39;</a> <a id="22246" href="Ledger.Conway.Conformance.Equivalence.html#22246" class="Bound">eqd</a> <a id="22250" class="Symbol">(</a><a id="22251" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22263" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22268" href="Ledger.Conway.Conformance.Equivalence.html#22268" class="Bound">utxo</a><a id="22272" class="Symbol">)</a> <a id="22274" class="Symbol">=</a> <a id="22276" class="Symbol">_</a> <a id="22278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22280" href="Ledger.Conway.Conformance.Equivalence.html#22246" class="Bound">eqd</a> <a id="22284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22286" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22298" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22303" href="Ledger.Conway.Conformance.Equivalence.html#22268" class="Bound">utxo</a>

<a id="22309" class="Comment">---------------------------------------------------------------------------</a>
<a id="22385" class="Comment">-- The main result</a>
<a id="22404" class="Comment">---------------------------------------------------------------------------</a>

<a id="22481" class="Keyword">open</a> <a id="22486" class="Keyword">import</a> <a id="22493" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="Module">Ledger.Conway.Conformance.Equivalence.Bisimilarity</a>

<a id="22545" class="Comment">-- An LState sˡ from the Spec and an LState sᶜ from Conformance are</a>
<a id="22613" class="Comment">-- bisimular iff</a>
<a id="22630" class="Comment">--  ∙ the deposits in the CertState of sᶜ are equal (as maps) to the</a>
<a id="22699" class="Comment">--    appropriate restrictions of the deposits in the UTxOState of sˡ</a>
<a id="22769" class="Comment">--  ∙ the only difference between sˡ and sᶜ are the extra deposits in</a>
<a id="22839" class="Comment">--    the CertState of sᶜ.</a>
<a id="_∼_"></a><a id="22866" href="Ledger.Conway.Conformance.Equivalence.html#22866" class="Function Operator">_∼_</a> <a id="22870" class="Symbol">:</a> <a id="22872" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a> <a id="22881" class="Symbol">→</a> <a id="22883" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="22892" class="Symbol">→</a> <a id="22894" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="22899" href="Ledger.Conway.Conformance.Equivalence.html#22899" class="Bound">sˡ</a> <a id="22902" href="Ledger.Conway.Conformance.Equivalence.html#22866" class="Function Operator">∼</a> <a id="22904" href="Ledger.Conway.Conformance.Equivalence.html#22904" class="Bound">sᶜ</a> <a id="22907" class="Symbol">=</a> <a id="22909" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="22922" href="Ledger.Conway.Conformance.Equivalence.html#22899" class="Bound">sˡ</a> <a id="22925" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="22928" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="22942" class="Symbol">(</a><a id="22943" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="22962" href="Ledger.Conway.Conformance.Equivalence.html#22904" class="Bound">sᶜ</a><a id="22964" class="Symbol">)</a> <a id="22966" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="22968" href="Ledger.Conway.Conformance.Equivalence.html#22899" class="Bound">sˡ</a> <a id="22971" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22973" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="22978" href="Ledger.Conway.Conformance.Equivalence.html#22904" class="Bound">sᶜ</a>

<a id="22982" class="Comment">-- This gives us the main result: a bisimulation between the LEDGER</a>
<a id="23050" class="Comment">-- rules in Ledger and in Conformance.</a>
<a id="bisimilarityProof"></a><a id="23089" href="Ledger.Conway.Conformance.Equivalence.html#23089" class="Function">bisimilarityProof</a> <a id="23107" class="Symbol">:</a> <a id="23109" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#128" class="Record">Bisimilar</a> <a id="23119" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L._⊢_⇀⦇_,LEDGER⦈_</a> <a id="23137" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C._⊢_⇀⦇_,LEDGER⦈_</a>
<a id="23155" href="Ledger.Conway.Conformance.Equivalence.html#23089" class="Function">bisimilarityProof</a> <a id="23173" class="Symbol">.</a><a id="23174" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#259" class="Field Operator">Bisimilar._≈_</a> <a id="23188" class="Symbol">=</a> <a id="23190" href="Ledger.Conway.Conformance.Equivalence.html#22866" class="Function Operator">_∼_</a>
<a id="23194" href="Ledger.Conway.Conformance.Equivalence.html#23089" class="Function">bisimilarityProof</a> <a id="23212" class="Symbol">.</a><a id="23213" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#284" class="Field">Bisimilar.to</a> <a id="23226" class="Symbol">{</a><a id="23227" href="Ledger.Conway.Conformance.Equivalence.html#23227" class="Bound">Γ</a><a id="23228" class="Symbol">}</a> <a id="23230" class="Symbol">{</a><a id="23231" href="Ledger.Conway.Conformance.Equivalence.html#23231" class="Bound">tx</a><a id="23233" class="Symbol">}</a> <a id="23235" class="Symbol">{</a><a id="23236" href="Ledger.Conway.Conformance.Equivalence.html#23236" class="Bound">sˡ</a><a id="23238" class="Symbol">}</a> <a id="23240" class="Symbol">{</a><a id="23241" href="Ledger.Conway.Conformance.Equivalence.html#23241" class="Bound">sˡ&#39;</a><a id="23244" class="Symbol">}</a> <a id="23246" class="Symbol">{</a><a id="23247" href="Ledger.Conway.Conformance.Equivalence.html#23247" class="Bound">sᶜ</a><a id="23249" class="Symbol">}</a> <a id="23251" class="Symbol">(</a><a id="23252" href="Ledger.Conway.Conformance.Equivalence.html#23252" class="Bound">eq</a> <a id="23255" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23257" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23261" class="Symbol">)</a> <a id="23263" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">r</a> <a id="23265" class="Symbol">=</a>
  <a id="23269" class="Keyword">let</a> <a id="23273" href="Ledger.Conway.Conformance.Equivalence.html#23273" class="Bound">deps</a>  <a id="23279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23281" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">eqd</a>  <a id="23286" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23288" href="Ledger.Conway.Conformance.Equivalence.html#23288" class="Bound">r&#39;</a>  <a id="23292" class="Symbol">=</a> <a id="23294" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23299" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">r</a>
      <a id="23307" href="Ledger.Conway.Conformance.Equivalence.html#23307" class="Bound">deps&#39;</a> <a id="23313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23315" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">eqd&#39;</a> <a id="23320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23322" href="Ledger.Conway.Conformance.Equivalence.html#23322" class="Bound">r&#39;&#39;</a> <a id="23326" class="Symbol">=</a> <a id="23328" href="Ledger.Conway.Conformance.Equivalence.html#21742" class="Function">castLEDGER</a> <a id="23339" class="Symbol">(</a><a id="23340" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23353" class="Symbol">(</a><a id="23354" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23359" href="Ledger.Conway.Conformance.Equivalence.html#23247" class="Bound">sᶜ</a><a id="23361" class="Symbol">))</a>
                                      <a id="23402" class="Symbol">(</a><a id="23403" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="23417" class="Symbol">(</a><a id="23418" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23437" href="Ledger.Conway.Conformance.Equivalence.html#23247" class="Bound">sᶜ</a><a id="23439" class="Symbol">))</a>
                                      <a id="23480" href="Ledger.Conway.Conformance.Equivalence.html#23273" class="Bound">deps</a>
                                      <a id="23523" href="Ledger.Conway.Conformance.Equivalence.html#23252" class="Bound">eq</a>
                                      <a id="23564" href="Ledger.Conway.Conformance.Equivalence.html#23288" class="Bound">r&#39;</a>
      <a id="23573" href="Ledger.Conway.Conformance.Equivalence.html#23573" class="Bound">eqd&#39;&#39;</a> <a id="23579" class="Symbol">:</a> <a id="23581" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23594" href="Ledger.Conway.Conformance.Equivalence.html#23241" class="Bound">sˡ&#39;</a> <a id="23598" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="23601" href="Ledger.Conway.Conformance.Equivalence.html#23307" class="Bound">deps&#39;</a>
      <a id="23613" href="Ledger.Conway.Conformance.Equivalence.html#23573" class="Bound">eqd&#39;&#39;</a> <a id="23619" class="Symbol">=</a> <a id="23621" href="Ledger.Conway.Conformance.Equivalence.html#13399" class="Function">≡ᵈ-trans</a> <a id="23630" class="Symbol">{</a><a id="23631" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23644" href="Ledger.Conway.Conformance.Equivalence.html#23241" class="Bound">sˡ&#39;</a><a id="23647" class="Symbol">}</a> <a id="23649" class="Symbol">{</a><a id="23650" href="Ledger.Conway.Conformance.Equivalence.html#23273" class="Bound">deps</a><a id="23654" class="Symbol">}</a> <a id="23656" class="Symbol">{</a><a id="23657" href="Ledger.Conway.Conformance.Equivalence.html#23307" class="Bound">deps&#39;</a><a id="23662" class="Symbol">}</a> <a id="23664" class="Symbol">(</a><a id="23665" href="Ledger.Conway.Conformance.Equivalence.html#13382" class="Function">≡ᵈ-sym</a> <a id="23672" class="Symbol">{</a><a id="23673" href="Ledger.Conway.Conformance.Equivalence.html#23273" class="Bound">deps</a><a id="23677" class="Symbol">}</a> <a id="23679" class="Symbol">{</a><a id="23680" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23693" href="Ledger.Conway.Conformance.Equivalence.html#23241" class="Bound">sˡ&#39;</a><a id="23696" class="Symbol">}</a> <a id="23698" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">eqd</a><a id="23701" class="Symbol">)</a> <a id="23703" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">eqd&#39;</a>
  <a id="23710" class="Keyword">in</a>
  <a id="23715" class="Symbol">(</a><a id="23716" href="Ledger.Conway.Conformance.Equivalence.html#23307" class="Bound">deps&#39;</a> <a id="23722" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23728" href="Ledger.Conway.Conformance.Equivalence.html#23241" class="Bound">sˡ&#39;</a><a id="23731" class="Symbol">)</a> <a id="23733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23735" class="Symbol">(</a><a id="23736" href="Ledger.Conway.Conformance.Equivalence.html#23573" class="Bound">eqd&#39;&#39;</a> <a id="23742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23744" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23748" class="Symbol">)</a> <a id="23750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23752" href="Ledger.Conway.Conformance.Equivalence.html#23322" class="Bound">r&#39;&#39;</a>
<a id="23756" href="Ledger.Conway.Conformance.Equivalence.html#23089" class="Function">bisimilarityProof</a> <a id="23774" class="Symbol">.</a><a id="23775" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#419" class="Field">Bisimilar.from</a> <a id="23790" class="Symbol">{</a><a id="23791" href="Ledger.Conway.Conformance.Equivalence.html#23791" class="Bound">Γ</a><a id="23792" class="Symbol">}</a> <a id="23794" class="Symbol">{</a><a id="23795" href="Ledger.Conway.Conformance.Equivalence.html#23795" class="Bound">tx</a><a id="23797" class="Symbol">}</a> <a id="23799" class="Symbol">{</a><a id="23800" href="Ledger.Conway.Conformance.Equivalence.html#23800" class="Bound">sˡ</a><a id="23802" class="Symbol">}</a> <a id="23804" class="Symbol">{</a><a id="23805" href="Ledger.Conway.Conformance.Equivalence.html#23805" class="Bound">sᶜ</a><a id="23807" class="Symbol">}</a> <a id="23809" class="Symbol">{</a><a id="23810" href="Ledger.Conway.Conformance.Equivalence.html#23810" class="Bound">sᶜ&#39;</a><a id="23813" class="Symbol">}</a> <a id="23815" class="Symbol">(</a><a id="23816" href="Ledger.Conway.Conformance.Equivalence.html#23816" class="Bound">eqd</a> <a id="23820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23822" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23826" class="Symbol">)</a> <a id="23828" href="Ledger.Conway.Conformance.Equivalence.html#23828" class="Bound">r</a> <a id="23830" class="Symbol">=</a>
  <a id="23834" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23839" href="Ledger.Conway.Conformance.Equivalence.html#23810" class="Bound">sᶜ&#39;</a> <a id="23843" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23845" class="Symbol">(</a><a id="23846" href="Ledger.Conway.Conformance.Equivalence.html#23969" class="Function">wf&#39;</a> <a id="23850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23852" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23856" class="Symbol">)</a> <a id="23858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23860" href="Ledger.Conway.Conformance.Equivalence.html#23883" class="Function">wf</a> <a id="23863" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23869" href="Ledger.Conway.Conformance.Equivalence.html#23828" class="Bound">r</a>
  <a id="23873" class="Keyword">where</a>
    <a id="23883" href="Ledger.Conway.Conformance.Equivalence.html#23883" class="Function">wf</a>  <a id="23887" class="Symbol">=</a> <a id="23889" href="Ledger.Conway.Conformance.Equivalence.html#13382" class="Function">≡ᵈ-sym</a> <a id="23896" class="Symbol">{</a><a id="23897" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23910" class="Symbol">(</a><a id="23911" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23916" href="Ledger.Conway.Conformance.Equivalence.html#23805" class="Bound">sᶜ</a><a id="23918" class="Symbol">)}</a> <a id="23921" class="Symbol">{</a><a id="23922" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="23936" class="Symbol">(</a><a id="23937" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23956" href="Ledger.Conway.Conformance.Equivalence.html#23805" class="Bound">sᶜ</a><a id="23958" class="Symbol">)}</a> <a id="23961" href="Ledger.Conway.Conformance.Equivalence.html#23816" class="Bound">eqd</a>
    <a id="23969" href="Ledger.Conway.Conformance.Equivalence.html#23969" class="Function">wf&#39;</a> <a id="23973" class="Symbol">=</a> <a id="23975" href="Ledger.Conway.Conformance.Equivalence.html#13382" class="Function">≡ᵈ-sym</a> <a id="23982" class="Symbol">{</a><a id="23983" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="23997" class="Symbol">(</a><a id="23998" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="24017" href="Ledger.Conway.Conformance.Equivalence.html#23810" class="Bound">sᶜ&#39;</a><a id="24020" class="Symbol">)}</a> <a id="24023" class="Symbol">{</a><a id="24024" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="24037" class="Symbol">(</a><a id="24038" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="24043" href="Ledger.Conway.Conformance.Equivalence.html#23810" class="Bound">sᶜ&#39;</a><a id="24046" class="Symbol">)}</a> <a id="24049" class="Symbol">(</a><a id="24050" href="Ledger.Conway.Conformance.Equivalence.html#14784" class="Function">lemWellformed</a> <a id="24064" href="Ledger.Conway.Conformance.Equivalence.html#23883" class="Function">wf</a> <a id="24067" href="Ledger.Conway.Conformance.Equivalence.html#23828" class="Bound">r</a><a id="24068" class="Symbol">)</a>
    <a id="24074" href="Ledger.Conway.Conformance.Equivalence.html#24074" class="Function">r&#39;</a> <a id="24077" class="Symbol">=</a> <a id="24079" href="Ledger.Conway.Conformance.Equivalence.html#23883" class="Function">wf</a> <a id="24082" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="24088" href="Ledger.Conway.Conformance.Equivalence.html#23828" class="Bound">r</a>
</pre></body></html>