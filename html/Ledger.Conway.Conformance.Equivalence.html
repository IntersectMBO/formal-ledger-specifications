<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- Proof that the rules under Ledger.Conway.Conformance are equivalent</a>
<a id="95" class="Comment">-- to the rules under Ledger.</a>

<a id="126" class="Keyword">open</a> <a id="131" class="Keyword">import</a> <a id="138" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="281" class="Symbol">)</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="306" class="Keyword">using</a> <a id="312" class="Symbol">(</a><a id="313" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Data.Product.html" class="Module">Data.Product</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="351" class="Symbol">;</a> <a id="353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="356" class="Symbol">)</a> <a id="358" class="Keyword">renaming</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Product.Base.html#2173" class="Function">map</a> <a id="372" class="Symbol">to</a> <a id="375" class="Function">⟨_,_⟩</a><a id="380" class="Symbol">)</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="421" class="Symbol">;</a> <a id="423" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="426" class="Symbol">;</a> <a id="428" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="539" class="Symbol">)</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="601" class="Keyword">module</a> <a id="608" href="Ledger.Conway.Conformance.Equivalence.html" class="Module">Ledger.Conway.Conformance.Equivalence</a>
  <a id="648" class="Symbol">(</a><a id="649" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="653" class="Symbol">:</a> <a id="655" class="Symbol">_)</a> <a id="658" class="Symbol">(</a><a id="659" class="Keyword">open</a> <a id="664" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="688" class="Symbol">)</a>
  <a id="692" class="Symbol">(</a><a id="693" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="697" class="Symbol">:</a> <a id="699" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="717" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="720" class="Symbol">)</a> <a id="722" class="Symbol">(</a><a id="723" class="Keyword">open</a> <a id="728" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a><a id="749" class="Symbol">)</a>
  <a id="753" class="Keyword">where</a>

<a id="760" class="Keyword">module</a> <a id="L"></a><a id="767" href="Ledger.Conway.Conformance.Equivalence.html#767" class="Module">L</a> <a id="769" class="Keyword">where</a>
  <a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="824" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="828" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="832" class="Keyword">public</a>
  <a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="886" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="890" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="894" class="Keyword">public</a>
  <a id="903" class="Keyword">open</a> <a id="908" class="Keyword">import</a> <a id="915" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="949" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="953" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="957" class="Keyword">public</a>
  <a id="966" class="Keyword">open</a> <a id="971" class="Keyword">import</a> <a id="978" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="1010" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1014" class="Keyword">public</a>
  <a id="1023" class="Keyword">open</a> <a id="1028" class="Keyword">import</a> <a id="1035" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="1069" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="1082" class="Keyword">public</a>

<a id="1090" class="Keyword">module</a> <a id="C"></a><a id="1097" href="Ledger.Conway.Conformance.Equivalence.html#1097" class="Module">C</a> <a id="1099" class="Keyword">where</a>
  <a id="1107" class="Keyword">open</a> <a id="1112" class="Keyword">import</a> <a id="1119" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="1152" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1156" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1160" class="Keyword">public</a>
  <a id="1169" class="Keyword">open</a> <a id="1174" class="Keyword">import</a> <a id="1181" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="1212" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1216" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1220" class="Keyword">public</a>
  <a id="1229" class="Keyword">open</a> <a id="1234" class="Keyword">import</a> <a id="1241" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="1273" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1277" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1281" class="Keyword">public</a>
  <a id="1290" class="Keyword">open</a> <a id="1295" class="Keyword">import</a> <a id="1302" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1334" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="1347" class="Keyword">public</a>

<a id="1355" class="Keyword">open</a> <a id="1360" class="Keyword">import</a> <a id="1367" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="1411" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1415" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1419" class="Keyword">open</a> <a id="1424" class="Keyword">import</a> <a id="1431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a> <a id="1474" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1478" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1482" class="Keyword">open</a> <a id="1487" class="Keyword">import</a> <a id="1494" href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="Module">Ledger.Conway.Conformance.Equivalence.Deposits</a> <a id="1541" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1545" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>

<a id="1550" class="Keyword">open</a> <a id="1555" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a>
<a id="1558" class="Keyword">open</a> <a id="1563" class="Keyword">import</a> <a id="1570" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1591" href="Axiom.Set.html#10751" class="Function">th</a> <a id="1594" class="Keyword">using</a> <a id="1600" class="Symbol">(</a><a id="1601" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="1610" class="Symbol">)</a>

<a id="1613" class="Comment">-- Invalid transactions don&#39;t change the deposits</a>
<a id="lemInvalidDepositsL"></a><a id="1663" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="1683" class="Symbol">:</a> <a id="1685" class="Symbol">∀</a> <a id="1687" class="Symbol">{</a><a id="1688" href="Ledger.Conway.Conformance.Equivalence.html#1688" class="Bound">Γ</a> <a id="1690" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1697" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a> <a id="1705" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a><a id="1707" class="Symbol">}</a>
                    <a id="1729" class="Symbol">→</a> <a id="1731" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="1739" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a> <a id="1742" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1744" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="1770" class="Symbol">→</a> <a id="1772" href="Ledger.Conway.Conformance.Equivalence.html#1688" class="Bound">Γ</a> <a id="1774" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="1778" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1785" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="1788" href="Ledger.Conway.Conformance.Equivalence.html#1705" class="Bound">tx</a> <a id="1791" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="1799" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a>
                    <a id="1827" class="Symbol">→</a> <a id="1829" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="1850" href="Ledger.Conway.Conformance.Equivalence.html#1690" class="Bound">utxoSt</a> <a id="1857" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1859" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="1880" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">utxoSt&#39;</a>
<a id="1888" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="1908" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1913" class="Symbol">(</a><a id="1914" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
                          <a id="1953" class="Symbol">(</a><a id="1954" href="Ledger.Conway.Specification.Utxo.html#14034" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="1972" class="Symbol">_</a> <a id="1974" class="Symbol">_</a> <a id="1976" class="Symbol">_</a> <a id="1978" class="Symbol">_</a> <a id="1980" class="Symbol">_</a> <a id="1982" class="Symbol">_</a> <a id="1984" class="Symbol">_</a> <a id="1986" class="Symbol">_</a> <a id="1988" class="Symbol">_</a> <a id="1990" class="Symbol">_</a> <a id="1992" class="Symbol">_</a> <a id="1994" class="Symbol">_</a> <a id="1996" class="Symbol">_</a> <a id="1998" class="Symbol">_</a> <a id="2000" class="Symbol">_</a> <a id="2002" class="Symbol">_</a> <a id="2004" class="Symbol">_</a> <a id="2006" class="Symbol">_</a> <a id="2008" class="Symbol">_</a> <a id="2010" class="Symbol">_</a>
                            <a id="2040" class="Symbol">(</a><a id="2041" href="Ledger.Conway.Specification.Utxo.html#12046" class="InductiveConstructor">L.Scripts-No</a> <a id="2054" class="Symbol">_)))</a> <a id="2059" class="Symbol">=</a> <a id="2061" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemInvalidDepositsC"></a><a id="2067" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="2087" class="Symbol">:</a> <a id="2089" class="Symbol">∀</a> <a id="2091" class="Symbol">{</a><a id="2092" href="Ledger.Conway.Conformance.Equivalence.html#2092" class="Bound">Γ</a> <a id="2094" href="Ledger.Conway.Conformance.Equivalence.html#2094" class="Bound">utxoSt</a> <a id="2101" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a> <a id="2109" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a><a id="2111" class="Symbol">}</a>
                    <a id="2133" class="Symbol">→</a> <a id="2135" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2143" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a> <a id="2146" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2148" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="2174" class="Symbol">→</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Ledger.Conway.Conformance.Equivalence.html#2177" class="Bound">h</a> <a id="2179" class="Symbol">:</a> <a id="2181" href="Ledger.Conway.Conformance.Equivalence.html#2092" class="Bound">Γ</a> <a id="2183" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2187" href="Ledger.Conway.Conformance.Equivalence.html#2094" class="Bound">utxoSt</a> <a id="2194" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2197" href="Ledger.Conway.Conformance.Equivalence.html#2109" class="Bound">tx</a> <a id="2200" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2208" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a><a id="2215" class="Symbol">)</a>
                    <a id="2237" class="Symbol">→</a> <a id="2239" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2253" href="Ledger.Conway.Conformance.Equivalence.html#2177" class="Bound">h</a> <a id="2255" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2257" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2278" href="Ledger.Conway.Conformance.Equivalence.html#2101" class="Bound">utxoSt&#39;</a>
<a id="2286" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="2306" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2311" class="Symbol">(</a><a id="2312" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                          <a id="2351" class="Symbol">(</a><a id="2352" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2370" class="Symbol">_</a> <a id="2372" class="Symbol">_</a> <a id="2374" class="Symbol">_</a> <a id="2376" class="Symbol">_</a> <a id="2378" class="Symbol">_</a> <a id="2380" class="Symbol">_</a> <a id="2382" class="Symbol">_</a> <a id="2384" class="Symbol">_</a> <a id="2386" class="Symbol">_</a> <a id="2388" class="Symbol">_</a> <a id="2390" class="Symbol">_</a> <a id="2392" class="Symbol">_</a> <a id="2394" class="Symbol">_</a> <a id="2396" class="Symbol">_</a> <a id="2398" class="Symbol">_</a> <a id="2400" class="Symbol">_</a> <a id="2402" class="Symbol">_</a> <a id="2404" class="Symbol">_</a> <a id="2406" class="Symbol">_</a> <a id="2408" class="Symbol">_</a>
                            <a id="2438" class="Symbol">(</a><a id="2439" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a> <a id="2452" class="Symbol">_)))</a> <a id="2457" class="Symbol">=</a> <a id="2459" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2465" class="Comment">-- The UTXOW rule doesn&#39;t change the deposits in Conformance</a>
<a id="lemDepositsC"></a><a id="2526" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2539" class="Symbol">:</a> <a id="2541" class="Symbol">∀</a> <a id="2543" class="Symbol">{</a><a id="2544" href="Ledger.Conway.Conformance.Equivalence.html#2544" class="Bound">Γ</a> <a id="2546" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2553" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a> <a id="2561" href="Ledger.Conway.Conformance.Equivalence.html#2561" class="Bound">tx</a><a id="2563" class="Symbol">}</a>
             <a id="2578" class="Symbol">→</a> <a id="2580" class="Symbol">(</a><a id="2581" href="Ledger.Conway.Conformance.Equivalence.html#2581" class="Bound">h</a> <a id="2583" class="Symbol">:</a> <a id="2585" href="Ledger.Conway.Conformance.Equivalence.html#2544" class="Bound">Γ</a> <a id="2587" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2591" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2598" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2601" href="Ledger.Conway.Conformance.Equivalence.html#2561" class="Bound">tx</a> <a id="2604" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2612" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a><a id="2619" class="Symbol">)</a>
             <a id="2634" class="Symbol">→</a> <a id="2636" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2657" href="Ledger.Conway.Conformance.Equivalence.html#2546" class="Bound">utxoSt</a> <a id="2664" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2666" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="2687" href="Ledger.Conway.Conformance.Equivalence.html#2553" class="Bound">utxoSt&#39;</a>
<a id="2695" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2708" class="Symbol">(</a><a id="2709" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2737" class="Symbol">(</a><a id="2738" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2756" class="Symbol">_</a> <a id="2758" class="Symbol">_</a> <a id="2760" class="Symbol">_</a> <a id="2762" class="Symbol">_</a> <a id="2764" class="Symbol">_</a> <a id="2766" class="Symbol">_</a> <a id="2768" class="Symbol">_</a> <a id="2770" class="Symbol">_</a> <a id="2772" class="Symbol">_</a> <a id="2774" class="Symbol">_</a> <a id="2776" class="Symbol">_</a> <a id="2778" class="Symbol">_</a> <a id="2780" class="Symbol">_</a> <a id="2782" class="Symbol">_</a> <a id="2784" class="Symbol">_</a> <a id="2786" class="Symbol">_</a> <a id="2788" class="Symbol">_</a> <a id="2790" class="Symbol">_</a> <a id="2792" class="Symbol">_</a> <a id="2794" class="Symbol">_</a>
                 <a id="2813" class="Symbol">(</a><a id="2814" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2828" class="Symbol">_)))</a> <a id="2833" class="Symbol">=</a> <a id="2835" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2840" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="2853" class="Symbol">(</a><a id="2854" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2882" class="Symbol">(</a><a id="2883" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2901" class="Symbol">_</a> <a id="2903" class="Symbol">_</a> <a id="2905" class="Symbol">_</a> <a id="2907" class="Symbol">_</a> <a id="2909" class="Symbol">_</a> <a id="2911" class="Symbol">_</a> <a id="2913" class="Symbol">_</a> <a id="2915" class="Symbol">_</a> <a id="2917" class="Symbol">_</a> <a id="2919" class="Symbol">_</a> <a id="2921" class="Symbol">_</a> <a id="2923" class="Symbol">_</a> <a id="2925" class="Symbol">_</a> <a id="2927" class="Symbol">_</a> <a id="2929" class="Symbol">_</a> <a id="2931" class="Symbol">_</a> <a id="2933" class="Symbol">_</a> <a id="2935" class="Symbol">_</a> <a id="2937" class="Symbol">_</a> <a id="2939" class="Symbol">_</a>
                 <a id="2958" class="Symbol">(</a><a id="2959" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a> <a id="2972" class="Symbol">_)))</a> <a id="2977" class="Symbol">=</a> <a id="2979" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemUpdateDeposits"></a><a id="2985" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="3003" class="Symbol">:</a> <a id="3005" class="Symbol">∀</a> <a id="3007" class="Symbol">{</a><a id="3008" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a> <a id="3010" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a> <a id="3012" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3015" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a><a id="3017" class="Symbol">}</a> <a id="3019" class="Symbol">(</a><a id="3020" class="Keyword">open</a> <a id="3025" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3035" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a><a id="3036" class="Symbol">)</a>
                  <a id="3056" class="Symbol">→</a> <a id="3058" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3066" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3069" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3071" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="3094" class="Symbol">→</a> <a id="3096" href="Ledger.Conway.Conformance.Equivalence.html#3008" class="Bound">Γ</a> <a id="3098" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="3102" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a> <a id="3104" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="3107" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a> <a id="3110" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="3118" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a>
                  <a id="3139" class="Symbol">→</a> <a id="3141" href="Ledger.Conway.Specification.Utxo.html#8112" class="Function">L.updateDeposits</a> <a id="3158" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="3166" class="Symbol">(</a><a id="3167" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="3172" href="Ledger.Conway.Conformance.Equivalence.html#3012" class="Bound">tx</a><a id="3174" class="Symbol">)</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="3198" href="Ledger.Conway.Conformance.Equivalence.html#3010" class="Bound">s</a><a id="3199" class="Symbol">)</a> <a id="3201" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3203" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="3224" href="Ledger.Conway.Conformance.Equivalence.html#3015" class="Bound">s&#39;</a>
<a id="3227" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="3245" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3252" class="Symbol">(</a><a id="3253" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3270" class="Symbol">(</a><a id="3271" href="Ledger.Conway.Specification.Utxo.html#14034" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3289" class="Symbol">_</a> <a id="3291" class="Symbol">_</a> <a id="3293" class="Symbol">_</a> <a id="3295" class="Symbol">_</a> <a id="3297" class="Symbol">_</a> <a id="3299" class="Symbol">_</a> <a id="3301" class="Symbol">_</a> <a id="3303" class="Symbol">_</a> <a id="3305" class="Symbol">_</a> <a id="3307" class="Symbol">_</a> <a id="3309" class="Symbol">_</a> <a id="3311" class="Symbol">_</a> <a id="3313" class="Symbol">_</a> <a id="3315" class="Symbol">_</a> <a id="3317" class="Symbol">_</a> <a id="3319" class="Symbol">_</a> <a id="3321" class="Symbol">_</a>  <a id="3324" class="Symbol">_</a> <a id="3326" class="Symbol">_</a> <a id="3328" class="Symbol">_</a>
      <a id="3336" class="Symbol">(</a><a id="3337" href="Ledger.Conway.Specification.Utxo.html#11528" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3351" class="Symbol">_)))</a> <a id="3356" class="Symbol">=</a> <a id="3358" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="getValidCertDeposits"></a><a id="3364" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="3385" class="Symbol">:</a> <a id="3387" class="Symbol">∀</a> <a id="3389" class="Symbol">{</a><a id="3390" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3392" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3394" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3397" href="Ledger.Conway.Conformance.Equivalence.html#3397" class="Bound">s&#39;</a><a id="3399" class="Symbol">}</a>
                     <a id="3422" class="Symbol">→</a> <a id="3424" class="Symbol">(</a><a id="3425" class="Keyword">let</a> <a id="3429" class="Keyword">open</a> <a id="3434" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3444" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3446" class="Keyword">using</a> <a id="3452" class="Symbol">(</a><a id="3453" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="3460" class="Symbol">)</a>
                            <a id="3490" class="Keyword">open</a> <a id="3495" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="3507" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3509" class="Keyword">using</a> <a id="3515" class="Symbol">(</a><a id="3516" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="3524" class="Symbol">)</a>
                            <a id="3554" class="Keyword">open</a> <a id="3559" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3570" class="Symbol">.</a><a id="3571" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="3578" class="Symbol">)</a> <a id="3580" class="Keyword">using</a> <a id="3586" class="Symbol">(</a><a id="3587" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="3594" class="Symbol">))</a>
                     <a id="3618" class="Symbol">→</a> <a id="3620" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3628" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3631" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3633" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="3659" class="Symbol">→</a> <a id="3661" href="Ledger.Conway.Conformance.Equivalence.html#3390" class="Bound">Γ</a> <a id="3663" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.html#3392" class="Bound">s</a> <a id="3669" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="3672" href="Ledger.Conway.Conformance.Equivalence.html#3394" class="Bound">tx</a> <a id="3675" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="3683" href="Ledger.Conway.Conformance.Equivalence.html#3397" class="Bound">s&#39;</a>
                     <a id="3707" class="Symbol">→</a> <a id="3709" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="3729" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="3737" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="3746" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="3754" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="3775" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3782" class="Symbol">(</a><a id="3783" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3800" class="Symbol">(</a><a id="3801" href="Ledger.Conway.Specification.Utxo.html#14034" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3819" class="Symbol">_</a> <a id="3821" class="Symbol">_</a> <a id="3823" class="Symbol">_</a> <a id="3825" class="Symbol">_</a> <a id="3827" class="Symbol">_</a> <a id="3829" class="Symbol">_</a> <a id="3831" class="Symbol">_</a> <a id="3833" class="Symbol">_</a> <a id="3835" class="Symbol">_</a> <a id="3837" class="Symbol">_</a> <a id="3839" class="Symbol">_</a> <a id="3841" class="Symbol">_</a> <a id="3843" class="Symbol">_</a> <a id="3845" class="Symbol">_</a> <a id="3847" class="Symbol">_</a> <a id="3849" class="Symbol">_</a> <a id="3851" class="Symbol">_</a> <a id="3853" class="Symbol">_</a> <a id="3855" class="Symbol">_</a> <a id="3857" class="Symbol">_</a>
      <a id="3865" class="Symbol">(</a><a id="3866" href="Ledger.Conway.Specification.Utxo.html#11528" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3880" class="Symbol">(</a><a id="3881" href="Ledger.Conway.Conformance.Equivalence.html#3881" class="Bound">v</a> <a id="3883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3885" class="Symbol">_))))</a> <a id="3891" class="Symbol">=</a> <a id="3893" href="Ledger.Conway.Conformance.Equivalence.html#3881" class="Bound">v</a>

<a id="makeCertDeps*"></a><a id="3896" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="3910" class="Symbol">:</a> <a id="3912" class="Symbol">∀</a> <a id="3914" class="Symbol">{</a><a id="3915" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="3917" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="3919" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="3922" href="Ledger.Conway.Conformance.Equivalence.html#3922" class="Bound">s&#39;</a><a id="3924" class="Symbol">}</a>
              <a id="3940" class="Symbol">→</a> <a id="3942" class="Symbol">(</a><a id="3943" class="Keyword">let</a> <a id="3947" class="Keyword">open</a> <a id="3952" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3962" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="3964" class="Keyword">using</a> <a id="3970" class="Symbol">(</a><a id="3971" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="3978" class="Symbol">)</a>
                     <a id="4001" class="Keyword">open</a> <a id="4006" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="4018" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="4020" class="Keyword">using</a> <a id="4026" class="Symbol">(</a><a id="4027" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="4035" class="Symbol">)</a>
                     <a id="4058" class="Keyword">open</a> <a id="4063" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4074" class="Symbol">.</a><a id="4075" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="4082" class="Symbol">)</a> <a id="4084" class="Keyword">using</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="4098" class="Symbol">))</a>
              <a id="4115" class="Symbol">→</a> <a id="4117" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4125" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4128" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4130" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
              <a id="4149" class="Symbol">→</a> <a id="4151" href="Ledger.Conway.Conformance.Equivalence.html#3915" class="Bound">Γ</a> <a id="4153" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="4157" href="Ledger.Conway.Conformance.Equivalence.html#3917" class="Bound">s</a> <a id="4159" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4162" href="Ledger.Conway.Conformance.Equivalence.html#3919" class="Bound">tx</a> <a id="4165" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4173" href="Ledger.Conway.Conformance.Equivalence.html#3922" class="Bound">s&#39;</a>
              <a id="4190" class="Symbol">→</a> <a id="4192" href="Ledger.Conway.Conformance.Equivalence.Certs.html#3978" class="Record">CertDeps*</a> <a id="4202" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="4210" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="4218" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="4232" class="Symbol">{</a><a id="4233" class="Argument">s</a> <a id="4235" class="Symbol">=</a> <a id="4237" href="Ledger.Conway.Conformance.Equivalence.html#4237" class="Bound">s</a><a id="4238" class="Symbol">}</a> <a id="4240" href="Ledger.Conway.Conformance.Equivalence.html#4240" class="Bound">valid</a> <a id="4246" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">r</a> <a id="4248" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#3980}{\htmlId{4252}{\htmlClass{Function}{\text{certDDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4262}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#4126}{\htmlId{4273}{\htmlClass{Function}{\text{certGDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4283}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#7665}{\htmlId{4294}{\htmlClass{Function}{\text{validDDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4393}{\htmlId{4305}{\htmlClass{Function}{\text{validDeps}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#8754}{\htmlId{4317}{\htmlClass{Function}{\text{validGDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4393}{\htmlId{4328}{\htmlClass{Function}{\text{validDeps}}}}\, \end{pmatrix}$</a>
  <a id="4343" class="Keyword">where</a>
    <a id="4353" class="Keyword">open</a> <a id="4358" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="4370" href="Ledger.Conway.Conformance.Equivalence.html#4237" class="Bound">s</a> <a id="4372" class="Keyword">using</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="4387" class="Symbol">)</a>
    <a id="4393" href="Ledger.Conway.Conformance.Equivalence.html#4393" class="Function">validDeps</a> <a id="4403" class="Symbol">=</a> <a id="4405" href="Ledger.Conway.Conformance.Equivalence.html#3364" class="Function">getValidCertDeposits</a> <a id="4426" href="Ledger.Conway.Conformance.Equivalence.html#4240" class="Bound">valid</a> <a id="4432" href="Ledger.Conway.Conformance.Equivalence.html#4246" class="Bound">r</a>

<a id="lem-cert-deposits-valid"></a><a id="4435" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="4459" class="Symbol">:</a> <a id="4461" class="Symbol">∀</a> <a id="4463" class="Symbol">{</a><a id="4464" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4466" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a> <a id="4468" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4471" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a><a id="4473" class="Symbol">}</a> <a id="4475" class="Symbol">(</a><a id="4476" class="Keyword">open</a> <a id="4481" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="4488" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4490" class="Keyword">using</a> <a id="4496" class="Symbol">(</a><a id="4497" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="4504" class="Symbol">))</a>
                        <a id="4531" class="Symbol">→</a> <a id="4533" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4541" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4544" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4546" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                        <a id="4575" class="Symbol">→</a> <a id="4577" href="Ledger.Conway.Conformance.Equivalence.html#4464" class="Bound">Γ</a> <a id="4579" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="4583" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a> <a id="4585" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="4588" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4591" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="4600" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a>
                        <a id="4627" class="Symbol">→</a> <a id="4629" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2974" class="Function">updateLedgerDeps</a> <a id="4646" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4654" href="Ledger.Conway.Conformance.Equivalence.html#4468" class="Bound">tx</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="4671" href="Ledger.Conway.Conformance.Equivalence.html#4466" class="Bound">s</a><a id="4672" class="Symbol">)</a> <a id="4674" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="4677" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="4690" href="Ledger.Conway.Conformance.Equivalence.html#4471" class="Bound">s&#39;</a>
<a id="4693" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="4717" class="Symbol">{</a><a id="4718" href="Ledger.Conway.Conformance.Equivalence.html#4718" class="Bound">Γ</a><a id="4719" class="Symbol">}</a> <a id="4721" class="Symbol">{</a><a id="4722" href="Ledger.Conway.Conformance.Equivalence.html#4722" class="Bound">s</a><a id="4723" class="Symbol">}</a> <a id="4725" class="Symbol">{</a><a id="4726" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a><a id="4728" class="Symbol">}</a> <a id="4730" class="Symbol">{</a><a id="4731" href="Ledger.Conway.Conformance.Equivalence.html#4731" class="Bound">s&#39;</a><a id="4733" class="Symbol">}</a> <a id="4735" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4740" class="Symbol">(</a><a id="4741" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="4753" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4758" href="Ledger.Conway.Conformance.Equivalence.html#4758" class="Bound">utxow</a> <a id="4764" href="Ledger.Conway.Conformance.Equivalence.html#4764" class="Bound">certs</a> <a id="4770" href="Ledger.Conway.Conformance.Equivalence.html#4770" class="Bound">gov</a><a id="4773" class="Symbol">)</a> <a id="4775" class="Keyword">rewrite</a> <a id="4783" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="4787" class="Symbol">(</a><a id="4788" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="4806" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4811" href="Ledger.Conway.Conformance.Equivalence.html#4758" class="Bound">utxow</a><a id="4816" class="Symbol">)</a> <a id="4818" class="Symbol">=</a>
  <a id="4822" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#18977" class="Function">lem-upd-ddeps</a> <a id="4836" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4844" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4849" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a> <a id="4852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="4856" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19766" class="Function">lem-upd-gdeps</a> <a id="4870" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="4878" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4883" href="Ledger.Conway.Conformance.Equivalence.html#4726" class="Bound">tx</a>
  <a id="4888" class="Keyword">where</a>
    <a id="4898" class="Keyword">open</a> <a id="4903" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="4910" href="Ledger.Conway.Conformance.Equivalence.html#4718" class="Bound">Γ</a> <a id="4912" class="Keyword">using</a> <a id="4918" class="Symbol">(</a><a id="4919" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="4926" class="Symbol">)</a>
    <a id="4932" href="Ledger.Conway.Conformance.Equivalence.html#4932" class="Function">deps</a> <a id="4937" class="Symbol">=</a> <a id="4939" href="Ledger.Conway.Conformance.Equivalence.html#4722" class="Bound">s</a> <a id="4941" class="Symbol">.</a><a id="4942" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">L.LState.utxoSt</a> <a id="4958" class="Symbol">.</a> <a id="4960" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a>

<a id="lem-cert-deposits-invalid"></a><a id="4982" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="5008" class="Symbol">:</a> <a id="5010" class="Symbol">∀</a> <a id="5012" class="Symbol">{</a><a id="5013" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5015" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5017" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5020" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a><a id="5022" class="Symbol">}</a> <a id="5024" class="Symbol">(</a><a id="5025" class="Keyword">open</a> <a id="5030" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="5037" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5039" class="Keyword">using</a> <a id="5045" class="Symbol">(</a><a id="5046" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="5053" class="Symbol">))</a>
                        <a id="5080" class="Symbol">→</a> <a id="5082" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="5090" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5093" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5095" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                        <a id="5125" class="Symbol">→</a> <a id="5127" href="Ledger.Conway.Conformance.Equivalence.html#5013" class="Bound">Γ</a> <a id="5129" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="5133" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5135" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="5138" href="Ledger.Conway.Conformance.Equivalence.html#5017" class="Bound">tx</a> <a id="5141" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="5150" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a>
                        <a id="5177" class="Symbol">→</a> <a id="5179" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="5192" href="Ledger.Conway.Conformance.Equivalence.html#5015" class="Bound">s</a> <a id="5194" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="5197" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="5210" href="Ledger.Conway.Conformance.Equivalence.html#5020" class="Bound">s&#39;</a>
<a id="5213" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="5239" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5244" class="Symbol">(</a><a id="5245" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="5257" class="Symbol">_</a> <a id="5259" href="Ledger.Conway.Conformance.Equivalence.html#5259" class="Bound">utxow</a><a id="5264" class="Symbol">)</a> <a id="5266" class="Keyword">rewrite</a> <a id="5274" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="5294" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5299" href="Ledger.Conway.Conformance.Equivalence.html#5259" class="Bound">utxow</a> <a id="5305" class="Symbol">=</a>
  <a id="5309" class="Symbol">(</a><a id="5310" href="Function.Base.html#704" class="Function">id</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" href="Function.Base.html#704" class="Function">id</a><a id="5317" class="Symbol">)</a> <a id="5319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5321" class="Symbol">(</a><a id="5322" href="Function.Base.html#704" class="Function">id</a> <a id="5325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5327" href="Function.Base.html#704" class="Function">id</a><a id="5329" class="Symbol">)</a>

<a id="5332" class="Keyword">instance</a>
  <a id="LStateToConf"></a><a id="5343" href="Ledger.Conway.Conformance.Equivalence.html#5343" class="Function">LStateToConf</a> <a id="5356" class="Symbol">:</a> <a id="5358" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="5369" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5371" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="5382" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="5384" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a> <a id="5393" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="5395" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a>
  <a id="5406" href="Ledger.Conway.Conformance.Equivalence.html#5343" class="Function">LStateToConf</a> <a id="5419" class="Symbol">.</a><a id="5420" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5426" href="Ledger.Conway.Conformance.Equivalence.html#5426" class="Bound">deposits</a> <a id="5435" href="Ledger.Conway.Conformance.Equivalence.html#5435" class="Bound">ledgerSt</a> <a id="5444" class="Symbol">=</a>
    <a id="5450" class="Keyword">let</a> <a id="5454" class="Keyword">open</a> <a id="5459" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="5468" href="Ledger.Conway.Conformance.Equivalence.html#5435" class="Bound">ledgerSt</a> <a id="5477" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#1038}{\htmlId{5486}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#1065}{\htmlId{5495}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5426}{\htmlId{5503}{\htmlClass{Bound}{\text{deposits}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#270}{\htmlId{5512}{\htmlClass{Function Operator}{\text{⊢conv}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#1091}{\htmlId{5518}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="5531" class="Keyword">instance</a>
  <a id="LEDGERToConf"></a><a id="5542" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="5555" class="Symbol">:</a> <a id="5557" class="Symbol">∀</a> <a id="5559" class="Symbol">{</a><a id="5560" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5562" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5564" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5567" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a><a id="5569" class="Symbol">}</a>
               <a id="5586" class="Symbol">→</a> <a id="5588" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5590" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="5594" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5596" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="5599" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5602" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="5611" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a> <a id="5614" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a>
                 <a id="5633" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5636" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5652" href="Data.Product.Base.html#1371" class="Function">]</a>
                    <a id="5674" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5690" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="5693" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="5706" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a>
                  <a id="5727" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5729" href="Ledger.Conway.Conformance.Equivalence.html#5560" class="Bound">Γ</a> <a id="5731" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5735" class="Symbol">(</a><a id="5736" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="5749" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a> <a id="5751" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5757" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Bound">s</a><a id="5758" class="Symbol">)</a> <a id="5760" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="5763" href="Ledger.Conway.Conformance.Equivalence.html#5564" class="Bound">tx</a> <a id="5766" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="5775" class="Symbol">(</a><a id="5776" href="Ledger.Conway.Conformance.Equivalence.html#5636" class="Bound">certDeposits-s&#39;</a> <a id="5792" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5798" href="Ledger.Conway.Conformance.Equivalence.html#5567" class="Bound">s&#39;</a><a id="5800" class="Symbol">)</a>
  <a id="5804" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="5817" class="Symbol">{</a><a id="5818" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a><a id="5819" class="Symbol">}</a> <a id="5821" class="Symbol">{</a><a id="5822" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="5823" class="Symbol">}</a> <a id="5825" class="Symbol">{</a><a id="5826" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="5828" class="Symbol">}</a> <a id="5830" class="Symbol">{</a><a id="5831" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s&#39;</a><a id="5833" class="Symbol">}</a> <a id="5835" class="Symbol">.</a><a id="5836" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5842" class="Symbol">_</a> <a id="5844" href="Ledger.Conway.Conformance.Equivalence.html#5844" class="Bound">r</a><a id="5845" class="Symbol">@(</a><a id="5847" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="5859" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5864" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a> <a id="5870" href="Ledger.Conway.Conformance.Equivalence.html#5870" class="Bound">certs</a> <a id="5876" href="Ledger.Conway.Conformance.Equivalence.html#5876" class="Bound">gov</a><a id="5879" class="Symbol">)</a> <a id="5881" class="Symbol">=</a>
    <a id="5887" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2974" class="Function">updateLedgerDeps</a> <a id="5904" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="5912" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="5915" class="Symbol">(</a><a id="5916" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="5929" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="5930" class="Symbol">)</a>
    <a id="5936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5938" href="Ledger.Conway.Conformance.Equivalence.html#4435" class="Function">lem-cert-deposits-valid</a> <a id="5962" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5967" href="Ledger.Conway.Conformance.Equivalence.html#5844" class="Bound">r</a>
    <a id="5973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5975" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">subst₂</a> <a id="5982" class="Symbol">(λ</a> <a id="5985" href="Ledger.Conway.Conformance.Equivalence.html#5985" class="Bound">•</a> <a id="5987" href="Ledger.Conway.Conformance.Equivalence.html#5987" class="Bound">◆</a> <a id="5989" class="Symbol">→</a> <a id="5991" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a> <a id="5993" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5997" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6010" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6020" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6026" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a> <a id="6028" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6031" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6034" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#5985}{\htmlId{6045}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{6049}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5987}{\htmlId{6053}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix}$</a><a id="6056" class="Symbol">)</a>
             <a id="6071" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a> <a id="6078" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="6086" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a>
    <a id="6098" class="Keyword">where</a>
      <a id="6110" class="Keyword">open</a> <a id="6115" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="6122" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a>
      <a id="6130" class="Keyword">open</a> <a id="6135" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="6144" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a>
      <a id="6152" class="Keyword">open</a> <a id="6157" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">L.LState</a> <a id="6166" href="Ledger.Conway.Conformance.Equivalence.html#5831" class="Bound">s&#39;</a> <a id="6169" class="Keyword">renaming</a> <a id="6178" class="Symbol">(</a><a id="6179" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="6186" class="Symbol">to</a> <a id="6189" class="Field">utxoSt&#39;</a><a id="6196" class="Symbol">;</a> <a id="6198" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="6208" class="Symbol">to</a> <a id="6211" class="Field">certState&#39;</a><a id="6221" class="Symbol">;</a> <a id="6223" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="6229" class="Symbol">to</a> <a id="6232" class="Field">govSt&#39;</a><a id="6238" class="Symbol">)</a>
      <a id="6246" class="Keyword">open</a> <a id="6251" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="6258" class="Symbol">(</a><a id="6259" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="6264" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="6266" class="Symbol">)</a> <a id="6268" class="Keyword">using</a> <a id="6274" class="Symbol">(</a><a id="6275" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="6282" class="Symbol">)</a>
      <a id="6290" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a> <a id="6299" class="Symbol">=</a> <a id="6301" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="6322" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a>
      <a id="6335" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6342" class="Symbol">:</a> <a id="6344" class="Symbol">_</a> <a id="6346" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="6350" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="6357" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="6360" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6363" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="6371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6383" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a> <a id="6392" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="6406" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6413" class="Symbol">=</a> <a id="6415" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="6420" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a>
      <a id="6432" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a>    <a id="6444" class="Symbol">=</a> <a id="6446" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6458" class="Symbol">(</a><a id="6459" href="Ledger.Conway.Specification.Utxo.html#8112" class="Function">L.updateDeposits</a> <a id="6476" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="6484" class="Symbol">(</a><a id="6485" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="6490" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a><a id="6492" class="Symbol">)</a> <a id="6494" href="Ledger.Conway.Conformance.Equivalence.html#6290" class="Function">deposits</a><a id="6502" class="Symbol">)</a> <a id="6504" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="6518" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a>  <a id="6529" class="Symbol">=</a> <a id="6531" href="Ledger.Conway.Conformance.Equivalence.html#3896" class="Function">makeCertDeps*</a> <a id="6545" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6550" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a>
      <a id="6562" href="Ledger.Conway.Conformance.Equivalence.html#6562" class="Function">cdeposits&#39;</a> <a id="6573" class="Symbol">=</a> <a id="6575" href="Ledger.Conway.Conformance.Equivalence.Certs.html#5696" class="Function">updateCertDeps*</a> <a id="6591" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="6599" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a>
      <a id="6615" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6642" href="Ledger.Conway.Conformance.Equivalence.html#6562" class="Function">cdeposits&#39;</a> <a id="6653" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6659" href="Ledger.Conway.Conformance.Equivalence.html#6211" class="Function">certState&#39;</a>
      <a id="6676" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6683" class="Symbol">:</a> <a id="6685" class="Symbol">_</a> <a id="6687" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">C.⊢</a> <a id="6691" class="Symbol">(</a><a id="6692" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6705" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6715" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6721" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a><a id="6730" class="Symbol">)</a> <a id="6732" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">⇀⦇</a> <a id="6735" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="6743" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">,CERTS⦈</a> <a id="6751" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a>
      <a id="6769" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6776" class="Symbol">=</a> <a id="6778" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6788" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6794" href="Ledger.Conway.Conformance.Equivalence.html#5870" class="Bound">certs</a>
      <a id="6806" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a> <a id="6814" class="Symbol">:</a> <a id="6816" href="Ledger.Conway.Conformance.Equivalence.html#5818" class="Bound">Γ</a> <a id="6818" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6822" class="Symbol">(</a><a id="6823" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6836" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="6846" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6852" href="Ledger.Conway.Conformance.Equivalence.html#5822" class="Bound">s</a><a id="6853" class="Symbol">)</a> <a id="6855" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6858" href="Ledger.Conway.Conformance.Equivalence.html#5826" class="Bound">tx</a> <a id="6861" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="6870" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">C.⟦</a> <a id="6874" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a> <a id="6883" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6885" href="Ledger.Conway.Conformance.Equivalence.html#6232" class="Function">govSt&#39;</a> <a id="6892" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6894" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="6906" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="6915" href="Ledger.Conway.Conformance.Equivalence.html#6806" class="Function">ledger&#39;</a> <a id="6923" class="Symbol">=</a> <a id="6925" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="6937" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6942" href="Ledger.Conway.Conformance.Equivalence.html#6335" class="Function">utxow&#39;</a> <a id="6949" href="Ledger.Conway.Conformance.Equivalence.html#6676" class="Function">certs&#39;</a> <a id="6956" href="Ledger.Conway.Conformance.Equivalence.html#5876" class="Bound">gov</a>
      <a id="6966" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a>  <a id="6974" class="Symbol">:</a> <a id="6976" href="Ledger.Conway.Conformance.Equivalence.html#6432" class="Function">utxoStC&#39;</a> <a id="6985" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6987" href="Ledger.Conway.Conformance.Equivalence.html#6189" class="Function">utxoSt&#39;</a>
      <a id="7001" href="Ledger.Conway.Conformance.Equivalence.html#6966" class="Function">utxoEq</a>  <a id="7009" class="Symbol">=</a> <a id="7011" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="7016" class="Symbol">(λ</a> <a id="7019" href="Ledger.Conway.Conformance.Equivalence.html#7019" class="Bound">•</a> <a id="7021" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{7025}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7029}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7019}{\htmlId{7033}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7037}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7040" class="Symbol">)</a>
                     <a id="7063" class="Symbol">(</a><a id="7064" href="Ledger.Conway.Conformance.Equivalence.html#2985" class="Function">lemUpdateDeposits</a> <a id="7082" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7087" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">utxow</a><a id="7092" class="Symbol">)</a>
      <a id="7100" href="Ledger.Conway.Conformance.Equivalence.html#7100" class="Function">ddeps</a> <a id="7106" class="Symbol">=</a> <a id="7108" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7121" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="7131" class="Symbol">.</a><a id="7132" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="7144" href="Ledger.Conway.Conformance.Equivalence.html#7144" class="Function">gdeps</a> <a id="7150" class="Symbol">=</a> <a id="7152" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7165" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a> <a id="7175" class="Symbol">.</a><a id="7176" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="7188" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="7196" class="Symbol">:</a> <a id="7198" href="Ledger.Conway.Conformance.Equivalence.html#6615" class="Function">certStateC&#39;</a> <a id="7210" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7212" class="Symbol">(</a><a id="7213" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="7225" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="7233" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="7241" href="Ledger.Conway.Conformance.Equivalence.html#7100" class="Function">ddeps</a> <a id="7247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7249" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="7261" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="7269" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="7277" href="Ledger.Conway.Conformance.Equivalence.html#7144" class="Function">gdeps</a><a id="7282" class="Symbol">)</a> <a id="7284" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7290" href="Ledger.Conway.Conformance.Equivalence.html#6211" class="Function">certState&#39;</a>
      <a id="7307" href="Ledger.Conway.Conformance.Equivalence.html#7188" class="Function">certsEq</a> <a id="7315" class="Symbol">=</a> <a id="7317" href="Relation.Binary.PropositionalEquality.Core.html#1718" class="Function">cong₂</a> <a id="7323" class="Symbol">(λ</a> <a id="7326" href="Ledger.Conway.Conformance.Equivalence.html#7326" class="Bound">•</a> <a id="7328" href="Ledger.Conway.Conformance.Equivalence.html#7328" class="Bound">◆</a> <a id="7330" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7336}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7340}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7344}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7326}{\htmlId{7348}{\htmlClass{Bound}{\text{•}}}}\, \end{pmatrix} \\ \,\htmlId{7354}{\htmlClass{Symbol}{\text{\_}}}\, \\ \begin{pmatrix} \,\htmlId{7360}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7364}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7328}{\htmlId{7368}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix} \end{pmatrix}$</a><a id="7373" class="Symbol">)</a>
                     <a id="7396" class="Symbol">(</a><a id="7397" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#10973" class="Function">lem-ddeps</a> <a id="7407" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a><a id="7416" class="Symbol">)</a>
                     <a id="7439" class="Symbol">(</a><a id="7440" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#11886" class="Function">lem-gdeps</a> <a id="7450" href="Ledger.Conway.Conformance.Equivalence.html#6518" class="Function">cdeposits</a><a id="7459" class="Symbol">)</a>

  <a id="7464" class="Comment">-- LEDGERToConf {Γ} {s} {tx} {s&#39;} .convⁱ (cdeps , cdeps-eq) r@(L.LEDGER-I⋯ refl utxow) =</a>
  <a id="7555" href="Ledger.Conway.Conformance.Equivalence.html#5542" class="Function">LEDGERToConf</a> <a id="7568" class="Symbol">{</a><a id="7569" href="Ledger.Conway.Conformance.Equivalence.html#7569" class="Bound">Γ</a><a id="7570" class="Symbol">}</a> <a id="7572" class="Symbol">{</a><a id="7573" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a><a id="7574" class="Symbol">}</a> <a id="7576" class="Symbol">{</a><a id="7577" href="Ledger.Conway.Conformance.Equivalence.html#7577" class="Bound">tx</a><a id="7579" class="Symbol">}</a> <a id="7581" class="Symbol">{</a><a id="7582" href="Ledger.Conway.Conformance.Equivalence.html#7582" class="Bound">s&#39;</a><a id="7584" class="Symbol">}</a> <a id="7586" class="Symbol">.</a><a id="7587" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7593" class="Symbol">_</a> <a id="7595" href="Ledger.Conway.Conformance.Equivalence.html#7595" class="Bound">r</a><a id="7596" class="Symbol">@(</a><a id="7598" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="7610" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7615" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7620" class="Symbol">)</a> <a id="7622" class="Symbol">=</a>
    <a id="7628" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="7641" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a> <a id="7643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7645" href="Ledger.Conway.Conformance.Equivalence.html#4982" class="Function">lem-cert-deposits-invalid</a> <a id="7671" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7676" href="Ledger.Conway.Conformance.Equivalence.html#7595" class="Bound">r</a> <a id="7678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="7684" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="7690" class="Symbol">(λ</a> <a id="7693" href="Ledger.Conway.Conformance.Equivalence.html#7693" class="Bound">•</a> <a id="7695" class="Symbol">→</a> <a id="7697" href="Ledger.Conway.Conformance.Equivalence.html#7569" class="Bound">Γ</a> <a id="7699" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="7703" class="Symbol">_</a> <a id="7705" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7711" href="Ledger.Conway.Conformance.Equivalence.html#7573" class="Bound">s</a> <a id="7713" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="7716" href="Ledger.Conway.Conformance.Equivalence.html#7577" class="Bound">tx</a> <a id="7719" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7732}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7736}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7693}{\htmlId{7740}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7744}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix} \\ \,\htmlId{7750}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7754}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7757" class="Symbol">)</a>
          <a id="7769" class="Symbol">(</a><a id="7770" href="Ledger.Conway.Conformance.Equivalence.html#1663" class="Function">lemInvalidDepositsL</a> <a id="7790" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7795" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7800" class="Symbol">)</a>
          <a id="7812" class="Symbol">(</a><a id="7813" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="7825" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7830" class="Symbol">(</a><a id="7831" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="7836" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">utxow</a><a id="7841" class="Symbol">))</a>

<a id="7845" class="Keyword">instance</a>

  <a id="LStateFromConf"></a><a id="7857" href="Ledger.Conway.Conformance.Equivalence.html#7857" class="Function">LStateFromConf</a> <a id="7872" class="Symbol">:</a> <a id="7874" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="7883" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="7885" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a>
  <a id="7896" href="Ledger.Conway.Conformance.Equivalence.html#7857" class="Function">LStateFromConf</a> <a id="7911" class="Symbol">.</a><a id="7912" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7918" class="Symbol">_</a> <a id="7920" href="Ledger.Conway.Conformance.Equivalence.html#7920" class="Bound">ls</a> <a id="7923" class="Symbol">=</a>
    <a id="7929" class="Keyword">let</a> <a id="7933" class="Keyword">open</a> <a id="7938" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="7947" href="Ledger.Conway.Conformance.Equivalence.html#7920" class="Bound">ls</a> <a id="7950" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Ledger.html#834}{\htmlId{7959}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Ledger.html#861}{\htmlId{7968}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{7976}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.html#887}{\htmlId{7981}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="certDepositsC"></a><a id="7994" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8008" class="Symbol">:</a> <a id="8010" href="Ledger.Conway.Conformance.Certs.html#971" class="Record">C.CertState</a> <a id="8022" class="Symbol">→</a> <a id="8024" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="8035" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8037" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a>
<a id="8048" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8062" href="Ledger.Conway.Conformance.Equivalence.html#8062" class="Bound">cs</a> <a id="8065" class="Symbol">=</a> <a id="8067" class="Keyword">let</a> <a id="8071" class="Keyword">open</a> <a id="8076" href="Ledger.Conway.Conformance.Certs.html#971" class="Module">C.CertState</a> <a id="8088" href="Ledger.Conway.Conformance.Equivalence.html#8062" class="Bound">cs</a> <a id="8091" class="Keyword">in</a> <a id="8094" href="Ledger.Conway.Conformance.Certs.html#771" class="Field">C.DState.deposits</a> <a id="8112" href="Ledger.Conway.Conformance.Certs.html#1030" class="Field">dState</a> <a id="8119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8121" href="Ledger.Conway.Conformance.Certs.html#941" class="Field">C.GState.deposits</a> <a id="8139" href="Ledger.Conway.Conformance.Certs.html#1070" class="Field">gState</a>

<a id="WellformedLState"></a><a id="8147" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="8164" class="Symbol">:</a> <a id="8166" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="8175" class="Symbol">→</a> <a id="8177" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8182" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="8199" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a> <a id="8201" class="Symbol">=</a> <a id="8203" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8217" class="Symbol">(</a><a id="8218" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="8237" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a><a id="8238" class="Symbol">)</a> <a id="8240" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="8243" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="8256" class="Symbol">(</a><a id="8257" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="8262" href="Ledger.Conway.Conformance.Equivalence.html#8199" class="Bound">s</a><a id="8263" class="Symbol">)</a>

<a id="getValidCertDepositsCERTS"></a><a id="8266" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8292" class="Symbol">:</a> <a id="8294" class="Symbol">∀</a> <a id="8296" class="Symbol">{</a><a id="8297" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8299" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8301" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a> <a id="8307" href="Ledger.Conway.Conformance.Equivalence.html#8307" class="Bound">s&#39;</a><a id="8309" class="Symbol">}</a> <a id="8311" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8320" class="Symbol">(</a><a id="8321" class="Keyword">open</a> <a id="8326" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">L.CertEnv</a> <a id="8336" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8338" class="Keyword">using</a> <a id="8344" class="Symbol">(</a><a id="8345" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="8347" class="Symbol">))</a>
                          <a id="8376" class="Symbol">→</a> <a id="8378" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8392" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8394" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="8397" class="Symbol">(</a><a id="8398" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="8408" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8419" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="8429" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a><a id="8437" class="Symbol">)</a>
                          <a id="8465" class="Symbol">→</a> <a id="8467" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="8483" href="Ledger.Conway.Conformance.Certs.html#6495" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="8499" href="Ledger.Conway.Conformance.Certs.html#7885" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="8520" href="Ledger.Conway.Conformance.Equivalence.html#8297" class="Bound">Γ</a> <a id="8522" href="Ledger.Conway.Conformance.Equivalence.html#8299" class="Bound">s</a> <a id="8524" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a> <a id="8530" href="Ledger.Conway.Conformance.Equivalence.html#8307" class="Bound">s&#39;</a>
                          <a id="8559" class="Symbol">→</a> <a id="8561" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="8581" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="8584" href="Ledger.Conway.Conformance.Equivalence.html#8311" class="Bound">deposits</a> <a id="8593" href="Ledger.Conway.Conformance.Equivalence.html#8301" class="Bound">certs</a>
<a id="8599" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8625" href="Ledger.Conway.Conformance.Equivalence.html#8625" class="Bound">deposits</a> <a id="8634" href="Ledger.Conway.Conformance.Equivalence.html#8634" class="Bound">wf</a> <a id="8637" class="Symbol">(</a><a id="8638" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="8645" href="Ledger.Conway.Conformance.Equivalence.html#8645" class="Bound">x</a><a id="8646" class="Symbol">)</a> <a id="8648" class="Symbol">=</a> <a id="8650" href="Ledger.Conway.Specification.Utxo.html#3544" class="InductiveConstructor">L.[]</a>
<a id="8655" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8681" class="Symbol">{</a><a id="8682" href="Ledger.Conway.Conformance.Equivalence.html#8682" class="Bound">Γ</a><a id="8683" class="Symbol">}</a> <a id="8685" class="Symbol">{</a><a id="8686" href="Ledger.Conway.Conformance.Equivalence.html#8686" class="Bound">s</a><a id="8687" class="Symbol">}</a> <a id="8689" class="Symbol">{</a><a id="8690" href="Ledger.Conway.Conformance.Equivalence.html#8690" class="Bound">cert</a> <a id="8695" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8697" class="Symbol">_}</a> <a id="8700" href="Ledger.Conway.Conformance.Equivalence.html#8700" class="Bound">deposits</a> <a id="8709" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">wf</a> <a id="8712" class="Symbol">(</a><a id="8713" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8719" class="Symbol">(</a><a id="8720" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="8733" class="Symbol">(</a><a id="8734" href="Ledger.Conway.Conformance.Certs.html#4153" class="InductiveConstructor">C.DELEG-delegate</a> <a id="8751" href="Ledger.Conway.Conformance.Equivalence.html#8751" class="Bound">x</a><a id="8752" class="Symbol">))</a> <a id="8755" href="Ledger.Conway.Conformance.Equivalence.html#8755" class="Bound">rs</a><a id="8757" class="Symbol">)</a>
  <a id="8761" class="Symbol">=</a> <a id="8763" href="Ledger.Conway.Specification.Utxo.html#3588" class="InductiveConstructor">L.delegate</a> <a id="8774" class="Symbol">(</a><a id="8775" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8801" class="Symbol">_</a> <a id="8803" class="Symbol">(</a><a id="8804" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="8815" class="Symbol">(</a><a id="8816" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="8829" href="Ledger.Conway.Conformance.Equivalence.html#8682" class="Bound">Γ</a><a id="8830" class="Symbol">)</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="8847" href="Ledger.Conway.Conformance.Equivalence.html#8686" class="Bound">s</a><a id="8848" class="Symbol">)</a> <a id="8850" href="Ledger.Conway.Conformance.Equivalence.html#8700" class="Bound">deposits</a> <a id="8859" href="Ledger.Conway.Conformance.Equivalence.html#8690" class="Bound">cert</a> <a id="8864" href="Ledger.Conway.Conformance.Equivalence.html#8709" class="Bound">wf</a><a id="8866" class="Symbol">)</a> <a id="8868" href="Ledger.Conway.Conformance.Equivalence.html#8755" class="Bound">rs</a><a id="8870" class="Symbol">)</a>
<a id="8872" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="8898" class="Symbol">{</a><a id="8899" href="Ledger.Conway.Conformance.Equivalence.html#8899" class="Bound">Γ</a><a id="8900" class="Symbol">}</a> <a id="8902" class="Symbol">{</a><a id="8903" href="Ledger.Conway.Conformance.Equivalence.html#8903" class="Bound">s</a><a id="8904" class="Symbol">}</a> <a id="8906" class="Symbol">{</a><a id="8907" href="Ledger.Conway.Conformance.Equivalence.html#8907" class="Bound">cert</a> <a id="8912" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8914" class="Symbol">_}</a> <a id="8917" href="Ledger.Conway.Conformance.Equivalence.html#8917" class="Bound">deposits</a> <a id="8926" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8936" class="Symbol">(</a><a id="8937" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="8950" class="Symbol">(</a><a id="8951" href="Ledger.Conway.Conformance.Certs.html#4790" class="InductiveConstructor">C.DELEG-dereg</a> <a id="8965" class="Symbol">(_</a> <a id="8968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8970" href="Ledger.Conway.Conformance.Equivalence.html#8970" class="Bound">h</a> <a id="8972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8974" href="Ledger.Conway.Conformance.Equivalence.html#8974" class="Bound">h&#39;</a><a id="8976" class="Symbol">)))</a> <a id="8980" href="Ledger.Conway.Conformance.Equivalence.html#8980" class="Bound">rs</a><a id="8982" class="Symbol">)</a>
  <a id="8986" class="Symbol">=</a> <a id="8988" href="Ledger.Conway.Specification.Utxo.html#4309" class="InductiveConstructor">L.dereg</a> <a id="8996" class="Symbol">(</a><a id="8997" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="9006" class="Symbol">.</a><a id="9007" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="9024" class="Symbol">(</a><a id="9025" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a> <a id="9028" class="Symbol">.</a><a id="9029" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9035" class="Symbol">.</a><a id="9036" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9042" href="Ledger.Conway.Conformance.Equivalence.html#8970" class="Bound">h</a><a id="9043" class="Symbol">)</a> <a id="9045" class="Symbol">.</a><a id="9046" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9051" class="Symbol">)</a> <a id="9053" href="Ledger.Conway.Conformance.Equivalence.html#8974" class="Bound">h&#39;</a>
            <a id="9068" class="Symbol">(</a><a id="9069" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9095" class="Symbol">_</a> <a id="9097" class="Symbol">(</a><a id="9098" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="9123" href="Ledger.Conway.Conformance.Equivalence.html#8899" class="Bound">Γ</a><a id="9124" class="Symbol">)</a> <a id="9126" class="Symbol">(</a><a id="9127" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9141" href="Ledger.Conway.Conformance.Equivalence.html#8903" class="Bound">s</a><a id="9142" class="Symbol">)</a> <a id="9144" href="Ledger.Conway.Conformance.Equivalence.html#8917" class="Bound">deposits</a> <a id="9153" href="Ledger.Conway.Conformance.Equivalence.html#8907" class="Bound">cert</a> <a id="9158" href="Ledger.Conway.Conformance.Equivalence.html#8926" class="Bound">wf</a><a id="9160" class="Symbol">)</a> <a id="9162" href="Ledger.Conway.Conformance.Equivalence.html#8980" class="Bound">rs</a><a id="9164" class="Symbol">)</a>
<a id="9166" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9192" class="Symbol">{</a><a id="9193" href="Ledger.Conway.Conformance.Equivalence.html#9193" class="Bound">Γ</a><a id="9194" class="Symbol">}</a> <a id="9196" class="Symbol">{</a><a id="9197" href="Ledger.Conway.Conformance.Equivalence.html#9197" class="Bound">s</a><a id="9198" class="Symbol">}</a> <a id="9200" class="Symbol">{</a><a id="9201" href="Ledger.Conway.Conformance.Equivalence.html#9201" class="Bound">cert</a> <a id="9206" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9208" class="Symbol">_}</a> <a id="9211" href="Ledger.Conway.Conformance.Equivalence.html#9211" class="Bound">deposits</a> <a id="9220" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">wf</a> <a id="9223" class="Symbol">(</a><a id="9224" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9230" class="Symbol">(</a><a id="9231" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="9244" class="Symbol">(</a><a id="9245" href="Ledger.Conway.Conformance.Certs.html#5154" class="InductiveConstructor">C.DELEG-reg</a> <a id="9257" href="Ledger.Conway.Conformance.Equivalence.html#9257" class="Bound">x</a><a id="9258" class="Symbol">))</a> <a id="9261" href="Ledger.Conway.Conformance.Equivalence.html#9261" class="Bound">rs</a><a id="9263" class="Symbol">)</a>
  <a id="9267" class="Symbol">=</a> <a id="9269" href="Ledger.Conway.Specification.Utxo.html#4128" class="InductiveConstructor">L.reg</a> <a id="9275" class="Symbol">(</a><a id="9276" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9302" class="Symbol">_</a> <a id="9304" class="Symbol">(</a><a id="9305" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="9316" class="Symbol">(</a><a id="9317" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="9330" href="Ledger.Conway.Conformance.Equivalence.html#9193" class="Bound">Γ</a><a id="9331" class="Symbol">)</a> <a id="9333" class="Symbol">(</a><a id="9334" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9348" href="Ledger.Conway.Conformance.Equivalence.html#9197" class="Bound">s</a><a id="9349" class="Symbol">)</a> <a id="9351" href="Ledger.Conway.Conformance.Equivalence.html#9211" class="Bound">deposits</a> <a id="9360" href="Ledger.Conway.Conformance.Equivalence.html#9201" class="Bound">cert</a> <a id="9365" href="Ledger.Conway.Conformance.Equivalence.html#9220" class="Bound">wf</a><a id="9367" class="Symbol">)</a> <a id="9369" href="Ledger.Conway.Conformance.Equivalence.html#9261" class="Bound">rs</a><a id="9371" class="Symbol">)</a>
<a id="9373" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9399" class="Symbol">{</a><a id="9400" href="Ledger.Conway.Conformance.Equivalence.html#9400" class="Bound">Γ</a><a id="9401" class="Symbol">}</a> <a id="9403" class="Symbol">{</a><a id="9404" href="Ledger.Conway.Conformance.Equivalence.html#9404" class="Bound">s</a><a id="9405" class="Symbol">}</a> <a id="9407" class="Symbol">{</a><a id="9408" href="Ledger.Conway.Conformance.Equivalence.html#9408" class="Bound">cert</a> <a id="9413" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9415" class="Symbol">_}</a> <a id="9418" href="Ledger.Conway.Conformance.Equivalence.html#9418" class="Bound">deposits</a> <a id="9427" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">wf</a> <a id="9430" class="Symbol">(</a><a id="9431" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9437" class="Symbol">(</a><a id="9438" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a> <a id="9450" class="Symbol">(</a><a id="9451" href="Ledger.Conway.Conformance.Certs.html#3779" class="InductiveConstructor">C.POOL-regpool</a> <a id="9466" class="Symbol">_))</a> <a id="9470" href="Ledger.Conway.Conformance.Equivalence.html#9470" class="Bound">rs</a><a id="9472" class="Symbol">)</a>
  <a id="9476" class="Symbol">=</a> <a id="9478" href="Ledger.Conway.Specification.Utxo.html#3775" class="InductiveConstructor">L.regpool</a> <a id="9488" class="Symbol">(</a><a id="9489" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9515" class="Symbol">_</a> <a id="9517" class="Symbol">(</a><a id="9518" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="9529" class="Symbol">(</a><a id="9530" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="9543" href="Ledger.Conway.Conformance.Equivalence.html#9400" class="Bound">Γ</a><a id="9544" class="Symbol">)</a> <a id="9546" class="Symbol">(</a><a id="9547" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9561" href="Ledger.Conway.Conformance.Equivalence.html#9404" class="Bound">s</a><a id="9562" class="Symbol">)</a> <a id="9564" href="Ledger.Conway.Conformance.Equivalence.html#9418" class="Bound">deposits</a> <a id="9573" href="Ledger.Conway.Conformance.Equivalence.html#9408" class="Bound">cert</a> <a id="9578" href="Ledger.Conway.Conformance.Equivalence.html#9427" class="Bound">wf</a><a id="9580" class="Symbol">)</a> <a id="9582" href="Ledger.Conway.Conformance.Equivalence.html#9470" class="Bound">rs</a><a id="9584" class="Symbol">)</a>
<a id="9586" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9612" class="Symbol">{</a><a id="9613" href="Ledger.Conway.Conformance.Equivalence.html#9613" class="Bound">Γ</a><a id="9614" class="Symbol">}</a> <a id="9616" class="Symbol">{</a><a id="9617" href="Ledger.Conway.Conformance.Equivalence.html#9617" class="Bound">s</a><a id="9618" class="Symbol">}</a> <a id="9620" class="Symbol">{</a><a id="9621" href="Ledger.Conway.Conformance.Equivalence.html#9621" class="Bound">cert</a> <a id="9626" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9628" class="Symbol">_}</a> <a id="9631" href="Ledger.Conway.Conformance.Equivalence.html#9631" class="Bound">deposits</a> <a id="9640" href="Ledger.Conway.Conformance.Equivalence.html#9640" class="Bound">wf</a> <a id="9643" class="Symbol">(</a><a id="9644" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9650" class="Symbol">(</a><a id="9651" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a> <a id="9663" href="Ledger.Conway.Conformance.Certs.html#3978" class="InductiveConstructor">C.POOL-retirepool</a><a id="9680" class="Symbol">)</a> <a id="9682" href="Ledger.Conway.Conformance.Equivalence.html#9682" class="Bound">rs</a><a id="9684" class="Symbol">)</a>
  <a id="9688" class="Symbol">=</a> <a id="9690" href="Ledger.Conway.Specification.Utxo.html#4917" class="InductiveConstructor">L.retirepool</a> <a id="9703" class="Symbol">(</a><a id="9704" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9730" class="Symbol">_</a> <a id="9732" class="Symbol">(</a><a id="9733" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="9744" class="Symbol">(</a><a id="9745" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="9758" href="Ledger.Conway.Conformance.Equivalence.html#9613" class="Bound">Γ</a><a id="9759" class="Symbol">)</a> <a id="9761" class="Symbol">(</a><a id="9762" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9776" href="Ledger.Conway.Conformance.Equivalence.html#9617" class="Bound">s</a><a id="9777" class="Symbol">)</a> <a id="9779" href="Ledger.Conway.Conformance.Equivalence.html#9631" class="Bound">deposits</a> <a id="9788" href="Ledger.Conway.Conformance.Equivalence.html#9621" class="Bound">cert</a> <a id="9793" href="Ledger.Conway.Conformance.Equivalence.html#9640" class="Bound">wf</a><a id="9795" class="Symbol">)</a> <a id="9797" href="Ledger.Conway.Conformance.Equivalence.html#9682" class="Bound">rs</a><a id="9799" class="Symbol">)</a>
<a id="9801" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9827" class="Symbol">{</a><a id="9828" href="Ledger.Conway.Conformance.Equivalence.html#9828" class="Bound">Γ</a><a id="9829" class="Symbol">}</a> <a id="9831" class="Symbol">{</a><a id="9832" href="Ledger.Conway.Conformance.Equivalence.html#9832" class="Bound">s</a><a id="9833" class="Symbol">}</a> <a id="9835" class="Symbol">{</a><a id="9836" href="Ledger.Conway.Conformance.Equivalence.html#9836" class="Bound">cert</a> <a id="9841" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9843" class="Symbol">_}</a> <a id="9846" href="Ledger.Conway.Conformance.Equivalence.html#9846" class="Bound">deposits</a> <a id="9855" href="Ledger.Conway.Conformance.Equivalence.html#9855" class="Bound">wf</a> <a id="9858" class="Symbol">(</a><a id="9859" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9865" class="Symbol">(</a><a id="9866" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="9878" class="Symbol">(</a><a id="9879" href="Ledger.Conway.Conformance.Certs.html#5543" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="9897" href="Ledger.Conway.Conformance.Equivalence.html#9897" class="Bound">x</a><a id="9898" class="Symbol">))</a> <a id="9901" href="Ledger.Conway.Conformance.Equivalence.html#9901" class="Bound">rs</a><a id="9903" class="Symbol">)</a>
  <a id="9907" class="Symbol">=</a> <a id="9909" href="Ledger.Conway.Specification.Utxo.html#3958" class="InductiveConstructor">L.regdrep</a> <a id="9919" class="Symbol">(</a><a id="9920" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="9946" class="Symbol">_</a> <a id="9948" class="Symbol">(</a><a id="9949" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="9960" class="Symbol">(</a><a id="9961" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="9974" href="Ledger.Conway.Conformance.Equivalence.html#9828" class="Bound">Γ</a><a id="9975" class="Symbol">)</a> <a id="9977" class="Symbol">(</a><a id="9978" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="9992" href="Ledger.Conway.Conformance.Equivalence.html#9832" class="Bound">s</a><a id="9993" class="Symbol">)</a> <a id="9995" href="Ledger.Conway.Conformance.Equivalence.html#9846" class="Bound">deposits</a> <a id="10004" href="Ledger.Conway.Conformance.Equivalence.html#9836" class="Bound">cert</a> <a id="10009" href="Ledger.Conway.Conformance.Equivalence.html#9855" class="Bound">wf</a><a id="10011" class="Symbol">)</a> <a id="10013" href="Ledger.Conway.Conformance.Equivalence.html#9901" class="Bound">rs</a><a id="10015" class="Symbol">)</a>
<a id="10017" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10043" class="Symbol">{</a><a id="10044" href="Ledger.Conway.Conformance.Equivalence.html#10044" class="Bound">Γ</a><a id="10045" class="Symbol">}</a> <a id="10047" class="Symbol">{</a><a id="10048" href="Ledger.Conway.Conformance.Equivalence.html#10048" class="Bound">s</a><a id="10049" class="Symbol">}</a> <a id="10051" class="Symbol">{</a><a id="10052" href="Ledger.Conway.Conformance.Equivalence.html#10052" class="Bound">cert</a> <a id="10057" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10059" class="Symbol">_}</a> <a id="10062" href="Ledger.Conway.Conformance.Equivalence.html#10062" class="Bound">deposits</a> <a id="10071" href="Ledger.Conway.Conformance.Equivalence.html#10071" class="Bound">wf</a> <a id="10074" class="Symbol">(</a><a id="10075" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10081" class="Symbol">(</a><a id="10082" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="10094" class="Symbol">(</a><a id="10095" href="Ledger.Conway.Conformance.Certs.html#5909" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="10115" class="Symbol">(_</a> <a id="10118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10120" href="Ledger.Conway.Conformance.Equivalence.html#10120" class="Bound">h</a><a id="10121" class="Symbol">)))</a> <a id="10125" href="Ledger.Conway.Conformance.Equivalence.html#10125" class="Bound">rs</a><a id="10127" class="Symbol">)</a>
  <a id="10131" class="Symbol">=</a> <a id="10133" href="Ledger.Conway.Specification.Utxo.html#4570" class="InductiveConstructor">L.deregdrep</a> <a id="10145" class="Symbol">(</a><a id="10146" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="10155" class="Symbol">.</a><a id="10156" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="10173" class="Symbol">(</a><a id="10174" href="Ledger.Conway.Conformance.Equivalence.html#10071" class="Bound">wf</a> <a id="10177" class="Symbol">.</a><a id="10178" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10184" class="Symbol">.</a><a id="10185" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="10191" href="Ledger.Conway.Conformance.Equivalence.html#10120" class="Bound">h</a><a id="10192" class="Symbol">)</a> <a id="10194" class="Symbol">.</a><a id="10195" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="10200" class="Symbol">)</a>
                <a id="10218" class="Symbol">(</a><a id="10219" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10245" class="Symbol">_</a> <a id="10247" class="Symbol">(</a><a id="10248" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="10259" class="Symbol">(</a><a id="10260" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="10273" href="Ledger.Conway.Conformance.Equivalence.html#10044" class="Bound">Γ</a><a id="10274" class="Symbol">)</a> <a id="10276" class="Symbol">(</a><a id="10277" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="10291" href="Ledger.Conway.Conformance.Equivalence.html#10048" class="Bound">s</a><a id="10292" class="Symbol">)</a> <a id="10294" href="Ledger.Conway.Conformance.Equivalence.html#10062" class="Bound">deposits</a> <a id="10303" href="Ledger.Conway.Conformance.Equivalence.html#10052" class="Bound">cert</a> <a id="10308" href="Ledger.Conway.Conformance.Equivalence.html#10071" class="Bound">wf</a><a id="10310" class="Symbol">)</a> <a id="10312" href="Ledger.Conway.Conformance.Equivalence.html#10125" class="Bound">rs</a><a id="10314" class="Symbol">)</a>
<a id="10316" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10342" class="Symbol">{</a><a id="10343" href="Ledger.Conway.Conformance.Equivalence.html#10343" class="Bound">Γ</a><a id="10344" class="Symbol">}</a> <a id="10346" class="Symbol">{</a><a id="10347" href="Ledger.Conway.Conformance.Equivalence.html#10347" class="Bound">s</a><a id="10348" class="Symbol">}</a> <a id="10350" class="Symbol">{</a><a id="10351" href="Ledger.Conway.Conformance.Equivalence.html#10351" class="Bound">cert</a> <a id="10356" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10358" class="Symbol">_}</a> <a id="10361" href="Ledger.Conway.Conformance.Equivalence.html#10361" class="Bound">deposits</a> <a id="10370" href="Ledger.Conway.Conformance.Equivalence.html#10370" class="Bound">wf</a> <a id="10373" class="Symbol">(</a><a id="10374" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10380" class="Symbol">(</a><a id="10381" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="10393" class="Symbol">(</a><a id="10394" href="Ledger.Conway.Conformance.Certs.html#6204" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="10413" href="Ledger.Conway.Conformance.Equivalence.html#10413" class="Bound">x</a><a id="10414" class="Symbol">))</a> <a id="10417" href="Ledger.Conway.Conformance.Equivalence.html#10417" class="Bound">rs</a><a id="10419" class="Symbol">)</a>
  <a id="10423" class="Symbol">=</a> <a id="10425" href="Ledger.Conway.Specification.Utxo.html#4777" class="InductiveConstructor">L.ccreghot</a><a id="10435" class="Symbol">(</a><a id="10436" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="10462" class="Symbol">_</a> <a id="10464" class="Symbol">(</a><a id="10465" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20577" class="Function">lemUpdCert</a> <a id="10476" class="Symbol">(</a><a id="10477" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">L.CertEnv.pp</a> <a id="10490" href="Ledger.Conway.Conformance.Equivalence.html#10343" class="Bound">Γ</a><a id="10491" class="Symbol">)</a> <a id="10493" class="Symbol">(</a><a id="10494" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="10508" href="Ledger.Conway.Conformance.Equivalence.html#10347" class="Bound">s</a><a id="10509" class="Symbol">)</a> <a id="10511" href="Ledger.Conway.Conformance.Equivalence.html#10361" class="Bound">deposits</a> <a id="10520" href="Ledger.Conway.Conformance.Equivalence.html#10351" class="Bound">cert</a> <a id="10525" href="Ledger.Conway.Conformance.Equivalence.html#10370" class="Bound">wf</a><a id="10527" class="Symbol">)</a> <a id="10529" href="Ledger.Conway.Conformance.Equivalence.html#10417" class="Bound">rs</a><a id="10531" class="Symbol">)</a>


<a id="getValidCertDepositsC"></a><a id="10535" href="Ledger.Conway.Conformance.Equivalence.html#10535" class="Function">getValidCertDepositsC</a> <a id="10557" class="Symbol">:</a> <a id="10559" class="Symbol">∀</a> <a id="10561" href="Ledger.Conway.Conformance.Equivalence.html#10561" class="Bound">Γ</a> <a id="10563" href="Ledger.Conway.Conformance.Equivalence.html#10563" class="Bound">s</a> <a id="10565" class="Symbol">{</a><a id="10566" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">s&#39;</a><a id="10568" class="Symbol">}</a> <a id="10570" href="Ledger.Conway.Conformance.Equivalence.html#10570" class="Bound">tx</a>
                     <a id="10594" class="Symbol">→</a> <a id="10596" class="Symbol">(</a><a id="10597" class="Keyword">let</a> <a id="10601" class="Keyword">open</a> <a id="10606" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">C.LEnv</a> <a id="10613" href="Ledger.Conway.Conformance.Equivalence.html#10561" class="Bound">Γ</a> <a id="10615" class="Keyword">using</a> <a id="10621" class="Symbol">(</a><a id="10622" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="10629" class="Symbol">;</a> <a id="10631" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a><a id="10635" class="Symbol">;</a> <a id="10637" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a><a id="10647" class="Symbol">)</a>
                            <a id="10677" class="Keyword">open</a> <a id="10682" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="10689" class="Symbol">(</a><a id="10690" href="Ledger.Conway.Conformance.Equivalence.html#10570" class="Bound">tx</a> <a id="10693" class="Symbol">.</a><a id="10694" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">Tx.body</a><a id="10701" class="Symbol">)</a> <a id="10703" class="Keyword">using</a> <a id="10709" class="Symbol">(</a><a id="10710" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="10717" class="Symbol">;</a> <a id="10719" href="Ledger.Conway.Specification.Transaction.html#3463" class="Field">txGovVotes</a><a id="10729" class="Symbol">;</a> <a id="10731" href="Ledger.Conway.Specification.Transaction.html#3288" class="Field">txWithdrawals</a><a id="10744" class="Symbol">)</a>
                            <a id="10774" class="Keyword">open</a> <a id="10779" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="10788" href="Ledger.Conway.Conformance.Equivalence.html#10563" class="Bound">s</a>
                            <a id="10818" class="Keyword">open</a> <a id="10823" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">C.UTxOState</a> <a id="10835" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="10842" class="Keyword">using</a> <a id="10848" class="Symbol">(</a><a id="10849" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="10857" class="Symbol">)</a>
                            <a id="10887" href="Ledger.Conway.Conformance.Equivalence.html#10887" class="Bound">cc</a> <a id="10890" class="Symbol">=</a> <a id="10892" href="Ledger.Conway.Specification.Ledger.html#3250" class="Function">C.allColdCreds</a> <a id="10907" href="Ledger.Conway.Conformance.Ledger.html#861" class="Function">govSt</a> <a id="10913" href="Ledger.Conway.Specification.Ledger.html#827" class="Function">enactState</a>
                       <a id="10947" class="Symbol">)</a>
                     <a id="10970" class="Symbol">→</a> <a id="10972" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="10989" href="Ledger.Conway.Conformance.Equivalence.html#10563" class="Bound">s</a>
                     <a id="11012" class="Symbol">→</a> <a id="11014" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="11022" href="Ledger.Conway.Conformance.Equivalence.html#10570" class="Bound">tx</a> <a id="11025" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11027" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="11053" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{11057}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#743}{\htmlId{11063}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#801}{\htmlId{11070}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3463}{\htmlId{11080}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3288}{\htmlId{11093}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#10887}{\htmlId{11109}{\htmlClass{Bound}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="11114" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">C.⊢</a> <a id="11118" href="Ledger.Conway.Conformance.Ledger.html#887" class="Function">certState</a> <a id="11128" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">⇀⦇</a> <a id="11131" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="11139" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">,CERTS⦈</a> <a id="11147" href="Ledger.Conway.Conformance.Equivalence.html#10566" class="Bound">s&#39;</a>
                     <a id="11171" class="Symbol">→</a> <a id="11173" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="11193" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="11201" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="11210" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
<a id="11218" href="Ledger.Conway.Conformance.Equivalence.html#10535" class="Function">getValidCertDepositsC</a> <a id="11240" href="Ledger.Conway.Conformance.Equivalence.html#11240" class="Bound">Γ</a> <a id="11242" href="Ledger.Conway.Conformance.Equivalence.html#11242" class="Bound">s</a> <a id="11244" href="Ledger.Conway.Conformance.Equivalence.html#11244" class="Bound">tx</a> <a id="11247" href="Ledger.Conway.Conformance.Equivalence.html#11247" class="Bound">wf</a> <a id="11250" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11255" class="Symbol">(</a><a id="11256" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="11260" class="Symbol">{</a><a id="11261" class="Argument">s&#39;</a> <a id="11264" class="Symbol">=</a> <a id="11266" href="Ledger.Conway.Conformance.Equivalence.html#11266" class="Bound">s&#39;</a><a id="11268" class="Symbol">}</a> <a id="11270" class="Symbol">(</a><a id="11271" href="Ledger.Conway.Conformance.Certs.html#7218" class="InductiveConstructor">C.CERT-pre</a> <a id="11282" class="Symbol">_</a> <a id="11284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11286" href="Ledger.Conway.Conformance.Equivalence.html#11286" class="Bound">cert-post</a><a id="11295" class="Symbol">))</a> <a id="11298" class="Symbol">=</a>
  <a id="11302" href="Ledger.Conway.Conformance.Equivalence.html#8266" class="Function">getValidCertDepositsCERTS</a> <a id="11328" class="Symbol">(</a><a id="11329" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">C.UTxOState.deposits</a> <a id="11350" class="Symbol">((</a><a id="11352" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">C.LState.utxoSt</a> <a id="11368" href="Ledger.Conway.Conformance.Equivalence.html#11242" class="Bound">s</a><a id="11369" class="Symbol">)))</a> <a id="11373" href="Ledger.Conway.Conformance.Equivalence.html#11247" class="Bound">wf</a> <a id="11376" href="Ledger.Conway.Conformance.Equivalence.html#11286" class="Bound">cert-post</a>

<a id="lemUtxowDeposits"></a><a id="11387" href="Ledger.Conway.Conformance.Equivalence.html#11387" class="Function">lemUtxowDeposits</a> <a id="11404" class="Symbol">:</a> <a id="11406" class="Symbol">∀</a> <a id="11408" class="Symbol">{</a><a id="11409" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">Γ</a> <a id="11411" href="Ledger.Conway.Conformance.Equivalence.html#11411" class="Bound">s</a> <a id="11413" href="Ledger.Conway.Conformance.Equivalence.html#11413" class="Bound">s&#39;</a> <a id="11416" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">tx</a><a id="11418" class="Symbol">}</a>
                      <a id="11442" class="Symbol">(</a><a id="11443" class="Keyword">let</a> <a id="11447" class="Keyword">open</a> <a id="11452" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">C.UTxOEnv</a> <a id="11462" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">Γ</a> <a id="11464" class="Keyword">using</a> <a id="11470" class="Symbol">(</a><a id="11471" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a><a id="11478" class="Symbol">))</a>
                  <a id="11499" class="Symbol">→</a> <a id="11501" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="11509" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">tx</a> <a id="11512" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11514" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="11537" class="Symbol">→</a> <a id="11539" class="Symbol">(</a><a id="11540" href="Ledger.Conway.Conformance.Equivalence.html#11540" class="Bound">r</a> <a id="11542" class="Symbol">:</a> <a id="11544" href="Ledger.Conway.Conformance.Equivalence.html#11409" class="Bound">Γ</a> <a id="11546" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="11550" href="Ledger.Conway.Conformance.Equivalence.html#11411" class="Bound">s</a> <a id="11552" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="11555" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">tx</a> <a id="11558" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="11566" href="Ledger.Conway.Conformance.Equivalence.html#11413" class="Bound">s&#39;</a><a id="11568" class="Symbol">)</a>
                  <a id="11588" class="Symbol">→</a> <a id="11590" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="11604" href="Ledger.Conway.Conformance.Equivalence.html#11540" class="Bound">r</a> <a id="11606" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11608" href="Ledger.Conway.Specification.Utxo.html#8112" class="Function">L.updateDeposits</a> <a id="11625" href="Ledger.Conway.Specification.Utxo.html#1175" class="Function">pparams</a> <a id="11633" class="Symbol">(</a><a id="11634" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="11639" href="Ledger.Conway.Conformance.Equivalence.html#11416" class="Bound">tx</a><a id="11641" class="Symbol">)</a> <a id="11643" class="Symbol">(</a><a id="11644" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">C.UTxOState.deposits</a> <a id="11665" href="Ledger.Conway.Conformance.Equivalence.html#11413" class="Bound">s&#39;</a><a id="11667" class="Symbol">)</a>
<a id="11669" href="Ledger.Conway.Conformance.Equivalence.html#11387" class="Function">lemUtxowDeposits</a> <a id="11686" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11691" class="Symbol">(</a><a id="11692" href="Ledger.Conway.Conformance.Utxow.html#2541" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                        <a id="11729" class="Symbol">(</a><a id="11730" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="11748" class="Symbol">_</a> <a id="11750" class="Symbol">_</a> <a id="11752" class="Symbol">_</a> <a id="11754" class="Symbol">_</a> <a id="11756" class="Symbol">_</a> <a id="11758" class="Symbol">_</a> <a id="11760" class="Symbol">_</a> <a id="11762" class="Symbol">_</a> <a id="11764" class="Symbol">_</a> <a id="11766" class="Symbol">_</a> <a id="11768" class="Symbol">_</a> <a id="11770" class="Symbol">_</a> <a id="11772" class="Symbol">_</a> <a id="11774" class="Symbol">_</a> <a id="11776" class="Symbol">_</a> <a id="11778" class="Symbol">_</a> <a id="11780" class="Symbol">_</a> <a id="11782" class="Symbol">_</a> <a id="11784" class="Symbol">_</a> <a id="11786" class="Symbol">_</a>
                          <a id="11814" class="Symbol">(</a><a id="11815" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="11829" class="Symbol">_)))</a> <a id="11834" class="Symbol">=</a> <a id="11836" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11842" class="Keyword">instance</a>

  <a id="LEDGERFromConf"></a><a id="11854" href="Ledger.Conway.Conformance.Equivalence.html#11854" class="Function">LEDGERFromConf</a> <a id="11869" class="Symbol">:</a> <a id="11871" class="Symbol">∀</a> <a id="11873" class="Symbol">{</a><a id="11874" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">Γ</a> <a id="11876" href="Ledger.Conway.Conformance.Equivalence.html#11876" class="Bound">s</a> <a id="11878" href="Ledger.Conway.Conformance.Equivalence.html#11878" class="Bound">tx</a> <a id="11881" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s&#39;</a><a id="11883" class="Symbol">}</a> <a id="11885" class="Symbol">→</a> <a id="11887" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="11904" href="Ledger.Conway.Conformance.Equivalence.html#11876" class="Bound">s</a>
                                    <a id="11942" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="11944" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">Γ</a> <a id="11946" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="11950" href="Ledger.Conway.Conformance.Equivalence.html#11876" class="Bound">s</a> <a id="11952" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="11955" href="Ledger.Conway.Conformance.Equivalence.html#11878" class="Bound">tx</a> <a id="11958" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="11967" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s&#39;</a>
                                    <a id="12006" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="12008" href="Ledger.Conway.Conformance.Equivalence.html#11874" class="Bound">Γ</a> <a id="12010" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="12014" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12019" href="Ledger.Conway.Conformance.Equivalence.html#11876" class="Bound">s</a> <a id="12021" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="12024" href="Ledger.Conway.Conformance.Equivalence.html#11878" class="Bound">tx</a> <a id="12027" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="12036" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12041" href="Ledger.Conway.Conformance.Equivalence.html#11881" class="Bound">s&#39;</a>
  <a id="12046" href="Ledger.Conway.Conformance.Equivalence.html#11854" class="Function">LEDGERFromConf</a> <a id="12061" class="Symbol">.</a><a id="12062" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12068" class="Symbol">_</a> <a id="12070" class="Symbol">(</a><a id="12071" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="12083" href="Ledger.Conway.Conformance.Equivalence.html#12083" class="Bound">invalid</a> <a id="12091" href="Ledger.Conway.Conformance.Equivalence.html#12091" class="Bound">utxow</a><a id="12096" class="Symbol">)</a> <a id="12098" class="Keyword">with</a> <a id="12103" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="12108" href="Ledger.Conway.Conformance.Equivalence.html#12083" class="Bound">invalid</a> <a id="12116" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12122" href="Ledger.Conway.Conformance.Equivalence.html#12091" class="Bound">utxow</a>
  <a id="12130" class="Symbol">...</a> <a id="12134" class="Symbol">|</a> <a id="12136" href="Ledger.Conway.Conformance.Equivalence.html#12136" class="Bound">utxow&#39;</a> <a id="12143" class="Keyword">rewrite</a> <a id="12151" href="Ledger.Conway.Conformance.Equivalence.html#2067" class="Function">lemInvalidDepositsC</a> <a id="12171" class="Bound">invalid</a> <a id="12179" class="Bound">utxow</a> <a id="12185" class="Symbol">=</a> <a id="12187" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="12199" class="Bound">invalid</a> <a id="12207" href="Ledger.Conway.Conformance.Equivalence.html#12136" class="Bound">utxow&#39;</a>
  <a id="12216" href="Ledger.Conway.Conformance.Equivalence.html#11854" class="Function">LEDGERFromConf</a> <a id="12231" class="Symbol">{</a><a id="12232" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">Γ</a><a id="12233" class="Symbol">}</a> <a id="12235" class="Symbol">{</a><a id="12236" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">s</a><a id="12237" class="Symbol">}</a> <a id="12239" class="Symbol">{</a><a id="12240" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a><a id="12242" class="Symbol">}</a> <a id="12244" class="Symbol">{</a><a id="12245" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">s&#39;</a><a id="12247" class="Symbol">}</a> <a id="12249" class="Symbol">.</a><a id="12250" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12256" href="Ledger.Conway.Conformance.Equivalence.html#12256" class="Bound">wf</a> <a id="12259" class="Symbol">(</a><a id="12260" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="12272" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12277" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a> <a id="12283" href="Ledger.Conway.Conformance.Equivalence.html#12283" class="Bound">certs</a> <a id="12289" href="Ledger.Conway.Conformance.Equivalence.html#12289" class="Bound">gov</a><a id="12292" class="Symbol">)</a> <a id="12294" class="Symbol">=</a>
    <a id="12300" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="12306" class="Symbol">(λ</a> <a id="12309" href="Ledger.Conway.Conformance.Equivalence.html#12309" class="Bound">•</a> <a id="12311" class="Symbol">→</a> <a id="12313" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">Γ</a> <a id="12315" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="12319" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12324" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">s</a> <a id="12326" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="12329" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a> <a id="12332" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#12309}{\htmlId{12343}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12541}{\htmlId{12347}{\htmlClass{Function}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{12356}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#12562}{\htmlId{12361}{\htmlClass{Function}{\text{certSt&#39;}}}}\, \end{pmatrix}$</a><a id="12370" class="Symbol">)</a> <a id="12372" href="Ledger.Conway.Conformance.Equivalence.html#12911" class="Function">eqUtxo</a> <a id="12379" href="Ledger.Conway.Conformance.Equivalence.html#13055" class="Function">ledger&#39;</a>
    <a id="12391" class="Keyword">where</a>
      <a id="12403" class="Keyword">open</a> <a id="12408" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">C.LEnv</a> <a id="12415" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">Γ</a>

      <a id="12424" class="Keyword">open</a> <a id="12429" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12438" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">s</a> <a id="12440" class="Keyword">renaming</a> <a id="12449" class="Symbol">(</a><a id="12450" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12460" class="Symbol">to</a> <a id="12463" class="Field">certSt</a><a id="12469" class="Symbol">)</a>
      <a id="12477" class="Keyword">open</a> <a id="12482" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12491" href="Ledger.Conway.Conformance.Equivalence.html#12245" class="Bound">s&#39;</a> <a id="12494" class="Keyword">using</a> <a id="12500" class="Symbol">()</a> <a id="12503" class="Keyword">renaming</a> <a id="12512" class="Symbol">(</a><a id="12513" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="12520" class="Symbol">to</a> <a id="12523" class="Field">utxoSt&#39;</a><a id="12530" class="Symbol">;</a> <a id="12532" href="Ledger.Conway.Conformance.Ledger.html#861" class="Field">govSt</a> <a id="12538" class="Symbol">to</a> <a id="12541" class="Field">govSt&#39;</a><a id="12547" class="Symbol">;</a> <a id="12549" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12559" class="Symbol">to</a> <a id="12562" class="Field">certSt&#39;</a><a id="12569" class="Symbol">)</a>

      <a id="12578" class="Keyword">open</a> <a id="12583" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="12590" class="Symbol">(</a><a id="12591" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="12596" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a><a id="12598" class="Symbol">)</a>
      <a id="12606" class="Keyword">open</a> <a id="12611" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">C.UTxOState</a> <a id="12623" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12630" class="Keyword">using</a> <a id="12636" class="Symbol">(</a><a id="12637" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="12645" class="Symbol">)</a>

      <a id="12654" href="Ledger.Conway.Conformance.Equivalence.html#12654" class="Function">valid-deps</a> <a id="12665" class="Symbol">:</a> <a id="12667" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="12687" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="12695" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="12704" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
      <a id="12718" href="Ledger.Conway.Conformance.Equivalence.html#12654" class="Function">valid-deps</a> <a id="12729" class="Symbol">=</a> <a id="12731" href="Ledger.Conway.Conformance.Equivalence.html#10535" class="Function">getValidCertDepositsC</a> <a id="12753" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">Γ</a> <a id="12755" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">s</a> <a id="12757" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a> <a id="12760" href="Ledger.Conway.Conformance.Equivalence.html#12256" class="Bound">wf</a> <a id="12763" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12768" href="Ledger.Conway.Conformance.Equivalence.html#12283" class="Bound">certs</a>

      <a id="12781" href="Ledger.Conway.Conformance.Equivalence.html#12781" class="Function">utxow&#39;</a> <a id="12788" class="Symbol">:</a> <a id="12790" class="Symbol">_</a> <a id="12792" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="12796" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12803" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="12806" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a> <a id="12809" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="12817" class="Symbol">(</a><a id="12818" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12830" class="Symbol">(</a><a id="12831" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12845" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a><a id="12850" class="Symbol">)</a> <a id="12852" href="Ledger.Conway.Conformance.Equivalence.html#12523" class="Function">utxoSt&#39;</a><a id="12859" class="Symbol">)</a>
      <a id="12867" href="Ledger.Conway.Conformance.Equivalence.html#12781" class="Function">utxow&#39;</a> <a id="12874" class="Symbol">=</a> <a id="12876" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="12881" href="Ledger.Conway.Conformance.Equivalence.html#12654" class="Function">valid-deps</a> <a id="12892" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12898" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a>

      <a id="12911" href="Ledger.Conway.Conformance.Equivalence.html#12911" class="Function">eqUtxo</a> <a id="12918" class="Symbol">:</a> <a id="12920" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12932" class="Symbol">(</a><a id="12933" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="12947" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a><a id="12952" class="Symbol">)</a> <a id="12954" href="Ledger.Conway.Conformance.Equivalence.html#12523" class="Function">utxoSt&#39;</a> <a id="12962" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12964" href="Ledger.Conway.Conformance.Equivalence.html#12523" class="Function">utxoSt&#39;</a>
      <a id="12978" href="Ledger.Conway.Conformance.Equivalence.html#12911" class="Function">eqUtxo</a> <a id="12985" class="Symbol">=</a> <a id="12987" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="12992" class="Symbol">(λ</a> <a id="12995" href="Ledger.Conway.Conformance.Equivalence.html#12995" class="Bound">•</a> <a id="12997" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{13001}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{13005}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12995}{\htmlId{13009}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{13013}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="13016" class="Symbol">)</a> <a id="13018" class="Symbol">(</a><a id="13019" href="Ledger.Conway.Conformance.Equivalence.html#11387" class="Function">lemUtxowDeposits</a> <a id="13036" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13041" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a><a id="13046" class="Symbol">)</a>

      <a id="13055" href="Ledger.Conway.Conformance.Equivalence.html#13055" class="Function">ledger&#39;</a> <a id="13063" class="Symbol">:</a> <a id="13065" href="Ledger.Conway.Conformance.Equivalence.html#12232" class="Bound">Γ</a> <a id="13067" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L.⊢</a> <a id="13071" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13076" href="Ledger.Conway.Conformance.Equivalence.html#12236" class="Bound">s</a> <a id="13078" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="13081" href="Ledger.Conway.Conformance.Equivalence.html#12240" class="Bound">tx</a> <a id="13084" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a id="13093" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">L.⟦</a> <a id="13097" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="13109" class="Symbol">(</a><a id="13110" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="13124" href="Ledger.Conway.Conformance.Equivalence.html#12277" class="Bound">utxow</a><a id="13129" class="Symbol">)</a> <a id="13131" href="Ledger.Conway.Conformance.Equivalence.html#12523" class="Function">utxoSt&#39;</a>
                                              <a id="13185" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">,</a> <a id="13187" href="Ledger.Conway.Conformance.Equivalence.html#12541" class="Function">govSt&#39;</a>
                                              <a id="13240" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">,</a> <a id="13242" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13247" href="Ledger.Conway.Conformance.Equivalence.html#12562" class="Function">certSt&#39;</a> <a id="13255" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="13264" href="Ledger.Conway.Conformance.Equivalence.html#13055" class="Function">ledger&#39;</a> <a id="13272" class="Symbol">=</a> <a id="13274" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="13286" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13291" href="Ledger.Conway.Conformance.Equivalence.html#12781" class="Function">utxow&#39;</a> <a id="13298" class="Symbol">(</a><a id="13299" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13304" href="Ledger.Conway.Conformance.Equivalence.html#12283" class="Bound">certs</a><a id="13309" class="Symbol">)</a> <a id="13311" href="Ledger.Conway.Conformance.Equivalence.html#12289" class="Bound">gov</a>

<a id="13316" class="Keyword">open</a> <a id="13321" href="Relation.Binary.Structures.html#1595" class="Module">IsEquivalence</a> <a id="13335" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13066" class="Function">≡ᵈ-isEquivalence</a> <a id="13352" class="Keyword">renaming</a> <a id="13361" class="Symbol">(</a><a id="13362" href="Relation.Binary.Structures.html#1641" class="Field">refl</a> <a id="13367" class="Symbol">to</a> <a id="13370" class="Field">≡ᵈ-refl</a><a id="13377" class="Symbol">;</a> <a id="13379" href="Relation.Binary.Structures.html#1667" class="Field">sym</a> <a id="13383" class="Symbol">to</a> <a id="13386" class="Field">≡ᵈ-sym</a><a id="13392" class="Symbol">;</a> <a id="13394" href="Relation.Binary.Structures.html#1693" class="Field">trans</a> <a id="13400" class="Symbol">to</a> <a id="13403" class="Field">≡ᵈ-trans</a><a id="13411" class="Symbol">)</a>

<a id="lemCERTS&#39;DepositsC"></a><a id="13414" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13433" class="Symbol">:</a> <a id="13435" class="Symbol">∀</a> <a id="13437" class="Symbol">{</a><a id="13438" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">Γ</a> <a id="13440" href="Ledger.Conway.Conformance.Equivalence.html#13440" class="Bound">s</a> <a id="13442" href="Ledger.Conway.Conformance.Equivalence.html#13442" class="Bound">dcerts</a> <a id="13449" href="Ledger.Conway.Conformance.Equivalence.html#13449" class="Bound">s&#39;</a><a id="13451" class="Symbol">}</a> <a id="13453" class="Symbol">(</a><a id="13454" class="Keyword">open</a> <a id="13459" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="13469" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">Γ</a> <a id="13471" class="Keyword">using</a> <a id="13477" class="Symbol">(</a><a id="13478" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="13480" class="Symbol">))</a>
                   <a id="13502" class="Symbol">→</a> <a id="13504" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="13520" href="Ledger.Conway.Conformance.Certs.html#6495" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="13536" href="Ledger.Conway.Conformance.Certs.html#7885" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="13557" href="Ledger.Conway.Conformance.Equivalence.html#13438" class="Bound">Γ</a> <a id="13559" href="Ledger.Conway.Conformance.Equivalence.html#13440" class="Bound">s</a> <a id="13561" href="Ledger.Conway.Conformance.Equivalence.html#13442" class="Bound">dcerts</a> <a id="13568" href="Ledger.Conway.Conformance.Equivalence.html#13449" class="Bound">s&#39;</a>
                   <a id="13590" class="Symbol">→</a> <a id="13592" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="13606" href="Ledger.Conway.Conformance.Equivalence.html#13449" class="Bound">s&#39;</a> <a id="13609" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13611" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="13613" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="13625" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="13628" href="Ledger.Conway.Conformance.Equivalence.html#13442" class="Bound">dcerts</a> <a id="13635" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="13637" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="13649" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="13652" href="Ledger.Conway.Conformance.Equivalence.html#13442" class="Bound">dcerts</a> <a id="13659" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="13661" class="Symbol">(</a><a id="13662" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="13676" href="Ledger.Conway.Conformance.Equivalence.html#13440" class="Bound">s</a><a id="13677" class="Symbol">)</a>
<a id="13679" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13698" class="Symbol">(</a><a id="13699" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="13706" href="Ledger.Conway.Conformance.Certs.html#7958" class="InductiveConstructor">C.CERT-post</a><a id="13717" class="Symbol">)</a> <a id="13719" class="Symbol">=</a> <a id="13721" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13726" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13745" class="Symbol">(</a><a id="13746" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13752" class="Symbol">(</a><a id="13753" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13767" class="Symbol">(</a><a id="13768" href="Ledger.Conway.Conformance.Certs.html#4153" class="InductiveConstructor">C.DELEG-delegate</a>     <a id="13789" class="Symbol">_))</a> <a id="13793" href="Ledger.Conway.Conformance.Equivalence.html#13793" class="Bound">rs</a><a id="13795" class="Symbol">)</a> <a id="13797" class="Symbol">=</a> <a id="13799" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13818" href="Ledger.Conway.Conformance.Equivalence.html#13793" class="Bound">rs</a>
<a id="13821" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13840" class="Symbol">(</a><a id="13841" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13847" class="Symbol">(</a><a id="13848" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13862" class="Symbol">(</a><a id="13863" href="Ledger.Conway.Conformance.Certs.html#4790" class="InductiveConstructor">C.DELEG-dereg</a>        <a id="13884" class="Symbol">_))</a> <a id="13888" href="Ledger.Conway.Conformance.Equivalence.html#13888" class="Bound">rs</a><a id="13890" class="Symbol">)</a> <a id="13892" class="Symbol">=</a> <a id="13894" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13913" href="Ledger.Conway.Conformance.Equivalence.html#13888" class="Bound">rs</a>
<a id="13916" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="13935" class="Symbol">(</a><a id="13936" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13942" class="Symbol">(</a><a id="13943" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13957" class="Symbol">(</a><a id="13958" href="Ledger.Conway.Conformance.Certs.html#5154" class="InductiveConstructor">C.DELEG-reg</a>          <a id="13979" class="Symbol">_))</a> <a id="13983" href="Ledger.Conway.Conformance.Equivalence.html#13983" class="Bound">rs</a><a id="13985" class="Symbol">)</a> <a id="13987" class="Symbol">=</a> <a id="13989" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14008" href="Ledger.Conway.Conformance.Equivalence.html#13983" class="Bound">rs</a>
<a id="14011" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14030" class="Symbol">(</a><a id="14031" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14037" class="Symbol">(</a><a id="14038" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a>   <a id="14052" class="Symbol">(</a><a id="14053" href="Ledger.Conway.Conformance.Certs.html#3779" class="InductiveConstructor">C.POOL-regpool</a>       <a id="14074" class="Symbol">_))</a> <a id="14078" href="Ledger.Conway.Conformance.Equivalence.html#14078" class="Bound">rs</a><a id="14080" class="Symbol">)</a> <a id="14082" class="Symbol">=</a> <a id="14084" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14103" href="Ledger.Conway.Conformance.Equivalence.html#14078" class="Bound">rs</a>
<a id="14106" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14125" class="Symbol">(</a><a id="14126" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14132" class="Symbol">(</a><a id="14133" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a>    <a id="14148" href="Ledger.Conway.Conformance.Certs.html#3978" class="InductiveConstructor">C.POOL-retirepool</a>     <a id="14170" class="Symbol">)</a>  <a id="14173" href="Ledger.Conway.Conformance.Equivalence.html#14173" class="Bound">rs</a><a id="14175" class="Symbol">)</a> <a id="14177" class="Symbol">=</a> <a id="14179" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14198" href="Ledger.Conway.Conformance.Equivalence.html#14173" class="Bound">rs</a>
<a id="14201" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14220" class="Symbol">(</a><a id="14221" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14227" class="Symbol">(</a><a id="14228" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14242" class="Symbol">(</a><a id="14243" href="Ledger.Conway.Conformance.Certs.html#5543" class="InductiveConstructor">C.GOVCERT-regdrep</a>    <a id="14264" class="Symbol">_))</a> <a id="14268" href="Ledger.Conway.Conformance.Equivalence.html#14268" class="Bound">rs</a><a id="14270" class="Symbol">)</a> <a id="14272" class="Symbol">=</a> <a id="14274" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14293" href="Ledger.Conway.Conformance.Equivalence.html#14268" class="Bound">rs</a>
<a id="14296" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14315" class="Symbol">(</a><a id="14316" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14322" class="Symbol">(</a><a id="14323" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14337" class="Symbol">(</a><a id="14338" href="Ledger.Conway.Conformance.Certs.html#5909" class="InductiveConstructor">C.GOVCERT-deregdrep</a>  <a id="14359" class="Symbol">_))</a> <a id="14363" href="Ledger.Conway.Conformance.Equivalence.html#14363" class="Bound">rs</a><a id="14365" class="Symbol">)</a> <a id="14367" class="Symbol">=</a> <a id="14369" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14388" href="Ledger.Conway.Conformance.Equivalence.html#14363" class="Bound">rs</a>
<a id="14391" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14410" class="Symbol">(</a><a id="14411" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14417" class="Symbol">(</a><a id="14418" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14432" class="Symbol">(</a><a id="14433" href="Ledger.Conway.Conformance.Certs.html#6204" class="InductiveConstructor">C.GOVCERT-ccreghot</a>   <a id="14454" class="Symbol">_))</a> <a id="14458" href="Ledger.Conway.Conformance.Equivalence.html#14458" class="Bound">rs</a><a id="14460" class="Symbol">)</a> <a id="14462" class="Symbol">=</a> <a id="14464" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14483" href="Ledger.Conway.Conformance.Equivalence.html#14458" class="Bound">rs</a>

<a id="lemCERTSDepositsC"></a><a id="14487" href="Ledger.Conway.Conformance.Equivalence.html#14487" class="Function">lemCERTSDepositsC</a> <a id="14505" class="Symbol">:</a> <a id="14507" class="Symbol">∀</a> <a id="14509" class="Symbol">{</a><a id="14510" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">Γ</a> <a id="14512" href="Ledger.Conway.Conformance.Equivalence.html#14512" class="Bound">s</a> <a id="14514" href="Ledger.Conway.Conformance.Equivalence.html#14514" class="Bound">txCerts</a> <a id="14522" href="Ledger.Conway.Conformance.Equivalence.html#14522" class="Bound">s&#39;</a><a id="14524" class="Symbol">}</a> <a id="14526" class="Symbol">(</a><a id="14527" class="Keyword">open</a> <a id="14532" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="14542" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">Γ</a> <a id="14544" class="Keyword">using</a> <a id="14550" class="Symbol">(</a><a id="14551" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="14553" class="Symbol">))</a>
                  <a id="14574" class="Symbol">→</a> <a id="14576" href="Ledger.Conway.Conformance.Equivalence.html#14510" class="Bound">Γ</a> <a id="14578" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">C.⊢</a> <a id="14582" href="Ledger.Conway.Conformance.Equivalence.html#14512" class="Bound">s</a> <a id="14584" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">⇀⦇</a> <a id="14587" href="Ledger.Conway.Conformance.Equivalence.html#14514" class="Bound">txCerts</a> <a id="14595" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">,CERTS⦈</a> <a id="14603" href="Ledger.Conway.Conformance.Equivalence.html#14522" class="Bound">s&#39;</a>
                  <a id="14624" class="Symbol">→</a> <a id="14626" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="14640" href="Ledger.Conway.Conformance.Equivalence.html#14522" class="Bound">s&#39;</a> <a id="14643" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14645" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="14647" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="14659" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="14662" href="Ledger.Conway.Conformance.Equivalence.html#14514" class="Bound">txCerts</a> <a id="14670" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="14672" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="14684" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="14687" href="Ledger.Conway.Conformance.Equivalence.html#14514" class="Bound">txCerts</a> <a id="14695" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="14697" class="Symbol">(</a><a id="14698" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="14712" href="Ledger.Conway.Conformance.Equivalence.html#14512" class="Bound">s</a><a id="14713" class="Symbol">)</a>
<a id="14715" href="Ledger.Conway.Conformance.Equivalence.html#14487" class="Function">lemCERTSDepositsC</a> <a id="14733" class="Symbol">(</a><a id="14734" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="14738" class="Symbol">(</a><a id="14739" href="Ledger.Conway.Conformance.Certs.html#7218" class="InductiveConstructor">C.CERT-pre</a> <a id="14750" class="Symbol">_</a> <a id="14752" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14754" href="Ledger.Conway.Conformance.Equivalence.html#14754" class="Bound">step</a><a id="14758" class="Symbol">))</a> <a id="14761" class="Symbol">=</a> <a id="14763" href="Ledger.Conway.Conformance.Equivalence.html#13414" class="Function">lemCERTS&#39;DepositsC</a> <a id="14782" href="Ledger.Conway.Conformance.Equivalence.html#14754" class="Bound">step</a>

<a id="lemWellformed"></a><a id="14788" href="Ledger.Conway.Conformance.Equivalence.html#14788" class="Function">lemWellformed</a> <a id="14802" class="Symbol">:</a> <a id="14804" class="Symbol">∀</a> <a id="14806" class="Symbol">{</a><a id="14807" href="Ledger.Conway.Conformance.Equivalence.html#14807" class="Bound">Γ</a> <a id="14809" href="Ledger.Conway.Conformance.Equivalence.html#14809" class="Bound">s</a> <a id="14811" href="Ledger.Conway.Conformance.Equivalence.html#14811" class="Bound">tx</a> <a id="14814" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s&#39;</a><a id="14816" class="Symbol">}</a> <a id="14818" class="Symbol">→</a> <a id="14820" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="14837" href="Ledger.Conway.Conformance.Equivalence.html#14809" class="Bound">s</a> <a id="14839" class="Symbol">→</a> <a id="14841" href="Ledger.Conway.Conformance.Equivalence.html#14807" class="Bound">Γ</a> <a id="14843" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="14847" href="Ledger.Conway.Conformance.Equivalence.html#14809" class="Bound">s</a> <a id="14849" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="14852" href="Ledger.Conway.Conformance.Equivalence.html#14811" class="Bound">tx</a> <a id="14855" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="14864" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s&#39;</a> <a id="14867" class="Symbol">→</a> <a id="14869" href="Ledger.Conway.Conformance.Equivalence.html#8147" class="Function">WellformedLState</a> <a id="14886" href="Ledger.Conway.Conformance.Equivalence.html#14814" class="Bound">s&#39;</a>
<a id="14889" href="Ledger.Conway.Conformance.Equivalence.html#14788" class="Function">lemWellformed</a> <a id="14903" class="Symbol">{</a><a id="14904" href="Ledger.Conway.Conformance.Equivalence.html#14904" class="Bound">Γ</a><a id="14905" class="Symbol">}</a> <a id="14907" class="Symbol">{</a><a id="14908" class="Argument">s</a> <a id="14910" class="Symbol">=</a> <a id="14912" href="Ledger.Conway.Conformance.Equivalence.html#14912" class="Bound">ls</a><a id="14914" class="Symbol">}</a> <a id="14916" class="Symbol">{</a><a id="14917" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">tx</a><a id="14919" class="Symbol">}</a> <a id="14921" class="Symbol">{</a><a id="14922" class="Argument">s&#39;</a> <a id="14925" class="Symbol">=</a> <a id="14927" href="Ledger.Conway.Conformance.Equivalence.html#14927" class="Bound">ls&#39;</a><a id="14930" class="Symbol">}</a> <a id="14932" href="Ledger.Conway.Conformance.Equivalence.html#14932" class="Bound">wf</a> <a id="14935" class="Symbol">(</a><a id="14936" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="14948" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14953" href="Ledger.Conway.Conformance.Equivalence.html#14953" class="Bound">utxo</a> <a id="14958" href="Ledger.Conway.Conformance.Equivalence.html#14958" class="Bound">certs</a> <a id="14964" href="Ledger.Conway.Conformance.Equivalence.html#14964" class="Bound">gov</a><a id="14967" class="Symbol">)</a> <a id="14969" class="Symbol">=</a> <a id="14971" href="Ledger.Conway.Conformance.Equivalence.html#16240" class="Function">goal</a>
  <a id="14978" class="Keyword">where</a>
    <a id="14988" class="Keyword">open</a> <a id="14993" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15002" href="Ledger.Conway.Conformance.Equivalence.html#14912" class="Bound">ls</a>  <a id="15006" class="Keyword">renaming</a> <a id="15015" class="Symbol">(</a><a id="15016" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15026" class="Symbol">to</a> <a id="15029" class="Field">certSt</a><a id="15035" class="Symbol">)</a>
    <a id="15041" class="Keyword">open</a> <a id="15046" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15055" href="Ledger.Conway.Conformance.Equivalence.html#14927" class="Bound">ls&#39;</a> <a id="15059" class="Keyword">renaming</a> <a id="15068" class="Symbol">(</a><a id="15069" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="15076" class="Symbol">to</a> <a id="15079" class="Field">utxoSt&#39;</a><a id="15086" class="Symbol">;</a> <a id="15088" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15098" class="Symbol">to</a> <a id="15101" class="Field">certSt&#39;</a><a id="15108" class="Symbol">)</a>
    <a id="15114" class="Keyword">open</a> <a id="15119" href="Ledger.Conway.Specification.Ledger.html#713" class="Module">L.LEnv</a> <a id="15126" href="Ledger.Conway.Conformance.Equivalence.html#14904" class="Bound">Γ</a> <a id="15128" class="Keyword">using</a> <a id="15134" class="Symbol">(</a><a id="15135" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a><a id="15142" class="Symbol">)</a>
    <a id="15148" class="Keyword">open</a> <a id="15153" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="15160" class="Symbol">(</a><a id="15161" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="15166" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">tx</a><a id="15168" class="Symbol">)</a>

    <a id="15175" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a>  <a id="15185" class="Symbol">=</a> <a id="15187" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="15208" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a>
    <a id="15219" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a> <a id="15229" class="Symbol">=</a> <a id="15231" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="15252" href="Ledger.Conway.Conformance.Equivalence.html#15079" class="Function">utxoSt&#39;</a>

    <a id="15265" href="Ledger.Conway.Conformance.Equivalence.html#15265" class="Function">depositsL&#39;</a> <a id="15276" class="Symbol">=</a> <a id="15278" href="Ledger.Conway.Specification.Utxo.html#8112" class="Function">L.updateDeposits</a> <a id="15295" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15303" class="Symbol">(</a><a id="15304" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="15309" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">tx</a><a id="15311" class="Symbol">)</a> <a id="15313" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a>

    <a id="15327" href="Ledger.Conway.Conformance.Equivalence.html#15327" class="Function">ddeps</a> <a id="15333" class="Symbol">=</a> <a id="15335" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15349" href="Ledger.Conway.Conformance.Equivalence.html#15029" class="Function">certSt</a> <a id="15356" class="Symbol">.</a><a id="15357" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15367" href="Ledger.Conway.Conformance.Equivalence.html#15367" class="Function">gdeps</a> <a id="15373" class="Symbol">=</a> <a id="15375" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15389" href="Ledger.Conway.Conformance.Equivalence.html#15029" class="Function">certSt</a> <a id="15396" class="Symbol">.</a><a id="15397" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15408" href="Ledger.Conway.Conformance.Equivalence.html#15408" class="Function">ddeps&#39;</a> <a id="15415" class="Symbol">=</a> <a id="15417" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15431" href="Ledger.Conway.Conformance.Equivalence.html#15101" class="Function">certSt&#39;</a> <a id="15439" class="Symbol">.</a><a id="15440" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15450" href="Ledger.Conway.Conformance.Equivalence.html#15450" class="Function">gdeps&#39;</a> <a id="15457" class="Symbol">=</a> <a id="15459" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="15473" href="Ledger.Conway.Conformance.Equivalence.html#15101" class="Function">certSt&#39;</a> <a id="15481" class="Symbol">.</a><a id="15482" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15493" href="Ledger.Conway.Conformance.Equivalence.html#15493" class="Function">lem</a> <a id="15497" class="Symbol">:</a> <a id="15499" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a> <a id="15509" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15511" href="Ledger.Conway.Conformance.Equivalence.html#15265" class="Function">depositsL&#39;</a>
    <a id="15526" href="Ledger.Conway.Conformance.Equivalence.html#15493" class="Function">lem</a> <a id="15530" class="Keyword">rewrite</a> <a id="15538" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="15551" href="Ledger.Conway.Conformance.Equivalence.html#14953" class="Bound">utxo</a> <a id="15556" class="Symbol">=</a> <a id="15558" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="15568" href="Ledger.Conway.Conformance.Equivalence.html#15568" class="Function">lem₁</a> <a id="15573" class="Symbol">:</a> <a id="15575" class="Symbol">(</a><a id="15576" href="Ledger.Conway.Conformance.Equivalence.html#15408" class="Function">ddeps&#39;</a> <a id="15583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15585" href="Ledger.Conway.Conformance.Equivalence.html#15450" class="Function">gdeps&#39;</a><a id="15591" class="Symbol">)</a> <a id="15593" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15595" class="Symbol">(</a><a id="15596" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="15608" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15616" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15624" href="Ledger.Conway.Conformance.Equivalence.html#15327" class="Function">ddeps</a> <a id="15630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15632" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="15644" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15652" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15660" href="Ledger.Conway.Conformance.Equivalence.html#15367" class="Function">gdeps</a><a id="15665" class="Symbol">)</a>
    <a id="15671" href="Ledger.Conway.Conformance.Equivalence.html#15568" class="Function">lem₁</a> <a id="15676" class="Symbol">=</a> <a id="15678" href="Ledger.Conway.Conformance.Equivalence.html#14487" class="Function">lemCERTSDepositsC</a> <a id="15696" href="Ledger.Conway.Conformance.Equivalence.html#14958" class="Bound">certs</a>

    <a id="15707" href="Ledger.Conway.Conformance.Equivalence.html#15707" class="Function">lem₂</a> <a id="15712" class="Symbol">:</a>  <a id="15715" class="Symbol">(</a><a id="15716" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="15728" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15736" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15744" class="Symbol">(</a><a id="15745" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="15755" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="15763" class="Symbol">)</a> <a id="15765" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15767" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="15779" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15787" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="15795" class="Symbol">(</a><a id="15796" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="15806" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="15814" class="Symbol">))</a>
         <a id="15826" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="15829" class="Symbol">(</a><a id="15830" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="15840" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a> <a id="15850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15852" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="15862" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a><a id="15871" class="Symbol">)</a>
    <a id="15877" href="Ledger.Conway.Conformance.Equivalence.html#15707" class="Function">lem₂</a> <a id="15882" class="Keyword">rewrite</a> <a id="15890" href="Ledger.Conway.Conformance.Equivalence.html#15493" class="Function">lem</a> <a id="15894" class="Symbol">=</a> <a id="15896" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#18977" class="Function">lem-upd-ddeps</a> <a id="15910" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15918" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a> <a id="15927" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">tx</a> <a id="15930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15932" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19766" class="Function">lem-upd-gdeps</a> <a id="15946" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="15954" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a> <a id="15963" href="Ledger.Conway.Conformance.Equivalence.html#14917" class="Bound">tx</a>

    <a id="15971" href="Ledger.Conway.Conformance.Equivalence.html#15971" class="Function">lem₃</a> <a id="15976" class="Symbol">:</a>  <a id="15979" class="Symbol">(</a><a id="15980" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="15992" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16000" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16008" href="Ledger.Conway.Conformance.Equivalence.html#15327" class="Function">ddeps</a> <a id="16014" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16016" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="16028" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16036" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16044" href="Ledger.Conway.Conformance.Equivalence.html#15367" class="Function">gdeps</a><a id="16049" class="Symbol">)</a>
         <a id="16060" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="16063" class="Symbol">(</a><a id="16064" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="16076" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16084" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16092" class="Symbol">(</a><a id="16093" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="16103" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="16111" class="Symbol">)</a> <a id="16113" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16115" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="16127" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16135" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16143" class="Symbol">(</a><a id="16144" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="16154" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="16162" class="Symbol">))</a>
    <a id="16169" href="Ledger.Conway.Conformance.Equivalence.html#15971" class="Function">lem₃</a> <a id="16174" class="Symbol">=</a> <a id="16176" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="16178" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14216" class="Function">cong-updateDDeps</a> <a id="16195" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16203" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="16205" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#15202" class="Function">cong-updateGDeps</a> <a id="16222" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16230" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="16232" href="Ledger.Conway.Conformance.Equivalence.html#14932" class="Bound">wf</a>

    <a id="16240" href="Ledger.Conway.Conformance.Equivalence.html#16240" class="Function">goal</a> <a id="16245" class="Symbol">:</a> <a id="16247" class="Symbol">(</a><a id="16248" href="Ledger.Conway.Conformance.Equivalence.html#15408" class="Function">ddeps&#39;</a> <a id="16255" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16257" href="Ledger.Conway.Conformance.Equivalence.html#15450" class="Function">gdeps&#39;</a><a id="16263" class="Symbol">)</a> <a id="16265" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="16268" class="Symbol">(</a><a id="16269" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="16279" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a> <a id="16289" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16291" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="16301" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a><a id="16310" class="Symbol">)</a>
    <a id="16316" href="Ledger.Conway.Conformance.Equivalence.html#16240" class="Function">goal</a> <a id="16321" class="Keyword">with</a> <a id="16326" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="16333" href="Ledger.Conway.Conformance.Equivalence.html#15568" class="Function">lem₁</a> <a id="16338" class="Symbol">=</a> <a id="16340" href="Ledger.Conway.Conformance.Equivalence.html#13403" class="Function">≡ᵈ-trans</a> <a id="16349" class="Symbol">{</a><a id="16350" href="Ledger.Conway.Conformance.Equivalence.html#15408" class="Function">ddeps&#39;</a> <a id="16357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16359" href="Ledger.Conway.Conformance.Equivalence.html#15450" class="Function">gdeps&#39;</a><a id="16365" class="Symbol">}</a>
                                     <a id="16404" class="Symbol">{</a><a id="16405" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2333" class="Function">updateDDeps</a> <a id="16417" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16425" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16433" class="Symbol">(</a><a id="16434" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="16444" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="16452" class="Symbol">)</a> <a id="16454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16456" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2784" class="Function">updateGDeps</a> <a id="16468" href="Ledger.Conway.Specification.Ledger.html#801" class="Function">pparams</a> <a id="16476" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="16484" class="Symbol">(</a><a id="16485" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="16495" href="Ledger.Conway.Conformance.Equivalence.html#15175" class="Function">deposits</a><a id="16503" class="Symbol">)}</a>
                                     <a id="16543" class="Symbol">{</a><a id="16544" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3980" class="Function">certDDeps</a> <a id="16554" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a> <a id="16564" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16566" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4126" class="Function">certGDeps</a> <a id="16576" href="Ledger.Conway.Conformance.Equivalence.html#15219" class="Function">deposits&#39;</a><a id="16585" class="Symbol">}</a>
                              <a id="16617" href="Ledger.Conway.Conformance.Equivalence.html#15971" class="Function">lem₃</a>
                              <a id="16652" href="Ledger.Conway.Conformance.Equivalence.html#15707" class="Function">lem₂</a>
<a id="16657" href="Ledger.Conway.Conformance.Equivalence.html#14788" class="Function">lemWellformed</a> <a id="16671" href="Ledger.Conway.Conformance.Equivalence.html#16671" class="Bound">wf</a> <a id="16674" class="Symbol">(</a><a id="16675" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="16687" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="16692" href="Ledger.Conway.Conformance.Equivalence.html#16692" class="Bound">utxo</a><a id="16696" class="Symbol">)</a> <a id="16698" class="Keyword">rewrite</a> <a id="16706" href="Ledger.Conway.Conformance.Equivalence.html#2526" class="Function">lemDepositsC</a> <a id="16719" href="Ledger.Conway.Conformance.Equivalence.html#16692" class="Bound">utxo</a> <a id="16724" class="Symbol">=</a> <a id="16726" href="Ledger.Conway.Conformance.Equivalence.html#16671" class="Bound">wf</a>

<a id="setCertDeposits"></a><a id="16730" href="Ledger.Conway.Conformance.Equivalence.html#16730" class="Function">setCertDeposits</a> <a id="16746" class="Symbol">:</a> <a id="16748" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="16759" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16761" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="16772" class="Symbol">→</a> <a id="16774" href="Ledger.Conway.Conformance.Certs.html#971" class="Record">C.CertState</a> <a id="16786" class="Symbol">→</a> <a id="16788" href="Ledger.Conway.Conformance.Certs.html#971" class="Record">C.CertState</a>
<a id="16800" href="Ledger.Conway.Conformance.Equivalence.html#16730" class="Function">setCertDeposits</a> <a id="16816" class="Symbol">(</a><a id="16817" href="Ledger.Conway.Conformance.Equivalence.html#16817" class="Bound">ddeps</a> <a id="16823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16825" href="Ledger.Conway.Conformance.Equivalence.html#16825" class="Bound">gdeps</a><a id="16830" class="Symbol">)</a> <a id="16832" href="Ledger.Conway.Conformance.Equivalence.html#16832" class="Bound">cs</a> <a id="16835" class="Symbol">=</a>
  <a id="16839" class="Keyword">let</a> <a id="16843" class="Keyword">open</a> <a id="16848" href="Ledger.Conway.Conformance.Certs.html#971" class="Module">C.CertState</a> <a id="16860" href="Ledger.Conway.Conformance.Equivalence.html#16832" class="Bound">cs</a> <a id="16863" class="Keyword">in</a>
  <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{16870}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1030}{\htmlId{16877}{\htmlClass{Field}{\text{dState}}}}\, \,\htmlId{16884}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#771}{\htmlId{16885}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16894}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16817}{\htmlId{16896}{\htmlClass{Bound}{\text{ddeps}}}}\,\,\htmlId{16901}{\htmlClass{Symbol}{\text{}}}}\, \\ \,\href{Ledger.Conway.Conformance.Certs.html#1050}{\htmlId{16905}{\htmlClass{Field}{\text{pState}}}}\, \\ \,\htmlId{16914}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1070}{\htmlId{16921}{\htmlClass{Field}{\text{gState}}}}\, \,\htmlId{16928}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#941}{\htmlId{16929}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16938}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16825}{\htmlId{16940}{\htmlClass{Bound}{\text{gdeps}}}}\,\,\htmlId{16945}{\htmlClass{Symbol}{\text{}}}}\, \end{pmatrix}$</a>

<a id="updateCDep"></a><a id="16950" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="16961" class="Symbol">:</a> <a id="16963" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a> <a id="16971" class="Symbol">→</a> <a id="16973" href="Ledger.Conway.Specification.Certs.html#2238" class="Datatype">L.DCert</a> <a id="16981" class="Symbol">→</a> <a id="16983" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="16994" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16996" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="17007" class="Symbol">→</a> <a id="17009" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="17020" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17022" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a>
<a id="17033" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="17044" href="Ledger.Conway.Conformance.Equivalence.html#17044" class="Bound">pp</a> <a id="17047" href="Ledger.Conway.Conformance.Equivalence.html#17047" class="Bound">cert</a> <a id="17052" class="Symbol">(</a><a id="17053" href="Ledger.Conway.Conformance.Equivalence.html#17053" class="Bound">ddep</a> <a id="17058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17060" href="Ledger.Conway.Conformance.Equivalence.html#17060" class="Bound">gdep</a><a id="17064" class="Symbol">)</a> <a id="17066" class="Symbol">=</a> <a id="17068" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#1983" class="Function">updateDDep</a> <a id="17079" href="Ledger.Conway.Conformance.Equivalence.html#17044" class="Bound">pp</a> <a id="17082" href="Ledger.Conway.Conformance.Equivalence.html#17047" class="Bound">cert</a> <a id="17087" href="Ledger.Conway.Conformance.Equivalence.html#17053" class="Bound">ddep</a> <a id="17092" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17094" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2523" class="Function">updateGDep</a> <a id="17105" href="Ledger.Conway.Conformance.Equivalence.html#17044" class="Bound">pp</a> <a id="17108" href="Ledger.Conway.Conformance.Equivalence.html#17047" class="Bound">cert</a> <a id="17113" href="Ledger.Conway.Conformance.Equivalence.html#17060" class="Bound">gdep</a>

<a id="17119" class="Keyword">opaque</a>
  <a id="castCERTS&#39;"></a><a id="17128" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="17139" class="Symbol">:</a> <a id="17141" class="Symbol">∀</a> <a id="17143" class="Symbol">{</a><a id="17144" href="Ledger.Conway.Conformance.Equivalence.html#17144" class="Bound">Γ</a> <a id="17146" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Bound">certs</a><a id="17151" class="Symbol">}</a> <a id="17153" class="Symbol">{</a><a id="17154" href="Ledger.Conway.Conformance.Equivalence.html#17154" class="Bound">s</a> <a id="17156" href="Ledger.Conway.Conformance.Equivalence.html#17156" class="Bound">s&#39;</a> <a id="17159" class="Symbol">:</a> <a id="17161" href="Ledger.Conway.Specification.Certs.html#4252" class="Record">L.CertState</a><a id="17172" class="Symbol">}</a> <a id="17174" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">deps₁</a> <a id="17180" href="Ledger.Conway.Conformance.Equivalence.html#17180" class="Bound">deps₂</a> <a id="17186" href="Ledger.Conway.Conformance.Equivalence.html#17186" class="Bound">deps₁&#39;</a>
             <a id="17206" class="Symbol">→</a> <a id="17208" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">deps₁</a> <a id="17214" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="17217" href="Ledger.Conway.Conformance.Equivalence.html#17180" class="Bound">deps₂</a>
             <a id="17236" class="Symbol">→</a> <a id="17238" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17254" href="Ledger.Conway.Conformance.Certs.html#6495" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17270" href="Ledger.Conway.Conformance.Certs.html#7885" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17291" href="Ledger.Conway.Conformance.Equivalence.html#17144" class="Bound">Γ</a> <a id="17293" class="Symbol">(</a><a id="17294" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">deps₁</a> <a id="17300" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17306" href="Ledger.Conway.Conformance.Equivalence.html#17154" class="Bound">s</a><a id="17307" class="Symbol">)</a> <a id="17309" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Bound">certs</a> <a id="17315" class="Symbol">(</a><a id="17316" href="Ledger.Conway.Conformance.Equivalence.html#17186" class="Bound">deps₁&#39;</a> <a id="17323" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17329" href="Ledger.Conway.Conformance.Equivalence.html#17156" class="Bound">s&#39;</a><a id="17331" class="Symbol">)</a>
             <a id="17346" class="Symbol">→</a> <a id="17348" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="17351" href="Ledger.Conway.Conformance.Equivalence.html#17351" class="Bound">deps₂&#39;</a> <a id="17358" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="17360" href="Ledger.Conway.Conformance.Equivalence.html#17186" class="Bound">deps₁&#39;</a> <a id="17367" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="17370" href="Ledger.Conway.Conformance.Equivalence.html#17351" class="Bound">deps₂&#39;</a>
                           <a id="17404" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17406" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17422" href="Ledger.Conway.Conformance.Certs.html#6495" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17438" href="Ledger.Conway.Conformance.Certs.html#7885" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17459" href="Ledger.Conway.Conformance.Equivalence.html#17144" class="Bound">Γ</a> <a id="17461" class="Symbol">(</a><a id="17462" href="Ledger.Conway.Conformance.Equivalence.html#17180" class="Bound">deps₂</a> <a id="17468" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17474" href="Ledger.Conway.Conformance.Equivalence.html#17154" class="Bound">s</a><a id="17475" class="Symbol">)</a> <a id="17477" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Bound">certs</a> <a id="17483" class="Symbol">(</a><a id="17484" href="Ledger.Conway.Conformance.Equivalence.html#17351" class="Bound">deps₂&#39;</a> <a id="17491" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17497" href="Ledger.Conway.Conformance.Equivalence.html#17156" class="Bound">s&#39;</a><a id="17499" class="Symbol">)</a>
  <a id="17503" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="17514" href="Ledger.Conway.Conformance.Equivalence.html#17514" class="Bound">deps₁</a> <a id="17520" href="Ledger.Conway.Conformance.Equivalence.html#17520" class="Bound">deps₂</a> <a id="17526" href="Ledger.Conway.Conformance.Equivalence.html#17526" class="Bound">deps₁&#39;</a> <a id="17533" href="Ledger.Conway.Conformance.Equivalence.html#17533" class="Bound">eqd</a> <a id="17537" class="Symbol">(</a><a id="17538" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17545" href="Ledger.Conway.Conformance.Certs.html#7958" class="InductiveConstructor">C.CERT-post</a><a id="17556" class="Symbol">)</a> <a id="17558" class="Symbol">=</a> <a id="17560" href="Ledger.Conway.Conformance.Equivalence.html#17520" class="Bound">deps₂</a> <a id="17566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17568" href="Ledger.Conway.Conformance.Equivalence.html#17533" class="Bound">eqd</a> <a id="17572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17574" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17581" href="Ledger.Conway.Conformance.Certs.html#7958" class="InductiveConstructor">C.CERT-post</a>
  <a id="17595" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="17606" class="Symbol">{</a><a id="17607" href="Ledger.Conway.Conformance.Equivalence.html#17607" class="Bound">Γ</a><a id="17608" class="Symbol">}</a> <a id="17610" href="Ledger.Conway.Conformance.Equivalence.html#17610" class="Bound">deps₁</a> <a id="17616" href="Ledger.Conway.Conformance.Equivalence.html#17616" class="Bound">deps₂</a> <a id="17622" href="Ledger.Conway.Conformance.Equivalence.html#17622" class="Bound">deps₁&#39;</a> <a id="17629" href="Ledger.Conway.Conformance.Equivalence.html#17629" class="Bound">eqd</a> <a id="17633" class="Symbol">(</a><a id="17634" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17640" class="Symbol">(</a><a id="17641" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="17654" class="Symbol">{</a><a id="17655" class="Argument">dCert</a> <a id="17661" class="Symbol">=</a> <a id="17663" href="Ledger.Conway.Conformance.Equivalence.html#17663" class="Bound">cert</a><a id="17667" class="Symbol">}</a> <a id="17669" class="Symbol">(</a><a id="17670" href="Ledger.Conway.Conformance.Certs.html#4153" class="InductiveConstructor">C.DELEG-delegate</a> <a id="17687" href="Ledger.Conway.Conformance.Equivalence.html#17687" class="Bound">h</a><a id="17688" class="Symbol">))</a>    <a id="17694" href="Ledger.Conway.Conformance.Equivalence.html#17694" class="Bound">rs</a><a id="17696" class="Symbol">)</a>
    <a id="17702" class="Symbol">=</a> <a id="17704" class="Keyword">let</a>
        <a id="17716" class="Keyword">open</a> <a id="17721" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="17731" href="Ledger.Conway.Conformance.Equivalence.html#17607" class="Bound">Γ</a> <a id="17733" class="Keyword">using</a> <a id="17739" class="Symbol">(</a><a id="17740" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="17742" class="Symbol">)</a>
        <a id="17752" href="Ledger.Conway.Conformance.Equivalence.html#17752" class="Bound">deps₂&#39;</a> <a id="17759" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17761" href="Ledger.Conway.Conformance.Equivalence.html#17761" class="Bound">eqd&#39;</a> <a id="17766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17768" href="Ledger.Conway.Conformance.Equivalence.html#17768" class="Bound">rs&#39;</a> <a id="17772" class="Symbol">=</a> <a id="17774" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="17785" class="Symbol">(</a><a id="17786" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="17797" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="17800" href="Ledger.Conway.Conformance.Equivalence.html#17663" class="Bound">cert</a> <a id="17805" href="Ledger.Conway.Conformance.Equivalence.html#17610" class="Bound">deps₁</a><a id="17810" class="Symbol">)</a> <a id="17812" class="Symbol">(</a><a id="17813" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="17824" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="17827" href="Ledger.Conway.Conformance.Equivalence.html#17663" class="Bound">cert</a> <a id="17832" href="Ledger.Conway.Conformance.Equivalence.html#17616" class="Bound">deps₂</a><a id="17837" class="Symbol">)</a> <a id="17839" href="Ledger.Conway.Conformance.Equivalence.html#17622" class="Bound">deps₁&#39;</a>
                                         <a id="17887" class="Symbol">(</a><a id="17888" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="17890" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13468" class="Function">cong-updateDDep</a> <a id="17906" class="Symbol">{</a><a id="17907" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="17909" class="Symbol">}</a> <a id="17911" href="Ledger.Conway.Conformance.Equivalence.html#17663" class="Bound">cert</a> <a id="17916" class="Symbol">{</a><a id="17917" href="Ledger.Conway.Conformance.Equivalence.html#17610" class="Bound">deps₁</a> <a id="17923" class="Symbol">.</a><a id="17924" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17929" class="Symbol">}</a> <a id="17931" class="Symbol">{</a><a id="17932" href="Ledger.Conway.Conformance.Equivalence.html#17616" class="Bound">deps₂</a> <a id="17938" class="Symbol">.</a><a id="17939" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17944" class="Symbol">}</a>
                                          <a id="17988" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="17990" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14499" class="Function">cong-updateGDep</a> <a id="18006" class="Symbol">{</a><a id="18007" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="18009" class="Symbol">}</a> <a id="18011" href="Ledger.Conway.Conformance.Equivalence.html#17663" class="Bound">cert</a> <a id="18016" class="Symbol">{</a><a id="18017" href="Ledger.Conway.Conformance.Equivalence.html#17610" class="Bound">deps₁</a> <a id="18023" class="Symbol">.</a><a id="18024" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18029" class="Symbol">}</a> <a id="18031" class="Symbol">{</a><a id="18032" href="Ledger.Conway.Conformance.Equivalence.html#17616" class="Bound">deps₂</a> <a id="18038" class="Symbol">.</a><a id="18039" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18044" class="Symbol">}</a> <a id="18046" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18048" href="Ledger.Conway.Conformance.Equivalence.html#17629" class="Bound">eqd</a><a id="18051" class="Symbol">)</a> <a id="18053" href="Ledger.Conway.Conformance.Equivalence.html#17694" class="Bound">rs</a>
        <a id="18064" class="Keyword">in</a>  <a id="18068" href="Ledger.Conway.Conformance.Equivalence.html#17752" class="Bound">deps₂&#39;</a> <a id="18075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18077" href="Ledger.Conway.Conformance.Equivalence.html#17761" class="Bound">eqd&#39;</a> <a id="18082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18084" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18090" class="Symbol">(</a><a id="18091" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="18104" class="Symbol">(</a><a id="18105" href="Ledger.Conway.Conformance.Certs.html#4153" class="InductiveConstructor">C.DELEG-delegate</a> <a id="18122" href="Ledger.Conway.Conformance.Equivalence.html#17687" class="Bound">h</a><a id="18123" class="Symbol">))</a> <a id="18126" href="Ledger.Conway.Conformance.Equivalence.html#17768" class="Bound">rs&#39;</a>

  <a id="18133" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="18144" class="Symbol">{</a><a id="18145" href="Ledger.Conway.Conformance.Equivalence.html#18145" class="Bound">Γ</a><a id="18146" class="Symbol">}</a> <a id="18148" href="Ledger.Conway.Conformance.Equivalence.html#18148" class="Bound">deps₁</a> <a id="18154" href="Ledger.Conway.Conformance.Equivalence.html#18154" class="Bound">deps₂</a> <a id="18160" href="Ledger.Conway.Conformance.Equivalence.html#18160" class="Bound">deps₁&#39;</a> <a id="18167" href="Ledger.Conway.Conformance.Equivalence.html#18167" class="Bound">eqd</a> <a id="18171" class="Symbol">(</a><a id="18172" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18178" class="Symbol">(</a><a id="18179" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="18192" class="Symbol">{</a><a id="18193" class="Argument">dCert</a> <a id="18199" class="Symbol">=</a> <a id="18201" href="Ledger.Conway.Conformance.Equivalence.html#18201" class="Bound">cert</a><a id="18205" class="Symbol">}</a> <a id="18207" class="Symbol">(</a><a id="18208" href="Ledger.Conway.Conformance.Certs.html#4790" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18222" class="Symbol">(</a><a id="18223" href="Ledger.Conway.Conformance.Equivalence.html#18223" class="Bound">a</a> <a id="18225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18227" href="Ledger.Conway.Conformance.Equivalence.html#18227" class="Bound">b</a> <a id="18229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18231" href="Ledger.Conway.Conformance.Equivalence.html#18231" class="Bound">c</a><a id="18232" class="Symbol">)))</a> <a id="18236" href="Ledger.Conway.Conformance.Equivalence.html#18236" class="Bound">rs</a><a id="18238" class="Symbol">)</a> <a id="18240" class="Symbol">=</a>
    <a id="18246" class="Keyword">let</a> <a id="18250" class="Keyword">open</a> <a id="18255" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="18265" href="Ledger.Conway.Conformance.Equivalence.html#18145" class="Bound">Γ</a> <a id="18267" class="Keyword">using</a> <a id="18273" class="Symbol">(</a><a id="18274" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="18276" class="Symbol">)</a>
        <a id="18286" href="Ledger.Conway.Conformance.Equivalence.html#18286" class="Bound">deps₂&#39;</a> <a id="18293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18295" href="Ledger.Conway.Conformance.Equivalence.html#18295" class="Bound">eqd&#39;</a> <a id="18300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18302" href="Ledger.Conway.Conformance.Equivalence.html#18302" class="Bound">rs&#39;</a> <a id="18306" class="Symbol">=</a> <a id="18308" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="18319" class="Symbol">(</a><a id="18320" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="18331" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="18334" href="Ledger.Conway.Conformance.Equivalence.html#18201" class="Bound">cert</a> <a id="18339" href="Ledger.Conway.Conformance.Equivalence.html#18148" class="Bound">deps₁</a><a id="18344" class="Symbol">)</a> <a id="18346" class="Symbol">(</a><a id="18347" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="18358" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="18361" href="Ledger.Conway.Conformance.Equivalence.html#18201" class="Bound">cert</a> <a id="18366" href="Ledger.Conway.Conformance.Equivalence.html#18154" class="Bound">deps₂</a><a id="18371" class="Symbol">)</a> <a id="18373" href="Ledger.Conway.Conformance.Equivalence.html#18160" class="Bound">deps₁&#39;</a>
                                         <a id="18421" class="Symbol">(</a><a id="18422" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18424" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13468" class="Function">cong-updateDDep</a> <a id="18440" class="Symbol">{</a><a id="18441" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="18443" class="Symbol">}</a> <a id="18445" href="Ledger.Conway.Conformance.Equivalence.html#18201" class="Bound">cert</a> <a id="18450" class="Symbol">{</a><a id="18451" href="Ledger.Conway.Conformance.Equivalence.html#18148" class="Bound">deps₁</a> <a id="18457" class="Symbol">.</a><a id="18458" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18463" class="Symbol">}</a> <a id="18465" class="Symbol">{</a><a id="18466" href="Ledger.Conway.Conformance.Equivalence.html#18154" class="Bound">deps₂</a> <a id="18472" class="Symbol">.</a><a id="18473" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18478" class="Symbol">}</a>
                                          <a id="18522" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="18524" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14499" class="Function">cong-updateGDep</a> <a id="18540" class="Symbol">{</a><a id="18541" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="18543" class="Symbol">}</a> <a id="18545" href="Ledger.Conway.Conformance.Equivalence.html#18201" class="Bound">cert</a> <a id="18550" class="Symbol">{</a><a id="18551" href="Ledger.Conway.Conformance.Equivalence.html#18148" class="Bound">deps₁</a> <a id="18557" class="Symbol">.</a><a id="18558" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18563" class="Symbol">}</a> <a id="18565" class="Symbol">{</a><a id="18566" href="Ledger.Conway.Conformance.Equivalence.html#18154" class="Bound">deps₂</a> <a id="18572" class="Symbol">.</a><a id="18573" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18578" class="Symbol">}</a> <a id="18580" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18582" href="Ledger.Conway.Conformance.Equivalence.html#18167" class="Bound">eqd</a><a id="18585" class="Symbol">)</a> <a id="18587" href="Ledger.Conway.Conformance.Equivalence.html#18236" class="Bound">rs</a>
    <a id="18594" class="Keyword">in</a>  <a id="18598" href="Ledger.Conway.Conformance.Equivalence.html#18286" class="Bound">deps₂&#39;</a> <a id="18605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18607" href="Ledger.Conway.Conformance.Equivalence.html#18295" class="Bound">eqd&#39;</a> <a id="18612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18614" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18620" class="Symbol">(</a><a id="18621" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="18634" class="Symbol">(</a><a id="18635" href="Ledger.Conway.Conformance.Certs.html#4790" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18649" class="Symbol">(</a><a id="18650" href="Ledger.Conway.Conformance.Equivalence.html#18223" class="Bound">a</a> <a id="18652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18654" href="Ledger.Conway.Conformance.Equivalence.html#18167" class="Bound">eqd</a> <a id="18658" class="Symbol">.</a><a id="18659" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18665" class="Symbol">.</a><a id="18666" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18672" href="Ledger.Conway.Conformance.Equivalence.html#18227" class="Bound">b</a> <a id="18674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18676" href="Ledger.Conway.Conformance.Equivalence.html#18231" class="Bound">c</a><a id="18677" class="Symbol">)))</a> <a id="18681" href="Ledger.Conway.Conformance.Equivalence.html#18302" class="Bound">rs&#39;</a>
  <a id="18687" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="18698" class="Symbol">{</a><a id="18699" href="Ledger.Conway.Conformance.Equivalence.html#18699" class="Bound">Γ</a><a id="18700" class="Symbol">}</a> <a id="18702" href="Ledger.Conway.Conformance.Equivalence.html#18702" class="Bound">deps₁</a> <a id="18708" href="Ledger.Conway.Conformance.Equivalence.html#18708" class="Bound">deps₂</a> <a id="18714" href="Ledger.Conway.Conformance.Equivalence.html#18714" class="Bound">deps₁&#39;</a> <a id="18721" href="Ledger.Conway.Conformance.Equivalence.html#18721" class="Bound">eqd</a> <a id="18725" class="Symbol">(</a><a id="18726" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18732" class="Symbol">(</a><a id="18733" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="18746" class="Symbol">{</a><a id="18747" class="Argument">dCert</a> <a id="18753" class="Symbol">=</a> <a id="18755" href="Ledger.Conway.Conformance.Equivalence.html#18755" class="Bound">cert</a><a id="18759" class="Symbol">}</a> <a id="18761" class="Symbol">(</a><a id="18762" href="Ledger.Conway.Conformance.Certs.html#5154" class="InductiveConstructor">C.DELEG-reg</a> <a id="18774" href="Ledger.Conway.Conformance.Equivalence.html#18774" class="Bound">h</a><a id="18775" class="Symbol">))</a>         <a id="18786" href="Ledger.Conway.Conformance.Equivalence.html#18786" class="Bound">rs</a><a id="18788" class="Symbol">)</a> <a id="18790" class="Symbol">=</a>
    <a id="18796" class="Keyword">let</a> <a id="18800" class="Keyword">open</a> <a id="18805" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="18815" href="Ledger.Conway.Conformance.Equivalence.html#18699" class="Bound">Γ</a> <a id="18817" class="Keyword">using</a> <a id="18823" class="Symbol">(</a><a id="18824" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="18826" class="Symbol">)</a>
        <a id="18836" href="Ledger.Conway.Conformance.Equivalence.html#18836" class="Bound">deps₂&#39;</a> <a id="18843" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18845" href="Ledger.Conway.Conformance.Equivalence.html#18845" class="Bound">eqd&#39;</a> <a id="18850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18852" href="Ledger.Conway.Conformance.Equivalence.html#18852" class="Bound">rs&#39;</a> <a id="18856" class="Symbol">=</a> <a id="18858" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="18869" class="Symbol">(</a><a id="18870" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="18881" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="18884" href="Ledger.Conway.Conformance.Equivalence.html#18755" class="Bound">cert</a> <a id="18889" href="Ledger.Conway.Conformance.Equivalence.html#18702" class="Bound">deps₁</a><a id="18894" class="Symbol">)</a> <a id="18896" class="Symbol">(</a><a id="18897" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="18908" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="18911" href="Ledger.Conway.Conformance.Equivalence.html#18755" class="Bound">cert</a> <a id="18916" href="Ledger.Conway.Conformance.Equivalence.html#18708" class="Bound">deps₂</a><a id="18921" class="Symbol">)</a> <a id="18923" href="Ledger.Conway.Conformance.Equivalence.html#18714" class="Bound">deps₁&#39;</a>
                                         <a id="18971" class="Symbol">(</a><a id="18972" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18974" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13468" class="Function">cong-updateDDep</a> <a id="18990" class="Symbol">{</a><a id="18991" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="18993" class="Symbol">}</a> <a id="18995" href="Ledger.Conway.Conformance.Equivalence.html#18755" class="Bound">cert</a> <a id="19000" class="Symbol">{</a><a id="19001" href="Ledger.Conway.Conformance.Equivalence.html#18702" class="Bound">deps₁</a> <a id="19007" class="Symbol">.</a><a id="19008" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19013" class="Symbol">}</a> <a id="19015" class="Symbol">{</a><a id="19016" href="Ledger.Conway.Conformance.Equivalence.html#18708" class="Bound">deps₂</a> <a id="19022" class="Symbol">.</a><a id="19023" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19028" class="Symbol">}</a>
                                          <a id="19072" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="19074" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14499" class="Function">cong-updateGDep</a> <a id="19090" class="Symbol">{</a><a id="19091" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="19093" class="Symbol">}</a> <a id="19095" href="Ledger.Conway.Conformance.Equivalence.html#18755" class="Bound">cert</a> <a id="19100" class="Symbol">{</a><a id="19101" href="Ledger.Conway.Conformance.Equivalence.html#18702" class="Bound">deps₁</a> <a id="19107" class="Symbol">.</a><a id="19108" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19113" class="Symbol">}</a> <a id="19115" class="Symbol">{</a><a id="19116" href="Ledger.Conway.Conformance.Equivalence.html#18708" class="Bound">deps₂</a> <a id="19122" class="Symbol">.</a><a id="19123" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19128" class="Symbol">}</a> <a id="19130" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="19132" href="Ledger.Conway.Conformance.Equivalence.html#18721" class="Bound">eqd</a><a id="19135" class="Symbol">)</a> <a id="19137" href="Ledger.Conway.Conformance.Equivalence.html#18786" class="Bound">rs</a>
    <a id="19144" class="Keyword">in</a>  <a id="19148" href="Ledger.Conway.Conformance.Equivalence.html#18836" class="Bound">deps₂&#39;</a> <a id="19155" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19157" href="Ledger.Conway.Conformance.Equivalence.html#18845" class="Bound">eqd&#39;</a> <a id="19162" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19164" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19170" class="Symbol">(</a><a id="19171" href="Ledger.Conway.Conformance.Certs.html#6566" class="InductiveConstructor">C.CERT-deleg</a> <a id="19184" class="Symbol">(</a><a id="19185" href="Ledger.Conway.Conformance.Certs.html#5154" class="InductiveConstructor">C.DELEG-reg</a> <a id="19197" href="Ledger.Conway.Conformance.Equivalence.html#18774" class="Bound">h</a><a id="19198" class="Symbol">))</a> <a id="19201" href="Ledger.Conway.Conformance.Equivalence.html#18852" class="Bound">rs&#39;</a>

  <a id="19208" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19219" class="Symbol">{</a><a id="19220" href="Ledger.Conway.Conformance.Equivalence.html#19220" class="Bound">Γ</a><a id="19221" class="Symbol">}</a> <a id="19223" href="Ledger.Conway.Conformance.Equivalence.html#19223" class="Bound">deps₁</a> <a id="19229" href="Ledger.Conway.Conformance.Equivalence.html#19229" class="Bound">deps₂</a> <a id="19235" href="Ledger.Conway.Conformance.Equivalence.html#19235" class="Bound">deps₁&#39;</a> <a id="19242" href="Ledger.Conway.Conformance.Equivalence.html#19242" class="Bound">eqd</a> <a id="19246" class="Symbol">(</a><a id="19247" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19253" class="Symbol">(</a><a id="19254" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a>  <a id="19267" class="Symbol">{</a><a id="19268" class="Argument">dCert</a> <a id="19274" class="Symbol">=</a> <a id="19276" href="Ledger.Conway.Conformance.Equivalence.html#19276" class="Bound">cert</a><a id="19280" class="Symbol">}</a> <a id="19282" class="Symbol">(</a><a id="19283" href="Ledger.Conway.Conformance.Certs.html#3779" class="InductiveConstructor">C.POOL-regpool</a> <a id="19298" href="Ledger.Conway.Conformance.Equivalence.html#19298" class="Bound">h</a><a id="19299" class="Symbol">))</a>      <a id="19307" href="Ledger.Conway.Conformance.Equivalence.html#19307" class="Bound">rs</a><a id="19309" class="Symbol">)</a> <a id="19311" class="Symbol">=</a>
    <a id="19317" class="Keyword">let</a> <a id="19321" href="Ledger.Conway.Conformance.Equivalence.html#19321" class="Bound">deps₂&#39;</a> <a id="19328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19330" href="Ledger.Conway.Conformance.Equivalence.html#19330" class="Bound">eqd&#39;</a> <a id="19335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19337" href="Ledger.Conway.Conformance.Equivalence.html#19337" class="Bound">rs&#39;</a> <a id="19341" class="Symbol">=</a> <a id="19343" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19354" href="Ledger.Conway.Conformance.Equivalence.html#19223" class="Bound">deps₁</a> <a id="19360" href="Ledger.Conway.Conformance.Equivalence.html#19229" class="Bound">deps₂</a> <a id="19366" href="Ledger.Conway.Conformance.Equivalence.html#19235" class="Bound">deps₁&#39;</a> <a id="19373" href="Ledger.Conway.Conformance.Equivalence.html#19242" class="Bound">eqd</a> <a id="19377" href="Ledger.Conway.Conformance.Equivalence.html#19307" class="Bound">rs</a>
    <a id="19384" class="Keyword">in</a>  <a id="19388" href="Ledger.Conway.Conformance.Equivalence.html#19321" class="Bound">deps₂&#39;</a> <a id="19395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19397" href="Ledger.Conway.Conformance.Equivalence.html#19330" class="Bound">eqd&#39;</a> <a id="19402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19404" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a>  <a id="19411" class="Symbol">(</a><a id="19412" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a> <a id="19424" class="Symbol">(</a><a id="19425" href="Ledger.Conway.Conformance.Certs.html#3779" class="InductiveConstructor">C.POOL-regpool</a> <a id="19440" href="Ledger.Conway.Conformance.Equivalence.html#19298" class="Bound">h</a><a id="19441" class="Symbol">))</a> <a id="19444" href="Ledger.Conway.Conformance.Equivalence.html#19337" class="Bound">rs&#39;</a>

  <a id="19451" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19462" class="Symbol">{</a><a id="19463" href="Ledger.Conway.Conformance.Equivalence.html#19463" class="Bound">Γ</a><a id="19464" class="Symbol">}</a> <a id="19466" href="Ledger.Conway.Conformance.Equivalence.html#19466" class="Bound">deps₁</a> <a id="19472" href="Ledger.Conway.Conformance.Equivalence.html#19472" class="Bound">deps₂</a> <a id="19478" href="Ledger.Conway.Conformance.Equivalence.html#19478" class="Bound">deps₁&#39;</a> <a id="19485" href="Ledger.Conway.Conformance.Equivalence.html#19485" class="Bound">eqd</a> <a id="19489" class="Symbol">(</a><a id="19490" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19496" class="Symbol">(</a><a id="19497" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a>  <a id="19510" class="Symbol">{</a><a id="19511" class="Argument">dCert</a> <a id="19517" class="Symbol">=</a> <a id="19519" href="Ledger.Conway.Conformance.Equivalence.html#19519" class="Bound">cert</a><a id="19523" class="Symbol">}</a> <a id="19525" href="Ledger.Conway.Conformance.Certs.html#3978" class="InductiveConstructor">C.POOL-retirepool</a><a id="19542" class="Symbol">)</a>       <a id="19550" href="Ledger.Conway.Conformance.Equivalence.html#19550" class="Bound">rs</a><a id="19552" class="Symbol">)</a> <a id="19554" class="Symbol">=</a>
    <a id="19560" class="Keyword">let</a> <a id="19564" href="Ledger.Conway.Conformance.Equivalence.html#19564" class="Bound">deps₂&#39;</a> <a id="19571" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19573" href="Ledger.Conway.Conformance.Equivalence.html#19573" class="Bound">eqd&#39;</a> <a id="19578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19580" href="Ledger.Conway.Conformance.Equivalence.html#19580" class="Bound">rs&#39;</a> <a id="19584" class="Symbol">=</a> <a id="19586" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19597" href="Ledger.Conway.Conformance.Equivalence.html#19466" class="Bound">deps₁</a> <a id="19603" href="Ledger.Conway.Conformance.Equivalence.html#19472" class="Bound">deps₂</a> <a id="19609" href="Ledger.Conway.Conformance.Equivalence.html#19478" class="Bound">deps₁&#39;</a> <a id="19616" href="Ledger.Conway.Conformance.Equivalence.html#19485" class="Bound">eqd</a> <a id="19620" href="Ledger.Conway.Conformance.Equivalence.html#19550" class="Bound">rs</a>
    <a id="19627" class="Keyword">in</a>  <a id="19631" href="Ledger.Conway.Conformance.Equivalence.html#19564" class="Bound">deps₂&#39;</a> <a id="19638" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19640" href="Ledger.Conway.Conformance.Equivalence.html#19573" class="Bound">eqd&#39;</a> <a id="19645" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19647" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19653" class="Symbol">(</a><a id="19654" href="Ledger.Conway.Conformance.Certs.html#6800" class="InductiveConstructor">C.CERT-pool</a> <a id="19666" href="Ledger.Conway.Conformance.Certs.html#3978" class="InductiveConstructor">C.POOL-retirepool</a><a id="19683" class="Symbol">)</a> <a id="19685" href="Ledger.Conway.Conformance.Equivalence.html#19580" class="Bound">rs&#39;</a>
  <a id="19691" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19702" class="Symbol">{</a><a id="19703" href="Ledger.Conway.Conformance.Equivalence.html#19703" class="Bound">Γ</a><a id="19704" class="Symbol">}</a> <a id="19706" href="Ledger.Conway.Conformance.Equivalence.html#19706" class="Bound">deps₁</a> <a id="19712" href="Ledger.Conway.Conformance.Equivalence.html#19712" class="Bound">deps₂</a> <a id="19718" href="Ledger.Conway.Conformance.Equivalence.html#19718" class="Bound">deps₁&#39;</a> <a id="19725" href="Ledger.Conway.Conformance.Equivalence.html#19725" class="Bound">eqd</a> <a id="19729" class="Symbol">(</a><a id="19730" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19736" class="Symbol">(</a><a id="19737" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>  <a id="19750" class="Symbol">{</a><a id="19751" class="Argument">dCert</a> <a id="19757" class="Symbol">=</a> <a id="19759" href="Ledger.Conway.Conformance.Equivalence.html#19759" class="Bound">cert</a><a id="19763" class="Symbol">}</a> <a id="19765" class="Symbol">(</a><a id="19766" href="Ledger.Conway.Conformance.Certs.html#5543" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="19784" href="Ledger.Conway.Conformance.Equivalence.html#19784" class="Bound">h</a><a id="19785" class="Symbol">))</a>   <a id="19790" href="Ledger.Conway.Conformance.Equivalence.html#19790" class="Bound">rs</a><a id="19792" class="Symbol">)</a> <a id="19794" class="Symbol">=</a>
    <a id="19800" class="Keyword">let</a> <a id="19804" class="Keyword">open</a> <a id="19809" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="19819" href="Ledger.Conway.Conformance.Equivalence.html#19703" class="Bound">Γ</a> <a id="19821" class="Keyword">using</a> <a id="19827" class="Symbol">(</a><a id="19828" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="19830" class="Symbol">)</a>
        <a id="19840" href="Ledger.Conway.Conformance.Equivalence.html#19840" class="Bound">deps₂&#39;</a> <a id="19847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19849" href="Ledger.Conway.Conformance.Equivalence.html#19849" class="Bound">eqd&#39;</a> <a id="19854" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19856" href="Ledger.Conway.Conformance.Equivalence.html#19856" class="Bound">rs&#39;</a> <a id="19860" class="Symbol">=</a> <a id="19862" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="19873" class="Symbol">(</a><a id="19874" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="19885" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="19888" href="Ledger.Conway.Conformance.Equivalence.html#19759" class="Bound">cert</a> <a id="19893" href="Ledger.Conway.Conformance.Equivalence.html#19706" class="Bound">deps₁</a><a id="19898" class="Symbol">)</a> <a id="19900" class="Symbol">(</a><a id="19901" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="19912" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="19915" href="Ledger.Conway.Conformance.Equivalence.html#19759" class="Bound">cert</a> <a id="19920" href="Ledger.Conway.Conformance.Equivalence.html#19712" class="Bound">deps₂</a><a id="19925" class="Symbol">)</a> <a id="19927" href="Ledger.Conway.Conformance.Equivalence.html#19718" class="Bound">deps₁&#39;</a>
                                         <a id="19975" class="Symbol">(</a><a id="19976" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="19978" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13468" class="Function">cong-updateDDep</a> <a id="19994" class="Symbol">{</a><a id="19995" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="19997" class="Symbol">}</a> <a id="19999" href="Ledger.Conway.Conformance.Equivalence.html#19759" class="Bound">cert</a> <a id="20004" class="Symbol">{</a><a id="20005" href="Ledger.Conway.Conformance.Equivalence.html#19706" class="Bound">deps₁</a> <a id="20011" class="Symbol">.</a><a id="20012" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20017" class="Symbol">}</a> <a id="20019" class="Symbol">{</a><a id="20020" href="Ledger.Conway.Conformance.Equivalence.html#19712" class="Bound">deps₂</a> <a id="20026" class="Symbol">.</a><a id="20027" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20032" class="Symbol">}</a>
                                          <a id="20076" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20078" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14499" class="Function">cong-updateGDep</a> <a id="20094" class="Symbol">{</a><a id="20095" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="20097" class="Symbol">}</a> <a id="20099" href="Ledger.Conway.Conformance.Equivalence.html#19759" class="Bound">cert</a> <a id="20104" class="Symbol">{</a><a id="20105" href="Ledger.Conway.Conformance.Equivalence.html#19706" class="Bound">deps₁</a> <a id="20111" class="Symbol">.</a><a id="20112" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20117" class="Symbol">}</a> <a id="20119" class="Symbol">{</a><a id="20120" href="Ledger.Conway.Conformance.Equivalence.html#19712" class="Bound">deps₂</a> <a id="20126" class="Symbol">.</a><a id="20127" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20132" class="Symbol">}</a> <a id="20134" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20136" href="Ledger.Conway.Conformance.Equivalence.html#19725" class="Bound">eqd</a><a id="20139" class="Symbol">)</a> <a id="20141" href="Ledger.Conway.Conformance.Equivalence.html#19790" class="Bound">rs</a>
    <a id="20148" class="Keyword">in</a>  <a id="20152" href="Ledger.Conway.Conformance.Equivalence.html#19840" class="Bound">deps₂&#39;</a> <a id="20159" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20161" href="Ledger.Conway.Conformance.Equivalence.html#19849" class="Bound">eqd&#39;</a> <a id="20166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20168" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20174" class="Symbol">(</a><a id="20175" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="20187" class="Symbol">(</a><a id="20188" href="Ledger.Conway.Conformance.Certs.html#5543" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="20206" href="Ledger.Conway.Conformance.Equivalence.html#19784" class="Bound">h</a><a id="20207" class="Symbol">))</a> <a id="20210" href="Ledger.Conway.Conformance.Equivalence.html#19856" class="Bound">rs&#39;</a>
  <a id="20216" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="20227" class="Symbol">{</a><a id="20228" href="Ledger.Conway.Conformance.Equivalence.html#20228" class="Bound">Γ</a><a id="20229" class="Symbol">}</a> <a id="20231" href="Ledger.Conway.Conformance.Equivalence.html#20231" class="Bound">deps₁</a> <a id="20237" href="Ledger.Conway.Conformance.Equivalence.html#20237" class="Bound">deps₂</a> <a id="20243" href="Ledger.Conway.Conformance.Equivalence.html#20243" class="Bound">deps₁&#39;</a> <a id="20250" href="Ledger.Conway.Conformance.Equivalence.html#20250" class="Bound">eqd</a> <a id="20254" class="Symbol">(</a><a id="20255" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20261" class="Symbol">(</a><a id="20262" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20275" class="Symbol">{</a><a id="20276" class="Argument">dCert</a> <a id="20282" class="Symbol">=</a> <a id="20284" href="Ledger.Conway.Conformance.Equivalence.html#20284" class="Bound">cert</a><a id="20288" class="Symbol">}</a> <a id="20290" class="Symbol">(</a><a id="20291" href="Ledger.Conway.Conformance.Certs.html#5909" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20311" class="Symbol">(</a><a id="20312" href="Ledger.Conway.Conformance.Equivalence.html#20312" class="Bound">a</a> <a id="20314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20316" href="Ledger.Conway.Conformance.Equivalence.html#20316" class="Bound">b</a><a id="20317" class="Symbol">)))</a> <a id="20321" href="Ledger.Conway.Conformance.Equivalence.html#20321" class="Bound">rs</a><a id="20323" class="Symbol">)</a> <a id="20325" class="Symbol">=</a>
    <a id="20331" class="Keyword">let</a> <a id="20335" class="Keyword">open</a> <a id="20340" href="Ledger.Conway.Specification.Certs.html#3711" class="Module">C.CertEnv</a> <a id="20350" href="Ledger.Conway.Conformance.Equivalence.html#20228" class="Bound">Γ</a> <a id="20352" class="Keyword">using</a> <a id="20358" class="Symbol">(</a><a id="20359" href="Ledger.Conway.Specification.Certs.html#3766" class="Field">pp</a><a id="20361" class="Symbol">)</a>
        <a id="20371" href="Ledger.Conway.Conformance.Equivalence.html#20371" class="Bound">deps₂&#39;</a> <a id="20378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20380" href="Ledger.Conway.Conformance.Equivalence.html#20380" class="Bound">eqd&#39;</a> <a id="20385" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20387" href="Ledger.Conway.Conformance.Equivalence.html#20387" class="Bound">rs&#39;</a> <a id="20391" class="Symbol">=</a> <a id="20393" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="20404" class="Symbol">(</a><a id="20405" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="20416" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="20419" href="Ledger.Conway.Conformance.Equivalence.html#20284" class="Bound">cert</a> <a id="20424" href="Ledger.Conway.Conformance.Equivalence.html#20231" class="Bound">deps₁</a><a id="20429" class="Symbol">)</a> <a id="20431" class="Symbol">(</a><a id="20432" href="Ledger.Conway.Conformance.Equivalence.html#16950" class="Function">updateCDep</a> <a id="20443" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a> <a id="20446" href="Ledger.Conway.Conformance.Equivalence.html#20284" class="Bound">cert</a> <a id="20451" href="Ledger.Conway.Conformance.Equivalence.html#20237" class="Bound">deps₂</a><a id="20456" class="Symbol">)</a> <a id="20458" href="Ledger.Conway.Conformance.Equivalence.html#20243" class="Bound">deps₁&#39;</a>
                                         <a id="20506" class="Symbol">(</a><a id="20507" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="20509" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13468" class="Function">cong-updateDDep</a> <a id="20525" class="Symbol">{</a><a id="20526" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="20528" class="Symbol">}</a> <a id="20530" href="Ledger.Conway.Conformance.Equivalence.html#20284" class="Bound">cert</a> <a id="20535" class="Symbol">{</a><a id="20536" href="Ledger.Conway.Conformance.Equivalence.html#20231" class="Bound">deps₁</a> <a id="20542" class="Symbol">.</a><a id="20543" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20548" class="Symbol">}</a> <a id="20550" class="Symbol">{</a><a id="20551" href="Ledger.Conway.Conformance.Equivalence.html#20237" class="Bound">deps₂</a> <a id="20557" class="Symbol">.</a><a id="20558" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20563" class="Symbol">}</a>
                                          <a id="20607" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20609" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14499" class="Function">cong-updateGDep</a> <a id="20625" class="Symbol">{</a><a id="20626" href="Ledger.Conway.Specification.Certs.html#3766" class="Function">pp</a><a id="20628" class="Symbol">}</a> <a id="20630" href="Ledger.Conway.Conformance.Equivalence.html#20284" class="Bound">cert</a> <a id="20635" class="Symbol">{</a><a id="20636" href="Ledger.Conway.Conformance.Equivalence.html#20231" class="Bound">deps₁</a> <a id="20642" class="Symbol">.</a><a id="20643" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20648" class="Symbol">}</a> <a id="20650" class="Symbol">{</a><a id="20651" href="Ledger.Conway.Conformance.Equivalence.html#20237" class="Bound">deps₂</a> <a id="20657" class="Symbol">.</a><a id="20658" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20663" class="Symbol">}</a> <a id="20665" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20667" href="Ledger.Conway.Conformance.Equivalence.html#20250" class="Bound">eqd</a><a id="20670" class="Symbol">)</a> <a id="20672" href="Ledger.Conway.Conformance.Equivalence.html#20321" class="Bound">rs</a>
    <a id="20679" class="Keyword">in</a>  <a id="20683" href="Ledger.Conway.Conformance.Equivalence.html#20371" class="Bound">deps₂&#39;</a> <a id="20690" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20692" href="Ledger.Conway.Conformance.Equivalence.html#20380" class="Bound">eqd&#39;</a> <a id="20697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20699" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20705" class="Symbol">(</a><a id="20706" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="20718" class="Symbol">(</a><a id="20719" href="Ledger.Conway.Conformance.Certs.html#5909" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20739" class="Symbol">(</a><a id="20740" href="Ledger.Conway.Conformance.Equivalence.html#20312" class="Bound">a</a> <a id="20742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20744" href="Ledger.Conway.Conformance.Equivalence.html#20250" class="Bound">eqd</a> <a id="20748" class="Symbol">.</a><a id="20749" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20755" class="Symbol">.</a><a id="20756" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="20762" href="Ledger.Conway.Conformance.Equivalence.html#20316" class="Bound">b</a><a id="20763" class="Symbol">)))</a> <a id="20767" href="Ledger.Conway.Conformance.Equivalence.html#20387" class="Bound">rs&#39;</a>
                                                                   <a id="20838" class="Comment">-- ^^^^^^^^^^^^^^^^^^^ Actual work</a>
  <a id="20875" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="20886" class="Symbol">{</a><a id="20887" href="Ledger.Conway.Conformance.Equivalence.html#20887" class="Bound">Γ</a><a id="20888" class="Symbol">}</a> <a id="20890" href="Ledger.Conway.Conformance.Equivalence.html#20890" class="Bound">deps₁</a> <a id="20896" href="Ledger.Conway.Conformance.Equivalence.html#20896" class="Bound">deps₂</a> <a id="20902" href="Ledger.Conway.Conformance.Equivalence.html#20902" class="Bound">deps₁&#39;</a> <a id="20909" href="Ledger.Conway.Conformance.Equivalence.html#20909" class="Bound">eqd</a> <a id="20913" class="Symbol">(</a><a id="20914" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20920" class="Symbol">(</a><a id="20921" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20934" class="Symbol">{</a><a id="20935" class="Argument">dCert</a> <a id="20941" class="Symbol">=</a> <a id="20943" href="Ledger.Conway.Conformance.Equivalence.html#20943" class="Bound">cert</a><a id="20947" class="Symbol">}</a> <a id="20949" class="Symbol">(</a><a id="20950" href="Ledger.Conway.Conformance.Certs.html#6204" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20969" href="Ledger.Conway.Conformance.Equivalence.html#20969" class="Bound">h</a><a id="20970" class="Symbol">))</a>  <a id="20974" href="Ledger.Conway.Conformance.Equivalence.html#20974" class="Bound">rs</a><a id="20976" class="Symbol">)</a> <a id="20978" class="Symbol">=</a>
    <a id="20984" class="Keyword">let</a> <a id="20988" href="Ledger.Conway.Conformance.Equivalence.html#20988" class="Bound">deps₂&#39;</a> <a id="20995" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20997" href="Ledger.Conway.Conformance.Equivalence.html#20997" class="Bound">eqd&#39;</a> <a id="21002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21004" href="Ledger.Conway.Conformance.Equivalence.html#21004" class="Bound">rs&#39;</a> <a id="21008" class="Symbol">=</a> <a id="21010" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="21021" href="Ledger.Conway.Conformance.Equivalence.html#20890" class="Bound">deps₁</a> <a id="21027" href="Ledger.Conway.Conformance.Equivalence.html#20896" class="Bound">deps₂</a> <a id="21033" href="Ledger.Conway.Conformance.Equivalence.html#20902" class="Bound">deps₁&#39;</a> <a id="21040" href="Ledger.Conway.Conformance.Equivalence.html#20909" class="Bound">eqd</a> <a id="21044" href="Ledger.Conway.Conformance.Equivalence.html#20974" class="Bound">rs</a>
    <a id="21051" class="Keyword">in</a>  <a id="21055" href="Ledger.Conway.Conformance.Equivalence.html#20988" class="Bound">deps₂&#39;</a> <a id="21062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21064" href="Ledger.Conway.Conformance.Equivalence.html#20997" class="Bound">eqd&#39;</a> <a id="21069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21071" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="21077" class="Symbol">(</a><a id="21078" href="Ledger.Conway.Conformance.Certs.html#6984" class="InductiveConstructor">C.CERT-vdel</a> <a id="21090" class="Symbol">(</a><a id="21091" href="Ledger.Conway.Conformance.Certs.html#6204" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="21110" href="Ledger.Conway.Conformance.Equivalence.html#20969" class="Bound">h</a><a id="21111" class="Symbol">))</a> <a id="21114" href="Ledger.Conway.Conformance.Equivalence.html#21004" class="Bound">rs&#39;</a>

  <a id="castCERTS"></a><a id="21121" href="Ledger.Conway.Conformance.Equivalence.html#21121" class="Function">castCERTS</a> <a id="21131" class="Symbol">:</a> <a id="21133" class="Symbol">∀</a> <a id="21135" class="Symbol">{</a><a id="21136" href="Ledger.Conway.Conformance.Equivalence.html#21136" class="Bound">Γ</a> <a id="21138" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">certs</a><a id="21143" class="Symbol">}</a> <a id="21145" class="Symbol">{</a><a id="21146" href="Ledger.Conway.Conformance.Equivalence.html#21146" class="Bound">s</a> <a id="21148" href="Ledger.Conway.Conformance.Equivalence.html#21148" class="Bound">s&#39;</a> <a id="21151" class="Symbol">:</a> <a id="21153" href="Ledger.Conway.Specification.Certs.html#4252" class="Record">L.CertState</a><a id="21164" class="Symbol">}</a> <a id="21166" href="Ledger.Conway.Conformance.Equivalence.html#21166" class="Bound">deps₁</a> <a id="21172" href="Ledger.Conway.Conformance.Equivalence.html#21172" class="Bound">deps₂</a> <a id="21178" href="Ledger.Conway.Conformance.Equivalence.html#21178" class="Bound">deps₁&#39;</a>
            <a id="21197" class="Symbol">→</a> <a id="21199" href="Ledger.Conway.Conformance.Equivalence.html#21166" class="Bound">deps₁</a> <a id="21205" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="21208" href="Ledger.Conway.Conformance.Equivalence.html#21172" class="Bound">deps₂</a>
            <a id="21226" class="Symbol">→</a> <a id="21228" href="Ledger.Conway.Conformance.Equivalence.html#21136" class="Bound">Γ</a> <a id="21230" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">C.⊢</a> <a id="21234" href="Ledger.Conway.Conformance.Equivalence.html#21166" class="Bound">deps₁</a> <a id="21240" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21246" href="Ledger.Conway.Conformance.Equivalence.html#21146" class="Bound">s</a> <a id="21248" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">⇀⦇</a> <a id="21251" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">certs</a> <a id="21257" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">,CERTS⦈</a> <a id="21265" class="Symbol">(</a><a id="21266" href="Ledger.Conway.Conformance.Equivalence.html#21178" class="Bound">deps₁&#39;</a> <a id="21273" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21279" href="Ledger.Conway.Conformance.Equivalence.html#21148" class="Bound">s&#39;</a><a id="21281" class="Symbol">)</a>
            <a id="21295" class="Symbol">→</a> <a id="21297" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21300" href="Ledger.Conway.Conformance.Equivalence.html#21300" class="Bound">deps₂&#39;</a> <a id="21307" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21309" href="Ledger.Conway.Conformance.Equivalence.html#21178" class="Bound">deps₁&#39;</a> <a id="21316" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="21319" href="Ledger.Conway.Conformance.Equivalence.html#21300" class="Bound">deps₂&#39;</a> <a id="21326" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21328" href="Ledger.Conway.Conformance.Equivalence.html#21136" class="Bound">Γ</a> <a id="21330" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">C.⊢</a> <a id="21334" href="Ledger.Conway.Conformance.Equivalence.html#21172" class="Bound">deps₂</a> <a id="21340" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21346" href="Ledger.Conway.Conformance.Equivalence.html#21146" class="Bound">s</a> <a id="21348" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">⇀⦇</a> <a id="21351" href="Ledger.Conway.Conformance.Equivalence.html#21138" class="Bound">certs</a> <a id="21357" href="Ledger.Conway.Conformance.Certs.html#8286" class="Function Operator">,CERTS⦈</a> <a id="21365" class="Symbol">(</a><a id="21366" href="Ledger.Conway.Conformance.Equivalence.html#21300" class="Bound">deps₂&#39;</a> <a id="21373" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21379" href="Ledger.Conway.Conformance.Equivalence.html#21148" class="Bound">s&#39;</a><a id="21381" class="Symbol">)</a>
  <a id="21385" href="Ledger.Conway.Conformance.Equivalence.html#21121" class="Function">castCERTS</a> <a id="21395" href="Ledger.Conway.Conformance.Equivalence.html#21395" class="Bound">deps₁</a> <a id="21401" href="Ledger.Conway.Conformance.Equivalence.html#21401" class="Bound">deps₂</a> <a id="21407" href="Ledger.Conway.Conformance.Equivalence.html#21407" class="Bound">deps₁&#39;</a> <a id="21414" href="Ledger.Conway.Conformance.Equivalence.html#21414" class="Bound">eqd</a> <a id="21418" class="Symbol">(</a><a id="21419" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21423" class="Symbol">(</a><a id="21424" href="Ledger.Conway.Conformance.Certs.html#7218" class="InductiveConstructor">C.CERT-pre</a> <a id="21435" href="Ledger.Conway.Conformance.Equivalence.html#21435" class="Bound">h</a> <a id="21437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21439" href="Ledger.Conway.Conformance.Equivalence.html#21439" class="Bound">step</a><a id="21443" class="Symbol">))</a> <a id="21446" class="Symbol">=</a>
    <a id="21452" class="Keyword">let</a> <a id="21456" href="Ledger.Conway.Conformance.Equivalence.html#21456" class="Bound">deps₂&#39;</a> <a id="21463" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21465" href="Ledger.Conway.Conformance.Equivalence.html#21465" class="Bound">eqd&#39;</a> <a id="21470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21472" href="Ledger.Conway.Conformance.Equivalence.html#21472" class="Bound">step&#39;</a> <a id="21478" class="Symbol">=</a> <a id="21480" href="Ledger.Conway.Conformance.Equivalence.html#17128" class="Function">castCERTS&#39;</a> <a id="21491" href="Ledger.Conway.Conformance.Equivalence.html#21395" class="Bound">deps₁</a> <a id="21497" href="Ledger.Conway.Conformance.Equivalence.html#21401" class="Bound">deps₂</a> <a id="21503" href="Ledger.Conway.Conformance.Equivalence.html#21407" class="Bound">deps₁&#39;</a> <a id="21510" href="Ledger.Conway.Conformance.Equivalence.html#21414" class="Bound">eqd</a> <a id="21514" href="Ledger.Conway.Conformance.Equivalence.html#21439" class="Bound">step</a>
    <a id="21523" class="Keyword">in</a>  <a id="21527" href="Ledger.Conway.Conformance.Equivalence.html#21456" class="Bound">deps₂&#39;</a> <a id="21534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21536" href="Ledger.Conway.Conformance.Equivalence.html#21465" class="Bound">eqd&#39;</a> <a id="21541" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21543" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21547" class="Symbol">(</a><a id="21548" href="Ledger.Conway.Conformance.Certs.html#7218" class="InductiveConstructor">C.CERT-pre</a> <a id="21559" href="Ledger.Conway.Conformance.Equivalence.html#21435" class="Bound">h</a> <a id="21561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21563" href="Ledger.Conway.Conformance.Equivalence.html#21472" class="Bound">step&#39;</a><a id="21568" class="Symbol">)</a>

<a id="_⊢_⇀⦇_,GOVn⦈_"></a><a id="21571" href="Ledger.Conway.Conformance.Equivalence.html#21571" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21585" class="Symbol">:</a> <a id="21587" href="Ledger.Conway.Specification.Gov.html#1668" class="Record">L.GovEnv</a> <a id="21596" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21598" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="21600" class="Symbol">→</a> <a id="21602" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">L.GovState</a> <a id="21613" class="Symbol">→</a> <a id="21615" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21620" class="Symbol">(</a><a id="21621" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a> <a id="21629" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="21631" href="Ledger.Conway.Specification.Gov.Actions.html#3418" class="Record">GovProposal</a><a id="21642" class="Symbol">)</a> <a id="21644" class="Symbol">→</a> <a id="21646" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">L.GovState</a> <a id="21657" class="Symbol">→</a> <a id="21659" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="21664" href="Ledger.Conway.Conformance.Equivalence.html#21571" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21678" class="Symbol">=</a> <a id="21680" href="Interface.STS.html#1505" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="21692" class="Symbol">{</a><a id="21693" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="21703" class="Symbol">=</a> <a id="21705" href="Interface.STS.html#1981" class="Datatype">IdSTS</a><a id="21710" class="Symbol">}</a> <a id="21712" class="Symbol">{</a><a id="21713" class="Argument">_⊢_⇀⟦_⟧_</a> <a id="21722" class="Symbol">=</a> <a id="21724" href="Ledger.Conway.Specification.Gov.html#15370" class="Datatype Operator">L._⊢_⇀⦇_,GOV⦈_</a><a id="21738" class="Symbol">}</a>

<a id="21741" class="Keyword">opaque</a>
  <a id="castLEDGER"></a><a id="21750" href="Ledger.Conway.Conformance.Equivalence.html#21750" class="Function">castLEDGER</a> <a id="21761" class="Symbol">:</a> <a id="21763" class="Symbol">∀</a> <a id="21765" class="Symbol">{</a><a id="21766" href="Ledger.Conway.Conformance.Equivalence.html#21766" class="Bound">Γ</a> <a id="21768" href="Ledger.Conway.Conformance.Equivalence.html#21768" class="Bound">tx</a><a id="21770" class="Symbol">}</a> <a id="21772" class="Symbol">{</a><a id="21773" href="Ledger.Conway.Conformance.Equivalence.html#21773" class="Bound">s</a> <a id="21775" href="Ledger.Conway.Conformance.Equivalence.html#21775" class="Bound">s&#39;</a> <a id="21778" class="Symbol">:</a> <a id="21780" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a><a id="21788" class="Symbol">}</a> <a id="21790" href="Ledger.Conway.Conformance.Equivalence.html#21790" class="Bound">deps₁</a> <a id="21796" href="Ledger.Conway.Conformance.Equivalence.html#21796" class="Bound">deps₂</a> <a id="21802" href="Ledger.Conway.Conformance.Equivalence.html#21802" class="Bound">deps₁&#39;</a>
            <a id="21821" class="Symbol">→</a> <a id="21823" href="Ledger.Conway.Conformance.Equivalence.html#21790" class="Bound">deps₁</a> <a id="21829" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="21832" href="Ledger.Conway.Conformance.Equivalence.html#21796" class="Bound">deps₂</a>
            <a id="21850" class="Symbol">→</a> <a id="21852" href="Ledger.Conway.Conformance.Equivalence.html#21766" class="Bound">Γ</a> <a id="21854" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21858" href="Ledger.Conway.Conformance.Equivalence.html#21790" class="Bound">deps₁</a> <a id="21864" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21870" href="Ledger.Conway.Conformance.Equivalence.html#21773" class="Bound">s</a> <a id="21872" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21875" href="Ledger.Conway.Conformance.Equivalence.html#21768" class="Bound">tx</a> <a id="21878" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21887" class="Symbol">(</a><a id="21888" href="Ledger.Conway.Conformance.Equivalence.html#21802" class="Bound">deps₁&#39;</a> <a id="21895" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21901" href="Ledger.Conway.Conformance.Equivalence.html#21775" class="Bound">s&#39;</a><a id="21903" class="Symbol">)</a>
            <a id="21917" class="Symbol">→</a> <a id="21919" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21922" href="Ledger.Conway.Conformance.Equivalence.html#21922" class="Bound">deps₂&#39;</a> <a id="21929" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21931" href="Ledger.Conway.Conformance.Equivalence.html#21802" class="Bound">deps₁&#39;</a> <a id="21938" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="21941" href="Ledger.Conway.Conformance.Equivalence.html#21922" class="Bound">deps₂&#39;</a> <a id="21948" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21950" href="Ledger.Conway.Conformance.Equivalence.html#21766" class="Bound">Γ</a> <a id="21952" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21956" href="Ledger.Conway.Conformance.Equivalence.html#21796" class="Bound">deps₂</a> <a id="21962" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21968" href="Ledger.Conway.Conformance.Equivalence.html#21773" class="Bound">s</a> <a id="21970" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21973" href="Ledger.Conway.Conformance.Equivalence.html#21768" class="Bound">tx</a> <a id="21976" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21985" class="Symbol">(</a><a id="21986" href="Ledger.Conway.Conformance.Equivalence.html#21922" class="Bound">deps₂&#39;</a> <a id="21993" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21999" href="Ledger.Conway.Conformance.Equivalence.html#21775" class="Bound">s&#39;</a><a id="22001" class="Symbol">)</a>
  <a id="22005" href="Ledger.Conway.Conformance.Equivalence.html#21750" class="Function">castLEDGER</a> <a id="22016" class="Symbol">{</a><a id="22017" href="Ledger.Conway.Conformance.Equivalence.html#22017" class="Bound">Γ</a><a id="22018" class="Symbol">}</a> <a id="22020" class="Symbol">{</a><a id="22021" href="Ledger.Conway.Conformance.Equivalence.html#22021" class="Bound">tx</a><a id="22023" class="Symbol">}</a> <a id="22025" class="Symbol">{</a><a id="22026" href="Ledger.Conway.Conformance.Equivalence.html#22026" class="Bound">s</a><a id="22027" class="Symbol">}</a> <a id="22029" class="Symbol">{</a><a id="22030" href="Ledger.Conway.Conformance.Equivalence.html#22030" class="Bound">s&#39;</a><a id="22032" class="Symbol">}</a> <a id="22034" href="Ledger.Conway.Conformance.Equivalence.html#22034" class="Bound">deps₁</a> <a id="22040" href="Ledger.Conway.Conformance.Equivalence.html#22040" class="Bound">deps₂</a> <a id="22046" href="Ledger.Conway.Conformance.Equivalence.html#22046" class="Bound">deps₁&#39;</a> <a id="22053" href="Ledger.Conway.Conformance.Equivalence.html#22053" class="Bound">eqd</a> <a id="22057" class="Symbol">(</a><a id="22058" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22070" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22075" href="Ledger.Conway.Conformance.Equivalence.html#22075" class="Bound">utxo</a> <a id="22080" href="Ledger.Conway.Conformance.Equivalence.html#22080" class="Bound">certs</a> <a id="22086" href="Ledger.Conway.Conformance.Equivalence.html#22086" class="Bound">gov</a><a id="22089" class="Symbol">)</a> <a id="22091" class="Symbol">=</a>
    <a id="22097" class="Keyword">let</a> <a id="22101" href="Ledger.Conway.Conformance.Equivalence.html#22101" class="Bound">deps₂&#39;</a> <a id="22108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22110" href="Ledger.Conway.Conformance.Equivalence.html#22110" class="Bound">eqd&#39;</a> <a id="22115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22117" href="Ledger.Conway.Conformance.Equivalence.html#22117" class="Bound">certs&#39;</a> <a id="22124" class="Symbol">=</a> <a id="22126" href="Ledger.Conway.Conformance.Equivalence.html#21121" class="Function">castCERTS</a> <a id="22136" href="Ledger.Conway.Conformance.Equivalence.html#22034" class="Bound">deps₁</a> <a id="22142" href="Ledger.Conway.Conformance.Equivalence.html#22040" class="Bound">deps₂</a> <a id="22148" href="Ledger.Conway.Conformance.Equivalence.html#22046" class="Bound">deps₁&#39;</a> <a id="22155" href="Ledger.Conway.Conformance.Equivalence.html#22053" class="Bound">eqd</a> <a id="22159" href="Ledger.Conway.Conformance.Equivalence.html#22080" class="Bound">certs</a>
    <a id="22169" class="Keyword">in</a>  <a id="22173" href="Ledger.Conway.Conformance.Equivalence.html#22101" class="Bound">deps₂&#39;</a> <a id="22180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22182" href="Ledger.Conway.Conformance.Equivalence.html#22110" class="Bound">eqd&#39;</a> <a id="22187" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22189" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22201" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22206" href="Ledger.Conway.Conformance.Equivalence.html#22075" class="Bound">utxo</a> <a id="22211" href="Ledger.Conway.Conformance.Equivalence.html#22117" class="Bound">certs&#39;</a> <a id="22218" href="Ledger.Conway.Conformance.Equivalence.html#22086" class="Bound">gov</a>
  <a id="22224" href="Ledger.Conway.Conformance.Equivalence.html#21750" class="Function">castLEDGER</a> <a id="22235" href="Ledger.Conway.Conformance.Equivalence.html#22235" class="Bound">deps₁</a> <a id="22241" href="Ledger.Conway.Conformance.Equivalence.html#22241" class="Bound">deps₂</a> <a id="22247" href="Ledger.Conway.Conformance.Equivalence.html#22247" class="Bound">deps₁&#39;</a> <a id="22254" href="Ledger.Conway.Conformance.Equivalence.html#22254" class="Bound">eqd</a> <a id="22258" class="Symbol">(</a><a id="22259" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22271" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22276" href="Ledger.Conway.Conformance.Equivalence.html#22276" class="Bound">utxo</a><a id="22280" class="Symbol">)</a> <a id="22282" class="Symbol">=</a> <a id="22284" class="Symbol">_</a> <a id="22286" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22288" href="Ledger.Conway.Conformance.Equivalence.html#22254" class="Bound">eqd</a> <a id="22292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22294" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22306" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22311" href="Ledger.Conway.Conformance.Equivalence.html#22276" class="Bound">utxo</a>

<a id="22317" class="Comment">---------------------------------------------------------------------------</a>
<a id="22393" class="Comment">-- The main result</a>
<a id="22412" class="Comment">---------------------------------------------------------------------------</a>

<a id="22489" class="Keyword">open</a> <a id="22494" class="Keyword">import</a> <a id="22501" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="Module">Ledger.Conway.Conformance.Equivalence.Bisimilarity</a>

<a id="22553" class="Comment">-- An LState sˡ from the Spec and an LState sᶜ from Conformance are</a>
<a id="22621" class="Comment">-- bisimular iff</a>
<a id="22638" class="Comment">--  ∙ the deposits in the CertState of sᶜ are equal (as maps) to the</a>
<a id="22707" class="Comment">--    appropriate restrictions of the deposits in the UTxOState of sˡ</a>
<a id="22777" class="Comment">--  ∙ the only difference between sˡ and sᶜ are the extra deposits in</a>
<a id="22847" class="Comment">--    the CertState of sᶜ.</a>
<a id="_∼_"></a><a id="22874" href="Ledger.Conway.Conformance.Equivalence.html#22874" class="Function Operator">_∼_</a> <a id="22878" class="Symbol">:</a> <a id="22880" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">L.LState</a> <a id="22889" class="Symbol">→</a> <a id="22891" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="22900" class="Symbol">→</a> <a id="22902" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="22907" href="Ledger.Conway.Conformance.Equivalence.html#22907" class="Bound">sˡ</a> <a id="22910" href="Ledger.Conway.Conformance.Equivalence.html#22874" class="Function Operator">∼</a> <a id="22912" href="Ledger.Conway.Conformance.Equivalence.html#22912" class="Bound">sᶜ</a> <a id="22915" class="Symbol">=</a> <a id="22917" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="22930" href="Ledger.Conway.Conformance.Equivalence.html#22907" class="Bound">sˡ</a> <a id="22933" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="22936" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="22950" class="Symbol">(</a><a id="22951" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="22970" href="Ledger.Conway.Conformance.Equivalence.html#22912" class="Bound">sᶜ</a><a id="22972" class="Symbol">)</a> <a id="22974" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="22976" href="Ledger.Conway.Conformance.Equivalence.html#22907" class="Bound">sˡ</a> <a id="22979" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22981" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="22986" href="Ledger.Conway.Conformance.Equivalence.html#22912" class="Bound">sᶜ</a>

<a id="22990" class="Comment">-- This gives us the main result: a bisimulation between the LEDGER</a>
<a id="23058" class="Comment">-- rules in Ledger and in Conformance.</a>
<a id="bisimilarityProof"></a><a id="23097" href="Ledger.Conway.Conformance.Equivalence.html#23097" class="Function">bisimilarityProof</a> <a id="23115" class="Symbol">:</a> <a id="23117" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#128" class="Record">Bisimilar</a> <a id="23127" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">L._⊢_⇀⦇_,LEDGER⦈_</a> <a id="23145" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C._⊢_⇀⦇_,LEDGER⦈_</a>
<a id="23163" href="Ledger.Conway.Conformance.Equivalence.html#23097" class="Function">bisimilarityProof</a> <a id="23181" class="Symbol">.</a><a id="23182" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#259" class="Field Operator">Bisimilar._≈_</a> <a id="23196" class="Symbol">=</a> <a id="23198" href="Ledger.Conway.Conformance.Equivalence.html#22874" class="Function Operator">_∼_</a>
<a id="23202" href="Ledger.Conway.Conformance.Equivalence.html#23097" class="Function">bisimilarityProof</a> <a id="23220" class="Symbol">.</a><a id="23221" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#284" class="Field">Bisimilar.to</a> <a id="23234" class="Symbol">{</a><a id="23235" href="Ledger.Conway.Conformance.Equivalence.html#23235" class="Bound">Γ</a><a id="23236" class="Symbol">}</a> <a id="23238" class="Symbol">{</a><a id="23239" href="Ledger.Conway.Conformance.Equivalence.html#23239" class="Bound">tx</a><a id="23241" class="Symbol">}</a> <a id="23243" class="Symbol">{</a><a id="23244" href="Ledger.Conway.Conformance.Equivalence.html#23244" class="Bound">sˡ</a><a id="23246" class="Symbol">}</a> <a id="23248" class="Symbol">{</a><a id="23249" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">sˡ&#39;</a><a id="23252" class="Symbol">}</a> <a id="23254" class="Symbol">{</a><a id="23255" href="Ledger.Conway.Conformance.Equivalence.html#23255" class="Bound">sᶜ</a><a id="23257" class="Symbol">}</a> <a id="23259" class="Symbol">(</a><a id="23260" href="Ledger.Conway.Conformance.Equivalence.html#23260" class="Bound">eq</a> <a id="23263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23265" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23269" class="Symbol">)</a> <a id="23271" href="Ledger.Conway.Conformance.Equivalence.html#23271" class="Bound">r</a> <a id="23273" class="Symbol">=</a>
  <a id="23277" class="Keyword">let</a> <a id="23281" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">deps</a>  <a id="23287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23289" href="Ledger.Conway.Conformance.Equivalence.html#23289" class="Bound">eqd</a>  <a id="23294" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23296" href="Ledger.Conway.Conformance.Equivalence.html#23296" class="Bound">r&#39;</a>  <a id="23300" class="Symbol">=</a> <a id="23302" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23307" href="Ledger.Conway.Conformance.Equivalence.html#23271" class="Bound">r</a>
      <a id="23315" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">deps&#39;</a> <a id="23321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23323" href="Ledger.Conway.Conformance.Equivalence.html#23323" class="Bound">eqd&#39;</a> <a id="23328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23330" href="Ledger.Conway.Conformance.Equivalence.html#23330" class="Bound">r&#39;&#39;</a> <a id="23334" class="Symbol">=</a> <a id="23336" href="Ledger.Conway.Conformance.Equivalence.html#21750" class="Function">castLEDGER</a> <a id="23347" class="Symbol">(</a><a id="23348" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="23361" class="Symbol">(</a><a id="23362" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23367" href="Ledger.Conway.Conformance.Equivalence.html#23255" class="Bound">sᶜ</a><a id="23369" class="Symbol">))</a>
                                      <a id="23410" class="Symbol">(</a><a id="23411" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="23425" class="Symbol">(</a><a id="23426" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23445" href="Ledger.Conway.Conformance.Equivalence.html#23255" class="Bound">sᶜ</a><a id="23447" class="Symbol">))</a>
                                      <a id="23488" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">deps</a>
                                      <a id="23531" href="Ledger.Conway.Conformance.Equivalence.html#23260" class="Bound">eq</a>
                                      <a id="23572" href="Ledger.Conway.Conformance.Equivalence.html#23296" class="Bound">r&#39;</a>
      <a id="23581" href="Ledger.Conway.Conformance.Equivalence.html#23581" class="Bound">eqd&#39;&#39;</a> <a id="23587" class="Symbol">:</a> <a id="23589" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="23602" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">sˡ&#39;</a> <a id="23606" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12955" class="Function Operator">≡ᵈ</a> <a id="23609" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">deps&#39;</a>
      <a id="23621" href="Ledger.Conway.Conformance.Equivalence.html#23581" class="Bound">eqd&#39;&#39;</a> <a id="23627" class="Symbol">=</a> <a id="23629" href="Ledger.Conway.Conformance.Equivalence.html#13403" class="Function">≡ᵈ-trans</a> <a id="23638" class="Symbol">{</a><a id="23639" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="23652" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">sˡ&#39;</a><a id="23655" class="Symbol">}</a> <a id="23657" class="Symbol">{</a><a id="23658" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">deps</a><a id="23662" class="Symbol">}</a> <a id="23664" class="Symbol">{</a><a id="23665" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">deps&#39;</a><a id="23670" class="Symbol">}</a> <a id="23672" class="Symbol">(</a><a id="23673" href="Ledger.Conway.Conformance.Equivalence.html#13386" class="Function">≡ᵈ-sym</a> <a id="23680" class="Symbol">{</a><a id="23681" href="Ledger.Conway.Conformance.Equivalence.html#23281" class="Bound">deps</a><a id="23685" class="Symbol">}</a> <a id="23687" class="Symbol">{</a><a id="23688" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="23701" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">sˡ&#39;</a><a id="23704" class="Symbol">}</a> <a id="23706" href="Ledger.Conway.Conformance.Equivalence.html#23289" class="Bound">eqd</a><a id="23709" class="Symbol">)</a> <a id="23711" href="Ledger.Conway.Conformance.Equivalence.html#23323" class="Bound">eqd&#39;</a>
  <a id="23718" class="Keyword">in</a>
  <a id="23723" class="Symbol">(</a><a id="23724" href="Ledger.Conway.Conformance.Equivalence.html#23315" class="Bound">deps&#39;</a> <a id="23730" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23736" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">sˡ&#39;</a><a id="23739" class="Symbol">)</a> <a id="23741" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23743" class="Symbol">(</a><a id="23744" href="Ledger.Conway.Conformance.Equivalence.html#23581" class="Bound">eqd&#39;&#39;</a> <a id="23750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23752" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23756" class="Symbol">)</a> <a id="23758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23760" href="Ledger.Conway.Conformance.Equivalence.html#23330" class="Bound">r&#39;&#39;</a>
<a id="23764" href="Ledger.Conway.Conformance.Equivalence.html#23097" class="Function">bisimilarityProof</a> <a id="23782" class="Symbol">.</a><a id="23783" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#419" class="Field">Bisimilar.from</a> <a id="23798" class="Symbol">{</a><a id="23799" href="Ledger.Conway.Conformance.Equivalence.html#23799" class="Bound">Γ</a><a id="23800" class="Symbol">}</a> <a id="23802" class="Symbol">{</a><a id="23803" href="Ledger.Conway.Conformance.Equivalence.html#23803" class="Bound">tx</a><a id="23805" class="Symbol">}</a> <a id="23807" class="Symbol">{</a><a id="23808" href="Ledger.Conway.Conformance.Equivalence.html#23808" class="Bound">sˡ</a><a id="23810" class="Symbol">}</a> <a id="23812" class="Symbol">{</a><a id="23813" href="Ledger.Conway.Conformance.Equivalence.html#23813" class="Bound">sᶜ</a><a id="23815" class="Symbol">}</a> <a id="23817" class="Symbol">{</a><a id="23818" href="Ledger.Conway.Conformance.Equivalence.html#23818" class="Bound">sᶜ&#39;</a><a id="23821" class="Symbol">}</a> <a id="23823" class="Symbol">(</a><a id="23824" href="Ledger.Conway.Conformance.Equivalence.html#23824" class="Bound">eqd</a> <a id="23828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23830" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23834" class="Symbol">)</a> <a id="23836" href="Ledger.Conway.Conformance.Equivalence.html#23836" class="Bound">r</a> <a id="23838" class="Symbol">=</a>
  <a id="23842" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23847" href="Ledger.Conway.Conformance.Equivalence.html#23818" class="Bound">sᶜ&#39;</a> <a id="23851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23853" class="Symbol">(</a><a id="23854" href="Ledger.Conway.Conformance.Equivalence.html#23977" class="Function">wf&#39;</a> <a id="23858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23860" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23864" class="Symbol">)</a> <a id="23866" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23868" href="Ledger.Conway.Conformance.Equivalence.html#23891" class="Function">wf</a> <a id="23871" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23877" href="Ledger.Conway.Conformance.Equivalence.html#23836" class="Bound">r</a>
  <a id="23881" class="Keyword">where</a>
    <a id="23891" href="Ledger.Conway.Conformance.Equivalence.html#23891" class="Function">wf</a>  <a id="23895" class="Symbol">=</a> <a id="23897" href="Ledger.Conway.Conformance.Equivalence.html#13386" class="Function">≡ᵈ-sym</a> <a id="23904" class="Symbol">{</a><a id="23905" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="23918" class="Symbol">(</a><a id="23919" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23924" href="Ledger.Conway.Conformance.Equivalence.html#23813" class="Bound">sᶜ</a><a id="23926" class="Symbol">)}</a> <a id="23929" class="Symbol">{</a><a id="23930" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="23944" class="Symbol">(</a><a id="23945" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23964" href="Ledger.Conway.Conformance.Equivalence.html#23813" class="Bound">sᶜ</a><a id="23966" class="Symbol">)}</a> <a id="23969" href="Ledger.Conway.Conformance.Equivalence.html#23824" class="Bound">eqd</a>
    <a id="23977" href="Ledger.Conway.Conformance.Equivalence.html#23977" class="Function">wf&#39;</a> <a id="23981" class="Symbol">=</a> <a id="23983" href="Ledger.Conway.Conformance.Equivalence.html#13386" class="Function">≡ᵈ-sym</a> <a id="23990" class="Symbol">{</a><a id="23991" href="Ledger.Conway.Conformance.Equivalence.html#7994" class="Function">certDepositsC</a> <a id="24005" class="Symbol">(</a><a id="24006" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="24025" href="Ledger.Conway.Conformance.Equivalence.html#23818" class="Bound">sᶜ&#39;</a><a id="24028" class="Symbol">)}</a> <a id="24031" class="Symbol">{</a><a id="24032" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12799" class="Function">certDeposits</a> <a id="24045" class="Symbol">(</a><a id="24046" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="24051" href="Ledger.Conway.Conformance.Equivalence.html#23818" class="Bound">sᶜ&#39;</a><a id="24054" class="Symbol">)}</a> <a id="24057" class="Symbol">(</a><a id="24058" href="Ledger.Conway.Conformance.Equivalence.html#14788" class="Function">lemWellformed</a> <a id="24072" href="Ledger.Conway.Conformance.Equivalence.html#23891" class="Function">wf</a> <a id="24075" href="Ledger.Conway.Conformance.Equivalence.html#23836" class="Bound">r</a><a id="24076" class="Symbol">)</a>
    <a id="24082" href="Ledger.Conway.Conformance.Equivalence.html#24082" class="Function">r&#39;</a> <a id="24085" class="Symbol">=</a> <a id="24087" href="Ledger.Conway.Conformance.Equivalence.html#23891" class="Function">wf</a> <a id="24090" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="24096" href="Ledger.Conway.Conformance.Equivalence.html#23836" class="Bound">r</a>
</pre></body></html>