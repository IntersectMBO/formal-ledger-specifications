<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#4102" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a> <a id="373" class="Symbol">to</a> <a id="376" class="Record">RewardAddress</a><a id="389" class="Symbol">)</a>
<a id="391" class="Keyword">import</a> <a id="398" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="434" class="Keyword">import</a> <a id="441" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="483" class="Keyword">import</a> <a id="490" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="572" class="Keyword">import</a> <a id="579" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="628" class="Keyword">open</a> <a id="633" class="Keyword">import</a> <a id="640" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="699" class="Keyword">using</a> <a id="705" class="Symbol">(</a><a id="706" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="709" class="Symbol">)</a>


<a id="713" class="Keyword">data</a> <a id="TxLevel"></a><a id="718" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="726" class="Symbol">:</a> <a id="728" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="733" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="741" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="752" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="763" class="Symbol">:</a> <a id="765" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="775" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="786" class="Symbol">:</a> <a id="788" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="796" class="Symbol">→</a> <a id="798" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="803" class="Symbol">→</a> <a id="805" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="810" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="821" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="832" href="Ledger.Dijkstra.Specification.Transaction.html#832" class="Bound">X</a> <a id="834" class="Symbol">=</a> <a id="836" href="Ledger.Dijkstra.Specification.Transaction.html#832" class="Bound">X</a>
<a id="838" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="849" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="860" class="Symbol">_</a> <a id="862" class="Symbol">=</a> <a id="864" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="867" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="878" class="Symbol">:</a> <a id="880" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="888" class="Symbol">→</a> <a id="890" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="895" class="Symbol">→</a> <a id="897" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="902" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="913" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="924" href="Ledger.Dijkstra.Specification.Transaction.html#924" class="Bound">X</a> <a id="926" class="Symbol">=</a> <a id="928" href="Ledger.Dijkstra.Specification.Transaction.html#924" class="Bound">X</a>
<a id="930" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="941" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="952" class="Symbol">_</a> <a id="954" class="Symbol">=</a> <a id="956" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="960" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="972" href="Ledger.Dijkstra.Specification.Transaction.html#972" class="Function">DecEq-TxLevel</a> <a id="986" class="Symbol">=</a> <a id="988" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1001" class="Symbol">((</a><a id="1003" class="Keyword">quote</a> <a id="1009" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="1017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1019" href="Ledger.Dijkstra.Specification.Transaction.html#972" class="Function">DecEq-TxLevel</a><a id="1032" class="Symbol">)</a> <a id="1034" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1036" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1038" class="Symbol">)</a>

<a id="1041" class="Keyword">private</a>
  <a id="1051" class="Keyword">variable</a>
    <a id="1064" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="1072" class="Symbol">:</a> <a id="1074" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a>

<a id="1083" class="Keyword">data</a> <a id="Tag"></a><a id="1088" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1109" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1117" href="Ledger.Dijkstra.Specification.Transaction.html#1117" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1123" href="Ledger.Dijkstra.Specification.Transaction.html#1123" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1128" href="Ledger.Dijkstra.Specification.Transaction.html#1128" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1133" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1140" href="Ledger.Dijkstra.Specification.Transaction.html#1140" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1145" href="Ledger.Dijkstra.Specification.Transaction.html#1145" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1153" href="Ledger.Dijkstra.Specification.Transaction.html#1153" class="InductiveConstructor">Guard</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1165" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1175" href="Ledger.Dijkstra.Specification.Transaction.html#1175" class="InductiveConstructor">SubGuard</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1190" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a>

<a id="1202" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1214" href="Ledger.Dijkstra.Specification.Transaction.html#1214" class="Function">DecEq-Tag</a> <a id="1224" class="Symbol">=</a> <a id="1226" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1239" class="Symbol">((</a><a id="1241" class="Keyword">quote</a> <a id="1247" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1253" href="Ledger.Dijkstra.Specification.Transaction.html#1214" class="Function">DecEq-Tag</a><a id="1262" class="Symbol">)</a> <a id="1264" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1266" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1268" class="Symbol">)</a>


<a id="1272" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1279" href="Ledger.Dijkstra.Specification.Transaction.html#1279" class="Record">TransactionStructure</a> <a id="1300" class="Symbol">:</a> <a id="1302" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1308" class="Keyword">where</a>
  <a id="1316" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1326" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1329" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1334" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>  <a id="1349" class="Symbol">:</a> <a id="1351" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1360" href="Ledger.Dijkstra.Specification.Transaction.html#1360" class="Field">adHashingScheme</a>        <a id="1383" class="Symbol">:</a> <a id="1385" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1399" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>
    <a id="TransactionStructure.globalConstants"></a><a id="1417" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a>        <a id="1440" class="Symbol">:</a> <a id="1442" href="Ledger.Core.Specification.Epoch.html#2274" class="Record">GlobalConstants</a>
    <a id="TransactionStructure.crypto"></a><a id="1462" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a>                 <a id="1485" class="Symbol">:</a> <a id="1487" href="Ledger.Core.Specification.Crypto.html#1110" class="Record">CryptoStructure</a>
    <a id="TransactionStructure.epochStructure"></a><a id="1507" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a>         <a id="1530" class="Symbol">:</a> <a id="1532" href="Ledger.Core.Specification.Epoch.html#578" class="Record">EpochStructure</a>


    <a id="1553" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1555" href="Ledger.Dijkstra.Specification.Transaction.html#1555" class="Field">DecEq-Ix</a>   <a id="1566" class="Symbol">⦄</a> <a id="1568" class="Symbol">:</a> <a id="1570" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1576" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>
    <a id="1583" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1585" href="Ledger.Dijkstra.Specification.Transaction.html#1585" class="Field">DecEq-TxId</a> <a id="1596" class="Symbol">⦄</a> <a id="1598" class="Symbol">:</a> <a id="1600" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1606" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
  <a id="1613" class="Keyword">open</a> <a id="1618" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1632" href="Ledger.Dijkstra.Specification.Transaction.html#1360" class="Field">adHashingScheme</a> <a id="1648" class="Keyword">renaming</a> <a id="1657" class="Symbol">(</a><a id="1658" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1664" class="Symbol">to</a> <a id="1667" class="Field">ADHash</a><a id="1673" class="Symbol">)</a> <a id="1675" class="Keyword">public</a>
  <a id="1684" class="Keyword">open</a> <a id="1689" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1705" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a> <a id="1721" class="Keyword">public</a>
  <a id="1730" class="Keyword">open</a> <a id="1735" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1751" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="1758" class="Keyword">public</a>
  <a id="1767" class="Keyword">open</a> <a id="1772" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1820" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1831" class="Keyword">public</a>
  <a id="1840" class="Keyword">open</a> <a id="1845" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1879" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1887" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1895" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1906" class="Symbol">⦃</a> <a id="1908" href="Function.Base.html#4755" class="Function">it</a> <a id="1911" class="Symbol">⦄</a> <a id="1913" class="Symbol">⦃</a> <a id="1915" href="Function.Base.html#4755" class="Function">it</a> <a id="1918" class="Symbol">⦄</a> <a id="1920" class="Symbol">⦃</a> <a id="1922" href="Function.Base.html#4755" class="Function">it</a> <a id="1925" class="Symbol">⦄</a> <a id="1927" class="Keyword">public</a>
  <a id="1936" class="Keyword">open</a> <a id="1941" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="1956" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="1971" class="Keyword">public</a>
  <a id="1980" class="Keyword">open</a> <a id="1985" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="2022" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="2029" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="2044" class="Keyword">public</a>
  <a id="2053" class="Keyword">field</a>


    <a id="TransactionStructure.scriptStructure"></a><a id="2065" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a>        <a id="2088" class="Symbol">:</a> <a id="2090" href="Ledger.Dijkstra.Specification.Script.Base.html#2062" class="Record">ScriptStructure</a>


  <a id="2110" class="Keyword">open</a> <a id="2115" href="Ledger.Dijkstra.Specification.Script.Base.html#2062" class="Module">ScriptStructure</a> <a id="2131" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a> <a id="2147" class="Keyword">public</a>
  <a id="2156" class="Keyword">open</a> <a id="2161" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2199" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="2206" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="2221" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a> <a id="2237" class="Keyword">public</a>
  <a id="2246" class="Keyword">field</a>


    <a id="TransactionStructure.govParams"></a><a id="2258" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a>              <a id="2281" class="Symbol">:</a> <a id="2283" href="Ledger.Dijkstra.Specification.PParams.html#14149" class="Record">GovParams</a>
    <a id="TransactionStructure.tokenAlgebra"></a><a id="2297" href="Ledger.Dijkstra.Specification.Transaction.html#2297" class="Field">tokenAlgebra</a>           <a id="2320" class="Symbol">:</a> <a id="2322" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Record">TokenAlgebra</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2339" href="Ledger.Dijkstra.Specification.Transaction.html#2339" class="Field">txidBytes</a>              <a id="2362" class="Symbol">:</a> <a id="2364" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="2369" class="Symbol">→</a> <a id="2371" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>


  <a id="2379" class="Keyword">open</a> <a id="2384" href="Ledger.Dijkstra.Specification.PParams.html#14149" class="Module">GovParams</a> <a id="2394" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a> <a id="2404" class="Keyword">public</a>
  <a id="2413" class="Keyword">open</a> <a id="2418" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Module">TokenAlgebra</a> <a id="2431" href="Ledger.Dijkstra.Specification.Transaction.html#2297" class="Field">tokenAlgebra</a> <a id="2444" class="Keyword">public</a>


  <a id="TransactionStructure.govStructure"></a><a id="2455" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a> <a id="2468" class="Symbol">:</a> <a id="2470" href="Ledger.Dijkstra.Specification.Gov.Base.html#332" class="Record">GovStructure</a>
  <a id="2485" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a> <a id="2498" class="Symbol">=</a> <a id="2500" class="Keyword">record</a>
    <a id="2511" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2560" class="Symbol">{</a> <a id="2562" href="Ledger.Dijkstra.Specification.Gov.Base.html#367" class="Field">TxId</a> <a id="2567" class="Symbol">=</a> <a id="2569" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a><a id="2573" class="Symbol">;</a> <a id="2575" href="Ledger.Dijkstra.Specification.Gov.Base.html#372" class="Field">DocHash</a> <a id="2583" class="Symbol">=</a> <a id="2585" href="Ledger.Dijkstra.Specification.Transaction.html#1667" class="Function">ADHash</a>
    <a id="2596" class="Symbol">;</a> <a id="2598" href="Ledger.Dijkstra.Specification.Gov.Base.html#432" class="Field">cryptoStructure</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a>
    <a id="2627" class="Symbol">;</a> <a id="2629" href="Ledger.Dijkstra.Specification.Gov.Base.html#521" class="Field">epochStructure</a> <a id="2644" class="Symbol">=</a> <a id="2646" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a>
    <a id="2665" class="Symbol">;</a> <a id="2667" href="Ledger.Dijkstra.Specification.Gov.Base.html#606" class="Field">scriptStructure</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a>
    <a id="2705" class="Symbol">;</a> <a id="2707" href="Ledger.Dijkstra.Specification.Gov.Base.html#826" class="Field">govParams</a> <a id="2717" class="Symbol">=</a> <a id="2719" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a>
    <a id="2733" class="Symbol">;</a> <a id="2735" href="Ledger.Dijkstra.Specification.Gov.Base.html#891" class="Field">globalConstants</a> <a id="2751" class="Symbol">=</a> <a id="2753" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a>
    <a id="2773" class="Symbol">}</a>


  <a id="2779" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2786" href="Ledger.Dijkstra.Specification.Transaction.html#2786" class="Module">GovernanceActions</a> <a id="2804" class="Symbol">=</a> <a id="2806" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2848" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>
  <a id="2863" class="Keyword">open</a> <a id="2868" href="Ledger.Dijkstra.Specification.Transaction.html#2786" class="Module">GovernanceActions</a> <a id="2886" class="Keyword">hiding</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1491" class="Datatype">Vote</a><a id="2898" class="Symbol">;</a> <a id="2900" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1511" class="InductiveConstructor">yes</a><a id="2903" class="Symbol">;</a> <a id="2905" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1515" class="InductiveConstructor">no</a><a id="2907" class="Symbol">;</a> <a id="2909" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1518" class="InductiveConstructor">abstain</a><a id="2916" class="Symbol">)</a> <a id="2918" class="Keyword">public</a>

  <a id="2928" class="Keyword">open</a> <a id="2933" class="Keyword">import</a> <a id="2940" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="2976" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="2993" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="2998" class="Symbol">:</a> <a id="3000" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3007" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="3012" class="Symbol">=</a> <a id="3014" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="3019" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3021" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="3027" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="3033" class="Symbol">:</a> <a id="3035" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3042" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="3048" class="Symbol">=</a> <a id="3050" href="Ledger.Core.Specification.Address.html#2906" class="Function">Addr</a> <a id="3055" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3057" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="3063" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3065" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3071" class="Symbol">(</a><a id="3072" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a> <a id="3078" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3080" href="Ledger.Dijkstra.Specification.Script.Base.html#1735" class="Function">DataHash</a><a id="3088" class="Symbol">)</a> <a id="3090" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3092" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3098" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="3108" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="3113" class="Symbol">:</a> <a id="3115" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3122" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="3127" class="Symbol">=</a> <a id="3129" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="3134" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3136" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3145" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="3157" class="Symbol">:</a> <a id="3159" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="3167" class="Symbol">→</a> <a id="3169" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3176" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="3188" href="Ledger.Dijkstra.Specification.Transaction.html#3188" class="Bound">txLevel</a>  <a id="3197" class="Symbol">=</a> <a id="3199" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="3203" href="Ledger.Dijkstra.Specification.Transaction.html#3188" class="Bound">txLevel</a> <a id="3211" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3213" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3219" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3237" class="Symbol">:</a> <a id="3239" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3246" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3264" class="Symbol">=</a> <a id="3266" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3274" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3276" href="Ledger.Dijkstra.Specification.PParams.html#14247" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3293" href="Ledger.Dijkstra.Specification.Transaction.html#3293" class="Function">Update</a> <a id="3300" class="Symbol">:</a> <a id="3302" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3309" href="Ledger.Dijkstra.Specification.Transaction.html#3293" class="Function">Update</a> <a id="3316" class="Symbol">=</a> <a id="3318" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3336" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3338" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>

  <a id="3347" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3354" href="Ledger.Dijkstra.Specification.Transaction.html#3354" class="Record">HasUTxO</a> <a id="3362" class="Symbol">{</a><a id="3363" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a><a id="3364" class="Symbol">}</a> <a id="3366" class="Symbol">(</a><a id="3367" href="Ledger.Dijkstra.Specification.Transaction.html#3367" class="Bound">A</a> <a id="3369" class="Symbol">:</a> <a id="3371" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3376" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">:</a> <a id="3381" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3386" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a> <a id="3388" class="Keyword">where</a>
    <a id="3398" class="Keyword">field</a> <a id="3404" href="Ledger.Dijkstra.Specification.Transaction.html#3404" class="Field">UTxOOf</a> <a id="3411" class="Symbol">:</a> <a id="3413" href="Ledger.Dijkstra.Specification.Transaction.html#3367" class="Bound">A</a> <a id="3415" class="Symbol">→</a> <a id="3417" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a>
  <a id="3424" class="Keyword">open</a> <a id="3429" href="Ledger.Dijkstra.Specification.Transaction.html#3354" class="Module">HasUTxO</a> <a id="3437" class="Symbol">⦃...⦄</a> <a id="3443" class="Keyword">public</a>


  <a id="3454" class="Keyword">mutual</a>
    <a id="3465" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3472" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="3475" class="Symbol">(</a><a id="3476" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a> <a id="3484" class="Symbol">:</a> <a id="3486" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="3493" class="Symbol">)</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3502" class="Keyword">where</a>
      <a id="3514" class="Keyword">inductive</a>
      <a id="3530" class="Keyword">field</a>
        <a id="3544" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">txBody</a>       <a id="3557" class="Symbol">:</a> <a id="3559" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="3566" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a>
        <a id="3582" href="Ledger.Dijkstra.Specification.Transaction.html#3582" class="Field">txWitnesses</a>  <a id="3595" class="Symbol">:</a> <a id="3597" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="3609" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a>
        <a id="3625" href="Ledger.Dijkstra.Specification.Transaction.html#3625" class="Field">txSize</a>       <a id="3638" class="Symbol">:</a> <a id="3640" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="3650" href="Ledger.Dijkstra.Specification.Transaction.html#3650" class="Field">isValid</a>      <a id="3663" class="Symbol">:</a> <a id="3665" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="3676" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a> <a id="3684" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3697" href="Ledger.Dijkstra.Specification.Transaction.html#3697" class="Field">txAuxData</a>    <a id="3710" class="Symbol">:</a> <a id="3712" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3718" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>

    <a id="3737" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3744" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="3751" class="Symbol">(</a><a id="3752" href="Ledger.Dijkstra.Specification.Transaction.html#3752" class="Bound">txLevel</a> <a id="3760" class="Symbol">:</a> <a id="3762" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="3769" class="Symbol">)</a> <a id="3771" class="Symbol">:</a> <a id="3773" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3778" class="Keyword">where</a>
      <a id="3790" class="Keyword">inductive</a>
      <a id="3806" class="Keyword">field</a>
        <a id="3820" href="Ledger.Dijkstra.Specification.Transaction.html#3820" class="Field">txIns</a>                <a id="3841" class="Symbol">:</a> <a id="3843" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3845" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
        <a id="3858" href="Ledger.Dijkstra.Specification.Transaction.html#3858" class="Field">refInputs</a>            <a id="3879" class="Symbol">:</a> <a id="3881" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3883" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
        <a id="3896" href="Ledger.Dijkstra.Specification.Transaction.html#3896" class="Field">collateralInputs</a>     <a id="3917" class="Symbol">:</a> <a id="3919" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="3930" href="Ledger.Dijkstra.Specification.Transaction.html#3752" class="Bound">txLevel</a> <a id="3938" class="Symbol">(</a><a id="3939" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3941" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a><a id="3945" class="Symbol">)</a>
        <a id="3955" href="Ledger.Dijkstra.Specification.Transaction.html#3955" class="Field">txOuts</a>               <a id="3976" class="Symbol">:</a> <a id="3978" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="3981" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3983" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
        <a id="3997" href="Ledger.Dijkstra.Specification.Transaction.html#3997" class="Field">txId</a>                 <a id="4018" class="Symbol">:</a> <a id="4020" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
        <a id="4033" href="Ledger.Dijkstra.Specification.Transaction.html#4033" class="Field">txCerts</a>              <a id="4054" class="Symbol">:</a> <a id="4056" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4061" href="Ledger.Dijkstra.Specification.Certs.html#1305" class="Datatype">DCert</a>
        <a id="4075" href="Ledger.Dijkstra.Specification.Transaction.html#4075" class="Field">txFee</a>                <a id="4096" class="Symbol">:</a> <a id="4098" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="4109" href="Ledger.Dijkstra.Specification.Transaction.html#3752" class="Bound">txLevel</a> <a id="4117" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
        <a id="4130" href="Ledger.Dijkstra.Specification.Transaction.html#4130" class="Field">txWithdrawals</a>        <a id="4151" class="Symbol">:</a> <a id="4153" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>
        <a id="4173" href="Ledger.Dijkstra.Specification.Transaction.html#4173" class="Field">txVldt</a>               <a id="4194" class="Symbol">:</a> <a id="4196" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4202" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="4207" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4209" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4215" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
        <a id="4228" href="Ledger.Dijkstra.Specification.Transaction.html#4228" class="Field">txADhash</a>             <a id="4249" class="Symbol">:</a> <a id="4251" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4257" href="Ledger.Dijkstra.Specification.Transaction.html#1667" class="Function">ADHash</a>
        <a id="4272" href="Ledger.Dijkstra.Specification.Transaction.html#4272" class="Field">txDonation</a>           <a id="4293" class="Symbol">:</a> <a id="4295" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4313" href="Ledger.Dijkstra.Specification.Transaction.html#4313" class="Field">txGovVotes</a>           <a id="4334" class="Symbol">:</a> <a id="4336" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4341" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
        <a id="4357" href="Ledger.Dijkstra.Specification.Transaction.html#4357" class="Field">txGovProposals</a>       <a id="4378" class="Symbol">:</a> <a id="4380" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4385" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
        <a id="4405" href="Ledger.Dijkstra.Specification.Transaction.html#4405" class="Field">txNetworkId</a>          <a id="4426" class="Symbol">:</a> <a id="4428" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4434" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
        <a id="4450" href="Ledger.Dijkstra.Specification.Transaction.html#4450" class="Field">currentTreasury</a>      <a id="4471" class="Symbol">:</a> <a id="4473" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4479" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4492" href="Ledger.Dijkstra.Specification.Transaction.html#4492" class="Field">mint</a>                 <a id="4513" class="Symbol">:</a> <a id="4515" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
        <a id="4529" href="Ledger.Dijkstra.Specification.Transaction.html#4529" class="Field">scriptIntegrityHash</a>  <a id="4550" class="Symbol">:</a> <a id="4552" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4558" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4578" class="Comment">-- New in Dijkstra --</a>
        <a id="4608" href="Ledger.Dijkstra.Specification.Transaction.html#4608" class="Field">txSubTransactions</a>         <a id="4634" class="Symbol">:</a> <a id="4636" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="4647" href="Ledger.Dijkstra.Specification.Transaction.html#3752" class="Bound">txLevel</a> <a id="4655" class="Symbol">(</a><a id="4656" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4661" class="Symbol">(</a><a id="4662" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="4665" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="4675" class="Symbol">))</a>
        <a id="4686" href="Ledger.Dijkstra.Specification.Transaction.html#4686" class="Field">txGuards</a>                  <a id="4712" class="Symbol">:</a> <a id="4714" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4716" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
        <a id="4735" href="Ledger.Dijkstra.Specification.Transaction.html#4735" class="Field">txRequiredTopLevelGuards</a>  <a id="4761" class="Symbol">:</a> <a id="4763" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="4774" href="Ledger.Dijkstra.Specification.Transaction.html#3752" class="Bound">txLevel</a> <a id="4782" class="Symbol">(</a><a id="4783" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="4797" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4799" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4805" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a><a id="4810" class="Symbol">))</a>
        <a id="4821" class="Comment">---------------------</a>

      <a id="TransactionStructure.TxBody.requiredSignerHashes"></a><a id="4850" href="Ledger.Dijkstra.Specification.Transaction.html#4850" class="Function">requiredSignerHashes</a> <a id="4871" class="Symbol">:</a> <a id="4873" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4875" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
      <a id="4889" href="Ledger.Dijkstra.Specification.Transaction.html#4850" class="Function">requiredSignerHashes</a> <a id="4910" class="Symbol">=</a> <a id="4912" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4923" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="4936" href="Ledger.Dijkstra.Specification.Transaction.html#4686" class="Field">txGuards</a>


    <a id="4951" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="4958" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="4970" class="Symbol">(</a><a id="4971" href="Ledger.Dijkstra.Specification.Transaction.html#4971" class="Bound">txLevel</a> <a id="4979" class="Symbol">:</a> <a id="4981" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="4988" class="Symbol">)</a> <a id="4990" class="Symbol">:</a> <a id="4992" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4997" class="Keyword">where</a>
      <a id="5009" class="Keyword">inductive</a>
      <a id="5025" class="Keyword">field</a>
        <a id="5039" href="Ledger.Dijkstra.Specification.Transaction.html#5039" class="Field">vKeySigs</a>     <a id="5052" class="Symbol">:</a> <a id="5054" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="5059" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5061" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
        <a id="5073" href="Ledger.Dijkstra.Specification.Transaction.html#5073" class="Field">scripts</a>      <a id="5086" class="Symbol">:</a> <a id="5088" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5090" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
        <a id="5105" href="Ledger.Dijkstra.Specification.Transaction.html#5105" class="Field">txData</a>       <a id="5118" class="Symbol">:</a> <a id="5120" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5122" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
        <a id="5136" href="Ledger.Dijkstra.Specification.Transaction.html#5136" class="Field">txRedeemers</a>  <a id="5149" class="Symbol">:</a> <a id="5151" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="5163" href="Ledger.Dijkstra.Specification.Transaction.html#4971" class="Bound">txLevel</a> <a id="5171" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5173" href="Ledger.Dijkstra.Specification.Script.Base.html#1800" class="Function">Redeemer</a> <a id="5182" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5184" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5199" href="Ledger.Dijkstra.Specification.Transaction.html#5199" class="Function">scriptsP1</a> <a id="5209" class="Symbol">:</a> <a id="5211" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5213" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
      <a id="5228" href="Ledger.Dijkstra.Specification.Transaction.html#5199" class="Function">scriptsP1</a> <a id="5238" class="Symbol">=</a> <a id="5240" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5251" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5258" href="Ledger.Dijkstra.Specification.Transaction.html#5073" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5270" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="5281" class="Symbol">:</a> <a id="5283" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5290" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="5301" class="Symbol">=</a> <a id="5303" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="5306" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5320" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a> <a id="5331" class="Symbol">:</a> <a id="5333" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5340" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a> <a id="5351" class="Symbol">=</a> <a id="5353" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="5356" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5371" href="Ledger.Dijkstra.Specification.Transaction.html#5371" class="Function">AnyLevelTx</a> <a id="5382" class="Symbol">:</a> <a id="5384" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5391" href="Ledger.Dijkstra.Specification.Transaction.html#5371" class="Function">AnyLevelTx</a> <a id="5402" class="Symbol">=</a> <a id="5404" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="5415" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5417" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a>


  <a id="5432" class="Comment">-- Level-Dependent Type Classes --</a>
  <a id="5469" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5476" href="Ledger.Dijkstra.Specification.Transaction.html#5476" class="Record">HasTxBody</a> <a id="5486" class="Symbol">{</a><a id="5487" href="Ledger.Dijkstra.Specification.Transaction.html#5487" class="Bound">txLevel</a><a id="5494" class="Symbol">}</a> <a id="5496" class="Symbol">{</a><a id="5497" href="Ledger.Dijkstra.Specification.Transaction.html#5497" class="Bound">a</a><a id="5498" class="Symbol">}</a> <a id="5500" class="Symbol">(</a><a id="5501" href="Ledger.Dijkstra.Specification.Transaction.html#5501" class="Bound">A</a> <a id="5503" class="Symbol">:</a> <a id="5505" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5510" href="Ledger.Dijkstra.Specification.Transaction.html#5497" class="Bound">a</a><a id="5511" class="Symbol">)</a> <a id="5513" class="Symbol">:</a> <a id="5515" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5520" href="Ledger.Dijkstra.Specification.Transaction.html#5497" class="Bound">a</a> <a id="5522" class="Keyword">where</a>
    <a id="5532" class="Keyword">field</a> <a id="5538" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a> <a id="5547" class="Symbol">:</a> <a id="5549" href="Ledger.Dijkstra.Specification.Transaction.html#5501" class="Bound">A</a> <a id="5551" class="Symbol">→</a> <a id="5553" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="5560" href="Ledger.Dijkstra.Specification.Transaction.html#5487" class="Bound">txLevel</a>
  <a id="5570" class="Keyword">open</a> <a id="5575" href="Ledger.Dijkstra.Specification.Transaction.html#5476" class="Module">HasTxBody</a>  <a id="5586" class="Symbol">⦃...⦄</a> <a id="5592" class="Keyword">public</a>

  <a id="5602" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="5609" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Record">HasTxWitnesses</a> <a id="5624" class="Symbol">{</a><a id="5625" href="Ledger.Dijkstra.Specification.Transaction.html#5625" class="Bound">txLevel</a><a id="5632" class="Symbol">}</a> <a id="5634" class="Symbol">{</a><a id="5635" href="Ledger.Dijkstra.Specification.Transaction.html#5635" class="Bound">a</a><a id="5636" class="Symbol">}</a> <a id="5638" class="Symbol">(</a><a id="5639" href="Ledger.Dijkstra.Specification.Transaction.html#5639" class="Bound">A</a> <a id="5641" class="Symbol">:</a> <a id="5643" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5648" href="Ledger.Dijkstra.Specification.Transaction.html#5635" class="Bound">a</a><a id="5649" class="Symbol">)</a> <a id="5651" class="Symbol">:</a> <a id="5653" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5658" href="Ledger.Dijkstra.Specification.Transaction.html#5635" class="Bound">a</a> <a id="5660" class="Keyword">where</a>
    <a id="5670" class="Keyword">field</a> <a id="5676" href="Ledger.Dijkstra.Specification.Transaction.html#5676" class="Field">TxWitnessesOf</a> <a id="5690" class="Symbol">:</a> <a id="5692" href="Ledger.Dijkstra.Specification.Transaction.html#5639" class="Bound">A</a> <a id="5694" class="Symbol">→</a> <a id="5696" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="5708" href="Ledger.Dijkstra.Specification.Transaction.html#5625" class="Bound">txLevel</a>
  <a id="5718" class="Keyword">open</a> <a id="5723" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Module">HasTxWitnesses</a> <a id="5738" class="Symbol">⦃...⦄</a> <a id="5744" class="Keyword">public</a>

  <a id="5754" class="Keyword">record</a> <a id="TransactionStructure.HasRedeemers"></a><a id="5761" href="Ledger.Dijkstra.Specification.Transaction.html#5761" class="Record">HasRedeemers</a> <a id="5774" class="Symbol">{</a><a id="5775" href="Ledger.Dijkstra.Specification.Transaction.html#5775" class="Bound">txLevel</a><a id="5782" class="Symbol">}</a> <a id="5784" class="Symbol">{</a><a id="5785" href="Ledger.Dijkstra.Specification.Transaction.html#5785" class="Bound">a</a><a id="5786" class="Symbol">}</a> <a id="5788" class="Symbol">(</a><a id="5789" href="Ledger.Dijkstra.Specification.Transaction.html#5789" class="Bound">A</a> <a id="5791" class="Symbol">:</a> <a id="5793" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5798" href="Ledger.Dijkstra.Specification.Transaction.html#5785" class="Bound">a</a><a id="5799" class="Symbol">)</a> <a id="5801" class="Symbol">:</a> <a id="5803" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5808" href="Ledger.Dijkstra.Specification.Transaction.html#5785" class="Bound">a</a> <a id="5810" class="Keyword">where</a>
    <a id="5820" class="Keyword">field</a> <a id="5826" href="Ledger.Dijkstra.Specification.Transaction.html#5826" class="Field">RedeemersOf</a> <a id="5838" class="Symbol">:</a> <a id="5840" href="Ledger.Dijkstra.Specification.Transaction.html#5789" class="Bound">A</a> <a id="5842" class="Symbol">→</a> <a id="5844" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="5856" href="Ledger.Dijkstra.Specification.Transaction.html#5775" class="Bound">txLevel</a> <a id="5864" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5866" href="Ledger.Dijkstra.Specification.Script.Base.html#1800" class="Function">Redeemer</a> <a id="5875" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5877" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>
  <a id="5887" class="Keyword">open</a> <a id="5892" href="Ledger.Dijkstra.Specification.Transaction.html#5761" class="Module">HasRedeemers</a> <a id="5905" class="Symbol">⦃...⦄</a> <a id="5911" class="Keyword">public</a>

  <a id="5921" class="Comment">-- (top-level only) --</a>
  <a id="5946" class="Keyword">record</a> <a id="TransactionStructure.HasCollateralInputs"></a><a id="5953" href="Ledger.Dijkstra.Specification.Transaction.html#5953" class="Record">HasCollateralInputs</a> <a id="5973" class="Symbol">{</a><a id="5974" href="Ledger.Dijkstra.Specification.Transaction.html#5974" class="Bound">txLevel</a><a id="5981" class="Symbol">}</a> <a id="5983" class="Symbol">{</a><a id="5984" href="Ledger.Dijkstra.Specification.Transaction.html#5984" class="Bound">a</a><a id="5985" class="Symbol">}</a> <a id="5987" class="Symbol">(</a><a id="5988" href="Ledger.Dijkstra.Specification.Transaction.html#5988" class="Bound">A</a> <a id="5990" class="Symbol">:</a> <a id="5992" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5997" href="Ledger.Dijkstra.Specification.Transaction.html#5984" class="Bound">a</a><a id="5998" class="Symbol">)</a> <a id="6000" class="Symbol">:</a> <a id="6002" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6007" href="Ledger.Dijkstra.Specification.Transaction.html#5984" class="Bound">a</a> <a id="6009" class="Keyword">where</a>
    <a id="6019" class="Keyword">field</a> <a id="6025" href="Ledger.Dijkstra.Specification.Transaction.html#6025" class="Field">CollateralInputsOf</a> <a id="6044" class="Symbol">:</a> <a id="6046" href="Ledger.Dijkstra.Specification.Transaction.html#5988" class="Bound">A</a> <a id="6048" class="Symbol">→</a> <a id="6050" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6061" href="Ledger.Dijkstra.Specification.Transaction.html#5974" class="Bound">txLevel</a> <a id="6069" class="Symbol">(</a><a id="6070" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6072" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a><a id="6076" class="Symbol">)</a>
  <a id="6080" class="Keyword">open</a> <a id="6085" href="Ledger.Dijkstra.Specification.Transaction.html#5953" class="Module">HasCollateralInputs</a> <a id="6105" class="Symbol">⦃...⦄</a> <a id="6111" class="Keyword">public</a>

  <a id="6121" class="Keyword">record</a> <a id="TransactionStructure.HasTxFees"></a><a id="6128" href="Ledger.Dijkstra.Specification.Transaction.html#6128" class="Record">HasTxFees</a> <a id="6138" class="Symbol">{</a><a id="6139" href="Ledger.Dijkstra.Specification.Transaction.html#6139" class="Bound">txLevel</a><a id="6146" class="Symbol">}</a> <a id="6148" class="Symbol">{</a><a id="6149" href="Ledger.Dijkstra.Specification.Transaction.html#6149" class="Bound">a</a><a id="6150" class="Symbol">}</a> <a id="6152" class="Symbol">(</a><a id="6153" href="Ledger.Dijkstra.Specification.Transaction.html#6153" class="Bound">A</a> <a id="6155" class="Symbol">:</a> <a id="6157" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6162" href="Ledger.Dijkstra.Specification.Transaction.html#6149" class="Bound">a</a><a id="6163" class="Symbol">)</a> <a id="6165" class="Symbol">:</a> <a id="6167" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6172" href="Ledger.Dijkstra.Specification.Transaction.html#6149" class="Bound">a</a> <a id="6174" class="Keyword">where</a>
    <a id="6184" class="Keyword">field</a> <a id="6190" href="Ledger.Dijkstra.Specification.Transaction.html#6190" class="Field">TxFeesOf</a> <a id="6199" class="Symbol">:</a> <a id="6201" href="Ledger.Dijkstra.Specification.Transaction.html#6153" class="Bound">A</a> <a id="6203" class="Symbol">→</a> <a id="6205" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6216" href="Ledger.Dijkstra.Specification.Transaction.html#6139" class="Bound">txLevel</a> <a id="6224" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="6231" class="Keyword">open</a> <a id="6236" href="Ledger.Dijkstra.Specification.Transaction.html#6128" class="Module">HasTxFees</a> <a id="6246" class="Symbol">⦃...⦄</a> <a id="6252" class="Keyword">public</a>

  <a id="6262" class="Keyword">record</a> <a id="TransactionStructure.HasSubTransactions"></a><a id="6269" href="Ledger.Dijkstra.Specification.Transaction.html#6269" class="Record">HasSubTransactions</a> <a id="6288" class="Symbol">{</a><a id="6289" href="Ledger.Dijkstra.Specification.Transaction.html#6289" class="Bound">txLevel</a><a id="6296" class="Symbol">}</a> <a id="6298" class="Symbol">{</a><a id="6299" href="Ledger.Dijkstra.Specification.Transaction.html#6299" class="Bound">a</a><a id="6300" class="Symbol">}</a> <a id="6302" class="Symbol">(</a><a id="6303" href="Ledger.Dijkstra.Specification.Transaction.html#6303" class="Bound">A</a> <a id="6305" class="Symbol">:</a> <a id="6307" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6312" href="Ledger.Dijkstra.Specification.Transaction.html#6299" class="Bound">a</a><a id="6313" class="Symbol">)</a> <a id="6315" class="Symbol">:</a> <a id="6317" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6322" href="Ledger.Dijkstra.Specification.Transaction.html#6299" class="Bound">a</a> <a id="6324" class="Keyword">where</a>
    <a id="6334" class="Keyword">field</a> <a id="6340" href="Ledger.Dijkstra.Specification.Transaction.html#6340" class="Field">SubTransactionsOf</a> <a id="6358" class="Symbol">:</a> <a id="6360" href="Ledger.Dijkstra.Specification.Transaction.html#6303" class="Bound">A</a> <a id="6362" class="Symbol">→</a> <a id="6364" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6375" href="Ledger.Dijkstra.Specification.Transaction.html#6289" class="Bound">txLevel</a> <a id="6383" class="Symbol">(</a><a id="6384" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6389" class="Symbol">(</a><a id="6390" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="6393" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="6403" class="Symbol">))</a>
  <a id="6408" class="Keyword">open</a> <a id="6413" href="Ledger.Dijkstra.Specification.Transaction.html#6269" class="Module">HasSubTransactions</a> <a id="6432" class="Symbol">⦃...⦄</a> <a id="6438" class="Keyword">public</a>

  <a id="6448" class="Comment">-- (sub-level only) --</a>
  <a id="6473" class="Keyword">record</a> <a id="TransactionStructure.HasTopLevelGuards"></a><a id="6480" href="Ledger.Dijkstra.Specification.Transaction.html#6480" class="Record">HasTopLevelGuards</a> <a id="6498" class="Symbol">{</a><a id="6499" href="Ledger.Dijkstra.Specification.Transaction.html#6499" class="Bound">txLevel</a><a id="6506" class="Symbol">}</a> <a id="6508" class="Symbol">{</a><a id="6509" href="Ledger.Dijkstra.Specification.Transaction.html#6509" class="Bound">a</a><a id="6510" class="Symbol">}</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Ledger.Dijkstra.Specification.Transaction.html#6513" class="Bound">A</a> <a id="6515" class="Symbol">:</a> <a id="6517" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6522" href="Ledger.Dijkstra.Specification.Transaction.html#6509" class="Bound">a</a><a id="6523" class="Symbol">)</a> <a id="6525" class="Symbol">:</a> <a id="6527" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6532" href="Ledger.Dijkstra.Specification.Transaction.html#6509" class="Bound">a</a> <a id="6534" class="Keyword">where</a>
    <a id="6544" class="Keyword">field</a> <a id="6550" href="Ledger.Dijkstra.Specification.Transaction.html#6550" class="Field">TopLevelGuardsOf</a> <a id="6567" class="Symbol">:</a> <a id="6569" href="Ledger.Dijkstra.Specification.Transaction.html#6513" class="Bound">A</a> <a id="6571" class="Symbol">→</a> <a id="6573" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="6584" href="Ledger.Dijkstra.Specification.Transaction.html#6499" class="Bound">txLevel</a> <a id="6592" class="Symbol">(</a><a id="6593" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6595" class="Symbol">(</a><a id="6596" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="6607" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6609" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6615" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a><a id="6620" class="Symbol">))</a>
  <a id="6625" class="Keyword">open</a> <a id="6630" href="Ledger.Dijkstra.Specification.Transaction.html#6480" class="Module">HasTopLevelGuards</a> <a id="6648" class="Symbol">⦃...⦄</a> <a id="6654" class="Keyword">public</a>


  <a id="6665" class="Comment">-- Level-Independent Type Classes --</a>
  <a id="6704" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="6711" href="Ledger.Dijkstra.Specification.Transaction.html#6711" class="Record">HasTxId</a> <a id="6719" class="Symbol">{</a><a id="6720" href="Ledger.Dijkstra.Specification.Transaction.html#6720" class="Bound">a</a><a id="6721" class="Symbol">}</a> <a id="6723" class="Symbol">(</a><a id="6724" href="Ledger.Dijkstra.Specification.Transaction.html#6724" class="Bound">A</a> <a id="6726" class="Symbol">:</a> <a id="6728" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6733" href="Ledger.Dijkstra.Specification.Transaction.html#6720" class="Bound">a</a><a id="6734" class="Symbol">)</a> <a id="6736" class="Symbol">:</a> <a id="6738" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6743" href="Ledger.Dijkstra.Specification.Transaction.html#6720" class="Bound">a</a> <a id="6745" class="Keyword">where</a>
    <a id="6755" class="Keyword">field</a> <a id="6761" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Field">TxIdOf</a> <a id="6768" class="Symbol">:</a> <a id="6770" href="Ledger.Dijkstra.Specification.Transaction.html#6724" class="Bound">A</a> <a id="6772" class="Symbol">→</a> <a id="6774" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
  <a id="6781" class="Keyword">open</a> <a id="6786" href="Ledger.Dijkstra.Specification.Transaction.html#6711" class="Module">HasTxId</a> <a id="6794" class="Symbol">⦃...⦄</a> <a id="6800" class="Keyword">public</a>

  <a id="6810" class="Keyword">record</a> <a id="TransactionStructure.HasSize"></a><a id="6817" href="Ledger.Dijkstra.Specification.Transaction.html#6817" class="Record">HasSize</a> <a id="6825" class="Symbol">{</a><a id="6826" href="Ledger.Dijkstra.Specification.Transaction.html#6826" class="Bound">a</a><a id="6827" class="Symbol">}</a> <a id="6829" class="Symbol">(</a><a id="6830" href="Ledger.Dijkstra.Specification.Transaction.html#6830" class="Bound">A</a> <a id="6832" class="Symbol">:</a> <a id="6834" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6839" href="Ledger.Dijkstra.Specification.Transaction.html#6826" class="Bound">a</a><a id="6840" class="Symbol">)</a> <a id="6842" class="Symbol">:</a> <a id="6844" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6849" href="Ledger.Dijkstra.Specification.Transaction.html#6826" class="Bound">a</a> <a id="6851" class="Keyword">where</a>
    <a id="6861" class="Keyword">field</a> <a id="6867" href="Ledger.Dijkstra.Specification.Transaction.html#6867" class="Field">SizeOf</a> <a id="6874" class="Symbol">:</a> <a id="6876" href="Ledger.Dijkstra.Specification.Transaction.html#6830" class="Bound">A</a> <a id="6878" class="Symbol">→</a> <a id="6880" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6884" class="Keyword">open</a> <a id="6889" href="Ledger.Dijkstra.Specification.Transaction.html#6817" class="Module">HasSize</a> <a id="6897" class="Symbol">⦃...⦄</a> <a id="6903" class="Keyword">public</a>

  <a id="6913" class="Keyword">record</a> <a id="TransactionStructure.HasValidInterval"></a><a id="6920" href="Ledger.Dijkstra.Specification.Transaction.html#6920" class="Record">HasValidInterval</a> <a id="6937" class="Symbol">{</a><a id="6938" href="Ledger.Dijkstra.Specification.Transaction.html#6938" class="Bound">a</a><a id="6939" class="Symbol">}</a> <a id="6941" class="Symbol">(</a><a id="6942" href="Ledger.Dijkstra.Specification.Transaction.html#6942" class="Bound">A</a> <a id="6944" class="Symbol">:</a> <a id="6946" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6951" href="Ledger.Dijkstra.Specification.Transaction.html#6938" class="Bound">a</a><a id="6952" class="Symbol">)</a> <a id="6954" class="Symbol">:</a> <a id="6956" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6961" href="Ledger.Dijkstra.Specification.Transaction.html#6938" class="Bound">a</a> <a id="6963" class="Keyword">where</a>
    <a id="6973" class="Keyword">field</a> <a id="6979" href="Ledger.Dijkstra.Specification.Transaction.html#6979" class="Field">ValidIntervalOf</a> <a id="6995" class="Symbol">:</a> <a id="6997" href="Ledger.Dijkstra.Specification.Transaction.html#6942" class="Bound">A</a> <a id="6999" class="Symbol">→</a> <a id="7001" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7007" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="7012" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7014" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7020" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="7027" class="Keyword">open</a> <a id="7032" href="Ledger.Dijkstra.Specification.Transaction.html#6920" class="Module">HasValidInterval</a> <a id="7049" class="Symbol">⦃...⦄</a> <a id="7055" class="Keyword">public</a>

  <a id="7065" class="Keyword">record</a> <a id="TransactionStructure.HasSpendInputs"></a><a id="7072" href="Ledger.Dijkstra.Specification.Transaction.html#7072" class="Record">HasSpendInputs</a> <a id="7087" class="Symbol">{</a><a id="7088" href="Ledger.Dijkstra.Specification.Transaction.html#7088" class="Bound">a</a><a id="7089" class="Symbol">}</a> <a id="7091" class="Symbol">(</a><a id="7092" href="Ledger.Dijkstra.Specification.Transaction.html#7092" class="Bound">A</a> <a id="7094" class="Symbol">:</a> <a id="7096" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7101" href="Ledger.Dijkstra.Specification.Transaction.html#7088" class="Bound">a</a><a id="7102" class="Symbol">)</a> <a id="7104" class="Symbol">:</a> <a id="7106" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7111" href="Ledger.Dijkstra.Specification.Transaction.html#7088" class="Bound">a</a> <a id="7113" class="Keyword">where</a>
    <a id="7123" class="Keyword">field</a> <a id="7129" href="Ledger.Dijkstra.Specification.Transaction.html#7129" class="Field">SpendInputsOf</a> <a id="7143" class="Symbol">:</a> <a id="7145" href="Ledger.Dijkstra.Specification.Transaction.html#7092" class="Bound">A</a> <a id="7147" class="Symbol">→</a> <a id="7149" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7151" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="7158" class="Keyword">open</a> <a id="7163" href="Ledger.Dijkstra.Specification.Transaction.html#7072" class="Module">HasSpendInputs</a> <a id="7178" class="Symbol">⦃...⦄</a> <a id="7184" class="Keyword">public</a>

  <a id="7194" class="Keyword">record</a> <a id="TransactionStructure.HasReferenceInputs"></a><a id="7201" href="Ledger.Dijkstra.Specification.Transaction.html#7201" class="Record">HasReferenceInputs</a> <a id="7220" class="Symbol">{</a><a id="7221" href="Ledger.Dijkstra.Specification.Transaction.html#7221" class="Bound">a</a><a id="7222" class="Symbol">}</a> <a id="7224" class="Symbol">(</a><a id="7225" href="Ledger.Dijkstra.Specification.Transaction.html#7225" class="Bound">A</a> <a id="7227" class="Symbol">:</a> <a id="7229" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7234" href="Ledger.Dijkstra.Specification.Transaction.html#7221" class="Bound">a</a><a id="7235" class="Symbol">)</a> <a id="7237" class="Symbol">:</a> <a id="7239" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7244" href="Ledger.Dijkstra.Specification.Transaction.html#7221" class="Bound">a</a> <a id="7246" class="Keyword">where</a>
    <a id="7256" class="Keyword">field</a> <a id="7262" href="Ledger.Dijkstra.Specification.Transaction.html#7262" class="Field">ReferenceInputsOf</a> <a id="7280" class="Symbol">:</a> <a id="7282" href="Ledger.Dijkstra.Specification.Transaction.html#7225" class="Bound">A</a> <a id="7284" class="Symbol">→</a> <a id="7286" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7288" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="7295" class="Keyword">open</a> <a id="7300" href="Ledger.Dijkstra.Specification.Transaction.html#7201" class="Module">HasReferenceInputs</a> <a id="7319" class="Symbol">⦃...⦄</a> <a id="7325" class="Keyword">public</a>

  <a id="7335" class="Keyword">record</a> <a id="TransactionStructure.HasMintedValue"></a><a id="7342" href="Ledger.Dijkstra.Specification.Transaction.html#7342" class="Record">HasMintedValue</a> <a id="7357" class="Symbol">{</a><a id="7358" href="Ledger.Dijkstra.Specification.Transaction.html#7358" class="Bound">a</a><a id="7359" class="Symbol">}</a> <a id="7361" class="Symbol">(</a><a id="7362" href="Ledger.Dijkstra.Specification.Transaction.html#7362" class="Bound">A</a> <a id="7364" class="Symbol">:</a> <a id="7366" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7371" href="Ledger.Dijkstra.Specification.Transaction.html#7358" class="Bound">a</a><a id="7372" class="Symbol">)</a> <a id="7374" class="Symbol">:</a> <a id="7376" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7381" href="Ledger.Dijkstra.Specification.Transaction.html#7358" class="Bound">a</a> <a id="7383" class="Keyword">where</a>
    <a id="7393" class="Keyword">field</a> <a id="7399" href="Ledger.Dijkstra.Specification.Transaction.html#7399" class="Field">MintedValueOf</a> <a id="7413" class="Symbol">:</a> <a id="7415" href="Ledger.Dijkstra.Specification.Transaction.html#7362" class="Bound">A</a> <a id="7417" class="Symbol">→</a> <a id="7419" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="7427" class="Keyword">open</a> <a id="7432" href="Ledger.Dijkstra.Specification.Transaction.html#7342" class="Module">HasMintedValue</a> <a id="7447" class="Symbol">⦃...⦄</a> <a id="7453" class="Keyword">public</a>

  <a id="7463" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="7470" href="Ledger.Dijkstra.Specification.Transaction.html#7470" class="Record">HasFees?</a> <a id="7479" class="Symbol">{</a><a id="7480" href="Ledger.Dijkstra.Specification.Transaction.html#7480" class="Bound">a</a><a id="7481" class="Symbol">}</a> <a id="7483" class="Symbol">(</a><a id="7484" href="Ledger.Dijkstra.Specification.Transaction.html#7484" class="Bound">A</a> <a id="7486" class="Symbol">:</a> <a id="7488" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7493" href="Ledger.Dijkstra.Specification.Transaction.html#7480" class="Bound">a</a><a id="7494" class="Symbol">)</a> <a id="7496" class="Symbol">:</a> <a id="7498" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7503" href="Ledger.Dijkstra.Specification.Transaction.html#7480" class="Bound">a</a> <a id="7505" class="Keyword">where</a>
    <a id="7515" class="Keyword">field</a> <a id="7521" href="Ledger.Dijkstra.Specification.Transaction.html#7521" class="Field">FeesOf?</a> <a id="7529" class="Symbol">:</a> <a id="7531" href="Ledger.Dijkstra.Specification.Transaction.html#7484" class="Bound">A</a> <a id="7533" class="Symbol">→</a> <a id="7535" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7541" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="7548" class="Keyword">open</a> <a id="7553" href="Ledger.Dijkstra.Specification.Transaction.html#7470" class="Module">HasFees?</a> <a id="7562" class="Symbol">⦃...⦄</a> <a id="7568" class="Keyword">public</a>

  <a id="7578" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="7585" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Record">HasDCerts</a> <a id="7595" class="Symbol">{</a><a id="7596" href="Ledger.Dijkstra.Specification.Transaction.html#7596" class="Bound">a</a><a id="7597" class="Symbol">}</a> <a id="7599" class="Symbol">(</a><a id="7600" href="Ledger.Dijkstra.Specification.Transaction.html#7600" class="Bound">A</a> <a id="7602" class="Symbol">:</a> <a id="7604" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7609" href="Ledger.Dijkstra.Specification.Transaction.html#7596" class="Bound">a</a><a id="7610" class="Symbol">)</a> <a id="7612" class="Symbol">:</a> <a id="7614" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7619" href="Ledger.Dijkstra.Specification.Transaction.html#7596" class="Bound">a</a> <a id="7621" class="Keyword">where</a>
    <a id="7631" class="Keyword">field</a> <a id="7637" href="Ledger.Dijkstra.Specification.Transaction.html#7637" class="Field">DCertsOf</a> <a id="7646" class="Symbol">:</a> <a id="7648" href="Ledger.Dijkstra.Specification.Transaction.html#7600" class="Bound">A</a> <a id="7650" class="Symbol">→</a> <a id="7652" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7657" href="Ledger.Dijkstra.Specification.Certs.html#1305" class="Datatype">DCert</a>
  <a id="7665" class="Keyword">open</a> <a id="7670" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Module">HasDCerts</a> <a id="7680" class="Symbol">⦃...⦄</a> <a id="7686" class="Keyword">public</a>

  <a id="7696" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="7703" href="Ledger.Dijkstra.Specification.Transaction.html#7703" class="Record">HasData</a> <a id="7711" class="Symbol">{</a><a id="7712" href="Ledger.Dijkstra.Specification.Transaction.html#7712" class="Bound">a</a><a id="7713" class="Symbol">}</a> <a id="7715" class="Symbol">(</a><a id="7716" href="Ledger.Dijkstra.Specification.Transaction.html#7716" class="Bound">A</a> <a id="7718" class="Symbol">:</a> <a id="7720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7725" href="Ledger.Dijkstra.Specification.Transaction.html#7712" class="Bound">a</a><a id="7726" class="Symbol">)</a> <a id="7728" class="Symbol">:</a> <a id="7730" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7735" href="Ledger.Dijkstra.Specification.Transaction.html#7712" class="Bound">a</a> <a id="7737" class="Keyword">where</a>
    <a id="7747" class="Keyword">field</a> <a id="7753" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Field">DataOf</a> <a id="7760" class="Symbol">:</a> <a id="7762" href="Ledger.Dijkstra.Specification.Transaction.html#7716" class="Bound">A</a> <a id="7764" class="Symbol">→</a> <a id="7766" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7768" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="7776" class="Keyword">open</a> <a id="7781" href="Ledger.Dijkstra.Specification.Transaction.html#7703" class="Module">HasData</a> <a id="7789" class="Symbol">⦃...⦄</a> <a id="7795" class="Keyword">public</a>

  <a id="7805" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovProposals"></a><a id="7812" href="Ledger.Dijkstra.Specification.Transaction.html#7812" class="Record">HasListOfGovProposals</a> <a id="7834" class="Symbol">{</a><a id="7835" href="Ledger.Dijkstra.Specification.Transaction.html#7835" class="Bound">a</a><a id="7836" class="Symbol">}</a> <a id="7838" class="Symbol">(</a><a id="7839" href="Ledger.Dijkstra.Specification.Transaction.html#7839" class="Bound">A</a> <a id="7841" class="Symbol">:</a> <a id="7843" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7848" href="Ledger.Dijkstra.Specification.Transaction.html#7835" class="Bound">a</a><a id="7849" class="Symbol">)</a> <a id="7851" class="Symbol">:</a> <a id="7853" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7858" href="Ledger.Dijkstra.Specification.Transaction.html#7835" class="Bound">a</a> <a id="7860" class="Keyword">where</a>
    <a id="7870" class="Keyword">field</a> <a id="7876" href="Ledger.Dijkstra.Specification.Transaction.html#7876" class="Field">ListOfGovProposalsOf</a> <a id="7897" class="Symbol">:</a> <a id="7899" href="Ledger.Dijkstra.Specification.Transaction.html#7839" class="Bound">A</a> <a id="7901" class="Symbol">→</a> <a id="7903" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7908" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
  <a id="7922" class="Keyword">open</a> <a id="7927" href="Ledger.Dijkstra.Specification.Transaction.html#7812" class="Module">HasListOfGovProposals</a> <a id="7949" class="Symbol">⦃...⦄</a> <a id="7955" class="Keyword">public</a>

  <a id="7965" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovVotes"></a><a id="7972" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Record">HasListOfGovVotes</a> <a id="7990" class="Symbol">{</a><a id="7991" href="Ledger.Dijkstra.Specification.Transaction.html#7991" class="Bound">a</a><a id="7992" class="Symbol">}</a> <a id="7994" class="Symbol">(</a><a id="7995" href="Ledger.Dijkstra.Specification.Transaction.html#7995" class="Bound">A</a> <a id="7997" class="Symbol">:</a> <a id="7999" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8004" href="Ledger.Dijkstra.Specification.Transaction.html#7991" class="Bound">a</a><a id="8005" class="Symbol">)</a> <a id="8007" class="Symbol">:</a> <a id="8009" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8014" href="Ledger.Dijkstra.Specification.Transaction.html#7991" class="Bound">a</a> <a id="8016" class="Keyword">where</a>
    <a id="8026" class="Keyword">field</a> <a id="8032" href="Ledger.Dijkstra.Specification.Transaction.html#8032" class="Field">ListOfGovVotesOf</a> <a id="8049" class="Symbol">:</a> <a id="8051" href="Ledger.Dijkstra.Specification.Transaction.html#7995" class="Bound">A</a> <a id="8053" class="Symbol">→</a> <a id="8055" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8060" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
  <a id="8070" class="Keyword">open</a> <a id="8075" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Module">HasListOfGovVotes</a> <a id="8093" class="Symbol">⦃...⦄</a> <a id="8099" class="Keyword">public</a>

  <a id="8109" class="Keyword">record</a> <a id="TransactionStructure.HasGuards"></a><a id="8116" href="Ledger.Dijkstra.Specification.Transaction.html#8116" class="Record">HasGuards</a> <a id="8126" class="Symbol">{</a><a id="8127" href="Ledger.Dijkstra.Specification.Transaction.html#8127" class="Bound">a</a><a id="8128" class="Symbol">}</a> <a id="8130" class="Symbol">(</a><a id="8131" href="Ledger.Dijkstra.Specification.Transaction.html#8131" class="Bound">A</a> <a id="8133" class="Symbol">:</a> <a id="8135" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8140" href="Ledger.Dijkstra.Specification.Transaction.html#8127" class="Bound">a</a><a id="8141" class="Symbol">)</a> <a id="8143" class="Symbol">:</a> <a id="8145" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8150" href="Ledger.Dijkstra.Specification.Transaction.html#8127" class="Bound">a</a> <a id="8152" class="Keyword">where</a>
    <a id="8162" class="Keyword">field</a> <a id="8168" href="Ledger.Dijkstra.Specification.Transaction.html#8168" class="Field">GuardsOf</a> <a id="8177" class="Symbol">:</a> <a id="8179" href="Ledger.Dijkstra.Specification.Transaction.html#8131" class="Bound">A</a> <a id="8181" class="Symbol">→</a> <a id="8183" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8185" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="8198" class="Keyword">open</a> <a id="8203" href="Ledger.Dijkstra.Specification.Transaction.html#8116" class="Module">HasGuards</a> <a id="8213" class="Symbol">⦃...⦄</a> <a id="8219" class="Keyword">public</a>

  <a id="8229" class="Keyword">record</a> <a id="TransactionStructure.HasScripts"></a><a id="8236" href="Ledger.Dijkstra.Specification.Transaction.html#8236" class="Record">HasScripts</a> <a id="8247" class="Symbol">{</a><a id="8248" href="Ledger.Dijkstra.Specification.Transaction.html#8248" class="Bound">a</a><a id="8249" class="Symbol">}</a> <a id="8251" class="Symbol">(</a><a id="8252" href="Ledger.Dijkstra.Specification.Transaction.html#8252" class="Bound">A</a> <a id="8254" class="Symbol">:</a> <a id="8256" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8261" href="Ledger.Dijkstra.Specification.Transaction.html#8248" class="Bound">a</a><a id="8262" class="Symbol">)</a> <a id="8264" class="Symbol">:</a> <a id="8266" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8271" href="Ledger.Dijkstra.Specification.Transaction.html#8248" class="Bound">a</a> <a id="8273" class="Keyword">where</a>
    <a id="8283" class="Keyword">field</a> <a id="8289" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Field">ScriptsOf</a> <a id="8299" class="Symbol">:</a> <a id="8301" href="Ledger.Dijkstra.Specification.Transaction.html#8252" class="Bound">A</a> <a id="8303" class="Symbol">→</a> <a id="8305" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8307" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="8316" class="Keyword">open</a> <a id="8321" href="Ledger.Dijkstra.Specification.Transaction.html#8236" class="Module">HasScripts</a> <a id="8332" class="Symbol">⦃...⦄</a> <a id="8338" class="Keyword">public</a>

  <a id="8348" class="Keyword">record</a> <a id="TransactionStructure.HasTxOuts"></a><a id="8355" href="Ledger.Dijkstra.Specification.Transaction.html#8355" class="Record">HasTxOuts</a> <a id="8365" class="Symbol">{</a><a id="8366" href="Ledger.Dijkstra.Specification.Transaction.html#8366" class="Bound">a</a><a id="8367" class="Symbol">}</a> <a id="8369" class="Symbol">(</a><a id="8370" href="Ledger.Dijkstra.Specification.Transaction.html#8370" class="Bound">A</a> <a id="8372" class="Symbol">:</a> <a id="8374" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8379" href="Ledger.Dijkstra.Specification.Transaction.html#8366" class="Bound">a</a><a id="8380" class="Symbol">)</a> <a id="8382" class="Symbol">:</a> <a id="8384" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8389" href="Ledger.Dijkstra.Specification.Transaction.html#8366" class="Bound">a</a> <a id="8391" class="Keyword">where</a>
    <a id="8401" class="Keyword">field</a> <a id="8407" href="Ledger.Dijkstra.Specification.Transaction.html#8407" class="Field">TxOutsOf</a> <a id="8416" class="Symbol">:</a> <a id="8418" href="Ledger.Dijkstra.Specification.Transaction.html#8370" class="Bound">A</a> <a id="8420" class="Symbol">→</a> <a id="8422" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="8425" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8427" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
  <a id="8435" class="Keyword">open</a> <a id="8440" href="Ledger.Dijkstra.Specification.Transaction.html#8355" class="Module">HasTxOuts</a> <a id="8450" class="Symbol">⦃...⦄</a> <a id="8456" class="Keyword">public</a>

  <a id="8466" class="Keyword">record</a> <a id="TransactionStructure.HasRequiredSingerHashes"></a><a id="8473" href="Ledger.Dijkstra.Specification.Transaction.html#8473" class="Record">HasRequiredSingerHashes</a> <a id="8497" class="Symbol">{</a><a id="8498" href="Ledger.Dijkstra.Specification.Transaction.html#8498" class="Bound">a</a><a id="8499" class="Symbol">}</a> <a id="8501" class="Symbol">(</a><a id="8502" href="Ledger.Dijkstra.Specification.Transaction.html#8502" class="Bound">A</a> <a id="8504" class="Symbol">:</a> <a id="8506" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8511" href="Ledger.Dijkstra.Specification.Transaction.html#8498" class="Bound">a</a><a id="8512" class="Symbol">)</a> <a id="8514" class="Symbol">:</a> <a id="8516" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8521" href="Ledger.Dijkstra.Specification.Transaction.html#8498" class="Bound">a</a> <a id="8523" class="Keyword">where</a>
    <a id="8533" class="Keyword">field</a> <a id="8539" href="Ledger.Dijkstra.Specification.Transaction.html#8539" class="Field">RequiredSignerHashesOf</a> <a id="8562" class="Symbol">:</a> <a id="8564" href="Ledger.Dijkstra.Specification.Transaction.html#8502" class="Bound">A</a> <a id="8566" class="Symbol">→</a> <a id="8568" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8570" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="8580" class="Keyword">open</a> <a id="8585" href="Ledger.Dijkstra.Specification.Transaction.html#8473" class="Module">HasRequiredSingerHashes</a> <a id="8609" class="Symbol">⦃...⦄</a> <a id="8615" class="Keyword">public</a>

  <a id="8625" class="Keyword">record</a> <a id="TransactionStructure.HasCurrentTreasury"></a><a id="8632" href="Ledger.Dijkstra.Specification.Transaction.html#8632" class="Record">HasCurrentTreasury</a> <a id="8651" class="Symbol">{</a><a id="8652" href="Ledger.Dijkstra.Specification.Transaction.html#8652" class="Bound">a</a><a id="8653" class="Symbol">}</a> <a id="8655" class="Symbol">(</a><a id="8656" href="Ledger.Dijkstra.Specification.Transaction.html#8656" class="Bound">A</a> <a id="8658" class="Symbol">:</a> <a id="8660" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8665" href="Ledger.Dijkstra.Specification.Transaction.html#8652" class="Bound">a</a><a id="8666" class="Symbol">)</a> <a id="8668" class="Symbol">:</a> <a id="8670" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8675" href="Ledger.Dijkstra.Specification.Transaction.html#8652" class="Bound">a</a> <a id="8677" class="Keyword">where</a>
    <a id="8687" class="Keyword">field</a> <a id="8693" href="Ledger.Dijkstra.Specification.Transaction.html#8693" class="Field">CurrentTreasuryOf</a> <a id="8711" class="Symbol">:</a> <a id="8713" href="Ledger.Dijkstra.Specification.Transaction.html#8656" class="Bound">A</a> <a id="8715" class="Symbol">→</a> <a id="8717" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8723" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="8730" class="Keyword">open</a> <a id="8735" href="Ledger.Dijkstra.Specification.Transaction.html#8632" class="Module">HasCurrentTreasury</a> <a id="8754" class="Symbol">⦃...⦄</a> <a id="8760" class="Keyword">public</a>

  <a id="8770" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="8783" href="Ledger.Dijkstra.Specification.Transaction.html#8783" class="Function">HasTxBody-Tx</a> <a id="8796" class="Symbol">:</a> <a id="8798" href="Ledger.Dijkstra.Specification.Transaction.html#5476" class="Record">HasTxBody</a> <a id="8808" class="Symbol">(</a><a id="8809" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8812" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8819" class="Symbol">)</a>
    <a id="8825" href="Ledger.Dijkstra.Specification.Transaction.html#8783" class="Function">HasTxBody-Tx</a> <a id="8838" class="Symbol">.</a><a id="8839" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a> <a id="8848" class="Symbol">=</a> <a id="8850" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasSize-Tx"></a><a id="8865" href="Ledger.Dijkstra.Specification.Transaction.html#8865" class="Function">HasSize-Tx</a> <a id="8876" class="Symbol">:</a> <a id="8878" href="Ledger.Dijkstra.Specification.Transaction.html#6817" class="Record">HasSize</a> <a id="8886" class="Symbol">(</a><a id="8887" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8890" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8897" class="Symbol">)</a>
    <a id="8903" href="Ledger.Dijkstra.Specification.Transaction.html#8865" class="Function">HasSize-Tx</a> <a id="8914" class="Symbol">.</a><a id="8915" href="Ledger.Dijkstra.Specification.Transaction.html#6867" class="Field">SizeOf</a> <a id="8922" class="Symbol">=</a> <a id="8924" href="Ledger.Dijkstra.Specification.Transaction.html#3625" class="Field">Tx.txSize</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="8939" href="Ledger.Dijkstra.Specification.Transaction.html#8939" class="Function">HasTxWitnesses-Tx</a> <a id="8957" class="Symbol">:</a> <a id="8959" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Record">HasTxWitnesses</a> <a id="8974" class="Symbol">(</a><a id="8975" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8978" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8985" class="Symbol">)</a>
    <a id="8991" href="Ledger.Dijkstra.Specification.Transaction.html#8939" class="Function">HasTxWitnesses-Tx</a> <a id="9009" class="Symbol">.</a><a id="9010" href="Ledger.Dijkstra.Specification.Transaction.html#5676" class="Field">TxWitnessesOf</a> <a id="9024" class="Symbol">=</a> <a id="9026" href="Ledger.Dijkstra.Specification.Transaction.html#3582" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasRedeemers-TxWitnesses"></a><a id="9046" href="Ledger.Dijkstra.Specification.Transaction.html#9046" class="Function">HasRedeemers-TxWitnesses</a> <a id="9071" class="Symbol">:</a> <a id="9073" href="Ledger.Dijkstra.Specification.Transaction.html#5761" class="Record">HasRedeemers</a> <a id="9086" class="Symbol">(</a><a id="9087" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="9099" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9106" class="Symbol">)</a>
    <a id="9112" href="Ledger.Dijkstra.Specification.Transaction.html#9046" class="Function">HasRedeemers-TxWitnesses</a> <a id="9137" class="Symbol">.</a><a id="9138" href="Ledger.Dijkstra.Specification.Transaction.html#5826" class="Field">RedeemersOf</a> <a id="9150" class="Symbol">=</a> <a id="9152" href="Ledger.Dijkstra.Specification.Transaction.html#5136" class="Field">TxWitnesses.txRedeemers</a>
    <a id="TransactionStructure.HasRedeemers-Tx"></a><a id="9180" href="Ledger.Dijkstra.Specification.Transaction.html#9180" class="Function">HasRedeemers-Tx</a> <a id="9196" class="Symbol">:</a> <a id="9198" href="Ledger.Dijkstra.Specification.Transaction.html#5761" class="Record">HasRedeemers</a> <a id="9211" class="Symbol">(</a><a id="9212" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="9215" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9222" class="Symbol">)</a>
    <a id="9228" href="Ledger.Dijkstra.Specification.Transaction.html#9180" class="Function">HasRedeemers-Tx</a> <a id="9244" class="Symbol">.</a><a id="9245" href="Ledger.Dijkstra.Specification.Transaction.html#5826" class="Field">RedeemersOf</a> <a id="9257" class="Symbol">=</a> <a id="9259" href="Ledger.Dijkstra.Specification.Transaction.html#5826" class="Field">RedeemersOf</a> <a id="9271" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9273" href="Ledger.Dijkstra.Specification.Transaction.html#5676" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasCollateralInputs-TopLevelTx"></a><a id="9292" href="Ledger.Dijkstra.Specification.Transaction.html#9292" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9323" class="Symbol">:</a> <a id="9325" href="Ledger.Dijkstra.Specification.Transaction.html#5953" class="Record">HasCollateralInputs</a> <a id="9345" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a>
    <a id="9360" href="Ledger.Dijkstra.Specification.Transaction.html#9292" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9391" class="Symbol">.</a><a id="9392" href="Ledger.Dijkstra.Specification.Transaction.html#6025" class="Field">CollateralInputsOf</a> <a id="9411" class="Symbol">=</a> <a id="9413" href="Ledger.Dijkstra.Specification.Transaction.html#3896" class="Field">TxBody.collateralInputs</a> <a id="9437" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9439" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxFees-TopLevelTx"></a><a id="9453" href="Ledger.Dijkstra.Specification.Transaction.html#9453" class="Function">HasTxFees-TopLevelTx</a> <a id="9474" class="Symbol">:</a> <a id="9476" href="Ledger.Dijkstra.Specification.Transaction.html#6128" class="Record">HasTxFees</a> <a id="9486" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a>
    <a id="9501" href="Ledger.Dijkstra.Specification.Transaction.html#9453" class="Function">HasTxFees-TopLevelTx</a> <a id="9522" class="Symbol">.</a><a id="9523" href="Ledger.Dijkstra.Specification.Transaction.html#6190" class="Field">TxFeesOf</a> <a id="9532" class="Symbol">=</a> <a id="9534" href="Ledger.Dijkstra.Specification.Transaction.html#4075" class="Field">TxBody.txFee</a> <a id="9547" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9549" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSubTransactions-TopLevelTx"></a><a id="9563" href="Ledger.Dijkstra.Specification.Transaction.html#9563" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9593" class="Symbol">:</a> <a id="9595" href="Ledger.Dijkstra.Specification.Transaction.html#6269" class="Record">HasSubTransactions</a> <a id="9614" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a>
    <a id="9629" href="Ledger.Dijkstra.Specification.Transaction.html#9563" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9659" class="Symbol">.</a><a id="9660" href="Ledger.Dijkstra.Specification.Transaction.html#6340" class="Field">SubTransactionsOf</a> <a id="9678" class="Symbol">=</a> <a id="9680" href="Ledger.Dijkstra.Specification.Transaction.html#4608" class="Field">TxBody.txSubTransactions</a> <a id="9705" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9707" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTopLevelGuards-SubLevelTx"></a><a id="9721" href="Ledger.Dijkstra.Specification.Transaction.html#9721" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="9750" class="Symbol">:</a> <a id="9752" href="Ledger.Dijkstra.Specification.Transaction.html#6480" class="Record">HasTopLevelGuards</a> <a id="9770" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a>
    <a id="9785" href="Ledger.Dijkstra.Specification.Transaction.html#9721" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="9814" class="Symbol">.</a><a id="9815" href="Ledger.Dijkstra.Specification.Transaction.html#6550" class="Field">TopLevelGuardsOf</a> <a id="9832" class="Symbol">=</a> <a id="9834" href="Ledger.Dijkstra.Specification.Transaction.html#4735" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="9866" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9868" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="9882" href="Ledger.Dijkstra.Specification.Transaction.html#9882" class="Function">HasDCerts-TxBody</a> <a id="9899" class="Symbol">:</a> <a id="9901" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Record">HasDCerts</a> <a id="9911" class="Symbol">(</a><a id="9912" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="9919" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9926" class="Symbol">)</a>
    <a id="9932" href="Ledger.Dijkstra.Specification.Transaction.html#9882" class="Function">HasDCerts-TxBody</a> <a id="9949" class="Symbol">.</a><a id="9950" href="Ledger.Dijkstra.Specification.Transaction.html#7637" class="Field">DCertsOf</a> <a id="9959" class="Symbol">=</a> <a id="9961" href="Ledger.Dijkstra.Specification.Transaction.html#4033" class="Field">TxBody.txCerts</a>
    <a id="TransactionStructure.HasDCerts-Tx"></a><a id="9980" href="Ledger.Dijkstra.Specification.Transaction.html#9980" class="Function">HasDCerts-Tx</a> <a id="9993" class="Symbol">:</a> <a id="9995" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Record">HasDCerts</a> <a id="10005" class="Symbol">(</a><a id="10006" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10009" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10016" class="Symbol">)</a>
    <a id="10022" href="Ledger.Dijkstra.Specification.Transaction.html#9980" class="Function">HasDCerts-Tx</a> <a id="10035" class="Symbol">.</a><a id="10036" href="Ledger.Dijkstra.Specification.Transaction.html#7637" class="Field">DCertsOf</a> <a id="10045" class="Symbol">=</a> <a id="10047" href="Ledger.Dijkstra.Specification.Transaction.html#7637" class="Field">DCertsOf</a> <a id="10056" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10058" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="10072" href="Ledger.Dijkstra.Specification.Transaction.html#10072" class="Function">HasWithdrawals-TxBody</a> <a id="10094" class="Symbol">:</a> <a id="10096" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="10111" class="Symbol">(</a><a id="10112" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="10119" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10126" class="Symbol">)</a>
    <a id="10132" href="Ledger.Dijkstra.Specification.Transaction.html#10072" class="Function">HasWithdrawals-TxBody</a> <a id="10154" class="Symbol">.</a><a id="10155" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10169" class="Symbol">=</a> <a id="10171" href="Ledger.Dijkstra.Specification.Transaction.html#4130" class="Field">TxBody.txWithdrawals</a>
    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="10196" href="Ledger.Dijkstra.Specification.Transaction.html#10196" class="Function">HasWithdrawals-Tx</a> <a id="10214" class="Symbol">:</a> <a id="10216" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="10231" class="Symbol">(</a><a id="10232" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10235" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10242" class="Symbol">)</a>
    <a id="10248" href="Ledger.Dijkstra.Specification.Transaction.html#10196" class="Function">HasWithdrawals-Tx</a> <a id="10266" class="Symbol">.</a><a id="10267" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10281" class="Symbol">=</a> <a id="10283" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10297" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10299" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValidInterval-TxBody"></a><a id="10313" href="Ledger.Dijkstra.Specification.Transaction.html#10313" class="Function">HasValidInterval-TxBody</a> <a id="10337" class="Symbol">:</a> <a id="10339" href="Ledger.Dijkstra.Specification.Transaction.html#6920" class="Record">HasValidInterval</a> <a id="10356" class="Symbol">(</a><a id="10357" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="10364" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10371" class="Symbol">)</a>
    <a id="10377" href="Ledger.Dijkstra.Specification.Transaction.html#10313" class="Function">HasValidInterval-TxBody</a> <a id="10401" class="Symbol">.</a><a id="10402" href="Ledger.Dijkstra.Specification.Transaction.html#6979" class="Field">ValidIntervalOf</a> <a id="10418" class="Symbol">=</a> <a id="10420" href="Ledger.Dijkstra.Specification.Transaction.html#4173" class="Field">TxBody.txVldt</a>
    <a id="TransactionStructure.HasValidInterval-Tx"></a><a id="10438" href="Ledger.Dijkstra.Specification.Transaction.html#10438" class="Function">HasValidInterval-Tx</a> <a id="10458" class="Symbol">:</a> <a id="10460" href="Ledger.Dijkstra.Specification.Transaction.html#6920" class="Record">HasValidInterval</a> <a id="10477" class="Symbol">(</a><a id="10478" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10481" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10488" class="Symbol">)</a>
    <a id="10494" href="Ledger.Dijkstra.Specification.Transaction.html#10438" class="Function">HasValidInterval-Tx</a> <a id="10514" class="Symbol">.</a><a id="10515" href="Ledger.Dijkstra.Specification.Transaction.html#6979" class="Field">ValidIntervalOf</a> <a id="10531" class="Symbol">=</a> <a id="10533" href="Ledger.Dijkstra.Specification.Transaction.html#6979" class="Field">ValidIntervalOf</a> <a id="10549" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10551" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSpendInputs-TxBody"></a><a id="10565" href="Ledger.Dijkstra.Specification.Transaction.html#10565" class="Function">HasSpendInputs-TxBody</a> <a id="10587" class="Symbol">:</a> <a id="10589" href="Ledger.Dijkstra.Specification.Transaction.html#7072" class="Record">HasSpendInputs</a> <a id="10604" class="Symbol">(</a><a id="10605" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="10612" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10619" class="Symbol">)</a>
    <a id="10625" href="Ledger.Dijkstra.Specification.Transaction.html#10565" class="Function">HasSpendInputs-TxBody</a> <a id="10647" class="Symbol">.</a><a id="10648" href="Ledger.Dijkstra.Specification.Transaction.html#7129" class="Field">SpendInputsOf</a> <a id="10662" class="Symbol">=</a> <a id="10664" href="Ledger.Dijkstra.Specification.Transaction.html#3820" class="Field">TxBody.txIns</a>
    <a id="TransactionStructure.HasSpendInputs-Tx"></a><a id="10681" href="Ledger.Dijkstra.Specification.Transaction.html#10681" class="Function">HasSpendInputs-Tx</a> <a id="10699" class="Symbol">:</a> <a id="10701" href="Ledger.Dijkstra.Specification.Transaction.html#7072" class="Record">HasSpendInputs</a> <a id="10716" class="Symbol">(</a><a id="10717" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10720" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10727" class="Symbol">)</a>
    <a id="10733" href="Ledger.Dijkstra.Specification.Transaction.html#10681" class="Function">HasSpendInputs-Tx</a> <a id="10751" class="Symbol">.</a><a id="10752" href="Ledger.Dijkstra.Specification.Transaction.html#7129" class="Field">SpendInputsOf</a> <a id="10766" class="Symbol">=</a> <a id="10768" href="Ledger.Dijkstra.Specification.Transaction.html#7129" class="Field">SpendInputsOf</a> <a id="10782" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10784" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasReferenceInputs-TxBody"></a><a id="10798" href="Ledger.Dijkstra.Specification.Transaction.html#10798" class="Function">HasReferenceInputs-TxBody</a> <a id="10824" class="Symbol">:</a> <a id="10826" href="Ledger.Dijkstra.Specification.Transaction.html#7201" class="Record">HasReferenceInputs</a> <a id="10845" class="Symbol">(</a><a id="10846" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="10853" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10860" class="Symbol">)</a>
    <a id="10866" href="Ledger.Dijkstra.Specification.Transaction.html#10798" class="Function">HasReferenceInputs-TxBody</a> <a id="10892" class="Symbol">.</a><a id="10893" href="Ledger.Dijkstra.Specification.Transaction.html#7262" class="Field">ReferenceInputsOf</a> <a id="10911" class="Symbol">=</a> <a id="10913" href="Ledger.Dijkstra.Specification.Transaction.html#3858" class="Field">TxBody.refInputs</a>
    <a id="TransactionStructure.HasReferenceInputs-Tx"></a><a id="10934" href="Ledger.Dijkstra.Specification.Transaction.html#10934" class="Function">HasReferenceInputs-Tx</a> <a id="10956" class="Symbol">:</a> <a id="10958" href="Ledger.Dijkstra.Specification.Transaction.html#7201" class="Record">HasReferenceInputs</a> <a id="10977" class="Symbol">(</a><a id="10978" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10981" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10988" class="Symbol">)</a>
    <a id="10994" href="Ledger.Dijkstra.Specification.Transaction.html#10934" class="Function">HasReferenceInputs-Tx</a> <a id="11016" class="Symbol">.</a><a id="11017" href="Ledger.Dijkstra.Specification.Transaction.html#7262" class="Field">ReferenceInputsOf</a> <a id="11035" class="Symbol">=</a> <a id="11037" href="Ledger.Dijkstra.Specification.Transaction.html#7262" class="Field">ReferenceInputsOf</a> <a id="11055" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11057" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMintedValue-TxBody"></a><a id="11071" href="Ledger.Dijkstra.Specification.Transaction.html#11071" class="Function">HasMintedValue-TxBody</a> <a id="11093" class="Symbol">:</a> <a id="11095" href="Ledger.Dijkstra.Specification.Transaction.html#7342" class="Record">HasMintedValue</a> <a id="11110" class="Symbol">(</a><a id="11111" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="11118" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11125" class="Symbol">)</a>
    <a id="11131" href="Ledger.Dijkstra.Specification.Transaction.html#11071" class="Function">HasMintedValue-TxBody</a> <a id="11153" class="Symbol">.</a><a id="11154" href="Ledger.Dijkstra.Specification.Transaction.html#7399" class="Field">MintedValueOf</a> <a id="11168" class="Symbol">=</a> <a id="11170" href="Ledger.Dijkstra.Specification.Transaction.html#4492" class="Field">TxBody.mint</a>
    <a id="TransactionStructure.HasMintedValue-Tx"></a><a id="11186" href="Ledger.Dijkstra.Specification.Transaction.html#11186" class="Function">HasMintedValue-Tx</a> <a id="11204" class="Symbol">:</a> <a id="11206" href="Ledger.Dijkstra.Specification.Transaction.html#7342" class="Record">HasMintedValue</a> <a id="11221" class="Symbol">(</a><a id="11222" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11225" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11232" class="Symbol">)</a>
    <a id="11238" href="Ledger.Dijkstra.Specification.Transaction.html#11186" class="Function">HasMintedValue-Tx</a> <a id="11256" class="Symbol">.</a><a id="11257" href="Ledger.Dijkstra.Specification.Transaction.html#7399" class="Field">MintedValueOf</a> <a id="11271" class="Symbol">=</a> <a id="11273" href="Ledger.Dijkstra.Specification.Transaction.html#7399" class="Field">MintedValueOf</a> <a id="11287" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11289" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovVotes-TxBody"></a><a id="11303" href="Ledger.Dijkstra.Specification.Transaction.html#11303" class="Function">HasListOfGovVotes-TxBody</a> <a id="11328" class="Symbol">:</a> <a id="11330" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Record">HasListOfGovVotes</a> <a id="11348" class="Symbol">(</a><a id="11349" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="11356" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11363" class="Symbol">)</a>
    <a id="11369" href="Ledger.Dijkstra.Specification.Transaction.html#11303" class="Function">HasListOfGovVotes-TxBody</a> <a id="11394" class="Symbol">.</a><a id="11395" href="Ledger.Dijkstra.Specification.Transaction.html#8032" class="Field">ListOfGovVotesOf</a> <a id="11412" class="Symbol">=</a> <a id="11414" href="Ledger.Dijkstra.Specification.Transaction.html#4313" class="Field">TxBody.txGovVotes</a>
    <a id="TransactionStructure.HasListOfGovVotes-Tx"></a><a id="11436" href="Ledger.Dijkstra.Specification.Transaction.html#11436" class="Function">HasListOfGovVotes-Tx</a> <a id="11457" class="Symbol">:</a> <a id="11459" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Record">HasListOfGovVotes</a> <a id="11477" class="Symbol">(</a><a id="11478" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11481" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11488" class="Symbol">)</a>
    <a id="11494" href="Ledger.Dijkstra.Specification.Transaction.html#11436" class="Function">HasListOfGovVotes-Tx</a> <a id="11515" class="Symbol">.</a><a id="11516" href="Ledger.Dijkstra.Specification.Transaction.html#8032" class="Field">ListOfGovVotesOf</a> <a id="11533" class="Symbol">=</a> <a id="11535" href="Ledger.Dijkstra.Specification.Transaction.html#8032" class="Field">ListOfGovVotesOf</a> <a id="11552" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11554" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovProposals-TxBody"></a><a id="11568" href="Ledger.Dijkstra.Specification.Transaction.html#11568" class="Function">HasListOfGovProposals-TxBody</a> <a id="11597" class="Symbol">:</a> <a id="11599" href="Ledger.Dijkstra.Specification.Transaction.html#7812" class="Record">HasListOfGovProposals</a> <a id="11621" class="Symbol">(</a><a id="11622" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="11629" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11636" class="Symbol">)</a>
    <a id="11642" href="Ledger.Dijkstra.Specification.Transaction.html#11568" class="Function">HasListOfGovProposals-TxBody</a> <a id="11671" class="Symbol">.</a><a id="11672" href="Ledger.Dijkstra.Specification.Transaction.html#7876" class="Field">ListOfGovProposalsOf</a> <a id="11693" class="Symbol">=</a> <a id="11695" href="Ledger.Dijkstra.Specification.Transaction.html#4357" class="Field">TxBody.txGovProposals</a>
    <a id="TransactionStructure.HasListOfGovProposals-Tx"></a><a id="11721" href="Ledger.Dijkstra.Specification.Transaction.html#11721" class="Function">HasListOfGovProposals-Tx</a> <a id="11746" class="Symbol">:</a> <a id="11748" href="Ledger.Dijkstra.Specification.Transaction.html#7812" class="Record">HasListOfGovProposals</a> <a id="11770" class="Symbol">(</a><a id="11771" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11774" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11781" class="Symbol">)</a>
    <a id="11787" href="Ledger.Dijkstra.Specification.Transaction.html#11721" class="Function">HasListOfGovProposals-Tx</a> <a id="11812" class="Symbol">.</a><a id="11813" href="Ledger.Dijkstra.Specification.Transaction.html#7876" class="Field">ListOfGovProposalsOf</a> <a id="11834" class="Symbol">=</a> <a id="11836" href="Ledger.Dijkstra.Specification.Transaction.html#7876" class="Field">ListOfGovProposalsOf</a> <a id="11857" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11859" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMaybeNetworkId-TxBody"></a><a id="11873" href="Ledger.Dijkstra.Specification.Transaction.html#11873" class="Function">HasMaybeNetworkId-TxBody</a> <a id="11898" class="Symbol">:</a> <a id="11900" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasMaybeNetworkId</a> <a id="11918" class="Symbol">(</a><a id="11919" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="11926" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11933" class="Symbol">)</a>
    <a id="11939" href="Ledger.Dijkstra.Specification.Transaction.html#11873" class="Function">HasMaybeNetworkId-TxBody</a> <a id="11964" class="Symbol">.</a><a id="11965" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="11982" class="Symbol">=</a> <a id="11984" href="Ledger.Dijkstra.Specification.Transaction.html#4405" class="Field">TxBody.txNetworkId</a>
    <a id="TransactionStructure.HasMaybeNetworkId-Tx"></a><a id="12007" href="Ledger.Dijkstra.Specification.Transaction.html#12007" class="Function">HasMaybeNetworkId-Tx</a> <a id="12028" class="Symbol">:</a> <a id="12030" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasMaybeNetworkId</a> <a id="12048" class="Symbol">(</a><a id="12049" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12052" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12059" class="Symbol">)</a>
    <a id="12065" href="Ledger.Dijkstra.Specification.Transaction.html#12007" class="Function">HasMaybeNetworkId-Tx</a> <a id="12086" class="Symbol">.</a><a id="12087" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="12104" class="Symbol">=</a> <a id="12106" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="12123" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12125" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="12139" href="Ledger.Dijkstra.Specification.Transaction.html#12139" class="Function">HasFees?-TxBody</a> <a id="12155" class="Symbol">:</a> <a id="12157" class="Symbol">{</a><a id="12158" href="Ledger.Dijkstra.Specification.Transaction.html#12158" class="Bound">ℓ</a> <a id="12160" class="Symbol">:</a> <a id="12162" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="12169" class="Symbol">}</a> <a id="12171" class="Symbol">→</a> <a id="12173" href="Ledger.Dijkstra.Specification.Transaction.html#7470" class="Record">HasFees?</a> <a id="12182" class="Symbol">(</a><a id="12183" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="12190" href="Ledger.Dijkstra.Specification.Transaction.html#12158" class="Bound">ℓ</a><a id="12191" class="Symbol">)</a>
    <a id="12197" href="Ledger.Dijkstra.Specification.Transaction.html#12139" class="Function">HasFees?-TxBody</a> <a id="12213" class="Symbol">{</a><a id="12214" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a><a id="12224" class="Symbol">}</a> <a id="12226" class="Symbol">.</a><a id="12227" href="Ledger.Dijkstra.Specification.Transaction.html#7521" class="Field">FeesOf?</a> <a id="12235" href="Ledger.Dijkstra.Specification.Transaction.html#12235" class="Bound">tbTop</a> <a id="12241" class="Symbol">=</a> <a id="12243" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12248" class="Symbol">(</a><a id="12249" href="Ledger.Dijkstra.Specification.Transaction.html#4075" class="Field">TxBody.txFee</a> <a id="12262" href="Ledger.Dijkstra.Specification.Transaction.html#12235" class="Bound">tbTop</a><a id="12267" class="Symbol">)</a>
    <a id="12273" href="Ledger.Dijkstra.Specification.Transaction.html#12139" class="Function">HasFees?-TxBody</a> <a id="12289" class="Symbol">{</a><a id="12290" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="12300" class="Symbol">}</a> <a id="12302" class="Symbol">.</a><a id="12303" href="Ledger.Dijkstra.Specification.Transaction.html#7521" class="Field">FeesOf?</a> <a id="12311" href="Ledger.Dijkstra.Specification.Transaction.html#12311" class="Bound">tbSub</a> <a id="12317" class="Symbol">=</a> <a id="12319" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="TransactionStructure.HasFees?-Tx"></a><a id="12331" href="Ledger.Dijkstra.Specification.Transaction.html#12331" class="Function">HasFees?-Tx</a> <a id="12343" class="Symbol">:</a> <a id="12345" href="Ledger.Dijkstra.Specification.Transaction.html#7470" class="Record">HasFees?</a> <a id="12354" class="Symbol">(</a><a id="12355" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12358" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12365" class="Symbol">)</a>
    <a id="12371" href="Ledger.Dijkstra.Specification.Transaction.html#12331" class="Function">HasFees?-Tx</a> <a id="12383" class="Symbol">.</a><a id="12384" href="Ledger.Dijkstra.Specification.Transaction.html#7521" class="Field">FeesOf?</a> <a id="12392" class="Symbol">=</a> <a id="12394" href="Ledger.Dijkstra.Specification.Transaction.html#7521" class="Field">FeesOf?</a> <a id="12402" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12404" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-TxBody"></a><a id="12418" href="Ledger.Dijkstra.Specification.Transaction.html#12418" class="Function">HasTxId-TxBody</a> <a id="12433" class="Symbol">:</a> <a id="12435" href="Ledger.Dijkstra.Specification.Transaction.html#6711" class="Record">HasTxId</a> <a id="12443" class="Symbol">(</a><a id="12444" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="12451" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12458" class="Symbol">)</a>
    <a id="12464" href="Ledger.Dijkstra.Specification.Transaction.html#12418" class="Function">HasTxId-TxBody</a> <a id="12479" class="Symbol">.</a><a id="12480" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Field">TxIdOf</a> <a id="12487" class="Symbol">=</a> <a id="12489" href="Ledger.Dijkstra.Specification.Transaction.html#3997" class="Field">TxBody.txId</a>
    <a id="TransactionStructure.HasTxId-Tx"></a><a id="12505" href="Ledger.Dijkstra.Specification.Transaction.html#12505" class="Function">HasTxId-Tx</a> <a id="12516" class="Symbol">:</a> <a id="12518" href="Ledger.Dijkstra.Specification.Transaction.html#6711" class="Record">HasTxId</a> <a id="12526" class="Symbol">(</a><a id="12527" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12530" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12537" class="Symbol">)</a>
    <a id="12543" href="Ledger.Dijkstra.Specification.Transaction.html#12505" class="Function">HasTxId-Tx</a> <a id="12554" class="Symbol">.</a><a id="12555" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Field">TxIdOf</a> <a id="12562" class="Symbol">=</a> <a id="12564" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Field">TxIdOf</a> <a id="12571" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12573" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDonations-TxBody"></a><a id="12587" href="Ledger.Dijkstra.Specification.Transaction.html#12587" class="Function">HasDonations-TxBody</a> <a id="12607" class="Symbol">:</a> <a id="12609" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="12622" class="Symbol">(</a><a id="12623" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="12630" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12637" class="Symbol">)</a>
    <a id="12643" href="Ledger.Dijkstra.Specification.Transaction.html#12587" class="Function">HasDonations-TxBody</a> <a id="12663" class="Symbol">.</a><a id="12664" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="12676" class="Symbol">=</a> <a id="12678" href="Ledger.Dijkstra.Specification.Transaction.html#4272" class="Field">TxBody.txDonation</a>
    <a id="TransactionStructure.HasDonations-Tx"></a><a id="12700" href="Ledger.Dijkstra.Specification.Transaction.html#12700" class="Function">HasDonations-Tx</a> <a id="12716" class="Symbol">:</a> <a id="12718" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="12731" class="Symbol">(</a><a id="12732" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12735" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12742" class="Symbol">)</a>
    <a id="12748" href="Ledger.Dijkstra.Specification.Transaction.html#12700" class="Function">HasDonations-Tx</a> <a id="12764" class="Symbol">.</a><a id="12765" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="12777" class="Symbol">=</a> <a id="12779" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="12791" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12793" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="12807" href="Ledger.Dijkstra.Specification.Transaction.html#12807" class="Function">HasCoin-TxOut</a> <a id="12821" class="Symbol">:</a> <a id="12823" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="12831" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
    <a id="12841" href="Ledger.Dijkstra.Specification.Transaction.html#12807" class="Function">HasCoin-TxOut</a> <a id="12855" class="Symbol">.</a><a id="12856" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="12864" class="Symbol">=</a> <a id="12866" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="12871" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12873" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="12879" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12881" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="12892" href="Ledger.Dijkstra.Specification.Transaction.html#12892" class="Function">HasData-TxWitnesses</a> <a id="12912" class="Symbol">:</a> <a id="12914" href="Ledger.Dijkstra.Specification.Transaction.html#7703" class="Record">HasData</a> <a id="12922" class="Symbol">(</a><a id="12923" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="12935" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12942" class="Symbol">)</a>
    <a id="12948" href="Ledger.Dijkstra.Specification.Transaction.html#12892" class="Function">HasData-TxWitnesses</a> <a id="12968" class="Symbol">.</a><a id="12969" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Field">DataOf</a> <a id="12976" class="Symbol">=</a> <a id="12978" href="Ledger.Dijkstra.Specification.Transaction.html#5105" class="Field">TxWitnesses.txData</a>
    <a id="TransactionStructure.HasData-Tx"></a><a id="13001" href="Ledger.Dijkstra.Specification.Transaction.html#13001" class="Function">HasData-Tx</a> <a id="13012" class="Symbol">:</a> <a id="13014" href="Ledger.Dijkstra.Specification.Transaction.html#7703" class="Record">HasData</a> <a id="13022" class="Symbol">(</a><a id="13023" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13026" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13033" class="Symbol">)</a>
    <a id="13039" href="Ledger.Dijkstra.Specification.Transaction.html#13001" class="Function">HasData-Tx</a> <a id="13050" class="Symbol">.</a><a id="13051" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Field">DataOf</a> <a id="13058" class="Symbol">=</a> <a id="13060" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Field">DataOf</a> <a id="13067" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13069" href="Ledger.Dijkstra.Specification.Transaction.html#5676" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasGuards-TxBody"></a><a id="13088" href="Ledger.Dijkstra.Specification.Transaction.html#13088" class="Function">HasGuards-TxBody</a> <a id="13105" class="Symbol">:</a> <a id="13107" href="Ledger.Dijkstra.Specification.Transaction.html#8116" class="Record">HasGuards</a> <a id="13117" class="Symbol">(</a><a id="13118" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="13125" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13132" class="Symbol">)</a>
    <a id="13138" href="Ledger.Dijkstra.Specification.Transaction.html#13088" class="Function">HasGuards-TxBody</a> <a id="13155" class="Symbol">.</a><a id="13156" href="Ledger.Dijkstra.Specification.Transaction.html#8168" class="Field">GuardsOf</a> <a id="13165" class="Symbol">=</a> <a id="13167" href="Ledger.Dijkstra.Specification.Transaction.html#4686" class="Field">TxBody.txGuards</a>
    <a id="TransactionStructure.HasGuards-Tx"></a><a id="13187" href="Ledger.Dijkstra.Specification.Transaction.html#13187" class="Function">HasGuards-Tx</a> <a id="13200" class="Symbol">:</a> <a id="13202" href="Ledger.Dijkstra.Specification.Transaction.html#8116" class="Record">HasGuards</a> <a id="13212" class="Symbol">(</a><a id="13213" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13216" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13223" class="Symbol">)</a>
    <a id="13229" href="Ledger.Dijkstra.Specification.Transaction.html#13187" class="Function">HasGuards-Tx</a> <a id="13242" class="Symbol">.</a><a id="13243" href="Ledger.Dijkstra.Specification.Transaction.html#8168" class="Field">GuardsOf</a> <a id="13252" class="Symbol">=</a> <a id="13254" href="Ledger.Dijkstra.Specification.Transaction.html#8168" class="Field">GuardsOf</a> <a id="13263" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13265" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasScripts-TxWitnesses"></a><a id="13279" href="Ledger.Dijkstra.Specification.Transaction.html#13279" class="Function">HasScripts-TxWitnesses</a> <a id="13302" class="Symbol">:</a> <a id="13304" href="Ledger.Dijkstra.Specification.Transaction.html#8236" class="Record">HasScripts</a> <a id="13315" class="Symbol">(</a><a id="13316" href="Ledger.Dijkstra.Specification.Transaction.html#4958" class="Record">TxWitnesses</a> <a id="13328" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13335" class="Symbol">)</a>
    <a id="13341" href="Ledger.Dijkstra.Specification.Transaction.html#13279" class="Function">HasScripts-TxWitnesses</a> <a id="13364" class="Symbol">.</a><a id="13365" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Field">ScriptsOf</a> <a id="13375" class="Symbol">=</a> <a id="13377" href="Ledger.Dijkstra.Specification.Transaction.html#5073" class="Field">TxWitnesses.scripts</a>
    <a id="TransactionStructure.HasScripts-Tx"></a><a id="13401" href="Ledger.Dijkstra.Specification.Transaction.html#13401" class="Function">HasScripts-Tx</a> <a id="13415" class="Symbol">:</a> <a id="13417" href="Ledger.Dijkstra.Specification.Transaction.html#8236" class="Record">HasScripts</a> <a id="13428" class="Symbol">(</a><a id="13429" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13432" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13439" class="Symbol">)</a>
    <a id="13445" href="Ledger.Dijkstra.Specification.Transaction.html#13401" class="Function">HasScripts-Tx</a> <a id="13459" class="Symbol">.</a><a id="13460" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Field">ScriptsOf</a> <a id="13470" class="Symbol">=</a> <a id="13472" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Field">ScriptsOf</a> <a id="13482" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13484" href="Ledger.Dijkstra.Specification.Transaction.html#5676" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasTxOuts-TxBody"></a><a id="13503" href="Ledger.Dijkstra.Specification.Transaction.html#13503" class="Function">HasTxOuts-TxBody</a> <a id="13520" class="Symbol">:</a> <a id="13522" href="Ledger.Dijkstra.Specification.Transaction.html#8355" class="Record">HasTxOuts</a> <a id="13532" class="Symbol">(</a><a id="13533" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="13540" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13547" class="Symbol">)</a>
    <a id="13553" href="Ledger.Dijkstra.Specification.Transaction.html#13503" class="Function">HasTxOuts-TxBody</a> <a id="13570" class="Symbol">.</a><a id="13571" href="Ledger.Dijkstra.Specification.Transaction.html#8407" class="Field">TxOutsOf</a> <a id="13580" class="Symbol">=</a> <a id="13582" href="Ledger.Dijkstra.Specification.Transaction.html#3955" class="Field">TxBody.txOuts</a>
    <a id="TransactionStructure.HasTxOuts-Tx"></a><a id="13600" href="Ledger.Dijkstra.Specification.Transaction.html#13600" class="Function">HasTxOuts-Tx</a> <a id="13613" class="Symbol">:</a> <a id="13615" href="Ledger.Dijkstra.Specification.Transaction.html#8355" class="Record">HasTxOuts</a> <a id="13625" class="Symbol">(</a><a id="13626" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13629" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13636" class="Symbol">)</a>
    <a id="13642" href="Ledger.Dijkstra.Specification.Transaction.html#13600" class="Function">HasTxOuts-Tx</a> <a id="13655" class="Symbol">.</a><a id="13656" href="Ledger.Dijkstra.Specification.Transaction.html#8407" class="Field">TxOutsOf</a> <a id="13665" class="Symbol">=</a> <a id="13667" href="Ledger.Dijkstra.Specification.Transaction.html#8407" class="Field">TxOutsOf</a> <a id="13676" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13678" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasRequiredSingerHashes-TxBody"></a><a id="13692" href="Ledger.Dijkstra.Specification.Transaction.html#13692" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="13723" class="Symbol">:</a> <a id="13725" href="Ledger.Dijkstra.Specification.Transaction.html#8473" class="Record">HasRequiredSingerHashes</a> <a id="13749" class="Symbol">(</a><a id="13750" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="13757" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13764" class="Symbol">)</a>
    <a id="13770" href="Ledger.Dijkstra.Specification.Transaction.html#13692" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="13801" class="Symbol">.</a><a id="13802" href="Ledger.Dijkstra.Specification.Transaction.html#8539" class="Field">RequiredSignerHashesOf</a> <a id="13825" class="Symbol">=</a> <a id="13827" href="Ledger.Dijkstra.Specification.Transaction.html#4850" class="Function">TxBody.requiredSignerHashes</a>
    <a id="TransactionStructure.HasRequiredSingerHashes-Tx"></a><a id="13859" href="Ledger.Dijkstra.Specification.Transaction.html#13859" class="Function">HasRequiredSingerHashes-Tx</a> <a id="13886" class="Symbol">:</a> <a id="13888" href="Ledger.Dijkstra.Specification.Transaction.html#8473" class="Record">HasRequiredSingerHashes</a> <a id="13912" class="Symbol">(</a><a id="13913" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13916" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="13923" class="Symbol">)</a>
    <a id="13929" href="Ledger.Dijkstra.Specification.Transaction.html#13859" class="Function">HasRequiredSingerHashes-Tx</a> <a id="13956" class="Symbol">.</a><a id="13957" href="Ledger.Dijkstra.Specification.Transaction.html#8539" class="Field">RequiredSignerHashesOf</a> <a id="13980" class="Symbol">=</a> <a id="13982" href="Ledger.Dijkstra.Specification.Transaction.html#8539" class="Field">RequiredSignerHashesOf</a> <a id="14005" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14007" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCurrentTreasury-TxBody"></a><a id="14021" href="Ledger.Dijkstra.Specification.Transaction.html#14021" class="Function">HasCurrentTreasury-TxBody</a> <a id="14047" class="Symbol">:</a> <a id="14049" href="Ledger.Dijkstra.Specification.Transaction.html#8632" class="Record">HasCurrentTreasury</a> <a id="14068" class="Symbol">(</a><a id="14069" href="Ledger.Dijkstra.Specification.Transaction.html#3744" class="Record">TxBody</a> <a id="14076" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="14083" class="Symbol">)</a>
    <a id="14089" href="Ledger.Dijkstra.Specification.Transaction.html#14021" class="Function">HasCurrentTreasury-TxBody</a> <a id="14115" class="Symbol">.</a><a id="14116" href="Ledger.Dijkstra.Specification.Transaction.html#8693" class="Field">CurrentTreasuryOf</a> <a id="14134" class="Symbol">=</a> <a id="14136" href="Ledger.Dijkstra.Specification.Transaction.html#4450" class="Field">TxBody.currentTreasury</a>
    <a id="TransactionStructure.HasCurrentTreasury-Tx"></a><a id="14163" href="Ledger.Dijkstra.Specification.Transaction.html#14163" class="Function">HasCurrentTreasury-Tx</a> <a id="14185" class="Symbol">:</a> <a id="14187" href="Ledger.Dijkstra.Specification.Transaction.html#8632" class="Record">HasCurrentTreasury</a> <a id="14206" class="Symbol">(</a><a id="14207" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="14210" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="14217" class="Symbol">)</a>
    <a id="14223" href="Ledger.Dijkstra.Specification.Transaction.html#14163" class="Function">HasCurrentTreasury-Tx</a> <a id="14245" class="Symbol">.</a><a id="14246" href="Ledger.Dijkstra.Specification.Transaction.html#8693" class="Field">CurrentTreasuryOf</a> <a id="14264" class="Symbol">=</a> <a id="14266" href="Ledger.Dijkstra.Specification.Transaction.html#8693" class="Field">CurrentTreasuryOf</a> <a id="14284" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14286" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Field">TxBodyOf</a>


  <a id="TransactionStructure.TxOutʰ"></a><a id="14299" href="Ledger.Dijkstra.Specification.Transaction.html#14299" class="Function">TxOutʰ</a> <a id="14306" class="Symbol">:</a> <a id="14308" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="14315" href="Ledger.Dijkstra.Specification.Transaction.html#14299" class="Function">TxOutʰ</a> <a id="14322" class="Symbol">=</a> <a id="14324" href="Ledger.Core.Specification.Address.html#2906" class="Function">Addr</a> <a id="14329" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14331" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="14337" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14339" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14345" class="Symbol">(</a><a id="14346" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a> <a id="14352" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="14354" href="Ledger.Dijkstra.Specification.Script.Base.html#1735" class="Function">DataHash</a><a id="14362" class="Symbol">)</a> <a id="14364" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14366" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14372" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="14386" href="Ledger.Dijkstra.Specification.Transaction.html#14386" class="Function">txOutHash</a> <a id="14396" class="Symbol">:</a> <a id="14398" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="14404" class="Symbol">→</a> <a id="14406" href="Ledger.Dijkstra.Specification.Transaction.html#14299" class="Function">TxOutʰ</a>
  <a id="14415" href="Ledger.Dijkstra.Specification.Transaction.html#14386" class="Function">txOutHash</a> <a id="14425" class="Symbol">(</a><a id="14426" href="Ledger.Dijkstra.Specification.Transaction.html#14426" class="Bound">a</a> <a id="14428" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14430" href="Ledger.Dijkstra.Specification.Transaction.html#14430" class="Bound">v</a> <a id="14432" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14434" href="Ledger.Dijkstra.Specification.Transaction.html#14434" class="Bound">d</a> <a id="14436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14438" href="Ledger.Dijkstra.Specification.Transaction.html#14438" class="Bound">s</a><a id="14439" class="Symbol">)</a> <a id="14441" class="Symbol">=</a> <a id="14443" href="Ledger.Dijkstra.Specification.Transaction.html#14426" class="Bound">a</a> <a id="14445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14447" href="Ledger.Dijkstra.Specification.Transaction.html#14430" class="Bound">v</a> <a id="14449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14451" href="Ledger.Dijkstra.Specification.Transaction.html#14434" class="Bound">d</a> <a id="14453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14455" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="14461" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="14466" href="Ledger.Dijkstra.Specification.Transaction.html#14438" class="Bound">s</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="14471" href="Ledger.Dijkstra.Specification.Transaction.html#14471" class="Function">getValueʰ</a> <a id="14481" class="Symbol">:</a> <a id="14483" href="Ledger.Dijkstra.Specification.Transaction.html#14299" class="Function">TxOutʰ</a> <a id="14490" class="Symbol">→</a> <a id="14492" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="14500" href="Ledger.Dijkstra.Specification.Transaction.html#14471" class="Function">getValueʰ</a> <a id="14510" class="Symbol">(_</a> <a id="14513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14515" href="Ledger.Dijkstra.Specification.Transaction.html#14515" class="Bound">v</a> <a id="14517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14519" class="Symbol">_</a> <a id="14521" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14523" class="Symbol">_)</a> <a id="14526" class="Symbol">=</a> <a id="14528" href="Ledger.Dijkstra.Specification.Transaction.html#14515" class="Bound">v</a>

  <a id="TransactionStructure.txOutToScript"></a><a id="14533" href="Ledger.Dijkstra.Specification.Transaction.html#14533" class="Function">txOutToScript</a> <a id="14547" class="Symbol">:</a> <a id="14549" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="14555" class="Symbol">→</a> <a id="14557" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14563" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="14572" href="Ledger.Dijkstra.Specification.Transaction.html#14533" class="Function">txOutToScript</a> <a id="14586" class="Symbol">(_</a> <a id="14589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14591" class="Symbol">_</a> <a id="14593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14595" class="Symbol">_</a> <a id="14597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14599" href="Ledger.Dijkstra.Specification.Transaction.html#14599" class="Bound">s</a><a id="14600" class="Symbol">)</a> <a id="14602" class="Symbol">=</a> <a id="14604" href="Ledger.Dijkstra.Specification.Transaction.html#14599" class="Bound">s</a>

  <a id="TransactionStructure.txOutToDatum"></a><a id="14609" href="Ledger.Dijkstra.Specification.Transaction.html#14609" class="Function">txOutToDatum</a> <a id="14622" class="Symbol">:</a> <a id="14624" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="14630" class="Symbol">→</a> <a id="14632" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14638" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="14646" href="Ledger.Dijkstra.Specification.Transaction.html#14609" class="Function">txOutToDatum</a> <a id="14659" class="Symbol">(_</a> <a id="14662" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14664" class="Symbol">_</a> <a id="14666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14668" href="Ledger.Dijkstra.Specification.Transaction.html#14668" class="Bound">d</a> <a id="14670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14672" class="Symbol">_)</a> <a id="14675" class="Symbol">=</a> <a id="14677" href="Ledger.Dijkstra.Specification.Transaction.html#14668" class="Bound">d</a> <a id="14679" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="14683" href="Data.Sum.html#787" class="Function">isInj₁</a>

  <a id="14693" class="Comment">-- spending outputs</a>
  <a id="TransactionStructure.spendOut"></a><a id="14715" href="Ledger.Dijkstra.Specification.Transaction.html#14715" class="Function">spendOut</a> <a id="14724" class="Symbol">:</a> <a id="14726" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="14729" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="14737" class="Symbol">→</a> <a id="14739" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="14744" class="Symbol">→</a> <a id="14746" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14748" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
  <a id="14756" href="Ledger.Dijkstra.Specification.Transaction.html#14715" class="Function">spendOut</a> <a id="14765" href="Ledger.Dijkstra.Specification.Transaction.html#14765" class="Bound">tx</a> <a id="14768" href="Ledger.Dijkstra.Specification.Transaction.html#14768" class="Bound">utxo</a> <a id="14773" class="Symbol">=</a> <a id="14775" href="Class.IsSet.html#959" class="Function">range</a> <a id="14781" class="Symbol">(</a><a id="14782" href="Ledger.Dijkstra.Specification.Transaction.html#14768" class="Bound">utxo</a> <a id="14787" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="14789" href="Ledger.Dijkstra.Specification.Transaction.html#7129" class="Field">SpendInputsOf</a> <a id="14803" href="Ledger.Dijkstra.Specification.Transaction.html#14765" class="Bound">tx</a><a id="14805" class="Symbol">)</a>

  <a id="TransactionStructure.spendScripts"></a><a id="14810" href="Ledger.Dijkstra.Specification.Transaction.html#14810" class="Function">spendScripts</a> <a id="14823" class="Symbol">:</a> <a id="14825" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="14828" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="14836" class="Symbol">→</a> <a id="14838" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="14843" class="Symbol">→</a> <a id="14845" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14847" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="14856" href="Ledger.Dijkstra.Specification.Transaction.html#14810" class="Function">spendScripts</a> <a id="14869" class="Symbol">=</a> <a id="14871" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="14882" href="Ledger.Dijkstra.Specification.Transaction.html#14533" class="Function">txOutToScript</a> <a id="14896" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="14899" href="Ledger.Dijkstra.Specification.Transaction.html#14715" class="Function">spendOut</a>

  <a id="TransactionStructure.spendData"></a><a id="14911" href="Ledger.Dijkstra.Specification.Transaction.html#14911" class="Function">spendData</a> <a id="14921" class="Symbol">:</a> <a id="14923" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="14926" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="14934" class="Symbol">→</a> <a id="14936" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="14941" class="Symbol">→</a> <a id="14943" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14945" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="14953" href="Ledger.Dijkstra.Specification.Transaction.html#14911" class="Function">spendData</a> <a id="14963" class="Symbol">=</a> <a id="14965" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="14976" href="Ledger.Dijkstra.Specification.Transaction.html#14609" class="Function">txOutToDatum</a> <a id="14989" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="14992" href="Ledger.Dijkstra.Specification.Transaction.html#14715" class="Function">spendOut</a>

  <a id="15004" class="Comment">-- reference outputs</a>
  <a id="TransactionStructure.referenceOut"></a><a id="15027" href="Ledger.Dijkstra.Specification.Transaction.html#15027" class="Function">referenceOut</a> <a id="15040" class="Symbol">:</a> <a id="15042" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15045" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15053" class="Symbol">→</a> <a id="15055" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="15060" class="Symbol">→</a> <a id="15062" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15064" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
  <a id="15072" href="Ledger.Dijkstra.Specification.Transaction.html#15027" class="Function">referenceOut</a> <a id="15085" href="Ledger.Dijkstra.Specification.Transaction.html#15085" class="Bound">tx</a> <a id="15088" href="Ledger.Dijkstra.Specification.Transaction.html#15088" class="Bound">utxo</a> <a id="15093" class="Symbol">=</a> <a id="15095" href="Class.IsSet.html#959" class="Function">range</a> <a id="15101" class="Symbol">(</a><a id="15102" href="Ledger.Dijkstra.Specification.Transaction.html#15088" class="Bound">utxo</a> <a id="15107" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="15109" href="Ledger.Dijkstra.Specification.Transaction.html#7262" class="Field">ReferenceInputsOf</a> <a id="15127" href="Ledger.Dijkstra.Specification.Transaction.html#15085" class="Bound">tx</a><a id="15129" class="Symbol">)</a>

  <a id="TransactionStructure.referenceScripts"></a><a id="15134" href="Ledger.Dijkstra.Specification.Transaction.html#15134" class="Function">referenceScripts</a> <a id="15151" class="Symbol">:</a> <a id="15153" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15156" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15164" class="Symbol">→</a> <a id="15166" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="15171" class="Symbol">→</a> <a id="15173" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15175" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="15184" href="Ledger.Dijkstra.Specification.Transaction.html#15134" class="Function">referenceScripts</a> <a id="15201" class="Symbol">=</a> <a id="15203" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="15214" href="Ledger.Dijkstra.Specification.Transaction.html#14533" class="Function">txOutToScript</a> <a id="15228" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="15231" href="Ledger.Dijkstra.Specification.Transaction.html#15027" class="Function">referenceOut</a>

  <a id="TransactionStructure.referenceData"></a><a id="15247" href="Ledger.Dijkstra.Specification.Transaction.html#15247" class="Function">referenceData</a> <a id="15261" class="Symbol">:</a> <a id="15263" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15266" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15274" class="Symbol">→</a> <a id="15276" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="15281" class="Symbol">→</a> <a id="15283" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15285" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="15293" href="Ledger.Dijkstra.Specification.Transaction.html#15247" class="Function">referenceData</a> <a id="15307" class="Symbol">=</a> <a id="15309" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="15320" href="Ledger.Dijkstra.Specification.Transaction.html#14609" class="Function">txOutToDatum</a> <a id="15333" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="15336" href="Ledger.Dijkstra.Specification.Transaction.html#15027" class="Function">referenceOut</a>

  <a id="15352" class="Comment">-- tx outputs</a>
  <a id="TransactionStructure.txOut"></a><a id="15368" href="Ledger.Dijkstra.Specification.Transaction.html#15368" class="Function">txOut</a> <a id="15374" class="Symbol">:</a> <a id="15376" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15379" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15387" class="Symbol">→</a> <a id="15389" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15391" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
  <a id="15399" href="Ledger.Dijkstra.Specification.Transaction.html#15368" class="Function">txOut</a> <a id="15405" href="Ledger.Dijkstra.Specification.Transaction.html#15405" class="Bound">tx</a> <a id="15408" class="Symbol">=</a> <a id="15410" href="Class.IsSet.html#959" class="Function">range</a> <a id="15416" class="Symbol">(</a><a id="15417" href="Ledger.Dijkstra.Specification.Transaction.html#8407" class="Field">TxOutsOf</a> <a id="15426" href="Ledger.Dijkstra.Specification.Transaction.html#15405" class="Bound">tx</a> <a id="15429" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="15430" class="Symbol">)</a>

  <a id="TransactionStructure.txOutScripts"></a><a id="15435" href="Ledger.Dijkstra.Specification.Transaction.html#15435" class="Function">txOutScripts</a> <a id="15448" class="Symbol">:</a> <a id="15450" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15453" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15461" class="Symbol">→</a> <a id="15463" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15465" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="15474" href="Ledger.Dijkstra.Specification.Transaction.html#15435" class="Function">txOutScripts</a> <a id="15487" class="Symbol">=</a> <a id="15489" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="15500" href="Ledger.Dijkstra.Specification.Transaction.html#14533" class="Function">txOutToScript</a> <a id="15514" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15516" href="Ledger.Dijkstra.Specification.Transaction.html#15368" class="Function">txOut</a>

  <a id="TransactionStructure.txOutData"></a><a id="15525" href="Ledger.Dijkstra.Specification.Transaction.html#15525" class="Function">txOutData</a> <a id="15535" class="Symbol">:</a> <a id="15537" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15540" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15548" class="Symbol">→</a> <a id="15550" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15552" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="15560" href="Ledger.Dijkstra.Specification.Transaction.html#15525" class="Function">txOutData</a> <a id="15570" class="Symbol">=</a> <a id="15572" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="15583" href="Ledger.Dijkstra.Specification.Transaction.html#14609" class="Function">txOutToDatum</a> <a id="15596" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15598" href="Ledger.Dijkstra.Specification.Transaction.html#15368" class="Function">txOut</a>

  <a id="15607" class="Comment">-- witnesses</a>
  <a id="TransactionStructure.witnessScripts"></a><a id="15622" href="Ledger.Dijkstra.Specification.Transaction.html#15622" class="Function">witnessScripts</a> <a id="15637" class="Symbol">:</a> <a id="15639" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15642" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15650" class="Symbol">→</a> <a id="15652" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15654" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="15663" href="Ledger.Dijkstra.Specification.Transaction.html#15622" class="Function">witnessScripts</a> <a id="15678" href="Ledger.Dijkstra.Specification.Transaction.html#15678" class="Bound">tx</a> <a id="15681" class="Symbol">=</a> <a id="15683" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Field">ScriptsOf</a> <a id="15693" href="Ledger.Dijkstra.Specification.Transaction.html#15678" class="Bound">tx</a>

  <a id="TransactionStructure.witnessData"></a><a id="15699" href="Ledger.Dijkstra.Specification.Transaction.html#15699" class="Function">witnessData</a> <a id="15711" class="Symbol">:</a> <a id="15713" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15716" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15724" class="Symbol">→</a> <a id="15726" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15728" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="15736" href="Ledger.Dijkstra.Specification.Transaction.html#15699" class="Function">witnessData</a> <a id="15748" href="Ledger.Dijkstra.Specification.Transaction.html#15748" class="Bound">tx</a> <a id="15751" class="Symbol">=</a> <a id="15753" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Field">DataOf</a> <a id="15760" href="Ledger.Dijkstra.Specification.Transaction.html#15748" class="Bound">tx</a>

  <a id="TransactionStructure.getTxScripts"></a><a id="15766" href="Ledger.Dijkstra.Specification.Transaction.html#15766" class="Function">getTxScripts</a> <a id="15779" class="Symbol">:</a> <a id="15781" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="15784" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="15792" class="Symbol">→</a> <a id="15794" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="15799" class="Symbol">→</a> <a id="15801" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15803" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="15812" href="Ledger.Dijkstra.Specification.Transaction.html#15766" class="Function">getTxScripts</a> <a id="15825" href="Ledger.Dijkstra.Specification.Transaction.html#15825" class="Bound">tx</a> <a id="15828" href="Ledger.Dijkstra.Specification.Transaction.html#15828" class="Bound">utxo</a> <a id="15833" class="Symbol">=</a>  <a id="15836" href="Ledger.Dijkstra.Specification.Transaction.html#15622" class="Function">witnessScripts</a> <a id="15851" href="Ledger.Dijkstra.Specification.Transaction.html#15825" class="Bound">tx</a>
                          <a id="15880" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15882" href="Ledger.Dijkstra.Specification.Transaction.html#14810" class="Function">spendScripts</a> <a id="15895" href="Ledger.Dijkstra.Specification.Transaction.html#15825" class="Bound">tx</a> <a id="15898" href="Ledger.Dijkstra.Specification.Transaction.html#15828" class="Bound">utxo</a>
                          <a id="15929" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15931" href="Ledger.Dijkstra.Specification.Transaction.html#15134" class="Function">referenceScripts</a> <a id="15948" href="Ledger.Dijkstra.Specification.Transaction.html#15825" class="Bound">tx</a> <a id="15951" href="Ledger.Dijkstra.Specification.Transaction.html#15828" class="Bound">utxo</a>
                          <a id="15982" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15984" href="Ledger.Dijkstra.Specification.Transaction.html#15435" class="Function">txOutScripts</a> <a id="15997" href="Ledger.Dijkstra.Specification.Transaction.html#15825" class="Bound">tx</a>

  <a id="TransactionStructure.getTxData"></a><a id="16003" href="Ledger.Dijkstra.Specification.Transaction.html#16003" class="Function">getTxData</a> <a id="16013" class="Symbol">:</a> <a id="16015" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="16018" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="16026" class="Symbol">→</a> <a id="16028" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="16033" class="Symbol">→</a> <a id="16035" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16037" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="16045" href="Ledger.Dijkstra.Specification.Transaction.html#16003" class="Function">getTxData</a> <a id="16055" href="Ledger.Dijkstra.Specification.Transaction.html#16055" class="Bound">tx</a> <a id="16058" href="Ledger.Dijkstra.Specification.Transaction.html#16058" class="Bound">utxo</a> <a id="16063" class="Symbol">=</a>  <a id="16066" href="Ledger.Dijkstra.Specification.Transaction.html#15699" class="Function">witnessData</a> <a id="16078" href="Ledger.Dijkstra.Specification.Transaction.html#16055" class="Bound">tx</a>
                       <a id="16104" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="16106" href="Ledger.Dijkstra.Specification.Transaction.html#14911" class="Function">spendData</a> <a id="16116" href="Ledger.Dijkstra.Specification.Transaction.html#16055" class="Bound">tx</a> <a id="16119" href="Ledger.Dijkstra.Specification.Transaction.html#16058" class="Bound">utxo</a>
                       <a id="16147" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="16149" href="Ledger.Dijkstra.Specification.Transaction.html#15247" class="Function">referenceData</a> <a id="16163" href="Ledger.Dijkstra.Specification.Transaction.html#16055" class="Bound">tx</a> <a id="16166" href="Ledger.Dijkstra.Specification.Transaction.html#16058" class="Bound">utxo</a>
                       <a id="16194" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="16196" href="Ledger.Dijkstra.Specification.Transaction.html#15525" class="Function">txOutData</a> <a id="16206" href="Ledger.Dijkstra.Specification.Transaction.html#16055" class="Bound">tx</a>

  <a id="TransactionStructure.getAllScripts"></a><a id="16212" href="Ledger.Dijkstra.Specification.Transaction.html#16212" class="Function">getAllScripts</a> <a id="16226" class="Symbol">:</a> <a id="16228" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="16239" class="Symbol">→</a> <a id="16241" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="16246" class="Symbol">→</a>  <a id="16249" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16251" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="16260" href="Ledger.Dijkstra.Specification.Transaction.html#16212" class="Function">getAllScripts</a> <a id="16274" href="Ledger.Dijkstra.Specification.Transaction.html#16274" class="Bound">txTop</a> <a id="16280" href="Ledger.Dijkstra.Specification.Transaction.html#16280" class="Bound">utxo</a> <a id="16285" class="Symbol">=</a>
    <a id="16291" href="Ledger.Dijkstra.Specification.Transaction.html#15766" class="Function">getTxScripts</a> <a id="16304" href="Ledger.Dijkstra.Specification.Transaction.html#16274" class="Bound">txTop</a> <a id="16310" href="Ledger.Dijkstra.Specification.Transaction.html#16280" class="Bound">utxo</a>
    <a id="16319" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="16321" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="16332" class="Symbol">(λ</a> <a id="16335" href="Ledger.Dijkstra.Specification.Transaction.html#16335" class="Bound">tx</a> <a id="16338" class="Symbol">→</a> <a id="16340" href="Ledger.Dijkstra.Specification.Transaction.html#15766" class="Function">getTxScripts</a> <a id="16353" href="Ledger.Dijkstra.Specification.Transaction.html#16335" class="Bound">tx</a> <a id="16356" href="Ledger.Dijkstra.Specification.Transaction.html#16280" class="Bound">utxo</a><a id="16360" class="Symbol">)</a> <a id="16362" class="Symbol">(</a><a id="16363" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="16372" class="Symbol">(</a><a id="16373" href="Ledger.Dijkstra.Specification.Transaction.html#6340" class="Field">SubTransactionsOf</a> <a id="16391" href="Ledger.Dijkstra.Specification.Transaction.html#16274" class="Bound">txTop</a><a id="16396" class="Symbol">))</a>

  <a id="TransactionStructure.getAllData"></a><a id="16402" href="Ledger.Dijkstra.Specification.Transaction.html#16402" class="Function">getAllData</a> <a id="16413" class="Symbol">:</a> <a id="16415" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="16426" class="Symbol">→</a> <a id="16428" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="16433" class="Symbol">→</a> <a id="16435" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16437" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
  <a id="16445" href="Ledger.Dijkstra.Specification.Transaction.html#16402" class="Function">getAllData</a> <a id="16456" href="Ledger.Dijkstra.Specification.Transaction.html#16456" class="Bound">txTop</a> <a id="16462" href="Ledger.Dijkstra.Specification.Transaction.html#16462" class="Bound">utxo</a> <a id="16467" class="Symbol">=</a>
    <a id="16473" href="Ledger.Dijkstra.Specification.Transaction.html#16003" class="Function">getTxData</a> <a id="16483" href="Ledger.Dijkstra.Specification.Transaction.html#16456" class="Bound">txTop</a> <a id="16489" href="Ledger.Dijkstra.Specification.Transaction.html#16462" class="Bound">utxo</a>
    <a id="16498" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="16500" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="16511" class="Symbol">(λ</a> <a id="16514" href="Ledger.Dijkstra.Specification.Transaction.html#16514" class="Bound">tx</a> <a id="16517" class="Symbol">→</a> <a id="16519" href="Ledger.Dijkstra.Specification.Transaction.html#16003" class="Function">getTxData</a> <a id="16529" href="Ledger.Dijkstra.Specification.Transaction.html#16514" class="Bound">tx</a> <a id="16532" href="Ledger.Dijkstra.Specification.Transaction.html#16462" class="Bound">utxo</a><a id="16536" class="Symbol">)</a> <a id="16538" class="Symbol">(</a><a id="16539" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="16548" class="Symbol">(</a><a id="16549" href="Ledger.Dijkstra.Specification.Transaction.html#6340" class="Field">SubTransactionsOf</a> <a id="16567" href="Ledger.Dijkstra.Specification.Transaction.html#16456" class="Bound">txTop</a><a id="16572" class="Symbol">))</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="16578" href="Ledger.Dijkstra.Specification.Transaction.html#16578" class="Function">lookupScriptHash</a> <a id="16595" class="Symbol">:</a> <a id="16597" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="16608" class="Symbol">→</a> <a id="16610" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="16613" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="16621" class="Symbol">→</a> <a id="16623" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="16628" class="Symbol">→</a> <a id="16630" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="16636" href="Ledger.Dijkstra.Specification.Script.Base.html#2457" class="Function">Script</a>
  <a id="16645" href="Ledger.Dijkstra.Specification.Transaction.html#16578" class="Function">lookupScriptHash</a> <a id="16662" href="Ledger.Dijkstra.Specification.Transaction.html#16662" class="Bound">sh</a> <a id="16665" href="Ledger.Dijkstra.Specification.Transaction.html#16665" class="Bound">tx</a> <a id="16668" href="Ledger.Dijkstra.Specification.Transaction.html#16668" class="Bound">utxo</a> <a id="16673" class="Symbol">=</a> <a id="16675" href="Ledger.Prelude.html#2567" class="Function">lookupHash</a> <a id="16686" href="Ledger.Dijkstra.Specification.Transaction.html#16662" class="Bound">sh</a> <a id="16689" class="Symbol">(</a><a id="16690" href="Ledger.Dijkstra.Specification.Transaction.html#15766" class="Function">getTxScripts</a> <a id="16703" href="Ledger.Dijkstra.Specification.Transaction.html#16665" class="Bound">tx</a> <a id="16706" href="Ledger.Dijkstra.Specification.Transaction.html#16668" class="Bound">utxo</a><a id="16710" class="Symbol">)</a>


  <a id="TransactionStructure.TaggedTopLevelGuard"></a><a id="16716" href="Ledger.Dijkstra.Specification.Transaction.html#16716" class="Function">TaggedTopLevelGuard</a> <a id="16736" class="Symbol">:</a> <a id="16738" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="16745" href="Ledger.Dijkstra.Specification.Transaction.html#16716" class="Function">TaggedTopLevelGuard</a> <a id="16765" class="Symbol">=</a> <a id="16767" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="16772" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16774" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="16785" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16787" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="16793" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a>
                     <a id="16820" class="Comment">-- (subTxId, guard credential, optional datum argument)</a>

  <a id="TransactionStructure.GroupedTopLevelGuards"></a><a id="16879" href="Ledger.Dijkstra.Specification.Transaction.html#16879" class="Function">GroupedTopLevelGuards</a> <a id="16901" class="Symbol">:</a> <a id="16903" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="16910" href="Ledger.Dijkstra.Specification.Transaction.html#16879" class="Function">GroupedTopLevelGuards</a> <a id="16932" class="Symbol">=</a> <a id="16934" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="16939" class="Symbol">(</a><a id="16940" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="16951" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16953" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="16958" class="Symbol">(</a><a id="16959" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="16964" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16966" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="16972" href="Ledger.Dijkstra.Specification.Script.Base.html#1782" class="Function">Datum</a><a id="16977" class="Symbol">))</a>

  <a id="TransactionStructure.groupTopLevelGuards"></a><a id="16983" href="Ledger.Dijkstra.Specification.Transaction.html#16983" class="Function">groupTopLevelGuards</a> <a id="17003" class="Symbol">:</a> <a id="17005" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="17010" href="Ledger.Dijkstra.Specification.Transaction.html#16716" class="Function">TaggedTopLevelGuard</a> <a id="17030" class="Symbol">→</a> <a id="17032" href="Ledger.Dijkstra.Specification.Transaction.html#16879" class="Function">GroupedTopLevelGuards</a>
  <a id="17056" href="Ledger.Dijkstra.Specification.Transaction.html#16983" class="Function">groupTopLevelGuards</a> <a id="17076" class="Symbol">=</a> <a id="17078" href="Data.List.Base.html#4126" class="Function">foldr</a> <a id="17084" href="Ledger.Dijkstra.Specification.Transaction.html#17316" class="Function">insertGuard</a> <a id="17096" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="17103" class="Keyword">where</a>
    <a id="17113" class="Comment">-- Insert one tagged guard into an existing group:</a>
    <a id="17168" class="Comment">--   + if the credential already has a group, cons (subTxId, datum?) onto its list</a>
    <a id="17255" class="Comment">--   + otherwise create a new group for that credential.</a>
    <a id="17316" href="Ledger.Dijkstra.Specification.Transaction.html#17316" class="Function">insertGuard</a> <a id="17328" class="Symbol">:</a> <a id="17330" href="Ledger.Dijkstra.Specification.Transaction.html#16716" class="Function">TaggedTopLevelGuard</a> <a id="17350" class="Symbol">→</a> <a id="17352" href="Ledger.Dijkstra.Specification.Transaction.html#16879" class="Function">GroupedTopLevelGuards</a> <a id="17374" class="Symbol">→</a> <a id="17376" href="Ledger.Dijkstra.Specification.Transaction.html#16879" class="Function">GroupedTopLevelGuards</a>
    <a id="17402" href="Ledger.Dijkstra.Specification.Transaction.html#17316" class="Function">insertGuard</a> <a id="17414" class="Symbol">(</a><a id="17415" href="Ledger.Dijkstra.Specification.Transaction.html#17415" class="Bound">tid</a> <a id="17419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17421" href="Ledger.Dijkstra.Specification.Transaction.html#17421" class="Bound">cred</a> <a id="17426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17428" href="Ledger.Dijkstra.Specification.Transaction.html#17428" class="Bound">md</a><a id="17430" class="Symbol">)</a> <a id="17432" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="17435" class="Symbol">=</a> <a id="17437" class="Symbol">(</a><a id="17438" href="Ledger.Dijkstra.Specification.Transaction.html#17421" class="Bound">cred</a> <a id="17443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17445" class="Symbol">(</a><a id="17446" href="Ledger.Dijkstra.Specification.Transaction.html#17415" class="Bound">tid</a> <a id="17450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17452" href="Ledger.Dijkstra.Specification.Transaction.html#17428" class="Bound">md</a><a id="17454" class="Symbol">)</a> <a id="17456" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17458" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="17460" class="Symbol">)</a> <a id="17462" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17464" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="17471" href="Ledger.Dijkstra.Specification.Transaction.html#17316" class="Function">insertGuard</a> <a id="17483" class="Symbol">(</a><a id="17484" href="Ledger.Dijkstra.Specification.Transaction.html#17484" class="Bound">tid</a> <a id="17488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17490" href="Ledger.Dijkstra.Specification.Transaction.html#17490" class="Bound">cred</a> <a id="17495" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17497" href="Ledger.Dijkstra.Specification.Transaction.html#17497" class="Bound">md</a><a id="17499" class="Symbol">)</a> <a id="17501" class="Symbol">((</a><a id="17503" href="Ledger.Dijkstra.Specification.Transaction.html#17503" class="Bound">c</a> <a id="17505" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17507" href="Ledger.Dijkstra.Specification.Transaction.html#17507" class="Bound">xs</a><a id="17509" class="Symbol">)</a> <a id="17511" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17513" href="Ledger.Dijkstra.Specification.Transaction.html#17513" class="Bound">rest</a><a id="17517" class="Symbol">)</a> <a id="17519" class="Keyword">with</a> <a id="17524" href="Ledger.Dijkstra.Specification.Transaction.html#17503" class="Bound">c</a> <a id="17526" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="17528" href="Ledger.Dijkstra.Specification.Transaction.html#17490" class="Bound">cred</a>
    <a id="17537" class="Symbol">...</a> <a id="17541" class="Symbol">|</a> <a id="17543" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="17547" class="Symbol">_</a> <a id="17549" class="Symbol">=</a> <a id="17551" class="Symbol">(</a><a id="17552" class="Bound">c</a> <a id="17554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17556" class="Symbol">(</a><a id="17557" class="Bound">tid</a> <a id="17561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17563" class="Bound">md</a><a id="17565" class="Symbol">)</a> <a id="17567" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17569" class="Bound">xs</a><a id="17571" class="Symbol">)</a> <a id="17573" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17575" class="Bound">rest</a>
    <a id="17584" class="Symbol">...</a> <a id="17588" class="Symbol">|</a> <a id="17590" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="17594" class="Symbol">_</a> <a id="17596" class="Symbol">=</a> <a id="17598" class="Symbol">(</a><a id="17599" class="Bound">c</a> <a id="17601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17603" class="Bound">xs</a><a id="17605" class="Symbol">)</a> <a id="17607" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17609" href="Ledger.Dijkstra.Specification.Transaction.html#17316" class="Function">insertGuard</a> <a id="17621" class="Symbol">(</a><a id="17622" class="Bound">tid</a> <a id="17626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17628" class="Bound">cred</a> <a id="17633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17635" class="Bound">md</a><a id="17637" class="Symbol">)</a> <a id="17639" class="Bound">rest</a>

  <a id="TransactionStructure.subTxTaggedGuards"></a><a id="17647" href="Ledger.Dijkstra.Specification.Transaction.html#17647" class="Function">subTxTaggedGuards</a> <a id="17665" class="Symbol">:</a> <a id="17667" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a> <a id="17678" class="Symbol">→</a> <a id="17680" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17682" href="Ledger.Dijkstra.Specification.Transaction.html#16716" class="Function">TaggedTopLevelGuard</a>
  <a id="17704" href="Ledger.Dijkstra.Specification.Transaction.html#17647" class="Function">subTxTaggedGuards</a> <a id="17722" href="Ledger.Dijkstra.Specification.Transaction.html#17722" class="Bound">subtx</a> <a id="17728" class="Symbol">=</a>
    <a id="17734" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="17739" class="Symbol">(λ</a> <a id="17742" class="Symbol">(</a><a id="17743" href="Ledger.Dijkstra.Specification.Transaction.html#17743" class="Bound">cred</a> <a id="17748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17750" href="Ledger.Dijkstra.Specification.Transaction.html#17750" class="Bound">md</a><a id="17752" class="Symbol">)</a> <a id="17754" class="Symbol">→</a> <a id="17756" class="Symbol">(</a><a id="17757" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Field">TxIdOf</a> <a id="17764" href="Ledger.Dijkstra.Specification.Transaction.html#17722" class="Bound">subtx</a> <a id="17770" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17772" href="Ledger.Dijkstra.Specification.Transaction.html#17743" class="Bound">cred</a> <a id="17777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17779" href="Ledger.Dijkstra.Specification.Transaction.html#17750" class="Bound">md</a><a id="17781" class="Symbol">))</a> <a id="17784" class="Symbol">(</a><a id="17785" href="Ledger.Dijkstra.Specification.Transaction.html#6550" class="Field">TopLevelGuardsOf</a> <a id="17802" href="Ledger.Dijkstra.Specification.Transaction.html#17722" class="Bound">subtx</a><a id="17807" class="Symbol">)</a>

  <a id="17812" class="Comment">-- Turn a subTx body&#39;s `txRequiredTopLevelGuards` into a set of guard credentials.</a>
  <a id="TransactionStructure.subTxGuardCredentials"></a><a id="17897" href="Ledger.Dijkstra.Specification.Transaction.html#17897" class="Function">subTxGuardCredentials</a> <a id="17919" class="Symbol">:</a> <a id="17921" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a> <a id="17932" class="Symbol">→</a> <a id="17934" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17936" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="17949" href="Ledger.Dijkstra.Specification.Transaction.html#17897" class="Function">subTxGuardCredentials</a> <a id="17971" class="Symbol">=</a> <a id="17973" class="Symbol">(</a><a id="17974" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="17979" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17984" class="Symbol">)</a> <a id="17986" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="17988" href="Ledger.Dijkstra.Specification.Transaction.html#6550" class="Field">TopLevelGuardsOf</a>

  <a id="18008" class="Comment">-- Phase-1 condition (CIP-0118):</a>
  <a id="18043" class="Comment">-- every credential required by a subTx body must appear in the top-level txGuards set.</a>
  <a id="TransactionStructure.requiredGuardsInTopLevel"></a><a id="18133" href="Ledger.Dijkstra.Specification.Transaction.html#18133" class="Function">requiredGuardsInTopLevel</a> <a id="18158" class="Symbol">:</a> <a id="18160" href="Ledger.Dijkstra.Specification.Transaction.html#5270" class="Function">TopLevelTx</a> <a id="18171" class="Symbol">→</a> <a id="18173" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18178" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">SubLevelTx</a> <a id="18189" class="Symbol">→</a> <a id="18191" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="18198" href="Ledger.Dijkstra.Specification.Transaction.html#18133" class="Function">requiredGuardsInTopLevel</a> <a id="18223" href="Ledger.Dijkstra.Specification.Transaction.html#18223" class="Bound">topTx</a> <a id="18229" href="Ledger.Dijkstra.Specification.Transaction.html#18229" class="Bound">subTxs</a> <a id="18236" class="Symbol">=</a> <a id="18238" href="Ledger.Dijkstra.Specification.Transaction.html#18460" class="Function">requiredCreds</a> <a id="18252" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="18254" href="Ledger.Dijkstra.Specification.Transaction.html#8168" class="Field">GuardsOf</a> <a id="18263" href="Ledger.Dijkstra.Specification.Transaction.html#18223" class="Bound">topTx</a>
    <a id="18273" class="Keyword">where</a>
    <a id="18283" href="Ledger.Dijkstra.Specification.Transaction.html#18283" class="Function">concatMapˡ</a> <a id="18294" class="Symbol">:</a> <a id="18296" class="Symbol">{</a><a id="18297" href="Ledger.Dijkstra.Specification.Transaction.html#18297" class="Bound">A</a> <a id="18299" href="Ledger.Dijkstra.Specification.Transaction.html#18299" class="Bound">B</a> <a id="18301" class="Symbol">:</a> <a id="18303" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="18307" class="Symbol">}</a> <a id="18309" class="Symbol">→</a> <a id="18311" class="Symbol">(</a><a id="18312" href="Ledger.Dijkstra.Specification.Transaction.html#18297" class="Bound">A</a> <a id="18314" class="Symbol">→</a> <a id="18316" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18318" href="Ledger.Dijkstra.Specification.Transaction.html#18299" class="Bound">B</a><a id="18319" class="Symbol">)</a> <a id="18321" class="Symbol">→</a> <a id="18323" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18328" href="Ledger.Dijkstra.Specification.Transaction.html#18297" class="Bound">A</a> <a id="18330" class="Symbol">→</a> <a id="18332" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18334" href="Ledger.Dijkstra.Specification.Transaction.html#18299" class="Bound">B</a>
    <a id="18340" href="Ledger.Dijkstra.Specification.Transaction.html#18283" class="Function">concatMapˡ</a> <a id="18351" href="Ledger.Dijkstra.Specification.Transaction.html#18351" class="Bound">f</a> <a id="18353" href="Ledger.Dijkstra.Specification.Transaction.html#18353" class="Bound">as</a> <a id="18356" class="Symbol">=</a> <a id="18358" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18364" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="18366" href="Axiom.Set.html#2286" class="Function">unions</a> <a id="18373" class="Symbol">(</a><a id="18374" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="18383" class="Symbol">(</a><a id="18384" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="18388" href="Ledger.Dijkstra.Specification.Transaction.html#18351" class="Bound">f</a> <a id="18390" href="Ledger.Dijkstra.Specification.Transaction.html#18353" class="Bound">as</a><a id="18392" class="Symbol">))</a>
    <a id="18399" class="Comment">-- (maybe move concatMapˡ to src-lib-exts or agda-sets)</a>

    <a id="18460" href="Ledger.Dijkstra.Specification.Transaction.html#18460" class="Function">requiredCreds</a> <a id="18474" class="Symbol">:</a> <a id="18476" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18478" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
    <a id="18493" href="Ledger.Dijkstra.Specification.Transaction.html#18460" class="Function">requiredCreds</a> <a id="18507" class="Symbol">=</a> <a id="18509" href="Ledger.Dijkstra.Specification.Transaction.html#18283" class="Function">concatMapˡ</a> <a id="18520" href="Ledger.Dijkstra.Specification.Transaction.html#17897" class="Function">subTxGuardCredentials</a> <a id="18542" href="Ledger.Dijkstra.Specification.Transaction.html#18229" class="Bound">subTxs</a>

</pre></body></html>