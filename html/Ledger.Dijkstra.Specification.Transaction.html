<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#4102" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a> <a id="373" class="Symbol">to</a> <a id="376" class="Record">RewardAddress</a><a id="389" class="Symbol">)</a>
<a id="391" class="Keyword">import</a> <a id="398" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="434" class="Keyword">import</a> <a id="441" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="483" class="Keyword">import</a> <a id="490" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="572" class="Keyword">import</a> <a id="579" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="628" class="Keyword">open</a> <a id="633" class="Keyword">import</a> <a id="640" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="699" class="Keyword">using</a> <a id="705" class="Symbol">(</a><a id="706" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="709" class="Symbol">)</a>


<a id="713" class="Keyword">data</a> <a id="TxLevel"></a><a id="718" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="726" class="Symbol">:</a> <a id="728" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="733" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="741" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="752" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="763" class="Symbol">:</a> <a id="765" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="775" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="786" class="Symbol">:</a> <a id="788" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="796" class="Symbol">→</a> <a id="798" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="803" class="Symbol">→</a> <a id="805" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="810" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="821" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="832" href="Ledger.Dijkstra.Specification.Transaction.html#832" class="Bound">X</a> <a id="834" class="Symbol">=</a> <a id="836" href="Ledger.Dijkstra.Specification.Transaction.html#832" class="Bound">X</a>
<a id="838" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="849" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="860" class="Symbol">_</a> <a id="862" class="Symbol">=</a> <a id="864" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="867" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="878" class="Symbol">:</a> <a id="880" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="888" class="Symbol">→</a> <a id="890" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="895" class="Symbol">→</a> <a id="897" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="902" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="913" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="924" href="Ledger.Dijkstra.Specification.Transaction.html#924" class="Bound">X</a> <a id="926" class="Symbol">=</a> <a id="928" href="Ledger.Dijkstra.Specification.Transaction.html#924" class="Bound">X</a>
<a id="930" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="941" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a> <a id="952" class="Symbol">_</a> <a id="954" class="Symbol">=</a> <a id="956" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="960" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="972" href="Ledger.Dijkstra.Specification.Transaction.html#972" class="Function">DecEq-TxLevel</a> <a id="986" class="Symbol">=</a> <a id="988" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1001" class="Symbol">((</a><a id="1003" class="Keyword">quote</a> <a id="1009" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="1017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1019" href="Ledger.Dijkstra.Specification.Transaction.html#972" class="Function">DecEq-TxLevel</a><a id="1032" class="Symbol">)</a> <a id="1034" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1036" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1038" class="Symbol">)</a>

<a id="1041" class="Keyword">private</a>
  <a id="1051" class="Keyword">variable</a>
    <a id="1064" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="1072" class="Symbol">:</a> <a id="1074" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a>

<a id="1083" class="Keyword">data</a> <a id="Tag"></a><a id="1088" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1109" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1117" href="Ledger.Dijkstra.Specification.Transaction.html#1117" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1123" href="Ledger.Dijkstra.Specification.Transaction.html#1123" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1128" href="Ledger.Dijkstra.Specification.Transaction.html#1128" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1133" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1140" href="Ledger.Dijkstra.Specification.Transaction.html#1140" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1145" href="Ledger.Dijkstra.Specification.Transaction.html#1145" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1153" href="Ledger.Dijkstra.Specification.Transaction.html#1153" class="InductiveConstructor">Guard</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1165" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1175" href="Ledger.Dijkstra.Specification.Transaction.html#1175" class="InductiveConstructor">SubGuard</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1190" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a>

<a id="1202" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1214" href="Ledger.Dijkstra.Specification.Transaction.html#1214" class="Function">DecEq-Tag</a> <a id="1224" class="Symbol">=</a> <a id="1226" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1239" class="Symbol">((</a><a id="1241" class="Keyword">quote</a> <a id="1247" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="1251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1253" href="Ledger.Dijkstra.Specification.Transaction.html#1214" class="Function">DecEq-Tag</a><a id="1262" class="Symbol">)</a> <a id="1264" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1266" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1268" class="Symbol">)</a>


<a id="1272" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1279" href="Ledger.Dijkstra.Specification.Transaction.html#1279" class="Record">TransactionStructure</a> <a id="1300" class="Symbol">:</a> <a id="1302" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1308" class="Keyword">where</a>
  <a id="1316" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1326" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1329" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1334" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>  <a id="1349" class="Symbol">:</a> <a id="1351" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1360" href="Ledger.Dijkstra.Specification.Transaction.html#1360" class="Field">adHashingScheme</a>        <a id="1383" class="Symbol">:</a> <a id="1385" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1399" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>
    <a id="TransactionStructure.globalConstants"></a><a id="1417" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a>        <a id="1440" class="Symbol">:</a> <a id="1442" href="Ledger.Core.Specification.Epoch.html#2274" class="Record">GlobalConstants</a>
    <a id="TransactionStructure.crypto"></a><a id="1462" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a>                 <a id="1485" class="Symbol">:</a> <a id="1487" href="Ledger.Core.Specification.Crypto.html#1110" class="Record">CryptoStructure</a>
    <a id="TransactionStructure.epochStructure"></a><a id="1507" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a>         <a id="1530" class="Symbol">:</a> <a id="1532" href="Ledger.Core.Specification.Epoch.html#578" class="Record">EpochStructure</a>


    <a id="1553" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1555" href="Ledger.Dijkstra.Specification.Transaction.html#1555" class="Field">DecEq-Ix</a>   <a id="1566" class="Symbol">⦄</a> <a id="1568" class="Symbol">:</a> <a id="1570" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1576" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>
    <a id="1583" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1585" href="Ledger.Dijkstra.Specification.Transaction.html#1585" class="Field">DecEq-TxId</a> <a id="1596" class="Symbol">⦄</a> <a id="1598" class="Symbol">:</a> <a id="1600" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1606" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
  <a id="1613" class="Keyword">open</a> <a id="1618" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1632" href="Ledger.Dijkstra.Specification.Transaction.html#1360" class="Field">adHashingScheme</a> <a id="1648" class="Keyword">renaming</a> <a id="1657" class="Symbol">(</a><a id="1658" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1664" class="Symbol">to</a> <a id="1667" class="Field">ADHash</a><a id="1673" class="Symbol">)</a> <a id="1675" class="Keyword">public</a>
  <a id="1684" class="Keyword">open</a> <a id="1689" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1705" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a> <a id="1721" class="Keyword">public</a>
  <a id="1730" class="Keyword">open</a> <a id="1735" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1751" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="1758" class="Keyword">public</a>
  <a id="1767" class="Keyword">open</a> <a id="1772" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1820" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1831" class="Keyword">public</a>
  <a id="1840" class="Keyword">open</a> <a id="1845" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1879" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1887" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1895" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1906" class="Symbol">⦃</a> <a id="1908" href="Function.Base.html#4755" class="Function">it</a> <a id="1911" class="Symbol">⦄</a> <a id="1913" class="Symbol">⦃</a> <a id="1915" href="Function.Base.html#4755" class="Function">it</a> <a id="1918" class="Symbol">⦄</a> <a id="1920" class="Symbol">⦃</a> <a id="1922" href="Function.Base.html#4755" class="Function">it</a> <a id="1925" class="Symbol">⦄</a> <a id="1927" class="Keyword">public</a>
  <a id="1936" class="Keyword">open</a> <a id="1941" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="1956" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="1971" class="Keyword">public</a>
  <a id="1980" class="Keyword">open</a> <a id="1985" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="2022" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="2029" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="2044" class="Keyword">public</a>
  <a id="2053" class="Keyword">field</a>


    <a id="TransactionStructure.scriptStructure"></a><a id="2065" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a>        <a id="2088" class="Symbol">:</a> <a id="2090" href="Ledger.Conway.Specification.Script.Base.html#2050" class="Record">ScriptStructure</a>


  <a id="2110" class="Keyword">open</a> <a id="2115" href="Ledger.Conway.Specification.Script.Base.html#2050" class="Module">ScriptStructure</a> <a id="2131" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a> <a id="2147" class="Keyword">public</a>
  <a id="2156" class="Keyword">open</a> <a id="2161" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2199" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a> <a id="2206" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a> <a id="2221" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a> <a id="2237" class="Keyword">public</a>
  <a id="2246" class="Keyword">field</a>


    <a id="TransactionStructure.govParams"></a><a id="2258" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a>              <a id="2281" class="Symbol">:</a> <a id="2283" href="Ledger.Conway.Specification.PParams.html#13997" class="Record">GovParams</a>
    <a id="TransactionStructure.tokenAlgebra"></a><a id="2297" href="Ledger.Dijkstra.Specification.Transaction.html#2297" class="Field">tokenAlgebra</a>           <a id="2320" class="Symbol">:</a> <a id="2322" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Record">TokenAlgebra</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2339" href="Ledger.Dijkstra.Specification.Transaction.html#2339" class="Field">txidBytes</a>              <a id="2362" class="Symbol">:</a> <a id="2364" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="2369" class="Symbol">→</a> <a id="2371" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>


  <a id="2379" class="Keyword">open</a> <a id="2384" href="Ledger.Conway.Specification.PParams.html#13997" class="Module">GovParams</a> <a id="2394" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a> <a id="2404" class="Keyword">public</a>
  <a id="2413" class="Keyword">open</a> <a id="2418" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Module">TokenAlgebra</a> <a id="2431" href="Ledger.Dijkstra.Specification.Transaction.html#2297" class="Field">tokenAlgebra</a> <a id="2444" class="Keyword">public</a>


  <a id="TransactionStructure.govStructure"></a><a id="2455" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a> <a id="2468" class="Symbol">:</a> <a id="2470" href="Ledger.Conway.Specification.Gov.Base.html#326" class="Record">GovStructure</a>
  <a id="2485" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a> <a id="2498" class="Symbol">=</a> <a id="2500" class="Keyword">record</a>
    <a id="2511" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2560" class="Symbol">{</a> <a id="2562" href="Ledger.Conway.Specification.Gov.Base.html#361" class="Field">TxId</a> <a id="2567" class="Symbol">=</a> <a id="2569" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a><a id="2573" class="Symbol">;</a> <a id="2575" href="Ledger.Conway.Specification.Gov.Base.html#366" class="Field">DocHash</a> <a id="2583" class="Symbol">=</a> <a id="2585" href="Ledger.Dijkstra.Specification.Transaction.html#1667" class="Function">ADHash</a>
    <a id="2596" class="Symbol">;</a> <a id="2598" href="Ledger.Conway.Specification.Gov.Base.html#426" class="Field">cryptoStructure</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">crypto</a>
    <a id="2627" class="Symbol">;</a> <a id="2629" href="Ledger.Conway.Specification.Gov.Base.html#501" class="Field">epochStructure</a> <a id="2644" class="Symbol">=</a> <a id="2646" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">epochStructure</a>
    <a id="2665" class="Symbol">;</a> <a id="2667" href="Ledger.Conway.Specification.Gov.Base.html#573" class="Field">scriptStructure</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="Ledger.Dijkstra.Specification.Transaction.html#2065" class="Field">scriptStructure</a>
    <a id="2705" class="Symbol">;</a> <a id="2707" href="Ledger.Conway.Specification.Gov.Base.html#791" class="Field">govParams</a> <a id="2717" class="Symbol">=</a> <a id="2719" href="Ledger.Dijkstra.Specification.Transaction.html#2258" class="Field">govParams</a>
    <a id="2733" class="Symbol">;</a> <a id="2735" href="Ledger.Conway.Specification.Gov.Base.html#856" class="Field">globalConstants</a> <a id="2751" class="Symbol">=</a> <a id="2753" href="Ledger.Dijkstra.Specification.Transaction.html#1417" class="Field">globalConstants</a>
    <a id="2773" class="Symbol">}</a>


  <a id="2779" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2786" href="Ledger.Dijkstra.Specification.Transaction.html#2786" class="Module">GovernanceActions</a> <a id="2804" class="Symbol">=</a> <a id="2806" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2848" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>
  <a id="2863" class="Keyword">open</a> <a id="2868" href="Ledger.Dijkstra.Specification.Transaction.html#2786" class="Module">GovernanceActions</a> <a id="2886" class="Keyword">hiding</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Ledger.Conway.Specification.Gov.Actions.html#2030" class="Datatype">Vote</a><a id="2898" class="Symbol">;</a> <a id="2900" href="Ledger.Conway.Specification.Gov.Actions.html#2050" class="InductiveConstructor">yes</a><a id="2903" class="Symbol">;</a> <a id="2905" href="Ledger.Conway.Specification.Gov.Actions.html#2054" class="InductiveConstructor">no</a><a id="2907" class="Symbol">;</a> <a id="2909" href="Ledger.Conway.Specification.Gov.Actions.html#2057" class="InductiveConstructor">abstain</a><a id="2916" class="Symbol">)</a> <a id="2918" class="Keyword">public</a>

  <a id="2928" class="Keyword">open</a> <a id="2933" class="Keyword">import</a> <a id="2940" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="2976" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="2993" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="2998" class="Symbol">:</a> <a id="3000" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3007" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="3012" class="Symbol">=</a> <a id="3014" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="3019" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3021" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="3027" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="3033" class="Symbol">:</a> <a id="3035" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3042" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="3048" class="Symbol">=</a> <a id="3050" href="Ledger.Core.Specification.Address.html#2535" class="Function">Addr</a> <a id="3055" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3057" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="3063" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3065" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3071" class="Symbol">(</a><a id="3072" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="3078" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3080" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="3088" class="Symbol">)</a> <a id="3090" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3092" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3098" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="3108" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="3113" class="Symbol">:</a> <a id="3115" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3122" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="3127" class="Symbol">=</a> <a id="3129" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="3134" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3136" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3145" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="3157" class="Symbol">:</a> <a id="3159" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a> <a id="3167" class="Symbol">→</a> <a id="3169" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3176" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="3188" href="Ledger.Dijkstra.Specification.Transaction.html#3188" class="Bound">txLevel</a>  <a id="3197" class="Symbol">=</a> <a id="3199" href="Ledger.Dijkstra.Specification.Transaction.html#1088" class="Datatype">Tag</a> <a id="3203" href="Ledger.Dijkstra.Specification.Transaction.html#3188" class="Bound">txLevel</a> <a id="3211" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3213" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3219" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3237" class="Symbol">:</a> <a id="3239" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3246" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3264" class="Symbol">=</a> <a id="3266" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3274" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3276" href="Ledger.Conway.Specification.PParams.html#14095" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3293" href="Ledger.Dijkstra.Specification.Transaction.html#3293" class="Function">Update</a> <a id="3300" class="Symbol">:</a> <a id="3302" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3309" href="Ledger.Dijkstra.Specification.Transaction.html#3293" class="Function">Update</a> <a id="3316" class="Symbol">=</a> <a id="3318" href="Ledger.Dijkstra.Specification.Transaction.html#3219" class="Function">ProposedPPUpdates</a> <a id="3336" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3338" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>

  <a id="3347" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3354" href="Ledger.Dijkstra.Specification.Transaction.html#3354" class="Record">HasUTxO</a> <a id="3362" class="Symbol">{</a><a id="3363" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a><a id="3364" class="Symbol">}</a> <a id="3366" class="Symbol">(</a><a id="3367" href="Ledger.Dijkstra.Specification.Transaction.html#3367" class="Bound">A</a> <a id="3369" class="Symbol">:</a> <a id="3371" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3376" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">:</a> <a id="3381" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3386" href="Ledger.Dijkstra.Specification.Transaction.html#3363" class="Bound">a</a> <a id="3388" class="Keyword">where</a>
    <a id="3398" class="Keyword">field</a> <a id="3404" href="Ledger.Dijkstra.Specification.Transaction.html#3404" class="Field">UTxOOf</a> <a id="3411" class="Symbol">:</a> <a id="3413" href="Ledger.Dijkstra.Specification.Transaction.html#3367" class="Bound">A</a> <a id="3415" class="Symbol">→</a> <a id="3417" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a>
  <a id="3424" class="Keyword">open</a> <a id="3429" href="Ledger.Dijkstra.Specification.Transaction.html#3354" class="Module">HasUTxO</a> <a id="3437" class="Symbol">⦃...⦄</a> <a id="3443" class="Keyword">public</a>


  <a id="3454" class="Keyword">mutual</a>
    <a id="3465" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3472" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="3475" class="Symbol">(</a><a id="3476" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a> <a id="3484" class="Symbol">:</a> <a id="3486" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="3493" class="Symbol">)</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3502" class="Keyword">where</a>
      <a id="3514" class="Keyword">inductive</a>
      <a id="3530" class="Keyword">field</a>
        <a id="3544" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">txBody</a>       <a id="3557" class="Symbol">:</a> <a id="3559" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="3566" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a>
        <a id="3582" href="Ledger.Dijkstra.Specification.Transaction.html#3582" class="Field">txWitnesses</a>  <a id="3595" class="Symbol">:</a> <a id="3597" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="3609" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a>
        <a id="3625" href="Ledger.Dijkstra.Specification.Transaction.html#3625" class="Field">isValid</a>      <a id="3638" class="Symbol">:</a> <a id="3640" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="3651" href="Ledger.Dijkstra.Specification.Transaction.html#3476" class="Bound">txLevel</a> <a id="3659" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3672" href="Ledger.Dijkstra.Specification.Transaction.html#3672" class="Field">txAuxData</a>    <a id="3685" class="Symbol">:</a> <a id="3687" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3693" href="Ledger.Dijkstra.Specification.Transaction.html#1334" class="Field">AuxiliaryData</a>

    <a id="3712" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3719" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="3726" class="Symbol">(</a><a id="3727" href="Ledger.Dijkstra.Specification.Transaction.html#3727" class="Bound">txLevel</a> <a id="3735" class="Symbol">:</a> <a id="3737" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="3744" class="Symbol">)</a> <a id="3746" class="Symbol">:</a> <a id="3748" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3753" class="Keyword">where</a>
      <a id="3765" class="Keyword">inductive</a>
      <a id="3781" class="Keyword">field</a>
        <a id="3795" href="Ledger.Dijkstra.Specification.Transaction.html#3795" class="Field">txIns</a>                <a id="3816" class="Symbol">:</a> <a id="3818" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3820" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
        <a id="3833" href="Ledger.Dijkstra.Specification.Transaction.html#3833" class="Field">refInputs</a>            <a id="3854" class="Symbol">:</a> <a id="3856" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3858" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
        <a id="3871" href="Ledger.Dijkstra.Specification.Transaction.html#3871" class="Field">collateralInputs</a>     <a id="3892" class="Symbol">:</a> <a id="3894" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="3905" href="Ledger.Dijkstra.Specification.Transaction.html#3727" class="Bound">txLevel</a> <a id="3913" class="Symbol">(</a><a id="3914" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3916" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a><a id="3920" class="Symbol">)</a>
        <a id="3930" href="Ledger.Dijkstra.Specification.Transaction.html#3930" class="Field">txOuts</a>               <a id="3951" class="Symbol">:</a> <a id="3953" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="3956" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3958" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
        <a id="3972" href="Ledger.Dijkstra.Specification.Transaction.html#3972" class="Field">txId</a>                 <a id="3993" class="Symbol">:</a> <a id="3995" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
        <a id="4008" href="Ledger.Dijkstra.Specification.Transaction.html#4008" class="Field">txCerts</a>              <a id="4029" class="Symbol">:</a> <a id="4031" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4036" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">DCert</a>
        <a id="4050" href="Ledger.Dijkstra.Specification.Transaction.html#4050" class="Field">txFee</a>                <a id="4071" class="Symbol">:</a> <a id="4073" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="4084" href="Ledger.Dijkstra.Specification.Transaction.html#3727" class="Bound">txLevel</a> <a id="4092" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
        <a id="4105" href="Ledger.Dijkstra.Specification.Transaction.html#4105" class="Field">txWithdrawals</a>        <a id="4126" class="Symbol">:</a> <a id="4128" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>
        <a id="4148" href="Ledger.Dijkstra.Specification.Transaction.html#4148" class="Field">txVldt</a>               <a id="4169" class="Symbol">:</a> <a id="4171" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4177" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="4182" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4184" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4190" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
        <a id="4203" href="Ledger.Dijkstra.Specification.Transaction.html#4203" class="Field">txADhash</a>             <a id="4224" class="Symbol">:</a> <a id="4226" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4232" href="Ledger.Dijkstra.Specification.Transaction.html#1667" class="Function">ADHash</a>
        <a id="4247" href="Ledger.Dijkstra.Specification.Transaction.html#4247" class="Field">txDonation</a>           <a id="4268" class="Symbol">:</a> <a id="4270" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4288" href="Ledger.Dijkstra.Specification.Transaction.html#4288" class="Field">txGovVotes</a>           <a id="4309" class="Symbol">:</a> <a id="4311" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4316" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a>
        <a id="4332" href="Ledger.Dijkstra.Specification.Transaction.html#4332" class="Field">txGovProposals</a>       <a id="4353" class="Symbol">:</a> <a id="4355" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4360" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a>
        <a id="4380" href="Ledger.Dijkstra.Specification.Transaction.html#4380" class="Field">txNetworkId</a>          <a id="4401" class="Symbol">:</a> <a id="4403" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4409" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
        <a id="4425" href="Ledger.Dijkstra.Specification.Transaction.html#4425" class="Field">currentTreasury</a>      <a id="4446" class="Symbol">:</a> <a id="4448" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4454" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4467" href="Ledger.Dijkstra.Specification.Transaction.html#4467" class="Field">mint</a>                 <a id="4488" class="Symbol">:</a> <a id="4490" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
        <a id="4504" href="Ledger.Dijkstra.Specification.Transaction.html#4504" class="Field">scriptIntegrityHash</a>  <a id="4525" class="Symbol">:</a> <a id="4527" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4533" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4553" class="Comment">-- New in Dijkstra --</a>
        <a id="4583" href="Ledger.Dijkstra.Specification.Transaction.html#4583" class="Field">txSubTransactions</a>         <a id="4609" class="Symbol">:</a> <a id="4611" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="4622" href="Ledger.Dijkstra.Specification.Transaction.html#3727" class="Bound">txLevel</a> <a id="4630" class="Symbol">(</a><a id="4631" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4636" class="Symbol">(</a><a id="4637" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="4640" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="4650" class="Symbol">))</a>
        <a id="4661" href="Ledger.Dijkstra.Specification.Transaction.html#4661" class="Field">txGuards</a>                  <a id="4687" class="Symbol">:</a> <a id="4689" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4691" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
        <a id="4710" href="Ledger.Dijkstra.Specification.Transaction.html#4710" class="Field">txRequiredTopLevelGuards</a>  <a id="4736" class="Symbol">:</a> <a id="4738" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="4749" href="Ledger.Dijkstra.Specification.Transaction.html#3727" class="Bound">txLevel</a> <a id="4757" class="Symbol">(</a><a id="4758" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4760" class="Symbol">(</a><a id="4761" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="4772" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4774" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4780" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a><a id="4785" class="Symbol">))</a>
        <a id="4796" class="Comment">---------------------</a>

      <a id="TransactionStructure.TxBody.reqSignerHashes"></a><a id="4825" href="Ledger.Dijkstra.Specification.Transaction.html#4825" class="Function">reqSignerHashes</a> <a id="4841" class="Symbol">:</a> <a id="4843" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4845" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
      <a id="4859" href="Ledger.Dijkstra.Specification.Transaction.html#4825" class="Function">reqSignerHashes</a> <a id="4875" class="Symbol">=</a> <a id="4877" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4888" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="4901" href="Ledger.Dijkstra.Specification.Transaction.html#4661" class="Field">txGuards</a>


    <a id="4916" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="4923" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="4935" class="Symbol">(</a><a id="4936" href="Ledger.Dijkstra.Specification.Transaction.html#4936" class="Bound">txLevel</a> <a id="4944" class="Symbol">:</a> <a id="4946" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="4953" class="Symbol">)</a> <a id="4955" class="Symbol">:</a> <a id="4957" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4962" class="Keyword">where</a>
      <a id="4974" class="Keyword">inductive</a>
      <a id="4990" class="Keyword">field</a>
        <a id="5004" href="Ledger.Dijkstra.Specification.Transaction.html#5004" class="Field">vKeySigs</a>     <a id="5017" class="Symbol">:</a> <a id="5019" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="5024" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5026" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
        <a id="5038" href="Ledger.Dijkstra.Specification.Transaction.html#5038" class="Field">scripts</a>      <a id="5051" class="Symbol">:</a> <a id="5053" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5055" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
        <a id="5070" href="Ledger.Dijkstra.Specification.Transaction.html#5070" class="Field">txData</a>       <a id="5083" class="Symbol">:</a> <a id="5085" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a> <a id="5094" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5096" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
        <a id="5110" href="Ledger.Dijkstra.Specification.Transaction.html#5110" class="Field">txRedeemers</a>  <a id="5123" class="Symbol">:</a> <a id="5125" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="5137" href="Ledger.Dijkstra.Specification.Transaction.html#4936" class="Bound">txLevel</a> <a id="5145" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5147" href="Ledger.Conway.Specification.Script.Base.html#1788" class="Function">Redeemer</a> <a id="5156" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5158" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5173" href="Ledger.Dijkstra.Specification.Transaction.html#5173" class="Function">scriptsP1</a> <a id="5183" class="Symbol">:</a> <a id="5185" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5187" href="Ledger.Conway.Specification.Script.Base.html#642" class="Function">P1Script</a>
      <a id="5202" href="Ledger.Dijkstra.Specification.Transaction.html#5173" class="Function">scriptsP1</a> <a id="5212" class="Symbol">=</a> <a id="5214" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5225" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5232" href="Ledger.Dijkstra.Specification.Transaction.html#5038" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5244" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a> <a id="5255" class="Symbol">:</a> <a id="5257" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5264" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a> <a id="5275" class="Symbol">=</a> <a id="5277" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="5280" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5294" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="5305" class="Symbol">:</a> <a id="5307" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5314" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="5325" class="Symbol">=</a> <a id="5327" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="5330" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5345" href="Ledger.Dijkstra.Specification.Transaction.html#5345" class="Function">AnyLevelTx</a> <a id="5356" class="Symbol">:</a> <a id="5358" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5365" href="Ledger.Dijkstra.Specification.Transaction.html#5345" class="Function">AnyLevelTx</a> <a id="5376" class="Symbol">=</a> <a id="5378" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a> <a id="5389" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5391" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a>


  <a id="5406" class="Comment">-- Level-Dependent Type Classes --</a>
  <a id="5443" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5450" href="Ledger.Dijkstra.Specification.Transaction.html#5450" class="Record">HasTxBody</a> <a id="5460" class="Symbol">{</a><a id="5461" href="Ledger.Dijkstra.Specification.Transaction.html#5461" class="Bound">txLevel</a><a id="5468" class="Symbol">}</a> <a id="5470" class="Symbol">{</a><a id="5471" href="Ledger.Dijkstra.Specification.Transaction.html#5471" class="Bound">a</a><a id="5472" class="Symbol">}</a> <a id="5474" class="Symbol">(</a><a id="5475" href="Ledger.Dijkstra.Specification.Transaction.html#5475" class="Bound">A</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5484" href="Ledger.Dijkstra.Specification.Transaction.html#5471" class="Bound">a</a><a id="5485" class="Symbol">)</a> <a id="5487" class="Symbol">:</a> <a id="5489" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5494" href="Ledger.Dijkstra.Specification.Transaction.html#5471" class="Bound">a</a> <a id="5496" class="Keyword">where</a>
    <a id="5506" class="Keyword">field</a> <a id="5512" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a> <a id="5521" class="Symbol">:</a> <a id="5523" href="Ledger.Dijkstra.Specification.Transaction.html#5475" class="Bound">A</a> <a id="5525" class="Symbol">→</a> <a id="5527" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="5534" href="Ledger.Dijkstra.Specification.Transaction.html#5461" class="Bound">txLevel</a>
  <a id="5544" class="Keyword">open</a> <a id="5549" href="Ledger.Dijkstra.Specification.Transaction.html#5450" class="Module">HasTxBody</a>  <a id="5560" class="Symbol">⦃...⦄</a> <a id="5566" class="Keyword">public</a>

  <a id="5576" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="5583" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Record">HasTxWitnesses</a> <a id="5598" class="Symbol">{</a><a id="5599" href="Ledger.Dijkstra.Specification.Transaction.html#5599" class="Bound">txLevel</a><a id="5606" class="Symbol">}</a> <a id="5608" class="Symbol">{</a><a id="5609" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Bound">a</a><a id="5610" class="Symbol">}</a> <a id="5612" class="Symbol">(</a><a id="5613" href="Ledger.Dijkstra.Specification.Transaction.html#5613" class="Bound">A</a> <a id="5615" class="Symbol">:</a> <a id="5617" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5622" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Bound">a</a><a id="5623" class="Symbol">)</a> <a id="5625" class="Symbol">:</a> <a id="5627" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5632" href="Ledger.Dijkstra.Specification.Transaction.html#5609" class="Bound">a</a> <a id="5634" class="Keyword">where</a>
    <a id="5644" class="Keyword">field</a> <a id="5650" href="Ledger.Dijkstra.Specification.Transaction.html#5650" class="Field">TxWitnessesOf</a> <a id="5664" class="Symbol">:</a> <a id="5666" href="Ledger.Dijkstra.Specification.Transaction.html#5613" class="Bound">A</a> <a id="5668" class="Symbol">→</a> <a id="5670" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="5682" href="Ledger.Dijkstra.Specification.Transaction.html#5599" class="Bound">txLevel</a>
  <a id="5692" class="Keyword">open</a> <a id="5697" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Module">HasTxWitnesses</a> <a id="5712" class="Symbol">⦃...⦄</a> <a id="5718" class="Keyword">public</a>

  <a id="5728" class="Keyword">record</a> <a id="TransactionStructure.HasRedeemers"></a><a id="5735" href="Ledger.Dijkstra.Specification.Transaction.html#5735" class="Record">HasRedeemers</a> <a id="5748" class="Symbol">{</a><a id="5749" href="Ledger.Dijkstra.Specification.Transaction.html#5749" class="Bound">txLevel</a><a id="5756" class="Symbol">}</a> <a id="5758" class="Symbol">{</a><a id="5759" href="Ledger.Dijkstra.Specification.Transaction.html#5759" class="Bound">a</a><a id="5760" class="Symbol">}</a> <a id="5762" class="Symbol">(</a><a id="5763" href="Ledger.Dijkstra.Specification.Transaction.html#5763" class="Bound">A</a> <a id="5765" class="Symbol">:</a> <a id="5767" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5772" href="Ledger.Dijkstra.Specification.Transaction.html#5759" class="Bound">a</a><a id="5773" class="Symbol">)</a> <a id="5775" class="Symbol">:</a> <a id="5777" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5782" href="Ledger.Dijkstra.Specification.Transaction.html#5759" class="Bound">a</a> <a id="5784" class="Keyword">where</a>
    <a id="5794" class="Keyword">field</a> <a id="5800" href="Ledger.Dijkstra.Specification.Transaction.html#5800" class="Field">RedeemersOf</a> <a id="5812" class="Symbol">:</a> <a id="5814" href="Ledger.Dijkstra.Specification.Transaction.html#5763" class="Bound">A</a> <a id="5816" class="Symbol">→</a> <a id="5818" href="Ledger.Dijkstra.Specification.Transaction.html#3145" class="Function">RedeemerPtr</a> <a id="5830" href="Ledger.Dijkstra.Specification.Transaction.html#5749" class="Bound">txLevel</a> <a id="5838" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5840" href="Ledger.Conway.Specification.Script.Base.html#1788" class="Function">Redeemer</a> <a id="5849" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5851" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a>
  <a id="5861" class="Keyword">open</a> <a id="5866" href="Ledger.Dijkstra.Specification.Transaction.html#5735" class="Module">HasRedeemers</a> <a id="5879" class="Symbol">⦃...⦄</a> <a id="5885" class="Keyword">public</a>

  <a id="5895" class="Comment">-- (top-level only) --</a>
  <a id="5920" class="Keyword">record</a> <a id="TransactionStructure.HasCollateralInputs"></a><a id="5927" href="Ledger.Dijkstra.Specification.Transaction.html#5927" class="Record">HasCollateralInputs</a> <a id="5947" class="Symbol">{</a><a id="5948" href="Ledger.Dijkstra.Specification.Transaction.html#5948" class="Bound">txLevel</a><a id="5955" class="Symbol">}</a> <a id="5957" class="Symbol">{</a><a id="5958" href="Ledger.Dijkstra.Specification.Transaction.html#5958" class="Bound">a</a><a id="5959" class="Symbol">}</a> <a id="5961" class="Symbol">(</a><a id="5962" href="Ledger.Dijkstra.Specification.Transaction.html#5962" class="Bound">A</a> <a id="5964" class="Symbol">:</a> <a id="5966" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5971" href="Ledger.Dijkstra.Specification.Transaction.html#5958" class="Bound">a</a><a id="5972" class="Symbol">)</a> <a id="5974" class="Symbol">:</a> <a id="5976" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5981" href="Ledger.Dijkstra.Specification.Transaction.html#5958" class="Bound">a</a> <a id="5983" class="Keyword">where</a>
    <a id="5993" class="Keyword">field</a> <a id="5999" href="Ledger.Dijkstra.Specification.Transaction.html#5999" class="Field">CollateralInputsOf</a> <a id="6018" class="Symbol">:</a> <a id="6020" href="Ledger.Dijkstra.Specification.Transaction.html#5962" class="Bound">A</a> <a id="6022" class="Symbol">→</a> <a id="6024" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6035" href="Ledger.Dijkstra.Specification.Transaction.html#5948" class="Bound">txLevel</a> <a id="6043" class="Symbol">(</a><a id="6044" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6046" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a><a id="6050" class="Symbol">)</a>
  <a id="6054" class="Keyword">open</a> <a id="6059" href="Ledger.Dijkstra.Specification.Transaction.html#5927" class="Module">HasCollateralInputs</a> <a id="6079" class="Symbol">⦃...⦄</a> <a id="6085" class="Keyword">public</a>

  <a id="6095" class="Keyword">record</a> <a id="TransactionStructure.HasTxFees"></a><a id="6102" href="Ledger.Dijkstra.Specification.Transaction.html#6102" class="Record">HasTxFees</a> <a id="6112" class="Symbol">{</a><a id="6113" href="Ledger.Dijkstra.Specification.Transaction.html#6113" class="Bound">txLevel</a><a id="6120" class="Symbol">}</a> <a id="6122" class="Symbol">{</a><a id="6123" href="Ledger.Dijkstra.Specification.Transaction.html#6123" class="Bound">a</a><a id="6124" class="Symbol">}</a> <a id="6126" class="Symbol">(</a><a id="6127" href="Ledger.Dijkstra.Specification.Transaction.html#6127" class="Bound">A</a> <a id="6129" class="Symbol">:</a> <a id="6131" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6136" href="Ledger.Dijkstra.Specification.Transaction.html#6123" class="Bound">a</a><a id="6137" class="Symbol">)</a> <a id="6139" class="Symbol">:</a> <a id="6141" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6146" href="Ledger.Dijkstra.Specification.Transaction.html#6123" class="Bound">a</a> <a id="6148" class="Keyword">where</a>
    <a id="6158" class="Keyword">field</a> <a id="6164" href="Ledger.Dijkstra.Specification.Transaction.html#6164" class="Field">TxFeesOf</a> <a id="6173" class="Symbol">:</a> <a id="6175" href="Ledger.Dijkstra.Specification.Transaction.html#6127" class="Bound">A</a> <a id="6177" class="Symbol">→</a> <a id="6179" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6190" href="Ledger.Dijkstra.Specification.Transaction.html#6113" class="Bound">txLevel</a> <a id="6198" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="6205" class="Keyword">open</a> <a id="6210" href="Ledger.Dijkstra.Specification.Transaction.html#6102" class="Module">HasTxFees</a> <a id="6220" class="Symbol">⦃...⦄</a> <a id="6226" class="Keyword">public</a>

  <a id="6236" class="Keyword">record</a> <a id="TransactionStructure.HasSubTransactions"></a><a id="6243" href="Ledger.Dijkstra.Specification.Transaction.html#6243" class="Record">HasSubTransactions</a> <a id="6262" class="Symbol">{</a><a id="6263" href="Ledger.Dijkstra.Specification.Transaction.html#6263" class="Bound">txLevel</a><a id="6270" class="Symbol">}</a> <a id="6272" class="Symbol">{</a><a id="6273" href="Ledger.Dijkstra.Specification.Transaction.html#6273" class="Bound">a</a><a id="6274" class="Symbol">}</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Ledger.Dijkstra.Specification.Transaction.html#6277" class="Bound">A</a> <a id="6279" class="Symbol">:</a> <a id="6281" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6286" href="Ledger.Dijkstra.Specification.Transaction.html#6273" class="Bound">a</a><a id="6287" class="Symbol">)</a> <a id="6289" class="Symbol">:</a> <a id="6291" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6296" href="Ledger.Dijkstra.Specification.Transaction.html#6273" class="Bound">a</a> <a id="6298" class="Keyword">where</a>
    <a id="6308" class="Keyword">field</a> <a id="6314" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Field">SubTransactionsOf</a> <a id="6332" class="Symbol">:</a> <a id="6334" href="Ledger.Dijkstra.Specification.Transaction.html#6277" class="Bound">A</a> <a id="6336" class="Symbol">→</a> <a id="6338" href="Ledger.Dijkstra.Specification.Transaction.html#775" class="Function">InTopLevel</a> <a id="6349" href="Ledger.Dijkstra.Specification.Transaction.html#6263" class="Bound">txLevel</a> <a id="6357" class="Symbol">(</a><a id="6358" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6363" class="Symbol">(</a><a id="6364" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="6367" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="6377" class="Symbol">))</a>
  <a id="6382" class="Keyword">open</a> <a id="6387" href="Ledger.Dijkstra.Specification.Transaction.html#6243" class="Module">HasSubTransactions</a> <a id="6406" class="Symbol">⦃...⦄</a> <a id="6412" class="Keyword">public</a>

  <a id="6422" class="Comment">-- (sub-level only) --</a>
  <a id="6447" class="Keyword">record</a> <a id="TransactionStructure.HasTopLevelGuards"></a><a id="6454" href="Ledger.Dijkstra.Specification.Transaction.html#6454" class="Record">HasTopLevelGuards</a> <a id="6472" class="Symbol">{</a><a id="6473" href="Ledger.Dijkstra.Specification.Transaction.html#6473" class="Bound">txLevel</a><a id="6480" class="Symbol">}</a> <a id="6482" class="Symbol">{</a><a id="6483" href="Ledger.Dijkstra.Specification.Transaction.html#6483" class="Bound">a</a><a id="6484" class="Symbol">}</a> <a id="6486" class="Symbol">(</a><a id="6487" href="Ledger.Dijkstra.Specification.Transaction.html#6487" class="Bound">A</a> <a id="6489" class="Symbol">:</a> <a id="6491" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6496" href="Ledger.Dijkstra.Specification.Transaction.html#6483" class="Bound">a</a><a id="6497" class="Symbol">)</a> <a id="6499" class="Symbol">:</a> <a id="6501" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6506" href="Ledger.Dijkstra.Specification.Transaction.html#6483" class="Bound">a</a> <a id="6508" class="Keyword">where</a>
    <a id="6518" class="Keyword">field</a> <a id="6524" href="Ledger.Dijkstra.Specification.Transaction.html#6524" class="Field">TopLevelGuardsOf</a> <a id="6541" class="Symbol">:</a> <a id="6543" href="Ledger.Dijkstra.Specification.Transaction.html#6487" class="Bound">A</a> <a id="6545" class="Symbol">→</a> <a id="6547" href="Ledger.Dijkstra.Specification.Transaction.html#867" class="Function">InSubLevel</a> <a id="6558" href="Ledger.Dijkstra.Specification.Transaction.html#6473" class="Bound">txLevel</a> <a id="6566" class="Symbol">(</a><a id="6567" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6569" class="Symbol">(</a><a id="6570" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="6581" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6583" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6589" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a><a id="6594" class="Symbol">))</a>
  <a id="6599" class="Keyword">open</a> <a id="6604" href="Ledger.Dijkstra.Specification.Transaction.html#6454" class="Module">HasTopLevelGuards</a> <a id="6622" class="Symbol">⦃...⦄</a> <a id="6628" class="Keyword">public</a>


  <a id="6639" class="Comment">-- Level-Independent Type Classes --</a>
  <a id="6678" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="6685" href="Ledger.Dijkstra.Specification.Transaction.html#6685" class="Record">HasTxId</a> <a id="6693" class="Symbol">{</a><a id="6694" href="Ledger.Dijkstra.Specification.Transaction.html#6694" class="Bound">a</a><a id="6695" class="Symbol">}</a> <a id="6697" class="Symbol">(</a><a id="6698" href="Ledger.Dijkstra.Specification.Transaction.html#6698" class="Bound">A</a> <a id="6700" class="Symbol">:</a> <a id="6702" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6707" href="Ledger.Dijkstra.Specification.Transaction.html#6694" class="Bound">a</a><a id="6708" class="Symbol">)</a> <a id="6710" class="Symbol">:</a> <a id="6712" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6717" href="Ledger.Dijkstra.Specification.Transaction.html#6694" class="Bound">a</a> <a id="6719" class="Keyword">where</a>
    <a id="6729" class="Keyword">field</a> <a id="6735" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="6742" class="Symbol">:</a> <a id="6744" href="Ledger.Dijkstra.Specification.Transaction.html#6698" class="Bound">A</a> <a id="6746" class="Symbol">→</a> <a id="6748" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a>
  <a id="6755" class="Keyword">open</a> <a id="6760" href="Ledger.Dijkstra.Specification.Transaction.html#6685" class="Module">HasTxId</a> <a id="6768" class="Symbol">⦃...⦄</a> <a id="6774" class="Keyword">public</a>

  <a id="6784" class="Keyword">record</a> <a id="TransactionStructure.HasSize"></a><a id="6791" href="Ledger.Dijkstra.Specification.Transaction.html#6791" class="Record">HasSize</a> <a id="6799" class="Symbol">{</a><a id="6800" href="Ledger.Dijkstra.Specification.Transaction.html#6800" class="Bound">a</a><a id="6801" class="Symbol">}</a> <a id="6803" class="Symbol">(</a><a id="6804" href="Ledger.Dijkstra.Specification.Transaction.html#6804" class="Bound">A</a> <a id="6806" class="Symbol">:</a> <a id="6808" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6813" href="Ledger.Dijkstra.Specification.Transaction.html#6800" class="Bound">a</a><a id="6814" class="Symbol">)</a> <a id="6816" class="Symbol">:</a> <a id="6818" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6823" href="Ledger.Dijkstra.Specification.Transaction.html#6800" class="Bound">a</a> <a id="6825" class="Keyword">where</a>
    <a id="6835" class="Keyword">field</a> <a id="6841" href="Ledger.Dijkstra.Specification.Transaction.html#6841" class="Field">SizeOf</a> <a id="6848" class="Symbol">:</a> <a id="6850" href="Ledger.Dijkstra.Specification.Transaction.html#6804" class="Bound">A</a> <a id="6852" class="Symbol">→</a> <a id="6854" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6858" class="Keyword">open</a> <a id="6863" href="Ledger.Dijkstra.Specification.Transaction.html#6791" class="Module">HasSize</a> <a id="6871" class="Symbol">⦃...⦄</a> <a id="6877" class="Keyword">public</a>

  <a id="6887" class="Keyword">record</a> <a id="TransactionStructure.HasSpendInputs"></a><a id="6894" href="Ledger.Dijkstra.Specification.Transaction.html#6894" class="Record">HasSpendInputs</a> <a id="6909" class="Symbol">{</a><a id="6910" href="Ledger.Dijkstra.Specification.Transaction.html#6910" class="Bound">a</a><a id="6911" class="Symbol">}</a> <a id="6913" class="Symbol">(</a><a id="6914" href="Ledger.Dijkstra.Specification.Transaction.html#6914" class="Bound">A</a> <a id="6916" class="Symbol">:</a> <a id="6918" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6923" href="Ledger.Dijkstra.Specification.Transaction.html#6910" class="Bound">a</a><a id="6924" class="Symbol">)</a> <a id="6926" class="Symbol">:</a> <a id="6928" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6933" href="Ledger.Dijkstra.Specification.Transaction.html#6910" class="Bound">a</a> <a id="6935" class="Keyword">where</a>
    <a id="6945" class="Keyword">field</a> <a id="6951" href="Ledger.Dijkstra.Specification.Transaction.html#6951" class="Field">SpendInputsOf</a> <a id="6965" class="Symbol">:</a> <a id="6967" href="Ledger.Dijkstra.Specification.Transaction.html#6914" class="Bound">A</a> <a id="6969" class="Symbol">→</a> <a id="6971" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6973" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="6980" class="Keyword">open</a> <a id="6985" href="Ledger.Dijkstra.Specification.Transaction.html#6894" class="Module">HasSpendInputs</a> <a id="7000" class="Symbol">⦃...⦄</a> <a id="7006" class="Keyword">public</a>

  <a id="7016" class="Keyword">record</a> <a id="TransactionStructure.HasReferenceInputs"></a><a id="7023" href="Ledger.Dijkstra.Specification.Transaction.html#7023" class="Record">HasReferenceInputs</a> <a id="7042" class="Symbol">{</a><a id="7043" href="Ledger.Dijkstra.Specification.Transaction.html#7043" class="Bound">a</a><a id="7044" class="Symbol">}</a> <a id="7046" class="Symbol">(</a><a id="7047" href="Ledger.Dijkstra.Specification.Transaction.html#7047" class="Bound">A</a> <a id="7049" class="Symbol">:</a> <a id="7051" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7056" href="Ledger.Dijkstra.Specification.Transaction.html#7043" class="Bound">a</a><a id="7057" class="Symbol">)</a> <a id="7059" class="Symbol">:</a> <a id="7061" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7066" href="Ledger.Dijkstra.Specification.Transaction.html#7043" class="Bound">a</a> <a id="7068" class="Keyword">where</a>
    <a id="7078" class="Keyword">field</a> <a id="7084" href="Ledger.Dijkstra.Specification.Transaction.html#7084" class="Field">ReferenceInputsOf</a> <a id="7102" class="Symbol">:</a> <a id="7104" href="Ledger.Dijkstra.Specification.Transaction.html#7047" class="Bound">A</a> <a id="7106" class="Symbol">→</a> <a id="7108" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7110" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="7117" class="Keyword">open</a> <a id="7122" href="Ledger.Dijkstra.Specification.Transaction.html#7023" class="Module">HasReferenceInputs</a> <a id="7141" class="Symbol">⦃...⦄</a> <a id="7147" class="Keyword">public</a>

  <a id="7157" class="Keyword">record</a> <a id="TransactionStructure.HasIndexedOutputs"></a><a id="7164" href="Ledger.Dijkstra.Specification.Transaction.html#7164" class="Record">HasIndexedOutputs</a> <a id="7182" class="Symbol">{</a><a id="7183" href="Ledger.Dijkstra.Specification.Transaction.html#7183" class="Bound">a</a><a id="7184" class="Symbol">}</a> <a id="7186" class="Symbol">(</a><a id="7187" href="Ledger.Dijkstra.Specification.Transaction.html#7187" class="Bound">A</a> <a id="7189" class="Symbol">:</a> <a id="7191" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7196" href="Ledger.Dijkstra.Specification.Transaction.html#7183" class="Bound">a</a><a id="7197" class="Symbol">)</a> <a id="7199" class="Symbol">:</a> <a id="7201" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7206" href="Ledger.Dijkstra.Specification.Transaction.html#7183" class="Bound">a</a> <a id="7208" class="Keyword">where</a>
    <a id="7218" class="Keyword">field</a> <a id="7224" href="Ledger.Dijkstra.Specification.Transaction.html#7224" class="Field">IndexedOutputsOf</a> <a id="7241" class="Symbol">:</a> <a id="7243" href="Ledger.Dijkstra.Specification.Transaction.html#7187" class="Bound">A</a> <a id="7245" class="Symbol">→</a> <a id="7247" href="Ledger.Dijkstra.Specification.Transaction.html#1326" class="Field">Ix</a> <a id="7250" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7252" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
  <a id="7260" class="Keyword">open</a> <a id="7265" href="Ledger.Dijkstra.Specification.Transaction.html#7164" class="Module">HasIndexedOutputs</a> <a id="7283" class="Symbol">⦃...⦄</a> <a id="7289" class="Keyword">public</a>

  <a id="7299" class="Keyword">record</a> <a id="TransactionStructure.HasMintedValue"></a><a id="7306" href="Ledger.Dijkstra.Specification.Transaction.html#7306" class="Record">HasMintedValue</a> <a id="7321" class="Symbol">{</a><a id="7322" href="Ledger.Dijkstra.Specification.Transaction.html#7322" class="Bound">a</a><a id="7323" class="Symbol">}</a> <a id="7325" class="Symbol">(</a><a id="7326" href="Ledger.Dijkstra.Specification.Transaction.html#7326" class="Bound">A</a> <a id="7328" class="Symbol">:</a> <a id="7330" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7335" href="Ledger.Dijkstra.Specification.Transaction.html#7322" class="Bound">a</a><a id="7336" class="Symbol">)</a> <a id="7338" class="Symbol">:</a> <a id="7340" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7345" href="Ledger.Dijkstra.Specification.Transaction.html#7322" class="Bound">a</a> <a id="7347" class="Keyword">where</a>
    <a id="7357" class="Keyword">field</a> <a id="7363" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Field">MintedValueOf</a> <a id="7377" class="Symbol">:</a> <a id="7379" href="Ledger.Dijkstra.Specification.Transaction.html#7326" class="Bound">A</a> <a id="7381" class="Symbol">→</a> <a id="7383" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="7391" class="Keyword">open</a> <a id="7396" href="Ledger.Dijkstra.Specification.Transaction.html#7306" class="Module">HasMintedValue</a> <a id="7411" class="Symbol">⦃...⦄</a> <a id="7417" class="Keyword">public</a>

  <a id="7427" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="7434" href="Ledger.Dijkstra.Specification.Transaction.html#7434" class="Record">HasFees?</a> <a id="7443" class="Symbol">{</a><a id="7444" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Bound">a</a><a id="7445" class="Symbol">}</a> <a id="7447" class="Symbol">(</a><a id="7448" href="Ledger.Dijkstra.Specification.Transaction.html#7448" class="Bound">A</a> <a id="7450" class="Symbol">:</a> <a id="7452" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7457" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Bound">a</a><a id="7458" class="Symbol">)</a> <a id="7460" class="Symbol">:</a> <a id="7462" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7467" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Bound">a</a> <a id="7469" class="Keyword">where</a>
    <a id="7479" class="Keyword">field</a> <a id="7485" href="Ledger.Dijkstra.Specification.Transaction.html#7485" class="Field">FeesOf?</a> <a id="7493" class="Symbol">:</a> <a id="7495" href="Ledger.Dijkstra.Specification.Transaction.html#7448" class="Bound">A</a> <a id="7497" class="Symbol">→</a> <a id="7499" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7505" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="7512" class="Keyword">open</a> <a id="7517" href="Ledger.Dijkstra.Specification.Transaction.html#7434" class="Module">HasFees?</a> <a id="7526" class="Symbol">⦃...⦄</a> <a id="7532" class="Keyword">public</a>

  <a id="7542" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="7549" href="Ledger.Dijkstra.Specification.Transaction.html#7549" class="Record">HasDCerts</a> <a id="7559" class="Symbol">{</a><a id="7560" href="Ledger.Dijkstra.Specification.Transaction.html#7560" class="Bound">a</a><a id="7561" class="Symbol">}</a> <a id="7563" class="Symbol">(</a><a id="7564" href="Ledger.Dijkstra.Specification.Transaction.html#7564" class="Bound">A</a> <a id="7566" class="Symbol">:</a> <a id="7568" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7573" href="Ledger.Dijkstra.Specification.Transaction.html#7560" class="Bound">a</a><a id="7574" class="Symbol">)</a> <a id="7576" class="Symbol">:</a> <a id="7578" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7583" href="Ledger.Dijkstra.Specification.Transaction.html#7560" class="Bound">a</a> <a id="7585" class="Keyword">where</a>
    <a id="7595" class="Keyword">field</a> <a id="7601" href="Ledger.Dijkstra.Specification.Transaction.html#7601" class="Field">DCertsOf</a> <a id="7610" class="Symbol">:</a> <a id="7612" href="Ledger.Dijkstra.Specification.Transaction.html#7564" class="Bound">A</a> <a id="7614" class="Symbol">→</a> <a id="7616" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7621" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">DCert</a>
  <a id="7629" class="Keyword">open</a> <a id="7634" href="Ledger.Dijkstra.Specification.Transaction.html#7549" class="Module">HasDCerts</a> <a id="7644" class="Symbol">⦃...⦄</a> <a id="7650" class="Keyword">public</a>

  <a id="7660" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="7667" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Record">HasData</a> <a id="7675" class="Symbol">{</a><a id="7676" href="Ledger.Dijkstra.Specification.Transaction.html#7676" class="Bound">a</a><a id="7677" class="Symbol">}</a> <a id="7679" class="Symbol">(</a><a id="7680" href="Ledger.Dijkstra.Specification.Transaction.html#7680" class="Bound">A</a> <a id="7682" class="Symbol">:</a> <a id="7684" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7689" href="Ledger.Dijkstra.Specification.Transaction.html#7676" class="Bound">a</a><a id="7690" class="Symbol">)</a> <a id="7692" class="Symbol">:</a> <a id="7694" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7699" href="Ledger.Dijkstra.Specification.Transaction.html#7676" class="Bound">a</a> <a id="7701" class="Keyword">where</a>
    <a id="7711" class="Keyword">field</a> <a id="7717" href="Ledger.Dijkstra.Specification.Transaction.html#7717" class="Field">DataOf</a> <a id="7724" class="Symbol">:</a> <a id="7726" href="Ledger.Dijkstra.Specification.Transaction.html#7680" class="Bound">A</a> <a id="7728" class="Symbol">→</a> <a id="7730" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7732" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
  <a id="7740" class="Keyword">open</a> <a id="7745" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Module">HasData</a> <a id="7753" class="Symbol">⦃...⦄</a> <a id="7759" class="Keyword">public</a>

  <a id="7769" class="Keyword">record</a> <a id="TransactionStructure.HasGovProposals"></a><a id="7776" href="Ledger.Dijkstra.Specification.Transaction.html#7776" class="Record">HasGovProposals</a> <a id="7792" class="Symbol">{</a><a id="7793" href="Ledger.Dijkstra.Specification.Transaction.html#7793" class="Bound">a</a><a id="7794" class="Symbol">}</a> <a id="7796" class="Symbol">(</a><a id="7797" href="Ledger.Dijkstra.Specification.Transaction.html#7797" class="Bound">A</a> <a id="7799" class="Symbol">:</a> <a id="7801" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7806" href="Ledger.Dijkstra.Specification.Transaction.html#7793" class="Bound">a</a><a id="7807" class="Symbol">)</a> <a id="7809" class="Symbol">:</a> <a id="7811" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7816" href="Ledger.Dijkstra.Specification.Transaction.html#7793" class="Bound">a</a> <a id="7818" class="Keyword">where</a>
    <a id="7828" class="Keyword">field</a> <a id="7834" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Field">GovProposalsOf</a> <a id="7849" class="Symbol">:</a> <a id="7851" href="Ledger.Dijkstra.Specification.Transaction.html#7797" class="Bound">A</a> <a id="7853" class="Symbol">→</a> <a id="7855" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7860" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a>
  <a id="7874" class="Keyword">open</a> <a id="7879" href="Ledger.Dijkstra.Specification.Transaction.html#7776" class="Module">HasGovProposals</a> <a id="7895" class="Symbol">⦃...⦄</a> <a id="7901" class="Keyword">public</a>

  <a id="7911" class="Keyword">record</a> <a id="TransactionStructure.HasGovVotes"></a><a id="7918" href="Ledger.Dijkstra.Specification.Transaction.html#7918" class="Record">HasGovVotes</a> <a id="7930" class="Symbol">{</a><a id="7931" href="Ledger.Dijkstra.Specification.Transaction.html#7931" class="Bound">a</a><a id="7932" class="Symbol">}</a> <a id="7934" class="Symbol">(</a><a id="7935" href="Ledger.Dijkstra.Specification.Transaction.html#7935" class="Bound">A</a> <a id="7937" class="Symbol">:</a> <a id="7939" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7944" href="Ledger.Dijkstra.Specification.Transaction.html#7931" class="Bound">a</a><a id="7945" class="Symbol">)</a> <a id="7947" class="Symbol">:</a> <a id="7949" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7954" href="Ledger.Dijkstra.Specification.Transaction.html#7931" class="Bound">a</a> <a id="7956" class="Keyword">where</a>
    <a id="7966" class="Keyword">field</a> <a id="7972" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Field">GovVotesOf</a> <a id="7983" class="Symbol">:</a> <a id="7985" href="Ledger.Dijkstra.Specification.Transaction.html#7935" class="Bound">A</a> <a id="7987" class="Symbol">→</a> <a id="7989" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7994" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a>
  <a id="8004" class="Keyword">open</a> <a id="8009" href="Ledger.Dijkstra.Specification.Transaction.html#7918" class="Module">HasGovVotes</a> <a id="8021" class="Symbol">⦃...⦄</a> <a id="8027" class="Keyword">public</a>

  <a id="8037" class="Keyword">record</a> <a id="TransactionStructure.HasGuards"></a><a id="8044" href="Ledger.Dijkstra.Specification.Transaction.html#8044" class="Record">HasGuards</a> <a id="8054" class="Symbol">{</a><a id="8055" href="Ledger.Dijkstra.Specification.Transaction.html#8055" class="Bound">a</a><a id="8056" class="Symbol">}</a> <a id="8058" class="Symbol">(</a><a id="8059" href="Ledger.Dijkstra.Specification.Transaction.html#8059" class="Bound">A</a> <a id="8061" class="Symbol">:</a> <a id="8063" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8068" href="Ledger.Dijkstra.Specification.Transaction.html#8055" class="Bound">a</a><a id="8069" class="Symbol">)</a> <a id="8071" class="Symbol">:</a> <a id="8073" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8078" href="Ledger.Dijkstra.Specification.Transaction.html#8055" class="Bound">a</a> <a id="8080" class="Keyword">where</a>
    <a id="8090" class="Keyword">field</a> <a id="8096" href="Ledger.Dijkstra.Specification.Transaction.html#8096" class="Field">GuardsOf</a> <a id="8105" class="Symbol">:</a> <a id="8107" href="Ledger.Dijkstra.Specification.Transaction.html#8059" class="Bound">A</a> <a id="8109" class="Symbol">→</a> <a id="8111" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8113" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="8126" class="Keyword">open</a> <a id="8131" href="Ledger.Dijkstra.Specification.Transaction.html#8044" class="Module">HasGuards</a> <a id="8141" class="Symbol">⦃...⦄</a> <a id="8147" class="Keyword">public</a>

  <a id="8157" class="Keyword">record</a> <a id="TransactionStructure.HasScripts"></a><a id="8164" href="Ledger.Dijkstra.Specification.Transaction.html#8164" class="Record">HasScripts</a> <a id="8175" class="Symbol">{</a><a id="8176" href="Ledger.Dijkstra.Specification.Transaction.html#8176" class="Bound">a</a><a id="8177" class="Symbol">}</a> <a id="8179" class="Symbol">(</a><a id="8180" href="Ledger.Dijkstra.Specification.Transaction.html#8180" class="Bound">A</a> <a id="8182" class="Symbol">:</a> <a id="8184" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8189" href="Ledger.Dijkstra.Specification.Transaction.html#8176" class="Bound">a</a><a id="8190" class="Symbol">)</a> <a id="8192" class="Symbol">:</a> <a id="8194" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8199" href="Ledger.Dijkstra.Specification.Transaction.html#8176" class="Bound">a</a> <a id="8201" class="Keyword">where</a>
    <a id="8211" class="Keyword">field</a> <a id="8217" href="Ledger.Dijkstra.Specification.Transaction.html#8217" class="Field">ScriptsOf</a> <a id="8227" class="Symbol">:</a> <a id="8229" href="Ledger.Dijkstra.Specification.Transaction.html#8180" class="Bound">A</a> <a id="8231" class="Symbol">→</a> <a id="8233" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8235" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
  <a id="8244" class="Keyword">open</a> <a id="8249" href="Ledger.Dijkstra.Specification.Transaction.html#8164" class="Module">HasScripts</a> <a id="8260" class="Symbol">⦃...⦄</a> <a id="8266" class="Keyword">public</a>

  <a id="8276" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="8289" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Function">HasTxBody-Tx</a> <a id="8302" class="Symbol">:</a> <a id="8304" href="Ledger.Dijkstra.Specification.Transaction.html#5450" class="Record">HasTxBody</a> <a id="8314" class="Symbol">(</a><a id="8315" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8318" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8325" class="Symbol">)</a>
    <a id="8331" href="Ledger.Dijkstra.Specification.Transaction.html#8289" class="Function">HasTxBody-Tx</a> <a id="8344" class="Symbol">.</a><a id="8345" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a> <a id="8354" class="Symbol">=</a> <a id="8356" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="8371" href="Ledger.Dijkstra.Specification.Transaction.html#8371" class="Function">HasTxWitnesses-Tx</a> <a id="8389" class="Symbol">:</a> <a id="8391" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Record">HasTxWitnesses</a> <a id="8406" class="Symbol">(</a><a id="8407" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8410" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8417" class="Symbol">)</a>
    <a id="8423" href="Ledger.Dijkstra.Specification.Transaction.html#8371" class="Function">HasTxWitnesses-Tx</a> <a id="8441" class="Symbol">.</a><a id="8442" href="Ledger.Dijkstra.Specification.Transaction.html#5650" class="Field">TxWitnessesOf</a> <a id="8456" class="Symbol">=</a> <a id="8458" href="Ledger.Dijkstra.Specification.Transaction.html#3582" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasRedeemers-TxWitnesses"></a><a id="8478" href="Ledger.Dijkstra.Specification.Transaction.html#8478" class="Function">HasRedeemers-TxWitnesses</a> <a id="8503" class="Symbol">:</a> <a id="8505" href="Ledger.Dijkstra.Specification.Transaction.html#5735" class="Record">HasRedeemers</a> <a id="8518" class="Symbol">(</a><a id="8519" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="8531" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8538" class="Symbol">)</a>
    <a id="8544" href="Ledger.Dijkstra.Specification.Transaction.html#8478" class="Function">HasRedeemers-TxWitnesses</a> <a id="8569" class="Symbol">.</a><a id="8570" href="Ledger.Dijkstra.Specification.Transaction.html#5800" class="Field">RedeemersOf</a> <a id="8582" class="Symbol">=</a> <a id="8584" href="Ledger.Dijkstra.Specification.Transaction.html#5110" class="Field">TxWitnesses.txRedeemers</a>

    <a id="TransactionStructure.HasRedeemers-Tx"></a><a id="8613" href="Ledger.Dijkstra.Specification.Transaction.html#8613" class="Function">HasRedeemers-Tx</a> <a id="8629" class="Symbol">:</a> <a id="8631" href="Ledger.Dijkstra.Specification.Transaction.html#5735" class="Record">HasRedeemers</a> <a id="8644" class="Symbol">(</a><a id="8645" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="8648" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="8655" class="Symbol">)</a>
    <a id="8661" href="Ledger.Dijkstra.Specification.Transaction.html#8613" class="Function">HasRedeemers-Tx</a> <a id="8677" class="Symbol">.</a><a id="8678" href="Ledger.Dijkstra.Specification.Transaction.html#5800" class="Field">RedeemersOf</a> <a id="8690" class="Symbol">=</a> <a id="8692" href="Ledger.Dijkstra.Specification.Transaction.html#5800" class="Field">RedeemersOf</a> <a id="8704" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8706" href="Ledger.Dijkstra.Specification.Transaction.html#5650" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasCollateralInputs-TopLevelTx"></a><a id="8725" href="Ledger.Dijkstra.Specification.Transaction.html#8725" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="8756" class="Symbol">:</a> <a id="8758" href="Ledger.Dijkstra.Specification.Transaction.html#5927" class="Record">HasCollateralInputs</a> <a id="8778" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a>
    <a id="8793" href="Ledger.Dijkstra.Specification.Transaction.html#8725" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="8824" class="Symbol">.</a><a id="8825" href="Ledger.Dijkstra.Specification.Transaction.html#5999" class="Field">CollateralInputsOf</a> <a id="8844" class="Symbol">=</a> <a id="8846" href="Ledger.Dijkstra.Specification.Transaction.html#3871" class="Field">TxBody.collateralInputs</a> <a id="8870" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8872" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxFees-TopLevelTx"></a><a id="8886" href="Ledger.Dijkstra.Specification.Transaction.html#8886" class="Function">HasTxFees-TopLevelTx</a> <a id="8907" class="Symbol">:</a> <a id="8909" href="Ledger.Dijkstra.Specification.Transaction.html#6102" class="Record">HasTxFees</a> <a id="8919" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a>
    <a id="8934" href="Ledger.Dijkstra.Specification.Transaction.html#8886" class="Function">HasTxFees-TopLevelTx</a> <a id="8955" class="Symbol">.</a><a id="8956" href="Ledger.Dijkstra.Specification.Transaction.html#6164" class="Field">TxFeesOf</a> <a id="8965" class="Symbol">=</a> <a id="8967" href="Ledger.Dijkstra.Specification.Transaction.html#4050" class="Field">TxBody.txFee</a> <a id="8980" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8982" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSubTransactions-TopLevelTx"></a><a id="8996" href="Ledger.Dijkstra.Specification.Transaction.html#8996" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9026" class="Symbol">:</a> <a id="9028" href="Ledger.Dijkstra.Specification.Transaction.html#6243" class="Record">HasSubTransactions</a> <a id="9047" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a>
    <a id="9062" href="Ledger.Dijkstra.Specification.Transaction.html#8996" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9092" class="Symbol">.</a><a id="9093" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Field">SubTransactionsOf</a> <a id="9111" class="Symbol">=</a> <a id="9113" href="Ledger.Dijkstra.Specification.Transaction.html#4583" class="Field">TxBody.txSubTransactions</a> <a id="9138" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9140" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTopLevelGuards-SubLevelTx"></a><a id="9154" href="Ledger.Dijkstra.Specification.Transaction.html#9154" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="9183" class="Symbol">:</a> <a id="9185" href="Ledger.Dijkstra.Specification.Transaction.html#6454" class="Record">HasTopLevelGuards</a> <a id="9203" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a>
    <a id="9218" href="Ledger.Dijkstra.Specification.Transaction.html#9154" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="9247" class="Symbol">.</a><a id="9248" href="Ledger.Dijkstra.Specification.Transaction.html#6524" class="Field">TopLevelGuardsOf</a> <a id="9265" class="Symbol">=</a> <a id="9267" href="Ledger.Dijkstra.Specification.Transaction.html#4710" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="9299" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9301" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="9315" href="Ledger.Dijkstra.Specification.Transaction.html#9315" class="Function">HasDCerts-TxBody</a> <a id="9332" class="Symbol">:</a> <a id="9334" href="Ledger.Dijkstra.Specification.Transaction.html#7549" class="Record">HasDCerts</a> <a id="9344" class="Symbol">(</a><a id="9345" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="9352" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9359" class="Symbol">)</a>
    <a id="9365" href="Ledger.Dijkstra.Specification.Transaction.html#9315" class="Function">HasDCerts-TxBody</a> <a id="9382" class="Symbol">.</a><a id="9383" href="Ledger.Dijkstra.Specification.Transaction.html#7601" class="Field">DCertsOf</a> <a id="9392" class="Symbol">=</a> <a id="9394" href="Ledger.Dijkstra.Specification.Transaction.html#4008" class="Field">TxBody.txCerts</a>

    <a id="TransactionStructure.HasDCerts-Tx"></a><a id="9414" href="Ledger.Dijkstra.Specification.Transaction.html#9414" class="Function">HasDCerts-Tx</a> <a id="9427" class="Symbol">:</a> <a id="9429" href="Ledger.Dijkstra.Specification.Transaction.html#7549" class="Record">HasDCerts</a> <a id="9439" class="Symbol">(</a><a id="9440" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="9443" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9450" class="Symbol">)</a>
    <a id="9456" href="Ledger.Dijkstra.Specification.Transaction.html#9414" class="Function">HasDCerts-Tx</a> <a id="9469" class="Symbol">.</a><a id="9470" href="Ledger.Dijkstra.Specification.Transaction.html#7601" class="Field">DCertsOf</a> <a id="9479" class="Symbol">=</a> <a id="9481" href="Ledger.Dijkstra.Specification.Transaction.html#7601" class="Field">DCertsOf</a> <a id="9490" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9492" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="9506" href="Ledger.Dijkstra.Specification.Transaction.html#9506" class="Function">HasWithdrawals-TxBody</a> <a id="9528" class="Symbol">:</a> <a id="9530" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasWithdrawals</a> <a id="9545" class="Symbol">(</a><a id="9546" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="9553" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9560" class="Symbol">)</a>
    <a id="9566" href="Ledger.Dijkstra.Specification.Transaction.html#9506" class="Function">HasWithdrawals-TxBody</a> <a id="9588" class="Symbol">.</a><a id="9589" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="9603" class="Symbol">=</a> <a id="9605" href="Ledger.Dijkstra.Specification.Transaction.html#4105" class="Field">TxBody.txWithdrawals</a>

    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="9631" href="Ledger.Dijkstra.Specification.Transaction.html#9631" class="Function">HasWithdrawals-Tx</a> <a id="9649" class="Symbol">:</a> <a id="9651" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasWithdrawals</a> <a id="9666" class="Symbol">(</a><a id="9667" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="9670" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9677" class="Symbol">)</a>
    <a id="9683" href="Ledger.Dijkstra.Specification.Transaction.html#9631" class="Function">HasWithdrawals-Tx</a> <a id="9701" class="Symbol">.</a><a id="9702" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="9716" class="Symbol">=</a> <a id="9718" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="9732" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9734" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSpendInputs-TxBody"></a><a id="9748" href="Ledger.Dijkstra.Specification.Transaction.html#9748" class="Function">HasSpendInputs-TxBody</a> <a id="9770" class="Symbol">:</a> <a id="9772" href="Ledger.Dijkstra.Specification.Transaction.html#6894" class="Record">HasSpendInputs</a> <a id="9787" class="Symbol">(</a><a id="9788" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="9795" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9802" class="Symbol">)</a>
    <a id="9808" href="Ledger.Dijkstra.Specification.Transaction.html#9748" class="Function">HasSpendInputs-TxBody</a> <a id="9830" class="Symbol">.</a><a id="9831" href="Ledger.Dijkstra.Specification.Transaction.html#6951" class="Field">SpendInputsOf</a> <a id="9845" class="Symbol">=</a> <a id="9847" href="Ledger.Dijkstra.Specification.Transaction.html#3795" class="Field">TxBody.txIns</a>

    <a id="TransactionStructure.HasSpendInputs-Tx"></a><a id="9865" href="Ledger.Dijkstra.Specification.Transaction.html#9865" class="Function">HasSpendInputs-Tx</a> <a id="9883" class="Symbol">:</a> <a id="9885" href="Ledger.Dijkstra.Specification.Transaction.html#6894" class="Record">HasSpendInputs</a> <a id="9900" class="Symbol">(</a><a id="9901" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="9904" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="9911" class="Symbol">)</a>
    <a id="9917" href="Ledger.Dijkstra.Specification.Transaction.html#9865" class="Function">HasSpendInputs-Tx</a> <a id="9935" class="Symbol">.</a><a id="9936" href="Ledger.Dijkstra.Specification.Transaction.html#6951" class="Field">SpendInputsOf</a> <a id="9950" class="Symbol">=</a> <a id="9952" href="Ledger.Dijkstra.Specification.Transaction.html#6951" class="Field">SpendInputsOf</a> <a id="9966" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9968" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasReferenceInputs-TxBody"></a><a id="9982" href="Ledger.Dijkstra.Specification.Transaction.html#9982" class="Function">HasReferenceInputs-TxBody</a> <a id="10008" class="Symbol">:</a> <a id="10010" href="Ledger.Dijkstra.Specification.Transaction.html#7023" class="Record">HasReferenceInputs</a> <a id="10029" class="Symbol">(</a><a id="10030" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="10037" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10044" class="Symbol">)</a>
    <a id="10050" href="Ledger.Dijkstra.Specification.Transaction.html#9982" class="Function">HasReferenceInputs-TxBody</a> <a id="10076" class="Symbol">.</a><a id="10077" href="Ledger.Dijkstra.Specification.Transaction.html#7084" class="Field">ReferenceInputsOf</a> <a id="10095" class="Symbol">=</a> <a id="10097" href="Ledger.Dijkstra.Specification.Transaction.html#3833" class="Field">TxBody.refInputs</a>

    <a id="TransactionStructure.HasReferenceInputs-Tx"></a><a id="10119" href="Ledger.Dijkstra.Specification.Transaction.html#10119" class="Function">HasReferenceInputs-Tx</a> <a id="10141" class="Symbol">:</a> <a id="10143" href="Ledger.Dijkstra.Specification.Transaction.html#7023" class="Record">HasReferenceInputs</a> <a id="10162" class="Symbol">(</a><a id="10163" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10166" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10173" class="Symbol">)</a>
    <a id="10179" href="Ledger.Dijkstra.Specification.Transaction.html#10119" class="Function">HasReferenceInputs-Tx</a> <a id="10201" class="Symbol">.</a><a id="10202" href="Ledger.Dijkstra.Specification.Transaction.html#7084" class="Field">ReferenceInputsOf</a> <a id="10220" class="Symbol">=</a> <a id="10222" href="Ledger.Dijkstra.Specification.Transaction.html#7084" class="Field">ReferenceInputsOf</a> <a id="10240" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10242" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasIndexedOutputs-TxBody"></a><a id="10256" href="Ledger.Dijkstra.Specification.Transaction.html#10256" class="Function">HasIndexedOutputs-TxBody</a> <a id="10281" class="Symbol">:</a> <a id="10283" href="Ledger.Dijkstra.Specification.Transaction.html#7164" class="Record">HasIndexedOutputs</a> <a id="10301" class="Symbol">(</a><a id="10302" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="10309" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10316" class="Symbol">)</a>
    <a id="10322" href="Ledger.Dijkstra.Specification.Transaction.html#10256" class="Function">HasIndexedOutputs-TxBody</a> <a id="10347" class="Symbol">.</a><a id="10348" href="Ledger.Dijkstra.Specification.Transaction.html#7224" class="Field">IndexedOutputsOf</a> <a id="10365" class="Symbol">=</a> <a id="10367" href="Ledger.Dijkstra.Specification.Transaction.html#3930" class="Field">TxBody.txOuts</a>

    <a id="TransactionStructure.HasIndexedOutputs-Tx"></a><a id="10386" href="Ledger.Dijkstra.Specification.Transaction.html#10386" class="Function">HasIndexedOutputs-Tx</a> <a id="10407" class="Symbol">:</a> <a id="10409" href="Ledger.Dijkstra.Specification.Transaction.html#7164" class="Record">HasIndexedOutputs</a> <a id="10427" class="Symbol">(</a><a id="10428" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10431" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10438" class="Symbol">)</a>
    <a id="10444" href="Ledger.Dijkstra.Specification.Transaction.html#10386" class="Function">HasIndexedOutputs-Tx</a> <a id="10465" class="Symbol">.</a><a id="10466" href="Ledger.Dijkstra.Specification.Transaction.html#7224" class="Field">IndexedOutputsOf</a> <a id="10483" class="Symbol">=</a> <a id="10485" href="Ledger.Dijkstra.Specification.Transaction.html#7224" class="Field">IndexedOutputsOf</a> <a id="10502" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10504" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMintedValue-TxBody"></a><a id="10518" href="Ledger.Dijkstra.Specification.Transaction.html#10518" class="Function">HasMintedValue-TxBody</a> <a id="10540" class="Symbol">:</a> <a id="10542" href="Ledger.Dijkstra.Specification.Transaction.html#7306" class="Record">HasMintedValue</a> <a id="10557" class="Symbol">(</a><a id="10558" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="10565" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10572" class="Symbol">)</a>
    <a id="10578" href="Ledger.Dijkstra.Specification.Transaction.html#10518" class="Function">HasMintedValue-TxBody</a> <a id="10600" class="Symbol">.</a><a id="10601" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Field">MintedValueOf</a> <a id="10615" class="Symbol">=</a> <a id="10617" href="Ledger.Dijkstra.Specification.Transaction.html#4467" class="Field">TxBody.mint</a>

    <a id="TransactionStructure.HasMintedValue-Tx"></a><a id="10634" href="Ledger.Dijkstra.Specification.Transaction.html#10634" class="Function">HasMintedValue-Tx</a> <a id="10652" class="Symbol">:</a> <a id="10654" href="Ledger.Dijkstra.Specification.Transaction.html#7306" class="Record">HasMintedValue</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10673" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10680" class="Symbol">)</a>
    <a id="10686" href="Ledger.Dijkstra.Specification.Transaction.html#10634" class="Function">HasMintedValue-Tx</a> <a id="10704" class="Symbol">.</a><a id="10705" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Field">MintedValueOf</a> <a id="10719" class="Symbol">=</a> <a id="10721" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Field">MintedValueOf</a> <a id="10735" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10737" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovVotes-TxBody"></a><a id="10751" href="Ledger.Dijkstra.Specification.Transaction.html#10751" class="Function">HasGovVotes-TxBody</a> <a id="10770" class="Symbol">:</a> <a id="10772" href="Ledger.Dijkstra.Specification.Transaction.html#7918" class="Record">HasGovVotes</a> <a id="10784" class="Symbol">(</a><a id="10785" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="10792" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10799" class="Symbol">)</a>
    <a id="10805" href="Ledger.Dijkstra.Specification.Transaction.html#10751" class="Function">HasGovVotes-TxBody</a> <a id="10824" class="Symbol">.</a><a id="10825" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Field">GovVotesOf</a> <a id="10836" class="Symbol">=</a> <a id="10838" href="Ledger.Dijkstra.Specification.Transaction.html#4288" class="Field">TxBody.txGovVotes</a>

    <a id="TransactionStructure.HasGovVotes-Tx"></a><a id="10861" href="Ledger.Dijkstra.Specification.Transaction.html#10861" class="Function">HasGovVotes-Tx</a> <a id="10876" class="Symbol">:</a> <a id="10878" href="Ledger.Dijkstra.Specification.Transaction.html#7918" class="Record">HasGovVotes</a> <a id="10890" class="Symbol">(</a><a id="10891" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="10894" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="10901" class="Symbol">)</a>
    <a id="10907" href="Ledger.Dijkstra.Specification.Transaction.html#10861" class="Function">HasGovVotes-Tx</a> <a id="10922" class="Symbol">.</a><a id="10923" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Field">GovVotesOf</a> <a id="10934" class="Symbol">=</a> <a id="10936" href="Ledger.Dijkstra.Specification.Transaction.html#7972" class="Field">GovVotesOf</a> <a id="10947" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10949" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovProposals-TxBody"></a><a id="10963" href="Ledger.Dijkstra.Specification.Transaction.html#10963" class="Function">HasGovProposals-TxBody</a> <a id="10986" class="Symbol">:</a> <a id="10988" href="Ledger.Dijkstra.Specification.Transaction.html#7776" class="Record">HasGovProposals</a> <a id="11004" class="Symbol">(</a><a id="11005" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="11012" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11019" class="Symbol">)</a>
    <a id="11025" href="Ledger.Dijkstra.Specification.Transaction.html#10963" class="Function">HasGovProposals-TxBody</a> <a id="11048" class="Symbol">.</a><a id="11049" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Field">GovProposalsOf</a> <a id="11064" class="Symbol">=</a> <a id="11066" href="Ledger.Dijkstra.Specification.Transaction.html#4332" class="Field">TxBody.txGovProposals</a>

    <a id="TransactionStructure.HasGovProposals-Tx"></a><a id="11093" href="Ledger.Dijkstra.Specification.Transaction.html#11093" class="Function">HasGovProposals-Tx</a> <a id="11112" class="Symbol">:</a> <a id="11114" href="Ledger.Dijkstra.Specification.Transaction.html#7776" class="Record">HasGovProposals</a> <a id="11130" class="Symbol">(</a><a id="11131" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11134" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11141" class="Symbol">)</a>
    <a id="11147" href="Ledger.Dijkstra.Specification.Transaction.html#11093" class="Function">HasGovProposals-Tx</a> <a id="11166" class="Symbol">.</a><a id="11167" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Field">GovProposalsOf</a> <a id="11182" class="Symbol">=</a> <a id="11184" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Field">GovProposalsOf</a> <a id="11199" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11201" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="11215" href="Ledger.Dijkstra.Specification.Transaction.html#11215" class="Function">HasFees?-TxBody</a> <a id="11231" class="Symbol">:</a> <a id="11233" class="Symbol">{</a><a id="11234" href="Ledger.Dijkstra.Specification.Transaction.html#11234" class="Bound">ℓ</a> <a id="11236" class="Symbol">:</a> <a id="11238" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="11245" class="Symbol">}</a> <a id="11247" class="Symbol">→</a> <a id="11249" href="Ledger.Dijkstra.Specification.Transaction.html#7434" class="Record">HasFees?</a> <a id="11258" class="Symbol">(</a><a id="11259" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="11266" href="Ledger.Dijkstra.Specification.Transaction.html#11234" class="Bound">ℓ</a><a id="11267" class="Symbol">)</a>
    <a id="11273" href="Ledger.Dijkstra.Specification.Transaction.html#11215" class="Function">HasFees?-TxBody</a> <a id="11289" class="Symbol">{</a><a id="11290" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a><a id="11300" class="Symbol">}</a> <a id="11302" class="Symbol">.</a><a id="11303" href="Ledger.Dijkstra.Specification.Transaction.html#7485" class="Field">FeesOf?</a> <a id="11311" href="Ledger.Dijkstra.Specification.Transaction.html#11311" class="Bound">tbTop</a> <a id="11317" class="Symbol">=</a> <a id="11319" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11324" class="Symbol">(</a><a id="11325" href="Ledger.Dijkstra.Specification.Transaction.html#4050" class="Field">TxBody.txFee</a> <a id="11338" href="Ledger.Dijkstra.Specification.Transaction.html#11311" class="Bound">tbTop</a><a id="11343" class="Symbol">)</a>
    <a id="11349" href="Ledger.Dijkstra.Specification.Transaction.html#11215" class="Function">HasFees?-TxBody</a> <a id="11365" class="Symbol">{</a><a id="11366" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="11376" class="Symbol">}</a> <a id="11378" class="Symbol">.</a><a id="11379" href="Ledger.Dijkstra.Specification.Transaction.html#7485" class="Field">FeesOf?</a> <a id="11387" href="Ledger.Dijkstra.Specification.Transaction.html#11387" class="Bound">tbSub</a> <a id="11393" class="Symbol">=</a> <a id="11395" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

    <a id="TransactionStructure.HasFees?-Tx"></a><a id="11408" href="Ledger.Dijkstra.Specification.Transaction.html#11408" class="Function">HasFees?-Tx</a> <a id="11420" class="Symbol">:</a> <a id="11422" href="Ledger.Dijkstra.Specification.Transaction.html#7434" class="Record">HasFees?</a> <a id="11431" class="Symbol">(</a><a id="11432" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11435" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11442" class="Symbol">)</a>
    <a id="11448" href="Ledger.Dijkstra.Specification.Transaction.html#11408" class="Function">HasFees?-Tx</a> <a id="11460" class="Symbol">.</a><a id="11461" href="Ledger.Dijkstra.Specification.Transaction.html#7485" class="Field">FeesOf?</a> <a id="11469" class="Symbol">=</a> <a id="11471" href="Ledger.Dijkstra.Specification.Transaction.html#7485" class="Field">FeesOf?</a> <a id="11479" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11481" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-TxBody"></a><a id="11495" href="Ledger.Dijkstra.Specification.Transaction.html#11495" class="Function">HasTxId-TxBody</a> <a id="11510" class="Symbol">:</a> <a id="11512" href="Ledger.Dijkstra.Specification.Transaction.html#6685" class="Record">HasTxId</a> <a id="11520" class="Symbol">(</a><a id="11521" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="11528" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11535" class="Symbol">)</a>
    <a id="11541" href="Ledger.Dijkstra.Specification.Transaction.html#11495" class="Function">HasTxId-TxBody</a> <a id="11556" class="Symbol">.</a><a id="11557" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="11564" class="Symbol">=</a> <a id="11566" href="Ledger.Dijkstra.Specification.Transaction.html#3972" class="Field">TxBody.txId</a>

    <a id="TransactionStructure.HasTxId-Tx"></a><a id="11583" href="Ledger.Dijkstra.Specification.Transaction.html#11583" class="Function">HasTxId-Tx</a> <a id="11594" class="Symbol">:</a> <a id="11596" href="Ledger.Dijkstra.Specification.Transaction.html#6685" class="Record">HasTxId</a> <a id="11604" class="Symbol">(</a><a id="11605" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11608" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11615" class="Symbol">)</a>
    <a id="11621" href="Ledger.Dijkstra.Specification.Transaction.html#11583" class="Function">HasTxId-Tx</a> <a id="11632" class="Symbol">.</a><a id="11633" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="11640" class="Symbol">=</a> <a id="11642" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="11649" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11651" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDonations-TxBody"></a><a id="11665" href="Ledger.Dijkstra.Specification.Transaction.html#11665" class="Function">HasDonations-TxBody</a> <a id="11685" class="Symbol">:</a> <a id="11687" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="11700" class="Symbol">(</a><a id="11701" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="11708" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11715" class="Symbol">)</a>
    <a id="11721" href="Ledger.Dijkstra.Specification.Transaction.html#11665" class="Function">HasDonations-TxBody</a> <a id="11741" class="Symbol">.</a><a id="11742" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="11754" class="Symbol">=</a> <a id="11756" href="Ledger.Dijkstra.Specification.Transaction.html#4247" class="Field">TxBody.txDonation</a>

    <a id="TransactionStructure.HasDonations-Tx"></a><a id="11779" href="Ledger.Dijkstra.Specification.Transaction.html#11779" class="Function">HasDonations-Tx</a> <a id="11795" class="Symbol">:</a> <a id="11797" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="11810" class="Symbol">(</a><a id="11811" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="11814" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="11821" class="Symbol">)</a>
    <a id="11827" href="Ledger.Dijkstra.Specification.Transaction.html#11779" class="Function">HasDonations-Tx</a> <a id="11843" class="Symbol">.</a><a id="11844" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="11856" class="Symbol">=</a> <a id="11858" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="11870" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11872" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="11886" href="Ledger.Dijkstra.Specification.Transaction.html#11886" class="Function">HasCoin-TxOut</a> <a id="11900" class="Symbol">:</a> <a id="11902" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="11910" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a>
    <a id="11920" href="Ledger.Dijkstra.Specification.Transaction.html#11886" class="Function">HasCoin-TxOut</a> <a id="11934" class="Symbol">.</a><a id="11935" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="11943" class="Symbol">=</a> <a id="11945" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="11950" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11952" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="11958" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11960" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="11971" href="Ledger.Dijkstra.Specification.Transaction.html#11971" class="Function">HasData-TxWitnesses</a> <a id="11991" class="Symbol">:</a> <a id="11993" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Record">HasData</a> <a id="12001" class="Symbol">(</a><a id="12002" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="12014" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12021" class="Symbol">)</a>
    <a id="12027" href="Ledger.Dijkstra.Specification.Transaction.html#11971" class="Function">HasData-TxWitnesses</a> <a id="12047" class="Symbol">.</a><a id="12048" href="Ledger.Dijkstra.Specification.Transaction.html#7717" class="Field">DataOf</a> <a id="12055" class="Symbol">=</a> <a id="12057" href="Class.IsSet.html#959" class="Function">range</a> <a id="12063" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12065" href="Ledger.Dijkstra.Specification.Transaction.html#5070" class="Field">TxWitnesses.txData</a>

    <a id="TransactionStructure.HasData-Tx"></a><a id="12089" href="Ledger.Dijkstra.Specification.Transaction.html#12089" class="Function">HasData-Tx</a> <a id="12100" class="Symbol">:</a> <a id="12102" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Record">HasData</a> <a id="12110" class="Symbol">(</a><a id="12111" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12114" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12121" class="Symbol">)</a>
    <a id="12127" href="Ledger.Dijkstra.Specification.Transaction.html#12089" class="Function">HasData-Tx</a> <a id="12138" class="Symbol">.</a><a id="12139" href="Ledger.Dijkstra.Specification.Transaction.html#7717" class="Field">DataOf</a> <a id="12146" class="Symbol">=</a> <a id="12148" href="Ledger.Dijkstra.Specification.Transaction.html#7717" class="Field">DataOf</a> <a id="12155" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12157" href="Ledger.Dijkstra.Specification.Transaction.html#5650" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasGuards-TxBody"></a><a id="12176" href="Ledger.Dijkstra.Specification.Transaction.html#12176" class="Function">HasGuards-TxBody</a> <a id="12193" class="Symbol">:</a> <a id="12195" href="Ledger.Dijkstra.Specification.Transaction.html#8044" class="Record">HasGuards</a> <a id="12205" class="Symbol">(</a><a id="12206" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="12213" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12220" class="Symbol">)</a>
    <a id="12226" href="Ledger.Dijkstra.Specification.Transaction.html#12176" class="Function">HasGuards-TxBody</a> <a id="12243" class="Symbol">.</a><a id="12244" href="Ledger.Dijkstra.Specification.Transaction.html#8096" class="Field">GuardsOf</a> <a id="12253" class="Symbol">=</a> <a id="12255" href="Ledger.Dijkstra.Specification.Transaction.html#4661" class="Field">TxBody.txGuards</a>

    <a id="TransactionStructure.HasGuards-Tx"></a><a id="12276" href="Ledger.Dijkstra.Specification.Transaction.html#12276" class="Function">HasGuards-Tx</a> <a id="12289" class="Symbol">:</a> <a id="12291" href="Ledger.Dijkstra.Specification.Transaction.html#8044" class="Record">HasGuards</a> <a id="12301" class="Symbol">(</a><a id="12302" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12305" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12312" class="Symbol">)</a>
    <a id="12318" href="Ledger.Dijkstra.Specification.Transaction.html#12276" class="Function">HasGuards-Tx</a> <a id="12331" class="Symbol">.</a><a id="12332" href="Ledger.Dijkstra.Specification.Transaction.html#8096" class="Field">GuardsOf</a> <a id="12341" class="Symbol">=</a> <a id="12343" href="Ledger.Dijkstra.Specification.Transaction.html#8096" class="Field">GuardsOf</a> <a id="12352" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12354" href="Ledger.Dijkstra.Specification.Transaction.html#5512" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasScripts-TxWitnesses"></a><a id="12368" href="Ledger.Dijkstra.Specification.Transaction.html#12368" class="Function">HasScripts-TxWitnesses</a> <a id="12391" class="Symbol">:</a> <a id="12393" href="Ledger.Dijkstra.Specification.Transaction.html#8164" class="Record">HasScripts</a> <a id="12404" class="Symbol">(</a><a id="12405" href="Ledger.Dijkstra.Specification.Transaction.html#4923" class="Record">TxWitnesses</a> <a id="12417" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12424" class="Symbol">)</a>
    <a id="12430" href="Ledger.Dijkstra.Specification.Transaction.html#12368" class="Function">HasScripts-TxWitnesses</a> <a id="12453" class="Symbol">.</a><a id="12454" href="Ledger.Dijkstra.Specification.Transaction.html#8217" class="Field">ScriptsOf</a> <a id="12464" class="Symbol">=</a> <a id="12466" href="Ledger.Dijkstra.Specification.Transaction.html#5038" class="Field">TxWitnesses.scripts</a>

    <a id="TransactionStructure.HasScripts-Tx"></a><a id="12491" href="Ledger.Dijkstra.Specification.Transaction.html#12491" class="Function">HasScripts-Tx</a> <a id="12505" class="Symbol">:</a> <a id="12507" href="Ledger.Dijkstra.Specification.Transaction.html#8164" class="Record">HasScripts</a> <a id="12518" class="Symbol">(</a><a id="12519" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="12522" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a><a id="12529" class="Symbol">)</a>
    <a id="12535" href="Ledger.Dijkstra.Specification.Transaction.html#12491" class="Function">HasScripts-Tx</a> <a id="12549" class="Symbol">.</a><a id="12550" href="Ledger.Dijkstra.Specification.Transaction.html#8217" class="Field">ScriptsOf</a> <a id="12560" class="Symbol">=</a> <a id="12562" href="Ledger.Dijkstra.Specification.Transaction.html#8217" class="Field">ScriptsOf</a> <a id="12572" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12574" href="Ledger.Dijkstra.Specification.Transaction.html#5650" class="Field">TxWitnessesOf</a>


  <a id="TransactionStructure.getValue"></a><a id="12592" href="Ledger.Dijkstra.Specification.Transaction.html#12592" class="Function">getValue</a> <a id="12601" class="Symbol">:</a> <a id="12603" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="12609" class="Symbol">→</a> <a id="12611" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="12619" href="Ledger.Dijkstra.Specification.Transaction.html#12592" class="Function">getValue</a> <a id="12628" class="Symbol">(_</a> <a id="12631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12633" href="Ledger.Dijkstra.Specification.Transaction.html#12633" class="Bound">v</a> <a id="12635" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12637" class="Symbol">_)</a> <a id="12640" class="Symbol">=</a> <a id="12642" href="Ledger.Dijkstra.Specification.Transaction.html#12633" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="12647" href="Ledger.Dijkstra.Specification.Transaction.html#12647" class="Function">TxOutʰ</a> <a id="12654" class="Symbol">:</a> <a id="12656" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="12663" href="Ledger.Dijkstra.Specification.Transaction.html#12647" class="Function">TxOutʰ</a> <a id="12670" class="Symbol">=</a> <a id="12672" href="Ledger.Core.Specification.Address.html#2535" class="Function">Addr</a> <a id="12677" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12679" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="12685" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12687" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="12693" class="Symbol">(</a><a id="12694" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="12700" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="12702" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="12710" class="Symbol">)</a> <a id="12712" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12714" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="12720" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="12734" href="Ledger.Dijkstra.Specification.Transaction.html#12734" class="Function">txOutHash</a> <a id="12744" class="Symbol">:</a> <a id="12746" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="12752" class="Symbol">→</a> <a id="12754" href="Ledger.Dijkstra.Specification.Transaction.html#12647" class="Function">TxOutʰ</a>
  <a id="12763" href="Ledger.Dijkstra.Specification.Transaction.html#12734" class="Function">txOutHash</a> <a id="12773" class="Symbol">(</a><a id="12774" href="Ledger.Dijkstra.Specification.Transaction.html#12774" class="Bound">a</a> <a id="12776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12778" href="Ledger.Dijkstra.Specification.Transaction.html#12778" class="Bound">v</a> <a id="12780" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12782" href="Ledger.Dijkstra.Specification.Transaction.html#12782" class="Bound">d</a> <a id="12784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12786" href="Ledger.Dijkstra.Specification.Transaction.html#12786" class="Bound">s</a><a id="12787" class="Symbol">)</a> <a id="12789" class="Symbol">=</a> <a id="12791" href="Ledger.Dijkstra.Specification.Transaction.html#12774" class="Bound">a</a> <a id="12793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12795" class="Symbol">(</a><a id="12796" href="Ledger.Dijkstra.Specification.Transaction.html#12778" class="Bound">v</a> <a id="12798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12800" class="Symbol">(</a><a id="12801" href="Ledger.Dijkstra.Specification.Transaction.html#12782" class="Bound">d</a> <a id="12803" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12805" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="12811" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="12816" href="Ledger.Dijkstra.Specification.Transaction.html#12786" class="Bound">s</a><a id="12817" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="12823" href="Ledger.Dijkstra.Specification.Transaction.html#12823" class="Function">getValueʰ</a> <a id="12833" class="Symbol">:</a> <a id="12835" href="Ledger.Dijkstra.Specification.Transaction.html#12647" class="Function">TxOutʰ</a> <a id="12842" class="Symbol">→</a> <a id="12844" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="12852" href="Ledger.Dijkstra.Specification.Transaction.html#12823" class="Function">getValueʰ</a> <a id="12862" class="Symbol">(_</a> <a id="12865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12867" href="Ledger.Dijkstra.Specification.Transaction.html#12867" class="Bound">v</a> <a id="12869" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12871" class="Symbol">_)</a> <a id="12874" class="Symbol">=</a> <a id="12876" href="Ledger.Dijkstra.Specification.Transaction.html#12867" class="Bound">v</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="12881" href="Ledger.Dijkstra.Specification.Transaction.html#12881" class="Function">txinsVKey</a> <a id="12891" class="Symbol">:</a> <a id="12893" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="12895" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="12900" class="Symbol">→</a> <a id="12902" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="12907" class="Symbol">→</a> <a id="12909" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="12911" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="12918" href="Ledger.Dijkstra.Specification.Transaction.html#12881" class="Function">txinsVKey</a> <a id="12928" href="Ledger.Dijkstra.Specification.Transaction.html#12928" class="Bound">txins</a> <a id="12934" href="Ledger.Dijkstra.Specification.Transaction.html#12934" class="Bound">utxo</a> <a id="12939" class="Symbol">=</a> <a id="12941" href="Ledger.Dijkstra.Specification.Transaction.html#12928" class="Bound">txins</a> <a id="12947" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="12949" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12953" class="Symbol">(</a><a id="12954" href="Ledger.Dijkstra.Specification.Transaction.html#12934" class="Bound">utxo</a> <a id="12959" href="abstract-set-theory.FiniteSetTheory.html#4295" class="Function Operator">∣^&#39;</a> <a id="12963" class="Symbol">(</a><a id="12964" href="Ledger.Core.Specification.Address.html#2790" class="Function">isVKeyAddr</a> <a id="12975" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12977" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="12982" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="12988" href="Ledger.Dijkstra.Specification.Transaction.html#12988" class="Function">scriptOuts</a> <a id="12999" class="Symbol">:</a> <a id="13001" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13006" class="Symbol">→</a> <a id="13008" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a>
  <a id="13015" href="Ledger.Dijkstra.Specification.Transaction.html#12988" class="Function">scriptOuts</a> <a id="13026" href="Ledger.Dijkstra.Specification.Transaction.html#13026" class="Bound">utxo</a> <a id="13031" class="Symbol">=</a> <a id="13033" href="Ledger.Dijkstra.Specification.Transaction.html#158" class="Function">filter</a> <a id="13040" class="Symbol">(λ</a> <a id="13043" class="Symbol">(_</a> <a id="13046" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13048" href="Ledger.Dijkstra.Specification.Transaction.html#13048" class="Bound">addr</a> <a id="13053" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13055" class="Symbol">_)</a> <a id="13058" class="Symbol">→</a> <a id="13060" href="Ledger.Core.Specification.Address.html#2818" class="Function">isScriptAddr</a> <a id="13073" href="Ledger.Dijkstra.Specification.Transaction.html#13048" class="Bound">addr</a><a id="13077" class="Symbol">)</a> <a id="13079" href="Ledger.Dijkstra.Specification.Transaction.html#13026" class="Bound">utxo</a>

  <a id="TransactionStructure.txinsScript"></a><a id="13087" href="Ledger.Dijkstra.Specification.Transaction.html#13087" class="Function">txinsScript</a> <a id="13099" class="Symbol">:</a> <a id="13101" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="13103" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a> <a id="13108" class="Symbol">→</a> <a id="13110" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13115" class="Symbol">→</a> <a id="13117" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="13119" href="Ledger.Dijkstra.Specification.Transaction.html#2993" class="Function">TxIn</a>
  <a id="13126" href="Ledger.Dijkstra.Specification.Transaction.html#13087" class="Function">txinsScript</a> <a id="13138" href="Ledger.Dijkstra.Specification.Transaction.html#13138" class="Bound">txins</a> <a id="13144" href="Ledger.Dijkstra.Specification.Transaction.html#13144" class="Bound">utxo</a> <a id="13149" class="Symbol">=</a> <a id="13151" href="Ledger.Dijkstra.Specification.Transaction.html#13138" class="Bound">txins</a> <a id="13157" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="13159" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13163" class="Symbol">(</a><a id="13164" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13170" class="Symbol">(</a><a id="13171" href="Ledger.Dijkstra.Specification.Transaction.html#12988" class="Function">scriptOuts</a> <a id="13182" href="Ledger.Dijkstra.Specification.Transaction.html#13144" class="Bound">utxo</a><a id="13186" class="Symbol">))</a>


  <a id="TransactionStructure.txOutToScript"></a><a id="13193" href="Ledger.Dijkstra.Specification.Transaction.html#13193" class="Function">txOutToScript</a> <a id="13207" class="Symbol">:</a> <a id="13209" href="Ledger.Dijkstra.Specification.Transaction.html#3027" class="Function">TxOut</a> <a id="13215" class="Symbol">→</a> <a id="13217" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13223" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
  <a id="13232" href="Ledger.Dijkstra.Specification.Transaction.html#13193" class="Function">txOutToScript</a> <a id="13246" class="Symbol">(_</a> <a id="13249" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13251" class="Symbol">_</a> <a id="13253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13255" class="Symbol">_</a> <a id="13257" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13259" href="Ledger.Dijkstra.Specification.Transaction.html#13259" class="Bound">s</a><a id="13260" class="Symbol">)</a> <a id="13262" class="Symbol">=</a> <a id="13264" href="Ledger.Dijkstra.Specification.Transaction.html#13259" class="Bound">s</a>

  <a id="TransactionStructure.refScripts"></a><a id="13269" href="Ledger.Dijkstra.Specification.Transaction.html#13269" class="Function">refScripts</a> <a id="13280" class="Symbol">:</a> <a id="13282" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13285" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="13293" class="Symbol">→</a> <a id="13295" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13300" class="Symbol">→</a> <a id="13302" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13307" class="Symbol">→</a> <a id="13309" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13314" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
  <a id="13323" href="Ledger.Dijkstra.Specification.Transaction.html#13269" class="Function">refScripts</a> <a id="13334" href="Ledger.Dijkstra.Specification.Transaction.html#13334" class="Bound">tx</a> <a id="13337" href="Ledger.Dijkstra.Specification.Transaction.html#13337" class="Bound">utxo₀</a> <a id="13343" href="Ledger.Dijkstra.Specification.Transaction.html#13343" class="Bound">utxoRef</a> <a id="13351" class="Symbol">=</a>
    <a id="13357" href="Data.List.Base.html#4606" class="Function">mapMaybe</a> <a id="13366" class="Symbol">(</a><a id="13367" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13373" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13375" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13381" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13383" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="13388" class="Symbol">)</a>
      <a id="13396" class="Symbol">(</a> <a id="13398" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="13408" class="Symbol">(</a><a id="13409" href="Class.IsSet.html#959" class="Function">range</a> <a id="13415" class="Symbol">(</a><a id="13416" href="Ledger.Dijkstra.Specification.Transaction.html#13337" class="Bound">utxo₀</a> <a id="13422" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="13424" href="Ledger.Dijkstra.Specification.Transaction.html#6951" class="Field">SpendInputsOf</a> <a id="13438" href="Ledger.Dijkstra.Specification.Transaction.html#13334" class="Bound">tx</a><a id="13440" class="Symbol">))</a>
        <a id="13451" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="13454" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="13464" class="Symbol">(</a><a id="13465" href="Class.IsSet.html#959" class="Function">range</a> <a id="13471" class="Symbol">(</a><a id="13472" href="Ledger.Dijkstra.Specification.Transaction.html#13343" class="Bound">utxoRef</a> <a id="13480" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="13482" href="Ledger.Dijkstra.Specification.Transaction.html#7084" class="Field">ReferenceInputsOf</a> <a id="13500" href="Ledger.Dijkstra.Specification.Transaction.html#13334" class="Bound">tx</a><a id="13502" class="Symbol">))</a> <a id="13505" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="13510" href="Ledger.Dijkstra.Specification.Transaction.html#13510" class="Function">txscripts</a> <a id="13520" class="Symbol">:</a> <a id="13522" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13525" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="13533" class="Symbol">→</a> <a id="13535" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13540" class="Symbol">→</a> <a id="13542" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13547" class="Symbol">→</a> <a id="13549" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="13551" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
  <a id="13560" href="Ledger.Dijkstra.Specification.Transaction.html#13510" class="Function">txscripts</a> <a id="13570" href="Ledger.Dijkstra.Specification.Transaction.html#13570" class="Bound">tx</a> <a id="13573" href="Ledger.Dijkstra.Specification.Transaction.html#13573" class="Bound">utxo₀</a> <a id="13579" href="Ledger.Dijkstra.Specification.Transaction.html#13579" class="Bound">utxoRef</a> <a id="13587" class="Symbol">=</a> <a id="13589" href="Ledger.Dijkstra.Specification.Transaction.html#8217" class="Field">ScriptsOf</a> <a id="13599" href="Ledger.Dijkstra.Specification.Transaction.html#13570" class="Bound">tx</a> <a id="13602" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="13604" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="13613" class="Symbol">(</a><a id="13614" href="Ledger.Dijkstra.Specification.Transaction.html#13269" class="Function">refScripts</a> <a id="13625" href="Ledger.Dijkstra.Specification.Transaction.html#13570" class="Bound">tx</a> <a id="13628" href="Ledger.Dijkstra.Specification.Transaction.html#13573" class="Bound">utxo₀</a> <a id="13634" href="Ledger.Dijkstra.Specification.Transaction.html#13579" class="Bound">utxoRef</a><a id="13641" class="Symbol">)</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="13646" href="Ledger.Dijkstra.Specification.Transaction.html#13646" class="Function">lookupScriptHash</a> <a id="13663" class="Symbol">:</a> <a id="13665" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="13676" class="Symbol">→</a> <a id="13678" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13681" href="Ledger.Dijkstra.Specification.Transaction.html#1064" class="Generalizable">txLevel</a> <a id="13689" class="Symbol">→</a> <a id="13691" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13696" class="Symbol">→</a> <a id="13698" href="Ledger.Dijkstra.Specification.Transaction.html#3108" class="Function">UTxO</a> <a id="13703" class="Symbol">→</a> <a id="13705" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13711" href="Ledger.Conway.Specification.Script.Base.html#2445" class="Function">Script</a>
  <a id="13720" href="Ledger.Dijkstra.Specification.Transaction.html#13646" class="Function">lookupScriptHash</a> <a id="13737" href="Ledger.Dijkstra.Specification.Transaction.html#13737" class="Bound">sh</a> <a id="13740" href="Ledger.Dijkstra.Specification.Transaction.html#13740" class="Bound">tx</a> <a id="13743" href="Ledger.Dijkstra.Specification.Transaction.html#13743" class="Bound">utxoSpend₀</a> <a id="13754" href="Ledger.Dijkstra.Specification.Transaction.html#13754" class="Bound">utxoRefView</a> <a id="13766" class="Symbol">=</a> <a id="13768" href="Ledger.Prelude.html#2567" class="Function">lookupHash</a> <a id="13779" href="Ledger.Dijkstra.Specification.Transaction.html#13737" class="Bound">sh</a> <a id="13782" class="Symbol">(</a><a id="13783" href="Ledger.Dijkstra.Specification.Transaction.html#13510" class="Function">txscripts</a> <a id="13793" href="Ledger.Dijkstra.Specification.Transaction.html#13740" class="Bound">tx</a> <a id="13796" href="Ledger.Dijkstra.Specification.Transaction.html#13743" class="Bound">utxoSpend₀</a> <a id="13807" href="Ledger.Dijkstra.Specification.Transaction.html#13754" class="Bound">utxoRefView</a><a id="13818" class="Symbol">)</a>

  <a id="TransactionStructure.getSubTxScripts"></a><a id="13823" href="Ledger.Dijkstra.Specification.Transaction.html#13823" class="Function">getSubTxScripts</a> <a id="13839" class="Symbol">:</a> <a id="13841" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="13852" class="Symbol">→</a> <a id="13854" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="13856" class="Symbol">(</a><a id="13857" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="13862" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13864" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="13874" class="Symbol">)</a>
  <a id="13878" href="Ledger.Dijkstra.Specification.Transaction.html#13823" class="Function">getSubTxScripts</a> <a id="13894" href="Ledger.Dijkstra.Specification.Transaction.html#13894" class="Bound">subtx</a> <a id="13900" class="Symbol">=</a> <a id="13902" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="13907" class="Symbol">(λ</a> <a id="13910" href="Ledger.Dijkstra.Specification.Transaction.html#13910" class="Bound">hash</a> <a id="13915" class="Symbol">→</a> <a id="13917" class="Symbol">(</a><a id="13918" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="13925" href="Ledger.Dijkstra.Specification.Transaction.html#13894" class="Bound">subtx</a> <a id="13931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13933" href="Ledger.Dijkstra.Specification.Transaction.html#13910" class="Bound">hash</a><a id="13937" class="Symbol">))</a> <a id="13940" class="Symbol">(</a><a id="13941" href="Ledger.Dijkstra.Specification.Transaction.html#13975" class="Function">ScriptHashes</a> <a id="13954" href="Ledger.Dijkstra.Specification.Transaction.html#13894" class="Bound">subtx</a><a id="13959" class="Symbol">)</a>
    <a id="13965" class="Keyword">where</a>
    <a id="13975" href="Ledger.Dijkstra.Specification.Transaction.html#13975" class="Function">ScriptHashes</a> <a id="13988" class="Symbol">:</a> <a id="13990" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="13993" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a> <a id="14004" class="Symbol">→</a> <a id="14006" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14008" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="14023" href="Ledger.Dijkstra.Specification.Transaction.html#13975" class="Function">ScriptHashes</a> <a id="14036" href="Ledger.Dijkstra.Specification.Transaction.html#14036" class="Bound">tx</a> <a id="14039" class="Symbol">=</a> <a id="14041" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="14052" class="Symbol">(</a><a id="14053" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="14065" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14067" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="14072" class="Symbol">)</a> <a id="14074" class="Symbol">(</a><a id="14075" href="Ledger.Dijkstra.Specification.Transaction.html#6524" class="Field">TopLevelGuardsOf</a> <a id="14092" href="Ledger.Dijkstra.Specification.Transaction.html#14036" class="Bound">tx</a><a id="14094" class="Symbol">)</a>
                      <a id="14118" class="Comment">-- `txRequiredTopLevelGuards` has key creds too, but only</a>
                      <a id="14198" class="Comment">-- `ScriptObj hash` contributes a phase-2 script hash.</a>

  <a id="TransactionStructure.getTxScripts"></a><a id="14256" href="Ledger.Dijkstra.Specification.Transaction.html#14256" class="Function">getTxScripts</a> <a id="14269" class="Symbol">:</a> <a id="14271" class="Symbol">{</a><a id="14272" href="Ledger.Dijkstra.Specification.Transaction.html#14272" class="Bound">ℓ</a> <a id="14274" class="Symbol">:</a> <a id="14276" href="Ledger.Dijkstra.Specification.Transaction.html#718" class="Datatype">TxLevel</a><a id="14283" class="Symbol">}</a> <a id="14285" class="Symbol">→</a> <a id="14287" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Record">Tx</a> <a id="14290" href="Ledger.Dijkstra.Specification.Transaction.html#14272" class="Bound">ℓ</a> <a id="14292" class="Symbol">→</a> <a id="14294" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14296" class="Symbol">(</a><a id="14297" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="14302" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14304" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="14314" class="Symbol">)</a>
  <a id="14318" href="Ledger.Dijkstra.Specification.Transaction.html#14256" class="Function">getTxScripts</a> <a id="14331" class="Symbol">{</a><a id="14332" href="Ledger.Dijkstra.Specification.Transaction.html#752" class="InductiveConstructor">TxLevelSub</a><a id="14342" class="Symbol">}</a> <a id="14344" class="Symbol">=</a> <a id="14346" href="Ledger.Dijkstra.Specification.Transaction.html#13823" class="Function">getSubTxScripts</a>
  <a id="14364" href="Ledger.Dijkstra.Specification.Transaction.html#14256" class="Function">getTxScripts</a> <a id="14377" class="Symbol">{</a><a id="14378" href="Ledger.Dijkstra.Specification.Transaction.html#741" class="InductiveConstructor">TxLevelTop</a><a id="14388" class="Symbol">}</a> <a id="14390" class="Symbol">=</a> <a id="14392" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="14403" href="Ledger.Dijkstra.Specification.Transaction.html#13823" class="Function">getSubTxScripts</a> <a id="14419" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14421" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="14430" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14432" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Field">SubTransactionsOf</a>


  <a id="TransactionStructure.TaggedTopLevelGuard"></a><a id="14454" href="Ledger.Dijkstra.Specification.Transaction.html#14454" class="Function">TaggedTopLevelGuard</a> <a id="14474" class="Symbol">:</a> <a id="14476" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="14483" href="Ledger.Dijkstra.Specification.Transaction.html#14454" class="Function">TaggedTopLevelGuard</a> <a id="14503" class="Symbol">=</a> <a id="14505" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="14510" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14512" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="14523" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14525" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14531" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
                     <a id="14558" class="Comment">-- (subTxId, guard credential, optional datum argument)</a>

  <a id="TransactionStructure.GroupedTopLevelGuards"></a><a id="14617" href="Ledger.Dijkstra.Specification.Transaction.html#14617" class="Function">GroupedTopLevelGuards</a> <a id="14639" class="Symbol">:</a> <a id="14641" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="14648" href="Ledger.Dijkstra.Specification.Transaction.html#14617" class="Function">GroupedTopLevelGuards</a> <a id="14670" class="Symbol">=</a> <a id="14672" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="14677" class="Symbol">(</a><a id="14678" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="14689" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14691" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="14696" class="Symbol">(</a><a id="14697" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Field">TxId</a> <a id="14702" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14704" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14710" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a><a id="14715" class="Symbol">))</a>

  <a id="TransactionStructure.groupTopLevelGuards"></a><a id="14721" href="Ledger.Dijkstra.Specification.Transaction.html#14721" class="Function">groupTopLevelGuards</a> <a id="14741" class="Symbol">:</a> <a id="14743" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="14748" href="Ledger.Dijkstra.Specification.Transaction.html#14454" class="Function">TaggedTopLevelGuard</a> <a id="14768" class="Symbol">→</a> <a id="14770" href="Ledger.Dijkstra.Specification.Transaction.html#14617" class="Function">GroupedTopLevelGuards</a>
  <a id="14794" href="Ledger.Dijkstra.Specification.Transaction.html#14721" class="Function">groupTopLevelGuards</a> <a id="14814" class="Symbol">=</a> <a id="14816" href="Data.List.Base.html#4126" class="Function">foldr</a> <a id="14822" href="Ledger.Dijkstra.Specification.Transaction.html#15054" class="Function">insertGuard</a> <a id="14834" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="14841" class="Keyword">where</a>
    <a id="14851" class="Comment">-- Insert one tagged guard into an existing group:</a>
    <a id="14906" class="Comment">--   + if the credential already has a group, cons (subTxId, datum?) onto its list</a>
    <a id="14993" class="Comment">--   + otherwise create a new group for that credential.</a>
    <a id="15054" href="Ledger.Dijkstra.Specification.Transaction.html#15054" class="Function">insertGuard</a> <a id="15066" class="Symbol">:</a> <a id="15068" href="Ledger.Dijkstra.Specification.Transaction.html#14454" class="Function">TaggedTopLevelGuard</a> <a id="15088" class="Symbol">→</a> <a id="15090" href="Ledger.Dijkstra.Specification.Transaction.html#14617" class="Function">GroupedTopLevelGuards</a> <a id="15112" class="Symbol">→</a> <a id="15114" href="Ledger.Dijkstra.Specification.Transaction.html#14617" class="Function">GroupedTopLevelGuards</a>
    <a id="15140" href="Ledger.Dijkstra.Specification.Transaction.html#15054" class="Function">insertGuard</a> <a id="15152" class="Symbol">(</a><a id="15153" href="Ledger.Dijkstra.Specification.Transaction.html#15153" class="Bound">tid</a> <a id="15157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15159" href="Ledger.Dijkstra.Specification.Transaction.html#15159" class="Bound">cred</a> <a id="15164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15166" href="Ledger.Dijkstra.Specification.Transaction.html#15166" class="Bound">md</a><a id="15168" class="Symbol">)</a> <a id="15170" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15173" class="Symbol">=</a> <a id="15175" class="Symbol">(</a><a id="15176" href="Ledger.Dijkstra.Specification.Transaction.html#15159" class="Bound">cred</a> <a id="15181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15183" class="Symbol">(</a><a id="15184" href="Ledger.Dijkstra.Specification.Transaction.html#15153" class="Bound">tid</a> <a id="15188" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15190" href="Ledger.Dijkstra.Specification.Transaction.html#15166" class="Bound">md</a><a id="15192" class="Symbol">)</a> <a id="15194" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15196" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15198" class="Symbol">)</a> <a id="15200" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15202" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="15209" href="Ledger.Dijkstra.Specification.Transaction.html#15054" class="Function">insertGuard</a> <a id="15221" class="Symbol">(</a><a id="15222" href="Ledger.Dijkstra.Specification.Transaction.html#15222" class="Bound">tid</a> <a id="15226" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15228" href="Ledger.Dijkstra.Specification.Transaction.html#15228" class="Bound">cred</a> <a id="15233" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15235" href="Ledger.Dijkstra.Specification.Transaction.html#15235" class="Bound">md</a><a id="15237" class="Symbol">)</a> <a id="15239" class="Symbol">((</a><a id="15241" href="Ledger.Dijkstra.Specification.Transaction.html#15241" class="Bound">c</a> <a id="15243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15245" href="Ledger.Dijkstra.Specification.Transaction.html#15245" class="Bound">xs</a><a id="15247" class="Symbol">)</a> <a id="15249" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15251" href="Ledger.Dijkstra.Specification.Transaction.html#15251" class="Bound">rest</a><a id="15255" class="Symbol">)</a> <a id="15257" class="Keyword">with</a> <a id="15262" href="Ledger.Dijkstra.Specification.Transaction.html#15241" class="Bound">c</a> <a id="15264" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="15266" href="Ledger.Dijkstra.Specification.Transaction.html#15228" class="Bound">cred</a>
    <a id="15275" class="Symbol">...</a> <a id="15279" class="Symbol">|</a> <a id="15281" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="15285" class="Symbol">_</a> <a id="15287" class="Symbol">=</a> <a id="15289" class="Symbol">(</a><a id="15290" class="Bound">c</a> <a id="15292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15294" class="Symbol">(</a><a id="15295" class="Bound">tid</a> <a id="15299" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15301" class="Bound">md</a><a id="15303" class="Symbol">)</a> <a id="15305" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15307" class="Bound">xs</a><a id="15309" class="Symbol">)</a> <a id="15311" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15313" class="Bound">rest</a>
    <a id="15322" class="Symbol">...</a> <a id="15326" class="Symbol">|</a> <a id="15328" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="15332" class="Symbol">_</a> <a id="15334" class="Symbol">=</a> <a id="15336" class="Symbol">(</a><a id="15337" class="Bound">c</a> <a id="15339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15341" class="Bound">xs</a><a id="15343" class="Symbol">)</a> <a id="15345" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15347" href="Ledger.Dijkstra.Specification.Transaction.html#15054" class="Function">insertGuard</a> <a id="15359" class="Symbol">(</a><a id="15360" class="Bound">tid</a> <a id="15364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15366" class="Bound">cred</a> <a id="15371" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15373" class="Bound">md</a><a id="15375" class="Symbol">)</a> <a id="15377" class="Bound">rest</a>

  <a id="TransactionStructure.subTxTaggedGuards"></a><a id="15385" href="Ledger.Dijkstra.Specification.Transaction.html#15385" class="Function">subTxTaggedGuards</a> <a id="15403" class="Symbol">:</a> <a id="15405" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="15416" class="Symbol">→</a> <a id="15418" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15420" href="Ledger.Dijkstra.Specification.Transaction.html#14454" class="Function">TaggedTopLevelGuard</a>
  <a id="15442" href="Ledger.Dijkstra.Specification.Transaction.html#15385" class="Function">subTxTaggedGuards</a> <a id="15460" href="Ledger.Dijkstra.Specification.Transaction.html#15460" class="Bound">subtx</a> <a id="15466" class="Symbol">=</a>
    <a id="15472" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="15477" class="Symbol">(λ</a> <a id="15480" class="Symbol">(</a><a id="15481" href="Ledger.Dijkstra.Specification.Transaction.html#15481" class="Bound">cred</a> <a id="15486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15488" href="Ledger.Dijkstra.Specification.Transaction.html#15488" class="Bound">md</a><a id="15490" class="Symbol">)</a> <a id="15492" class="Symbol">→</a> <a id="15494" class="Symbol">(</a><a id="15495" href="Ledger.Dijkstra.Specification.Transaction.html#6735" class="Field">TxIdOf</a> <a id="15502" href="Ledger.Dijkstra.Specification.Transaction.html#15460" class="Bound">subtx</a> <a id="15508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15510" href="Ledger.Dijkstra.Specification.Transaction.html#15481" class="Bound">cred</a> <a id="15515" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15517" href="Ledger.Dijkstra.Specification.Transaction.html#15488" class="Bound">md</a><a id="15519" class="Symbol">))</a> <a id="15522" class="Symbol">(</a><a id="15523" href="Ledger.Dijkstra.Specification.Transaction.html#6524" class="Field">TopLevelGuardsOf</a> <a id="15540" href="Ledger.Dijkstra.Specification.Transaction.html#15460" class="Bound">subtx</a><a id="15545" class="Symbol">)</a>

  <a id="15550" class="Comment">-- Turn a subTx body&#39;s `txRequiredTopLevelGuards` into a set of guard credentials.</a>
  <a id="TransactionStructure.subTxGuardCredentials"></a><a id="15635" href="Ledger.Dijkstra.Specification.Transaction.html#15635" class="Function">subTxGuardCredentials</a> <a id="15657" class="Symbol">:</a> <a id="15659" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="15670" class="Symbol">→</a> <a id="15672" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15674" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="15687" href="Ledger.Dijkstra.Specification.Transaction.html#15635" class="Function">subTxGuardCredentials</a> <a id="15709" class="Symbol">=</a> <a id="15711" class="Symbol">(</a><a id="15712" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="15717" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="15722" class="Symbol">)</a> <a id="15724" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15726" href="Ledger.Dijkstra.Specification.Transaction.html#6524" class="Field">TopLevelGuardsOf</a>

  <a id="15746" class="Comment">-- Phase-1 condition (CIP-0118):</a>
  <a id="15781" class="Comment">-- every credential required by a subTx body must appear in the top-level txGuards set.</a>
  <a id="TransactionStructure.requiredTopLevelGuardsSatisfied"></a><a id="15871" href="Ledger.Dijkstra.Specification.Transaction.html#15871" class="Function">requiredTopLevelGuardsSatisfied</a> <a id="15903" class="Symbol">:</a> <a id="15905" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a> <a id="15916" class="Symbol">→</a> <a id="15918" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15923" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="15934" class="Symbol">→</a> <a id="15936" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="15943" href="Ledger.Dijkstra.Specification.Transaction.html#15871" class="Function">requiredTopLevelGuardsSatisfied</a> <a id="15975" href="Ledger.Dijkstra.Specification.Transaction.html#15975" class="Bound">topTx</a> <a id="15981" href="Ledger.Dijkstra.Specification.Transaction.html#15981" class="Bound">subTxs</a> <a id="15988" class="Symbol">=</a> <a id="15990" href="Ledger.Dijkstra.Specification.Transaction.html#16212" class="Function">requiredCreds</a> <a id="16004" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="16006" href="Ledger.Dijkstra.Specification.Transaction.html#8096" class="Field">GuardsOf</a> <a id="16015" href="Ledger.Dijkstra.Specification.Transaction.html#15975" class="Bound">topTx</a>
    <a id="16025" class="Keyword">where</a>
    <a id="16035" href="Ledger.Dijkstra.Specification.Transaction.html#16035" class="Function">concatMapˡ</a> <a id="16046" class="Symbol">:</a> <a id="16048" class="Symbol">{</a><a id="16049" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Bound">A</a> <a id="16051" href="Ledger.Dijkstra.Specification.Transaction.html#16051" class="Bound">B</a> <a id="16053" class="Symbol">:</a> <a id="16055" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="16059" class="Symbol">}</a> <a id="16061" class="Symbol">→</a> <a id="16063" class="Symbol">(</a><a id="16064" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Bound">A</a> <a id="16066" class="Symbol">→</a> <a id="16068" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16070" href="Ledger.Dijkstra.Specification.Transaction.html#16051" class="Bound">B</a><a id="16071" class="Symbol">)</a> <a id="16073" class="Symbol">→</a> <a id="16075" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="16080" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Bound">A</a> <a id="16082" class="Symbol">→</a> <a id="16084" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16086" href="Ledger.Dijkstra.Specification.Transaction.html#16051" class="Bound">B</a>
    <a id="16092" href="Ledger.Dijkstra.Specification.Transaction.html#16035" class="Function">concatMapˡ</a> <a id="16103" href="Ledger.Dijkstra.Specification.Transaction.html#16103" class="Bound">f</a> <a id="16105" href="Ledger.Dijkstra.Specification.Transaction.html#16105" class="Bound">as</a> <a id="16108" class="Symbol">=</a> <a id="16110" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="16116" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="16118" href="Axiom.Set.html#2286" class="Function">unions</a> <a id="16125" class="Symbol">(</a><a id="16126" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="16135" class="Symbol">(</a><a id="16136" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="16140" href="Ledger.Dijkstra.Specification.Transaction.html#16103" class="Bound">f</a> <a id="16142" href="Ledger.Dijkstra.Specification.Transaction.html#16105" class="Bound">as</a><a id="16144" class="Symbol">))</a>
    <a id="16151" class="Comment">-- (maybe move concatMapˡ to src-lib-exts or agda-sets)</a>

    <a id="16212" href="Ledger.Dijkstra.Specification.Transaction.html#16212" class="Function">requiredCreds</a> <a id="16226" class="Symbol">:</a> <a id="16228" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16230" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
    <a id="16245" href="Ledger.Dijkstra.Specification.Transaction.html#16212" class="Function">requiredCreds</a> <a id="16259" class="Symbol">=</a> <a id="16261" href="Ledger.Dijkstra.Specification.Transaction.html#16035" class="Function">concatMapˡ</a> <a id="16272" href="Ledger.Dijkstra.Specification.Transaction.html#15635" class="Function">subTxGuardCredentials</a> <a id="16294" href="Ledger.Dijkstra.Specification.Transaction.html#15981" class="Bound">subTxs</a>

</pre></body></html>