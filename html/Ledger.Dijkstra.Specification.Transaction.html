<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#3216" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1324" class="Record">RwdAddr</a> <a id="367" class="Symbol">to</a> <a id="370" class="Record">RewardAddress</a><a id="383" class="Symbol">)</a>
<a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="428" class="Keyword">import</a> <a id="435" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="477" class="Keyword">import</a> <a id="484" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="522" class="Keyword">import</a> <a id="529" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="566" class="Keyword">import</a> <a id="573" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="654" class="Keyword">open</a> <a id="659" class="Keyword">import</a> <a id="666" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="703" class="Symbol">)</a>


<a id="707" class="Keyword">data</a> <a id="TxLevel"></a><a id="712" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="720" class="Symbol">:</a> <a id="722" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="727" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="735" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="746" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="757" class="Symbol">:</a> <a id="759" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="769" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="780" class="Symbol">:</a> <a id="782" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="790" class="Symbol">→</a> <a id="792" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="797" class="Symbol">→</a> <a id="799" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="804" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="815" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="826" href="Ledger.Dijkstra.Specification.Transaction.html#826" class="Bound">X</a> <a id="828" class="Symbol">=</a> <a id="830" href="Ledger.Dijkstra.Specification.Transaction.html#826" class="Bound">X</a>
<a id="832" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="843" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="854" class="Symbol">_</a> <a id="856" class="Symbol">=</a> <a id="858" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="861" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="872" class="Symbol">:</a> <a id="874" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="882" class="Symbol">→</a> <a id="884" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="889" class="Symbol">→</a> <a id="891" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="896" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="907" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="918" href="Ledger.Dijkstra.Specification.Transaction.html#918" class="Bound">X</a> <a id="920" class="Symbol">=</a> <a id="922" href="Ledger.Dijkstra.Specification.Transaction.html#918" class="Bound">X</a>
<a id="924" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="935" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="946" class="Symbol">_</a> <a id="948" class="Symbol">=</a> <a id="950" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="954" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="966" href="Ledger.Dijkstra.Specification.Transaction.html#966" class="Function">DecEq-TxLevel</a> <a id="980" class="Symbol">=</a> <a id="982" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="995" class="Symbol">((</a><a id="997" class="Keyword">quote</a> <a id="1003" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="1011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1013" href="Ledger.Dijkstra.Specification.Transaction.html#966" class="Function">DecEq-TxLevel</a><a id="1026" class="Symbol">)</a> <a id="1028" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1030" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1032" class="Symbol">)</a>

<a id="1035" class="Keyword">private</a>
  <a id="1045" class="Keyword">variable</a>
    <a id="1058" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a>

<a id="1077" class="Keyword">data</a> <a id="Tag"></a><a id="1082" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="1096" class="Symbol">→</a> <a id="1098" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1103" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1111" href="Ledger.Dijkstra.Specification.Transaction.html#1111" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1117" href="Ledger.Dijkstra.Specification.Transaction.html#1117" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1122" href="Ledger.Dijkstra.Specification.Transaction.html#1122" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1127" href="Ledger.Dijkstra.Specification.Transaction.html#1127" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1134" href="Ledger.Dijkstra.Specification.Transaction.html#1134" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1139" href="Ledger.Dijkstra.Specification.Transaction.html#1139" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1147" href="Ledger.Dijkstra.Specification.Transaction.html#1147" class="InductiveConstructor">Guard</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1159" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1169" href="Ledger.Dijkstra.Specification.Transaction.html#1169" class="InductiveConstructor">SubGuard</a> <a id="1178" class="Symbol">:</a> <a id="1180" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1184" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a>

<a id="1196" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1208" href="Ledger.Dijkstra.Specification.Transaction.html#1208" class="Function">DecEq-Tag</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1233" class="Symbol">((</a><a id="1235" class="Keyword">quote</a> <a id="1241" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1247" href="Ledger.Dijkstra.Specification.Transaction.html#1208" class="Function">DecEq-Tag</a><a id="1256" class="Symbol">)</a> <a id="1258" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1260" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1262" class="Symbol">)</a>


<a id="1266" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1273" href="Ledger.Dijkstra.Specification.Transaction.html#1273" class="Record">TransactionStructure</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1302" class="Keyword">where</a>
  <a id="1310" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1320" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1323" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1328" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a> <a id="1342" class="Symbol">:</a> <a id="1344" href="Agda.Primitive.html#388" class="Primitive">Type</a>

    <a id="1354" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1356" href="Ledger.Dijkstra.Specification.Transaction.html#1356" class="Field">DecEq-Ix</a>   <a id="1367" class="Symbol">⦄</a> <a id="1369" class="Symbol">:</a> <a id="1371" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1377" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>
    <a id="1384" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1386" href="Ledger.Dijkstra.Specification.Transaction.html#1386" class="Field">DecEq-TxId</a> <a id="1397" class="Symbol">⦄</a> <a id="1399" class="Symbol">:</a> <a id="1401" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1407" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1416" href="Ledger.Dijkstra.Specification.Transaction.html#1416" class="Field">adHashingScheme</a> <a id="1432" class="Symbol">:</a> <a id="1434" href="Ledger.Core.Specification.Crypto.html#166" class="Record">isHashableSet</a> <a id="1448" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a>
  <a id="1464" class="Keyword">open</a> <a id="1469" href="Ledger.Core.Specification.Crypto.html#166" class="Module">isHashableSet</a> <a id="1483" href="Ledger.Dijkstra.Specification.Transaction.html#1416" class="Field">adHashingScheme</a> <a id="1499" class="Keyword">renaming</a> <a id="1508" class="Symbol">(</a><a id="1509" href="Ledger.Core.Specification.Crypto.html#243" class="Field">THash</a> <a id="1515" class="Symbol">to</a> <a id="1518" class="Field">ADHash</a><a id="1524" class="Symbol">)</a> <a id="1526" class="Keyword">public</a>

  <a id="1536" class="Keyword">field</a> <a id="TransactionStructure.globalConstants"></a><a id="1542" href="Ledger.Dijkstra.Specification.Transaction.html#1542" class="Field">globalConstants</a> <a id="1558" class="Symbol">:</a> <a id="1560" class="Symbol">_</a>
  <a id="1564" class="Keyword">open</a> <a id="1569" href="Ledger.Core.Specification.Epoch.html#2118" class="Module">GlobalConstants</a> <a id="1585" href="Ledger.Dijkstra.Specification.Transaction.html#1542" class="Field">globalConstants</a> <a id="1601" class="Keyword">public</a>

  <a id="1611" class="Keyword">field</a> <a id="TransactionStructure.crypto"></a><a id="1617" href="Ledger.Dijkstra.Specification.Transaction.html#1617" class="Field">crypto</a> <a id="1624" class="Symbol">:</a> <a id="1626" class="Symbol">_</a>
  <a id="1630" class="Keyword">open</a> <a id="1635" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1651" href="Ledger.Dijkstra.Specification.Transaction.html#1617" class="Field">crypto</a> <a id="1658" class="Keyword">public</a>
  <a id="1667" class="Keyword">open</a> <a id="1672" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1720" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1731" class="Keyword">public</a>
  <a id="1740" class="Keyword">open</a> <a id="1745" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1779" href="Ledger.Core.Specification.Epoch.html#2157" class="Function">Network</a> <a id="1787" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1795" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1806" class="Symbol">⦃</a> <a id="1808" href="Function.Base.html#4755" class="Function">it</a> <a id="1811" class="Symbol">⦄</a> <a id="1813" class="Symbol">⦃</a> <a id="1815" href="Function.Base.html#4755" class="Function">it</a> <a id="1818" class="Symbol">⦄</a> <a id="1820" class="Symbol">⦃</a> <a id="1822" href="Function.Base.html#4755" class="Function">it</a> <a id="1825" class="Symbol">⦄</a> <a id="1827" class="Keyword">public</a>

  <a id="1837" class="Keyword">field</a> <a id="TransactionStructure.epochStructure"></a><a id="1843" href="Ledger.Dijkstra.Specification.Transaction.html#1843" class="Field">epochStructure</a> <a id="1858" class="Symbol">:</a> <a id="1860" class="Symbol">_</a>
  <a id="1864" class="Keyword">open</a> <a id="1869" href="Ledger.Core.Specification.Epoch.html#530" class="Module">EpochStructure</a> <a id="1884" href="Ledger.Dijkstra.Specification.Transaction.html#1843" class="Field">epochStructure</a> <a id="1899" class="Keyword">public</a>
  <a id="1908" class="Keyword">open</a> <a id="1913" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="1950" href="Ledger.Dijkstra.Specification.Transaction.html#1617" class="Field">crypto</a> <a id="1957" href="Ledger.Dijkstra.Specification.Transaction.html#1843" class="Field">epochStructure</a> <a id="1972" class="Keyword">public</a>

  <a id="1982" class="Keyword">field</a> <a id="TransactionStructure.scriptStructure"></a><a id="1988" href="Ledger.Dijkstra.Specification.Transaction.html#1988" class="Field">scriptStructure</a> <a id="2004" class="Symbol">:</a> <a id="2006" class="Symbol">_</a>
  <a id="2010" class="Keyword">open</a> <a id="2015" href="Ledger.Conway.Specification.Script.Base.html#2048" class="Module">ScriptStructure</a> <a id="2031" href="Ledger.Dijkstra.Specification.Transaction.html#1988" class="Field">scriptStructure</a> <a id="2047" class="Keyword">public</a>
  <a id="2056" class="Keyword">open</a> <a id="2061" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2099" href="Ledger.Dijkstra.Specification.Transaction.html#1617" class="Field">crypto</a> <a id="2106" href="Ledger.Dijkstra.Specification.Transaction.html#1843" class="Field">epochStructure</a> <a id="2121" href="Ledger.Dijkstra.Specification.Transaction.html#1988" class="Field">scriptStructure</a> <a id="2137" class="Keyword">public</a>

  <a id="2147" class="Keyword">field</a> <a id="TransactionStructure.govParams"></a><a id="2153" href="Ledger.Dijkstra.Specification.Transaction.html#2153" class="Field">govParams</a> <a id="2163" class="Symbol">:</a> <a id="2165" class="Symbol">_</a>
  <a id="2169" class="Keyword">open</a> <a id="2174" href="Ledger.Conway.Specification.PParams.html#14009" class="Module">GovParams</a> <a id="2184" href="Ledger.Dijkstra.Specification.Transaction.html#2153" class="Field">govParams</a> <a id="2194" class="Keyword">public</a>

  <a id="2204" class="Keyword">field</a> <a id="TransactionStructure.tokenAlgebra"></a><a id="2210" href="Ledger.Dijkstra.Specification.Transaction.html#2210" class="Field">tokenAlgebra</a> <a id="2223" class="Symbol">:</a> <a id="2225" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#479" class="Record">TokenAlgebra</a>
  <a id="2240" class="Keyword">open</a> <a id="2245" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#479" class="Module">TokenAlgebra</a> <a id="2258" href="Ledger.Dijkstra.Specification.Transaction.html#2210" class="Field">tokenAlgebra</a> <a id="2271" class="Keyword">public</a>

  <a id="2281" class="Keyword">field</a> <a id="TransactionStructure.txidBytes"></a><a id="2287" href="Ledger.Dijkstra.Specification.Transaction.html#2287" class="Field">txidBytes</a> <a id="2297" class="Symbol">:</a> <a id="2299" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="2304" class="Symbol">→</a> <a id="2306" href="Ledger.Core.Specification.Crypto.html#658" class="Function">Ser</a>

  <a id="TransactionStructure.govStructure"></a><a id="2313" href="Ledger.Dijkstra.Specification.Transaction.html#2313" class="Function">govStructure</a> <a id="2326" class="Symbol">:</a> <a id="2328" href="Ledger.Conway.Specification.Gov.Base.html#325" class="Record">GovStructure</a>
  <a id="2343" href="Ledger.Dijkstra.Specification.Transaction.html#2313" class="Function">govStructure</a> <a id="2356" class="Symbol">=</a> <a id="2358" class="Keyword">record</a>
    <a id="2369" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2418" class="Symbol">{</a> <a id="2420" href="Ledger.Conway.Specification.Gov.Base.html#360" class="Field">TxId</a> <a id="2425" class="Symbol">=</a> <a id="2427" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a><a id="2431" class="Symbol">;</a> <a id="2433" href="Ledger.Conway.Specification.Gov.Base.html#365" class="Field">DocHash</a> <a id="2441" class="Symbol">=</a> <a id="2443" href="Ledger.Dijkstra.Specification.Transaction.html#1518" class="Function">ADHash</a>
    <a id="2454" class="Symbol">;</a> <a id="2456" href="Ledger.Conway.Specification.Gov.Base.html#425" class="Field">cryptoStructure</a> <a id="2472" class="Symbol">=</a> <a id="2474" href="Ledger.Dijkstra.Specification.Transaction.html#1617" class="Field">crypto</a>
    <a id="2485" class="Symbol">;</a> <a id="2487" href="Ledger.Conway.Specification.Gov.Base.html#500" class="Field">epochStructure</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Ledger.Dijkstra.Specification.Transaction.html#1843" class="Field">epochStructure</a>
    <a id="2523" class="Symbol">;</a> <a id="2525" href="Ledger.Conway.Specification.Gov.Base.html#572" class="Field">scriptStructure</a> <a id="2541" class="Symbol">=</a> <a id="2543" href="Ledger.Dijkstra.Specification.Transaction.html#1988" class="Field">scriptStructure</a>
    <a id="2563" class="Symbol">;</a> <a id="2565" href="Ledger.Conway.Specification.Gov.Base.html#790" class="Field">govParams</a> <a id="2575" class="Symbol">=</a> <a id="2577" href="Ledger.Dijkstra.Specification.Transaction.html#2153" class="Field">govParams</a>
    <a id="2591" class="Symbol">;</a> <a id="2593" href="Ledger.Conway.Specification.Gov.Base.html#855" class="Field">globalConstants</a> <a id="2609" class="Symbol">=</a> <a id="2611" href="Ledger.Dijkstra.Specification.Transaction.html#1542" class="Field">globalConstants</a>
    <a id="2631" class="Symbol">}</a>

  <a id="2636" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2643" href="Ledger.Dijkstra.Specification.Transaction.html#2643" class="Module">GovernanceActions</a> <a id="2661" class="Symbol">=</a> <a id="2663" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2705" href="Ledger.Dijkstra.Specification.Transaction.html#2313" class="Function">govStructure</a>
  <a id="2720" class="Keyword">open</a> <a id="2725" href="Ledger.Dijkstra.Specification.Transaction.html#2643" class="Module">GovernanceActions</a> <a id="2743" class="Keyword">hiding</a> <a id="2750" class="Symbol">(</a><a id="2751" href="Ledger.Conway.Specification.Gov.Actions.html#3219" class="Datatype">Vote</a><a id="2755" class="Symbol">;</a> <a id="2757" href="Ledger.Conway.Specification.Gov.Actions.html#3239" class="InductiveConstructor">yes</a><a id="2760" class="Symbol">;</a> <a id="2762" href="Ledger.Conway.Specification.Gov.Actions.html#3243" class="InductiveConstructor">no</a><a id="2764" class="Symbol">;</a> <a id="2766" href="Ledger.Conway.Specification.Gov.Actions.html#3246" class="InductiveConstructor">abstain</a><a id="2773" class="Symbol">)</a> <a id="2775" class="Keyword">public</a>

  <a id="2785" class="Keyword">open</a> <a id="2790" class="Keyword">import</a> <a id="2797" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="2833" href="Ledger.Dijkstra.Specification.Transaction.html#2313" class="Function">govStructure</a>

  <a id="TransactionStructure.TxIn"></a><a id="2849" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a> <a id="2854" class="Symbol">:</a> <a id="2856" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2863" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="2875" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2877" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="2883" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a> <a id="2889" class="Symbol">:</a> <a id="2891" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2898" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a> <a id="2904" class="Symbol">=</a> <a id="2906" href="Ledger.Core.Specification.Address.html#2489" class="Function">Addr</a> <a id="2911" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2913" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a> <a id="2919" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2921" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2927" class="Symbol">(</a><a id="2928" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="2934" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2936" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="2944" class="Symbol">)</a> <a id="2946" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2948" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2954" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="2964" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="2969" class="Symbol">:</a> <a id="2971" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2978" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="2983" class="Symbol">=</a> <a id="2985" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a> <a id="2990" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2992" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a>

  <a id="3001" class="Comment">-- Datums : Type</a>
  <a id="3020" class="Comment">-- Datums = DataHash ⇀ Datum</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3052" href="Ledger.Dijkstra.Specification.Transaction.html#3052" class="Function">RedeemerPtr</a> <a id="3064" class="Symbol">:</a> <a id="3066" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="3074" class="Symbol">→</a> <a id="3076" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3083" href="Ledger.Dijkstra.Specification.Transaction.html#3052" class="Function">RedeemerPtr</a> <a id="3095" href="Ledger.Dijkstra.Specification.Transaction.html#3095" class="Bound">txLevel</a>  <a id="3104" class="Symbol">=</a> <a id="3106" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="3110" href="Ledger.Dijkstra.Specification.Transaction.html#3095" class="Bound">txLevel</a> <a id="3118" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3120" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3126" href="Ledger.Dijkstra.Specification.Transaction.html#3126" class="Function">ProposedPPUpdates</a> <a id="3144" class="Symbol">:</a> <a id="3146" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3153" href="Ledger.Dijkstra.Specification.Transaction.html#3126" class="Function">ProposedPPUpdates</a> <a id="3171" class="Symbol">=</a> <a id="3173" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3181" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3183" href="Ledger.Conway.Specification.PParams.html#14107" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3200" href="Ledger.Dijkstra.Specification.Transaction.html#3200" class="Function">Update</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3216" href="Ledger.Dijkstra.Specification.Transaction.html#3200" class="Function">Update</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Ledger.Dijkstra.Specification.Transaction.html#3126" class="Function">ProposedPPUpdates</a> <a id="3243" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3245" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a>

  <a id="3254" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3261" href="Ledger.Dijkstra.Specification.Transaction.html#3261" class="Record">HasUTxO</a> <a id="3269" class="Symbol">{</a><a id="3270" href="Ledger.Dijkstra.Specification.Transaction.html#3270" class="Bound">a</a><a id="3271" class="Symbol">}</a> <a id="3273" class="Symbol">(</a><a id="3274" href="Ledger.Dijkstra.Specification.Transaction.html#3274" class="Bound">A</a> <a id="3276" class="Symbol">:</a> <a id="3278" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3283" href="Ledger.Dijkstra.Specification.Transaction.html#3270" class="Bound">a</a><a id="3284" class="Symbol">)</a> <a id="3286" class="Symbol">:</a> <a id="3288" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3293" href="Ledger.Dijkstra.Specification.Transaction.html#3270" class="Bound">a</a> <a id="3295" class="Keyword">where</a>
    <a id="3305" class="Keyword">field</a> <a id="3311" href="Ledger.Dijkstra.Specification.Transaction.html#3311" class="Field">UTxOOf</a> <a id="3318" class="Symbol">:</a> <a id="3320" href="Ledger.Dijkstra.Specification.Transaction.html#3274" class="Bound">A</a> <a id="3322" class="Symbol">→</a> <a id="3324" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a>
  <a id="3331" class="Keyword">open</a> <a id="3336" href="Ledger.Dijkstra.Specification.Transaction.html#3261" class="Module">HasUTxO</a> <a id="3344" class="Symbol">⦃...⦄</a> <a id="3350" class="Keyword">public</a>


  <a id="3361" class="Keyword">mutual</a>
    <a id="3372" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3379" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="3382" class="Symbol">(</a><a id="3383" href="Ledger.Dijkstra.Specification.Transaction.html#3383" class="Bound">txLevel</a> <a id="3391" class="Symbol">:</a> <a id="3393" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="3400" class="Symbol">)</a> <a id="3402" class="Symbol">:</a> <a id="3404" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3409" class="Keyword">where</a>
      <a id="3421" class="Keyword">inductive</a>
      <a id="3437" class="Keyword">field</a>
        <a id="3451" href="Ledger.Dijkstra.Specification.Transaction.html#3451" class="Field">txBody</a>       <a id="3464" class="Symbol">:</a> <a id="3466" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="3473" href="Ledger.Dijkstra.Specification.Transaction.html#3383" class="Bound">txLevel</a>
        <a id="3489" href="Ledger.Dijkstra.Specification.Transaction.html#3489" class="Field">txWitnesses</a>  <a id="3502" class="Symbol">:</a> <a id="3504" href="Ledger.Dijkstra.Specification.Transaction.html#5036" class="Record">TxWitnesses</a> <a id="3516" href="Ledger.Dijkstra.Specification.Transaction.html#3383" class="Bound">txLevel</a>
        <a id="3532" href="Ledger.Dijkstra.Specification.Transaction.html#3532" class="Field">isValid</a>      <a id="3545" class="Symbol">:</a> <a id="3547" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="3558" href="Ledger.Dijkstra.Specification.Transaction.html#3383" class="Bound">txLevel</a> <a id="3566" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3579" href="Ledger.Dijkstra.Specification.Transaction.html#3579" class="Field">txAuxData</a>    <a id="3592" class="Symbol">:</a> <a id="3594" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3600" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a>

    <a id="3619" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3626" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Ledger.Dijkstra.Specification.Transaction.html#3634" class="Bound">txLevel</a> <a id="3642" class="Symbol">:</a> <a id="3644" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="3651" class="Symbol">)</a> <a id="3653" class="Symbol">:</a> <a id="3655" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3660" class="Keyword">where</a>
      <a id="3672" class="Keyword">inductive</a>
      <a id="3688" class="Keyword">field</a>
        <a id="3702" href="Ledger.Dijkstra.Specification.Transaction.html#3702" class="Field">txIns</a>                <a id="3723" class="Symbol">:</a> <a id="3725" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3727" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a>
        <a id="3740" href="Ledger.Dijkstra.Specification.Transaction.html#3740" class="Field">refInputs</a>            <a id="3761" class="Symbol">:</a> <a id="3763" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3765" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a>
        <a id="3778" href="Ledger.Dijkstra.Specification.Transaction.html#3778" class="Field">collateralInputs</a>     <a id="3799" class="Symbol">:</a> <a id="3801" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="3812" href="Ledger.Dijkstra.Specification.Transaction.html#3634" class="Bound">txLevel</a> <a id="3820" class="Symbol">(</a><a id="3821" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3823" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Comment">-- only in top-level tx</a>
        <a id="3861" href="Ledger.Dijkstra.Specification.Transaction.html#3861" class="Field">txOuts</a>               <a id="3882" class="Symbol">:</a> <a id="3884" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a> <a id="3887" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3889" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a>
        <a id="3903" href="Ledger.Dijkstra.Specification.Transaction.html#3903" class="Field">txId</a>                 <a id="3924" class="Symbol">:</a> <a id="3926" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
        <a id="3939" href="Ledger.Dijkstra.Specification.Transaction.html#3939" class="Field">txCerts</a>              <a id="3960" class="Symbol">:</a> <a id="3962" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3967" href="Ledger.Conway.Specification.Certs.html#2238" class="Datatype">DCert</a>
        <a id="3981" href="Ledger.Dijkstra.Specification.Transaction.html#3981" class="Field">txFee</a>                <a id="4002" class="Symbol">:</a> <a id="4004" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="4015" href="Ledger.Dijkstra.Specification.Transaction.html#3634" class="Bound">txLevel</a> <a id="4023" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a> <a id="4028" class="Comment">-- only in top-level tx</a>
        <a id="4060" href="Ledger.Dijkstra.Specification.Transaction.html#4060" class="Field">txWithdrawals</a>        <a id="4081" class="Symbol">:</a> <a id="4083" href="Ledger.Core.Specification.Address.html#1399" class="Function">Withdrawals</a>
        <a id="4103" href="Ledger.Dijkstra.Specification.Transaction.html#4103" class="Field">txVldt</a>               <a id="4124" class="Symbol">:</a> <a id="4126" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4132" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a> <a id="4137" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4139" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4145" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
        <a id="4158" href="Ledger.Dijkstra.Specification.Transaction.html#4158" class="Field">txADhash</a>             <a id="4179" class="Symbol">:</a> <a id="4181" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4187" href="Ledger.Dijkstra.Specification.Transaction.html#1518" class="Function">ADHash</a>
        <a id="4202" href="Ledger.Dijkstra.Specification.Transaction.html#4202" class="Field">txDonation</a>           <a id="4223" class="Symbol">:</a> <a id="4225" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4243" href="Ledger.Dijkstra.Specification.Transaction.html#4243" class="Field">txGovVotes</a>           <a id="4264" class="Symbol">:</a> <a id="4266" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4271" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a>
        <a id="4287" href="Ledger.Dijkstra.Specification.Transaction.html#4287" class="Field">txGovProposals</a>       <a id="4308" class="Symbol">:</a> <a id="4310" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4315" href="Ledger.Conway.Specification.Gov.Actions.html#3459" class="Record">GovProposal</a>
        <a id="4335" href="Ledger.Dijkstra.Specification.Transaction.html#4335" class="Field">txNetworkId</a>          <a id="4356" class="Symbol">:</a> <a id="4358" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4364" href="Ledger.Core.Specification.Epoch.html#2157" class="Function">Network</a>
        <a id="4380" href="Ledger.Dijkstra.Specification.Transaction.html#4380" class="Field">currentTreasury</a>      <a id="4401" class="Symbol">:</a> <a id="4403" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4409" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4422" href="Ledger.Dijkstra.Specification.Transaction.html#4422" class="Field">mint</a>                 <a id="4443" class="Symbol">:</a> <a id="4445" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
        <a id="4459" href="Ledger.Dijkstra.Specification.Transaction.html#4459" class="Field">scriptIntegrityHash</a>  <a id="4480" class="Symbol">:</a> <a id="4482" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4488" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>


        <a id="4509" class="Comment">-- New in Dijkstra --</a>
        <a id="4539" class="Comment">--</a>
        <a id="4550" href="Ledger.Dijkstra.Specification.Transaction.html#4550" class="Field">txSubTransactions</a>    <a id="4571" class="Symbol">:</a> <a id="4573" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="4584" href="Ledger.Dijkstra.Specification.Transaction.html#3634" class="Bound">txLevel</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="4602" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="4612" class="Symbol">))</a> <a id="4615" class="Comment">-- only in top-level tx</a>
        <a id="4647" class="Comment">-- ^^^^^^^^^^ should this be a set? i.e. InTopLevel txLevel (ℙ (Tx TxLevelSub))</a>
        <a id="4735" class="Comment">--            (in getTxScripts function below we need it as a set)</a>
        <a id="4810" class="Comment">--</a>
        <a id="4821" href="Ledger.Dijkstra.Specification.Transaction.html#4821" class="Field">txRequiredGuards</a>          <a id="4847" class="Symbol">:</a> <a id="4849" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4851" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="4859" class="Comment">-- replaces reqSigHash : ℙ KeyHash</a>
        <a id="4902" href="Ledger.Dijkstra.Specification.Transaction.html#4902" class="Field">txRequiredTopLevelGuards</a>  <a id="4928" class="Symbol">:</a> <a id="4930" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="4941" href="Ledger.Dijkstra.Specification.Transaction.html#3634" class="Bound">txLevel</a> <a id="4949" class="Symbol">(</a><a id="4950" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="4961" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4963" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a><a id="4968" class="Symbol">)</a> <a id="4970" class="Comment">-- only in sub-level tx</a>
        <a id="5002" class="Comment">---------------------</a>

    <a id="5029" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="5036" href="Ledger.Dijkstra.Specification.Transaction.html#5036" class="Record">TxWitnesses</a> <a id="5048" class="Symbol">(</a><a id="5049" href="Ledger.Dijkstra.Specification.Transaction.html#5049" class="Bound">txLevel</a> <a id="5057" class="Symbol">:</a> <a id="5059" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="5066" class="Symbol">)</a> <a id="5068" class="Symbol">:</a> <a id="5070" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5075" class="Keyword">where</a>
      <a id="5087" class="Keyword">inductive</a>
      <a id="5103" class="Keyword">field</a>
        <a id="5117" href="Ledger.Dijkstra.Specification.Transaction.html#5117" class="Field">vKeySigs</a>     <a id="5130" class="Symbol">:</a> <a id="5132" href="Ledger.Core.Specification.Crypto.html#649" class="Function">VKey</a> <a id="5137" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5139" href="Ledger.Core.Specification.Crypto.html#654" class="Function">Sig</a>
        <a id="5151" href="Ledger.Dijkstra.Specification.Transaction.html#5151" class="Field">scripts</a>      <a id="5164" class="Symbol">:</a> <a id="5166" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5168" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
        <a id="5183" href="Ledger.Dijkstra.Specification.Transaction.html#5183" class="Field">txData</a>       <a id="5196" class="Symbol">:</a> <a id="5198" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a> <a id="5207" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5209" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
        <a id="5223" href="Ledger.Dijkstra.Specification.Transaction.html#5223" class="Field">txRedeemers</a>  <a id="5236" class="Symbol">:</a> <a id="5238" href="Ledger.Dijkstra.Specification.Transaction.html#3052" class="Function">RedeemerPtr</a> <a id="5250" href="Ledger.Dijkstra.Specification.Transaction.html#5049" class="Bound">txLevel</a> <a id="5258" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5260" href="Ledger.Conway.Specification.Script.Base.html#1788" class="Function">Redeemer</a> <a id="5269" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5271" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5286" href="Ledger.Dijkstra.Specification.Transaction.html#5286" class="Function">scriptsP1</a> <a id="5296" class="Symbol">:</a> <a id="5298" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5300" href="Ledger.Conway.Specification.Script.Base.html#642" class="Function">P1Script</a>
      <a id="5315" href="Ledger.Dijkstra.Specification.Transaction.html#5286" class="Function">scriptsP1</a> <a id="5325" class="Symbol">=</a> <a id="5327" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="5338" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5345" href="Ledger.Dijkstra.Specification.Transaction.html#5151" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5357" href="Ledger.Dijkstra.Specification.Transaction.html#5357" class="Function">TopLevelTx</a> <a id="5368" class="Symbol">:</a> <a id="5370" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5377" href="Ledger.Dijkstra.Specification.Transaction.html#5357" class="Function">TopLevelTx</a> <a id="5388" class="Symbol">=</a> <a id="5390" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="5393" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5407" href="Ledger.Dijkstra.Specification.Transaction.html#5407" class="Function">SubLevelTx</a> <a id="5418" class="Symbol">:</a> <a id="5420" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5427" href="Ledger.Dijkstra.Specification.Transaction.html#5407" class="Function">SubLevelTx</a> <a id="5438" class="Symbol">=</a> <a id="5440" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="5443" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5458" href="Ledger.Dijkstra.Specification.Transaction.html#5458" class="Function">AnyLevelTx</a> <a id="5469" class="Symbol">:</a> <a id="5471" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5478" href="Ledger.Dijkstra.Specification.Transaction.html#5458" class="Function">AnyLevelTx</a> <a id="5489" class="Symbol">=</a> <a id="5491" href="Ledger.Dijkstra.Specification.Transaction.html#5357" class="Function">TopLevelTx</a> <a id="5502" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5504" href="Ledger.Dijkstra.Specification.Transaction.html#5407" class="Function">SubLevelTx</a>


  <a id="5519" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5526" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Record">HasTxBody</a> <a id="5536" class="Symbol">{</a><a id="5537" href="Ledger.Dijkstra.Specification.Transaction.html#5537" class="Bound">txLevel</a><a id="5544" class="Symbol">}</a> <a id="5546" class="Symbol">{</a><a id="5547" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a><a id="5548" class="Symbol">}</a> <a id="5550" class="Symbol">(</a><a id="5551" href="Ledger.Dijkstra.Specification.Transaction.html#5551" class="Bound">A</a> <a id="5553" class="Symbol">:</a> <a id="5555" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5560" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">:</a> <a id="5565" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5570" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a> <a id="5572" class="Keyword">where</a>
    <a id="5582" class="Keyword">field</a> <a id="5588" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a> <a id="5597" class="Symbol">:</a> <a id="5599" href="Ledger.Dijkstra.Specification.Transaction.html#5551" class="Bound">A</a> <a id="5601" class="Symbol">→</a> <a id="5603" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="5610" href="Ledger.Dijkstra.Specification.Transaction.html#5537" class="Bound">txLevel</a>
  <a id="5620" class="Keyword">open</a> <a id="5625" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Module">HasTxBody</a>  <a id="5636" class="Symbol">⦃...⦄</a> <a id="5642" class="Keyword">public</a>

  <a id="5652" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="5659" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Record">HasTxId</a>    <a id="5670" class="Symbol">{</a><a id="5671" href="Ledger.Dijkstra.Specification.Transaction.html#5671" class="Bound">a</a><a id="5672" class="Symbol">}</a> <a id="5674" class="Symbol">(</a><a id="5675" href="Ledger.Dijkstra.Specification.Transaction.html#5675" class="Bound">A</a> <a id="5677" class="Symbol">:</a> <a id="5679" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5684" href="Ledger.Dijkstra.Specification.Transaction.html#5671" class="Bound">a</a><a id="5685" class="Symbol">)</a> <a id="5687" class="Symbol">:</a> <a id="5689" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5694" href="Ledger.Dijkstra.Specification.Transaction.html#5671" class="Bound">a</a> <a id="5696" class="Keyword">where</a>
    <a id="5706" class="Keyword">field</a> <a id="5712" href="Ledger.Dijkstra.Specification.Transaction.html#5712" class="Field">TxIdOf</a>    <a id="5722" class="Symbol">:</a> <a id="5724" href="Ledger.Dijkstra.Specification.Transaction.html#5675" class="Bound">A</a> <a id="5726" class="Symbol">→</a> <a id="5728" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
  <a id="5735" class="Keyword">open</a> <a id="5740" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Module">HasTxId</a>    <a id="5751" class="Symbol">⦃...⦄</a> <a id="5757" class="Keyword">public</a>

  <a id="5767" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="5774" href="Ledger.Dijkstra.Specification.Transaction.html#5774" class="Record">HasFees?</a> <a id="5783" class="Symbol">{</a><a id="5784" href="Ledger.Dijkstra.Specification.Transaction.html#5784" class="Bound">a</a><a id="5785" class="Symbol">}</a> <a id="5787" class="Symbol">(</a><a id="5788" href="Ledger.Dijkstra.Specification.Transaction.html#5788" class="Bound">A</a> <a id="5790" class="Symbol">:</a> <a id="5792" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5797" href="Ledger.Dijkstra.Specification.Transaction.html#5784" class="Bound">a</a><a id="5798" class="Symbol">)</a> <a id="5800" class="Symbol">:</a> <a id="5802" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5807" href="Ledger.Dijkstra.Specification.Transaction.html#5784" class="Bound">a</a> <a id="5809" class="Keyword">where</a>
    <a id="5819" class="Keyword">field</a> <a id="5825" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Field">FeesOf?</a> <a id="5833" class="Symbol">:</a> <a id="5835" href="Ledger.Dijkstra.Specification.Transaction.html#5788" class="Bound">A</a> <a id="5837" class="Symbol">→</a> <a id="5839" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5845" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="5852" class="Keyword">open</a> <a id="5857" href="Ledger.Dijkstra.Specification.Transaction.html#5774" class="Module">HasFees?</a> <a id="5866" class="Symbol">⦃...⦄</a> <a id="5872" class="Keyword">public</a>

  <a id="5882" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="5889" href="Ledger.Dijkstra.Specification.Transaction.html#5889" class="Record">HasDCerts</a> <a id="5899" class="Symbol">{</a><a id="5900" href="Ledger.Dijkstra.Specification.Transaction.html#5900" class="Bound">a</a><a id="5901" class="Symbol">}</a> <a id="5903" class="Symbol">(</a><a id="5904" href="Ledger.Dijkstra.Specification.Transaction.html#5904" class="Bound">A</a> <a id="5906" class="Symbol">:</a> <a id="5908" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5913" href="Ledger.Dijkstra.Specification.Transaction.html#5900" class="Bound">a</a><a id="5914" class="Symbol">)</a> <a id="5916" class="Symbol">:</a> <a id="5918" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5923" href="Ledger.Dijkstra.Specification.Transaction.html#5900" class="Bound">a</a> <a id="5925" class="Keyword">where</a>
    <a id="5935" class="Keyword">field</a> <a id="5941" href="Ledger.Dijkstra.Specification.Transaction.html#5941" class="Field">DCertsOf</a> <a id="5950" class="Symbol">:</a> <a id="5952" href="Ledger.Dijkstra.Specification.Transaction.html#5904" class="Bound">A</a> <a id="5954" class="Symbol">→</a> <a id="5956" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5961" href="Ledger.Conway.Specification.Certs.html#2238" class="Datatype">DCert</a>
  <a id="5969" class="Keyword">open</a> <a id="5974" href="Ledger.Dijkstra.Specification.Transaction.html#5889" class="Module">HasDCerts</a> <a id="5984" class="Symbol">⦃...⦄</a> <a id="5990" class="Keyword">public</a>

  <a id="6000" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="6007" href="Ledger.Dijkstra.Specification.Transaction.html#6007" class="Record">HasData</a> <a id="6015" class="Symbol">{</a><a id="6016" href="Ledger.Dijkstra.Specification.Transaction.html#6016" class="Bound">a</a><a id="6017" class="Symbol">}</a> <a id="6019" class="Symbol">(</a><a id="6020" href="Ledger.Dijkstra.Specification.Transaction.html#6020" class="Bound">A</a> <a id="6022" class="Symbol">:</a> <a id="6024" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6029" href="Ledger.Dijkstra.Specification.Transaction.html#6016" class="Bound">a</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">:</a> <a id="6034" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6039" href="Ledger.Dijkstra.Specification.Transaction.html#6016" class="Bound">a</a> <a id="6041" class="Keyword">where</a>
    <a id="6051" class="Keyword">field</a> <a id="6057" href="Ledger.Dijkstra.Specification.Transaction.html#6057" class="Field">DataOf</a> <a id="6064" class="Symbol">:</a> <a id="6066" href="Ledger.Dijkstra.Specification.Transaction.html#6020" class="Bound">A</a> <a id="6068" class="Symbol">→</a> <a id="6070" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6072" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
  <a id="6080" class="Keyword">open</a> <a id="6085" href="Ledger.Dijkstra.Specification.Transaction.html#6007" class="Module">HasData</a> <a id="6093" class="Symbol">⦃...⦄</a> <a id="6099" class="Keyword">public</a>

  <a id="6109" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="6116" href="Ledger.Dijkstra.Specification.Transaction.html#6116" class="Record">HasTxWitnesses</a> <a id="6131" class="Symbol">{</a><a id="6132" href="Ledger.Dijkstra.Specification.Transaction.html#6132" class="Bound">txLevel</a><a id="6139" class="Symbol">}</a> <a id="6141" class="Symbol">{</a><a id="6142" href="Ledger.Dijkstra.Specification.Transaction.html#6142" class="Bound">a</a><a id="6143" class="Symbol">}</a> <a id="6145" class="Symbol">(</a><a id="6146" href="Ledger.Dijkstra.Specification.Transaction.html#6146" class="Bound">A</a> <a id="6148" class="Symbol">:</a> <a id="6150" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6155" href="Ledger.Dijkstra.Specification.Transaction.html#6142" class="Bound">a</a><a id="6156" class="Symbol">)</a> <a id="6158" class="Symbol">:</a> <a id="6160" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6165" href="Ledger.Dijkstra.Specification.Transaction.html#6142" class="Bound">a</a> <a id="6167" class="Keyword">where</a>
    <a id="6177" class="Keyword">field</a> <a id="6183" href="Ledger.Dijkstra.Specification.Transaction.html#6183" class="Field">TxWitnessesOf</a> <a id="6197" class="Symbol">:</a> <a id="6199" href="Ledger.Dijkstra.Specification.Transaction.html#6146" class="Bound">A</a> <a id="6201" class="Symbol">→</a> <a id="6203" href="Ledger.Dijkstra.Specification.Transaction.html#5036" class="Record">TxWitnesses</a> <a id="6215" href="Ledger.Dijkstra.Specification.Transaction.html#6132" class="Bound">txLevel</a>
  <a id="6225" class="Keyword">open</a> <a id="6230" href="Ledger.Dijkstra.Specification.Transaction.html#6116" class="Module">HasTxWitnesses</a> <a id="6245" class="Symbol">⦃...⦄</a> <a id="6251" class="Keyword">public</a>

  <a id="6261" class="Keyword">record</a> <a id="TransactionStructure.HasValue"></a><a id="6268" href="Ledger.Dijkstra.Specification.Transaction.html#6268" class="Record">HasValue</a> <a id="6277" class="Symbol">{</a><a id="6278" href="Ledger.Dijkstra.Specification.Transaction.html#6278" class="Bound">a</a><a id="6279" class="Symbol">}</a> <a id="6281" class="Symbol">(</a><a id="6282" href="Ledger.Dijkstra.Specification.Transaction.html#6282" class="Bound">A</a> <a id="6284" class="Symbol">:</a> <a id="6286" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6291" href="Ledger.Dijkstra.Specification.Transaction.html#6278" class="Bound">a</a><a id="6292" class="Symbol">)</a> <a id="6294" class="Symbol">:</a> <a id="6296" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6301" href="Ledger.Dijkstra.Specification.Transaction.html#6278" class="Bound">a</a> <a id="6303" class="Keyword">where</a>
    <a id="6313" class="Keyword">field</a> <a id="6319" href="Ledger.Dijkstra.Specification.Transaction.html#6319" class="Field">ValueOf</a> <a id="6327" class="Symbol">:</a> <a id="6329" href="Ledger.Dijkstra.Specification.Transaction.html#6282" class="Bound">A</a> <a id="6331" class="Symbol">→</a> <a id="6333" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="6341" class="Keyword">open</a> <a id="6346" href="Ledger.Dijkstra.Specification.Transaction.html#6268" class="Module">HasValue</a> <a id="6355" class="Symbol">⦃...⦄</a> <a id="6361" class="Keyword">public</a>

  <a id="6371" class="Keyword">record</a> <a id="TransactionStructure.HasGovProposals"></a><a id="6378" href="Ledger.Dijkstra.Specification.Transaction.html#6378" class="Record">HasGovProposals</a> <a id="6394" class="Symbol">{</a><a id="6395" href="Ledger.Dijkstra.Specification.Transaction.html#6395" class="Bound">a</a><a id="6396" class="Symbol">}</a> <a id="6398" class="Symbol">(</a><a id="6399" href="Ledger.Dijkstra.Specification.Transaction.html#6399" class="Bound">A</a> <a id="6401" class="Symbol">:</a> <a id="6403" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6408" href="Ledger.Dijkstra.Specification.Transaction.html#6395" class="Bound">a</a><a id="6409" class="Symbol">)</a> <a id="6411" class="Symbol">:</a> <a id="6413" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6418" href="Ledger.Dijkstra.Specification.Transaction.html#6395" class="Bound">a</a> <a id="6420" class="Keyword">where</a>
    <a id="6430" class="Keyword">field</a> <a id="6436" href="Ledger.Dijkstra.Specification.Transaction.html#6436" class="Field">GovProposalsOf</a> <a id="6451" class="Symbol">:</a> <a id="6453" href="Ledger.Dijkstra.Specification.Transaction.html#6399" class="Bound">A</a> <a id="6455" class="Symbol">→</a> <a id="6457" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6462" href="Ledger.Conway.Specification.Gov.Actions.html#3459" class="Record">GovProposal</a>
  <a id="6476" class="Keyword">open</a> <a id="6481" href="Ledger.Dijkstra.Specification.Transaction.html#6378" class="Module">HasGovProposals</a> <a id="6497" class="Symbol">⦃...⦄</a> <a id="6503" class="Keyword">public</a>

  <a id="6513" class="Keyword">record</a> <a id="TransactionStructure.HasGovVotes"></a><a id="6520" href="Ledger.Dijkstra.Specification.Transaction.html#6520" class="Record">HasGovVotes</a> <a id="6532" class="Symbol">{</a><a id="6533" href="Ledger.Dijkstra.Specification.Transaction.html#6533" class="Bound">a</a><a id="6534" class="Symbol">}</a> <a id="6536" class="Symbol">(</a><a id="6537" href="Ledger.Dijkstra.Specification.Transaction.html#6537" class="Bound">A</a> <a id="6539" class="Symbol">:</a> <a id="6541" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6546" href="Ledger.Dijkstra.Specification.Transaction.html#6533" class="Bound">a</a><a id="6547" class="Symbol">)</a> <a id="6549" class="Symbol">:</a> <a id="6551" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6556" href="Ledger.Dijkstra.Specification.Transaction.html#6533" class="Bound">a</a> <a id="6558" class="Keyword">where</a>
    <a id="6568" class="Keyword">field</a> <a id="6574" href="Ledger.Dijkstra.Specification.Transaction.html#6574" class="Field">GovVotesOf</a> <a id="6585" class="Symbol">:</a> <a id="6587" href="Ledger.Dijkstra.Specification.Transaction.html#6537" class="Bound">A</a> <a id="6589" class="Symbol">→</a> <a id="6591" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6596" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a>
  <a id="6606" class="Keyword">open</a> <a id="6611" href="Ledger.Dijkstra.Specification.Transaction.html#6520" class="Module">HasGovVotes</a> <a id="6623" class="Symbol">⦃...⦄</a> <a id="6629" class="Keyword">public</a>

  <a id="6639" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="6652" href="Ledger.Dijkstra.Specification.Transaction.html#6652" class="Function">HasTxBody-Tx</a> <a id="6665" class="Symbol">:</a> <a id="6667" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Record">HasTxBody</a> <a id="6677" class="Symbol">(</a><a id="6678" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="6681" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6688" class="Symbol">)</a>
    <a id="6694" href="Ledger.Dijkstra.Specification.Transaction.html#6652" class="Function">HasTxBody-Tx</a> <a id="6707" class="Symbol">.</a><a id="6708" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a> <a id="6717" class="Symbol">=</a> <a id="6719" href="Ledger.Dijkstra.Specification.Transaction.html#3451" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="6734" href="Ledger.Dijkstra.Specification.Transaction.html#6734" class="Function">HasTxWitnesses-Tx</a> <a id="6752" class="Symbol">:</a> <a id="6754" href="Ledger.Dijkstra.Specification.Transaction.html#6116" class="Record">HasTxWitnesses</a> <a id="6769" class="Symbol">(</a><a id="6770" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="6773" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6780" class="Symbol">)</a>
    <a id="6786" href="Ledger.Dijkstra.Specification.Transaction.html#6734" class="Function">HasTxWitnesses-Tx</a> <a id="6804" class="Symbol">.</a><a id="6805" href="Ledger.Dijkstra.Specification.Transaction.html#6183" class="Field">TxWitnessesOf</a> <a id="6819" class="Symbol">=</a> <a id="6821" href="Ledger.Dijkstra.Specification.Transaction.html#3489" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="6841" href="Ledger.Dijkstra.Specification.Transaction.html#6841" class="Function">HasDCerts-TxBody</a> <a id="6858" class="Symbol">:</a> <a id="6860" href="Ledger.Dijkstra.Specification.Transaction.html#5889" class="Record">HasDCerts</a> <a id="6870" class="Symbol">(</a><a id="6871" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="6878" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6885" class="Symbol">)</a>
    <a id="6891" href="Ledger.Dijkstra.Specification.Transaction.html#6841" class="Function">HasDCerts-TxBody</a> <a id="6908" class="Symbol">.</a><a id="6909" href="Ledger.Dijkstra.Specification.Transaction.html#5941" class="Field">DCertsOf</a> <a id="6918" class="Symbol">=</a> <a id="6920" href="Ledger.Dijkstra.Specification.Transaction.html#3939" class="Field">TxBody.txCerts</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="6940" href="Ledger.Dijkstra.Specification.Transaction.html#6940" class="Function">HasWithdrawals-TxBody</a> <a id="6962" class="Symbol">:</a> <a id="6964" href="Ledger.Core.Specification.Address.html#1646" class="Record">HasWithdrawals</a> <a id="6979" class="Symbol">(</a><a id="6980" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="6987" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6994" class="Symbol">)</a>
    <a id="7000" href="Ledger.Dijkstra.Specification.Transaction.html#6940" class="Function">HasWithdrawals-TxBody</a> <a id="7022" class="Symbol">.</a><a id="7023" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="7037" class="Symbol">=</a> <a id="7039" href="Ledger.Dijkstra.Specification.Transaction.html#4060" class="Field">TxBody.txWithdrawals</a>

    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="7065" href="Ledger.Dijkstra.Specification.Transaction.html#7065" class="Function">HasWithdrawals-Tx</a> <a id="7083" class="Symbol">:</a> <a id="7085" href="Ledger.Core.Specification.Address.html#1646" class="Record">HasWithdrawals</a> <a id="7100" class="Symbol">(</a><a id="7101" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="7104" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7111" class="Symbol">)</a>
    <a id="7117" href="Ledger.Dijkstra.Specification.Transaction.html#7065" class="Function">HasWithdrawals-Tx</a> <a id="7135" class="Symbol">.</a><a id="7136" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="7150" class="Symbol">=</a> <a id="7152" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="7166" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7168" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValue-TxBody"></a><a id="7182" href="Ledger.Dijkstra.Specification.Transaction.html#7182" class="Function">HasValue-TxBody</a> <a id="7198" class="Symbol">:</a> <a id="7200" href="Ledger.Dijkstra.Specification.Transaction.html#6268" class="Record">HasValue</a> <a id="7209" class="Symbol">(</a><a id="7210" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="7217" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7224" class="Symbol">)</a>
    <a id="7230" href="Ledger.Dijkstra.Specification.Transaction.html#7182" class="Function">HasValue-TxBody</a> <a id="7246" class="Symbol">.</a><a id="7247" href="Ledger.Dijkstra.Specification.Transaction.html#6319" class="Field">ValueOf</a> <a id="7255" class="Symbol">=</a> <a id="7257" href="Ledger.Dijkstra.Specification.Transaction.html#4422" class="Field">TxBody.mint</a>

    <a id="TransactionStructure.HasGovVotes-TxBody"></a><a id="7274" href="Ledger.Dijkstra.Specification.Transaction.html#7274" class="Function">HasGovVotes-TxBody</a> <a id="7293" class="Symbol">:</a> <a id="7295" href="Ledger.Dijkstra.Specification.Transaction.html#6520" class="Record">HasGovVotes</a> <a id="7307" class="Symbol">(</a><a id="7308" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="7315" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7322" class="Symbol">)</a>
    <a id="7328" href="Ledger.Dijkstra.Specification.Transaction.html#7274" class="Function">HasGovVotes-TxBody</a> <a id="7347" class="Symbol">.</a><a id="7348" href="Ledger.Dijkstra.Specification.Transaction.html#6574" class="Field">GovVotesOf</a> <a id="7359" class="Symbol">=</a> <a id="7361" href="Ledger.Dijkstra.Specification.Transaction.html#4243" class="Field">TxBody.txGovVotes</a>

    <a id="TransactionStructure.HasGovVotes-Tx"></a><a id="7384" href="Ledger.Dijkstra.Specification.Transaction.html#7384" class="Function">HasGovVotes-Tx</a> <a id="7399" class="Symbol">:</a> <a id="7401" href="Ledger.Dijkstra.Specification.Transaction.html#6520" class="Record">HasGovVotes</a> <a id="7413" class="Symbol">(</a><a id="7414" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="7417" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7424" class="Symbol">)</a>
    <a id="7430" href="Ledger.Dijkstra.Specification.Transaction.html#7384" class="Function">HasGovVotes-Tx</a> <a id="7445" class="Symbol">.</a><a id="7446" href="Ledger.Dijkstra.Specification.Transaction.html#6574" class="Field">GovVotesOf</a> <a id="7457" class="Symbol">=</a> <a id="7459" href="Ledger.Dijkstra.Specification.Transaction.html#6574" class="Field">GovVotesOf</a> <a id="7470" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7472" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovProposals-TxBody"></a><a id="7486" href="Ledger.Dijkstra.Specification.Transaction.html#7486" class="Function">HasGovProposals-TxBody</a> <a id="7509" class="Symbol">:</a> <a id="7511" href="Ledger.Dijkstra.Specification.Transaction.html#6378" class="Record">HasGovProposals</a> <a id="7527" class="Symbol">(</a><a id="7528" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="7535" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7542" class="Symbol">)</a>
    <a id="7548" href="Ledger.Dijkstra.Specification.Transaction.html#7486" class="Function">HasGovProposals-TxBody</a> <a id="7571" class="Symbol">.</a><a id="7572" href="Ledger.Dijkstra.Specification.Transaction.html#6436" class="Field">GovProposalsOf</a> <a id="7587" class="Symbol">=</a> <a id="7589" href="Ledger.Dijkstra.Specification.Transaction.html#4287" class="Field">TxBody.txGovProposals</a>

    <a id="TransactionStructure.HasGovProposals-Tx"></a><a id="7616" href="Ledger.Dijkstra.Specification.Transaction.html#7616" class="Function">HasGovProposals-Tx</a> <a id="7635" class="Symbol">:</a> <a id="7637" href="Ledger.Dijkstra.Specification.Transaction.html#6378" class="Record">HasGovProposals</a> <a id="7653" class="Symbol">(</a><a id="7654" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="7657" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7664" class="Symbol">)</a>
    <a id="7670" href="Ledger.Dijkstra.Specification.Transaction.html#7616" class="Function">HasGovProposals-Tx</a> <a id="7689" class="Symbol">.</a><a id="7690" href="Ledger.Dijkstra.Specification.Transaction.html#6436" class="Field">GovProposalsOf</a> <a id="7705" class="Symbol">=</a> <a id="7707" href="Ledger.Dijkstra.Specification.Transaction.html#6436" class="Field">GovProposalsOf</a> <a id="7722" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7724" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="7738" href="Ledger.Dijkstra.Specification.Transaction.html#7738" class="Function">HasFees?-TxBody</a> <a id="7754" class="Symbol">:</a> <a id="7756" class="Symbol">{</a><a id="7757" href="Ledger.Dijkstra.Specification.Transaction.html#7757" class="Bound">ℓ</a> <a id="7759" class="Symbol">:</a> <a id="7761" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="7768" class="Symbol">}</a> <a id="7770" class="Symbol">→</a> <a id="7772" href="Ledger.Dijkstra.Specification.Transaction.html#5774" class="Record">HasFees?</a> <a id="7781" class="Symbol">(</a><a id="7782" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Record">TxBody</a> <a id="7789" href="Ledger.Dijkstra.Specification.Transaction.html#7757" class="Bound">ℓ</a><a id="7790" class="Symbol">)</a>
    <a id="7796" href="Ledger.Dijkstra.Specification.Transaction.html#7738" class="Function">HasFees?-TxBody</a> <a id="7812" class="Symbol">{</a><a id="7813" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a><a id="7823" class="Symbol">}</a> <a id="7825" class="Symbol">.</a><a id="7826" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Field">FeesOf?</a> <a id="7834" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Bound">tbTop</a> <a id="7840" class="Symbol">=</a> <a id="7842" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7847" class="Symbol">(</a><a id="7848" href="Ledger.Dijkstra.Specification.Transaction.html#3981" class="Field">TxBody.txFee</a> <a id="7861" href="Ledger.Dijkstra.Specification.Transaction.html#7834" class="Bound">tbTop</a><a id="7866" class="Symbol">)</a>
    <a id="7872" href="Ledger.Dijkstra.Specification.Transaction.html#7738" class="Function">HasFees?-TxBody</a> <a id="7888" class="Symbol">{</a><a id="7889" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="7899" class="Symbol">}</a> <a id="7901" class="Symbol">.</a><a id="7902" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Field">FeesOf?</a> <a id="7910" href="Ledger.Dijkstra.Specification.Transaction.html#7910" class="Bound">tbSub</a> <a id="7916" class="Symbol">=</a> <a id="7918" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

    <a id="TransactionStructure.HasFees?-Tx"></a><a id="7931" href="Ledger.Dijkstra.Specification.Transaction.html#7931" class="Function">HasFees?-Tx</a> <a id="7943" class="Symbol">:</a> <a id="7945" href="Ledger.Dijkstra.Specification.Transaction.html#5774" class="Record">HasFees?</a> <a id="7954" class="Symbol">(</a><a id="7955" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="7958" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7965" class="Symbol">)</a>
    <a id="7971" href="Ledger.Dijkstra.Specification.Transaction.html#7931" class="Function">HasFees?-Tx</a> <a id="7983" class="Symbol">.</a><a id="7984" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Field">FeesOf?</a> <a id="7992" class="Symbol">=</a> <a id="7994" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Field">FeesOf?</a> <a id="8002" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8004" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-Tx"></a><a id="8018" href="Ledger.Dijkstra.Specification.Transaction.html#8018" class="Function">HasTxId-Tx</a> <a id="8029" class="Symbol">:</a> <a id="8031" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Record">HasTxId</a> <a id="8039" class="Symbol">(</a><a id="8040" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="8043" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8050" class="Symbol">)</a>
    <a id="8056" href="Ledger.Dijkstra.Specification.Transaction.html#8018" class="Function">HasTxId-Tx</a> <a id="8067" class="Symbol">.</a><a id="8068" href="Ledger.Dijkstra.Specification.Transaction.html#5712" class="Field">TxIdOf</a> <a id="8075" class="Symbol">=</a> <a id="8077" href="Ledger.Dijkstra.Specification.Transaction.html#3903" class="Field">TxBody.txId</a> <a id="8089" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8091" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="8105" href="Ledger.Dijkstra.Specification.Transaction.html#8105" class="Function">HasCoin-TxOut</a> <a id="8119" class="Symbol">:</a> <a id="8121" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="8129" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a>
    <a id="8139" href="Ledger.Dijkstra.Specification.Transaction.html#8105" class="Function">HasCoin-TxOut</a> <a id="8153" class="Symbol">.</a><a id="8154" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="8162" class="Symbol">=</a> <a id="8164" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#838" class="Function">coin</a> <a id="8169" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8171" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8177" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8179" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="8190" href="Ledger.Dijkstra.Specification.Transaction.html#8190" class="Function">HasData-TxWitnesses</a> <a id="8210" class="Symbol">:</a> <a id="8212" href="Ledger.Dijkstra.Specification.Transaction.html#6007" class="Record">HasData</a> <a id="8220" class="Symbol">(</a><a id="8221" href="Ledger.Dijkstra.Specification.Transaction.html#5036" class="Record">TxWitnesses</a> <a id="8233" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8240" class="Symbol">)</a>
    <a id="8246" href="Ledger.Dijkstra.Specification.Transaction.html#8190" class="Function">HasData-TxWitnesses</a> <a id="8266" class="Symbol">.</a><a id="8267" href="Ledger.Dijkstra.Specification.Transaction.html#6057" class="Field">DataOf</a> <a id="8274" class="Symbol">=</a> <a id="8276" href="Class.IsSet.html#959" class="Function">range</a> <a id="8282" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8284" href="Ledger.Dijkstra.Specification.Transaction.html#5183" class="Field">TxWitnesses.txData</a>

    <a id="TransactionStructure.HasData-Tx"></a><a id="8308" href="Ledger.Dijkstra.Specification.Transaction.html#8308" class="Function">HasData-Tx</a> <a id="8319" class="Symbol">:</a> <a id="8321" href="Ledger.Dijkstra.Specification.Transaction.html#6007" class="Record">HasData</a> <a id="8329" class="Symbol">(</a><a id="8330" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="8333" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8340" class="Symbol">)</a>
    <a id="8346" href="Ledger.Dijkstra.Specification.Transaction.html#8308" class="Function">HasData-Tx</a> <a id="8357" class="Symbol">.</a><a id="8358" href="Ledger.Dijkstra.Specification.Transaction.html#6057" class="Field">DataOf</a> <a id="8365" class="Symbol">=</a> <a id="8367" href="Ledger.Dijkstra.Specification.Transaction.html#6057" class="Field">DataOf</a> <a id="8374" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8376" href="Ledger.Dijkstra.Specification.Transaction.html#6183" class="Field">TxWitnessesOf</a>

  <a id="TransactionStructure.getValue"></a><a id="8393" href="Ledger.Dijkstra.Specification.Transaction.html#8393" class="Function">getValue</a> <a id="8402" class="Symbol">:</a> <a id="8404" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a> <a id="8410" class="Symbol">→</a> <a id="8412" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="8420" href="Ledger.Dijkstra.Specification.Transaction.html#8393" class="Function">getValue</a> <a id="8429" class="Symbol">(_</a> <a id="8432" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8434" href="Ledger.Dijkstra.Specification.Transaction.html#8434" class="Bound">v</a> <a id="8436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8438" class="Symbol">_)</a> <a id="8441" class="Symbol">=</a> <a id="8443" href="Ledger.Dijkstra.Specification.Transaction.html#8434" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="8448" href="Ledger.Dijkstra.Specification.Transaction.html#8448" class="Function">TxOutʰ</a> <a id="8455" class="Symbol">=</a> <a id="8457" href="Ledger.Core.Specification.Address.html#2489" class="Function">Addr</a> <a id="8462" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8464" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a> <a id="8470" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8472" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8478" class="Symbol">(</a><a id="8479" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="8485" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8487" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="8495" class="Symbol">)</a> <a id="8497" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8499" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8505" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="8519" href="Ledger.Dijkstra.Specification.Transaction.html#8519" class="Function">txOutHash</a> <a id="8529" class="Symbol">:</a> <a id="8531" href="Ledger.Dijkstra.Specification.Transaction.html#2883" class="Function">TxOut</a> <a id="8537" class="Symbol">→</a> <a id="8539" href="Ledger.Dijkstra.Specification.Transaction.html#8448" class="Function">TxOutʰ</a>
  <a id="8548" href="Ledger.Dijkstra.Specification.Transaction.html#8519" class="Function">txOutHash</a> <a id="8558" class="Symbol">(</a><a id="8559" href="Ledger.Dijkstra.Specification.Transaction.html#8559" class="Bound">a</a> <a id="8561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8563" href="Ledger.Dijkstra.Specification.Transaction.html#8563" class="Bound">v</a> <a id="8565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8567" href="Ledger.Dijkstra.Specification.Transaction.html#8567" class="Bound">d</a> <a id="8569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8571" href="Ledger.Dijkstra.Specification.Transaction.html#8571" class="Bound">s</a><a id="8572" class="Symbol">)</a> <a id="8574" class="Symbol">=</a> <a id="8576" href="Ledger.Dijkstra.Specification.Transaction.html#8559" class="Bound">a</a> <a id="8578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8580" class="Symbol">(</a><a id="8581" href="Ledger.Dijkstra.Specification.Transaction.html#8563" class="Bound">v</a> <a id="8583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8585" class="Symbol">(</a><a id="8586" href="Ledger.Dijkstra.Specification.Transaction.html#8567" class="Bound">d</a> <a id="8588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8590" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="8596" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="8601" href="Ledger.Dijkstra.Specification.Transaction.html#8571" class="Bound">s</a><a id="8602" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="8608" href="Ledger.Dijkstra.Specification.Transaction.html#8608" class="Function">getValueʰ</a> <a id="8618" class="Symbol">:</a> <a id="8620" href="Ledger.Dijkstra.Specification.Transaction.html#8448" class="Function">TxOutʰ</a> <a id="8627" class="Symbol">→</a> <a id="8629" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="8637" href="Ledger.Dijkstra.Specification.Transaction.html#8608" class="Function">getValueʰ</a> <a id="8647" class="Symbol">(_</a> <a id="8650" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8652" href="Ledger.Dijkstra.Specification.Transaction.html#8652" class="Bound">v</a> <a id="8654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8656" class="Symbol">_)</a> <a id="8659" class="Symbol">=</a> <a id="8661" href="Ledger.Dijkstra.Specification.Transaction.html#8652" class="Bound">v</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="8666" href="Ledger.Dijkstra.Specification.Transaction.html#8666" class="Function">txinsVKey</a> <a id="8676" class="Symbol">:</a> <a id="8678" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8680" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a> <a id="8685" class="Symbol">→</a> <a id="8687" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="8692" class="Symbol">→</a> <a id="8694" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8696" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a>
  <a id="8703" href="Ledger.Dijkstra.Specification.Transaction.html#8666" class="Function">txinsVKey</a> <a id="8713" href="Ledger.Dijkstra.Specification.Transaction.html#8713" class="Bound">txins</a> <a id="8719" href="Ledger.Dijkstra.Specification.Transaction.html#8719" class="Bound">utxo</a> <a id="8724" class="Symbol">=</a> <a id="8726" href="Ledger.Dijkstra.Specification.Transaction.html#8713" class="Bound">txins</a> <a id="8732" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="8734" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8738" class="Symbol">(</a><a id="8739" href="Ledger.Dijkstra.Specification.Transaction.html#8719" class="Bound">utxo</a> <a id="8744" href="abstract-set-theory.FiniteSetTheory.html#3409" class="Function Operator">∣^&#39;</a> <a id="8748" class="Symbol">(</a><a id="8749" href="Ledger.Core.Specification.Address.html#2744" class="Function">isVKeyAddr</a> <a id="8760" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8762" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8767" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="8773" href="Ledger.Dijkstra.Specification.Transaction.html#8773" class="Function">scriptOuts</a> <a id="8784" class="Symbol">:</a> <a id="8786" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="8791" class="Symbol">→</a> <a id="8793" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a>
  <a id="8800" href="Ledger.Dijkstra.Specification.Transaction.html#8773" class="Function">scriptOuts</a> <a id="8811" href="Ledger.Dijkstra.Specification.Transaction.html#8811" class="Bound">utxo</a> <a id="8816" class="Symbol">=</a> <a id="8818" href="Ledger.Dijkstra.Specification.Transaction.html#158" class="Function">filter</a> <a id="8825" class="Symbol">(λ</a> <a id="8828" class="Symbol">(_</a> <a id="8831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8833" href="Ledger.Dijkstra.Specification.Transaction.html#8833" class="Bound">addr</a> <a id="8838" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8840" class="Symbol">_)</a> <a id="8843" class="Symbol">→</a> <a id="8845" href="Ledger.Core.Specification.Address.html#2772" class="Function">isScriptAddr</a> <a id="8858" href="Ledger.Dijkstra.Specification.Transaction.html#8833" class="Bound">addr</a><a id="8862" class="Symbol">)</a> <a id="8864" href="Ledger.Dijkstra.Specification.Transaction.html#8811" class="Bound">utxo</a>

  <a id="TransactionStructure.txinsScript"></a><a id="8872" href="Ledger.Dijkstra.Specification.Transaction.html#8872" class="Function">txinsScript</a> <a id="8884" class="Symbol">:</a> <a id="8886" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8888" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a> <a id="8893" class="Symbol">→</a> <a id="8895" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="8900" class="Symbol">→</a> <a id="8902" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8904" href="Ledger.Dijkstra.Specification.Transaction.html#2849" class="Function">TxIn</a>
  <a id="8911" href="Ledger.Dijkstra.Specification.Transaction.html#8872" class="Function">txinsScript</a> <a id="8923" href="Ledger.Dijkstra.Specification.Transaction.html#8923" class="Bound">txins</a> <a id="8929" href="Ledger.Dijkstra.Specification.Transaction.html#8929" class="Bound">utxo</a> <a id="8934" class="Symbol">=</a> <a id="8936" href="Ledger.Dijkstra.Specification.Transaction.html#8923" class="Bound">txins</a> <a id="8942" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="8944" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8948" class="Symbol">(</a><a id="8949" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8955" class="Symbol">(</a><a id="8956" href="Ledger.Dijkstra.Specification.Transaction.html#8773" class="Function">scriptOuts</a> <a id="8967" href="Ledger.Dijkstra.Specification.Transaction.html#8929" class="Bound">utxo</a><a id="8971" class="Symbol">))</a>

  <a id="TransactionStructure.refScripts"></a><a id="8977" href="Ledger.Dijkstra.Specification.Transaction.html#8977" class="Function">refScripts</a> <a id="8988" class="Symbol">:</a> <a id="8990" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="8993" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9001" class="Symbol">→</a> <a id="9003" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="9008" class="Symbol">→</a> <a id="9010" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9015" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="9024" href="Ledger.Dijkstra.Specification.Transaction.html#8977" class="Function">refScripts</a> <a id="9035" href="Ledger.Dijkstra.Specification.Transaction.html#9035" class="Bound">tx</a> <a id="9038" href="Ledger.Dijkstra.Specification.Transaction.html#9038" class="Bound">utxo</a> <a id="9043" class="Symbol">=</a>
    <a id="9049" href="Data.List.Base.html#4606" class="Function">mapMaybe</a> <a id="9058" class="Symbol">(</a><a id="9059" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9065" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9067" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9073" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9075" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9080" class="Symbol">)</a> <a id="9082" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9084" href="abstract-set-theory.FiniteSetTheory.html#2556" class="Function">setToList</a> <a id="9094" class="Symbol">(</a><a id="9095" href="Class.IsSet.html#959" class="Function">range</a> <a id="9101" class="Symbol">(</a><a id="9102" href="Ledger.Dijkstra.Specification.Transaction.html#9038" class="Bound">utxo</a> <a id="9107" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Ledger.Dijkstra.Specification.Transaction.html#3702" class="Function">txIns</a> <a id="9116" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9118" href="Ledger.Dijkstra.Specification.Transaction.html#3740" class="Function">refInputs</a><a id="9127" class="Symbol">)))</a>
    <a id="9135" class="Keyword">where</a> <a id="9141" class="Keyword">open</a> <a id="9146" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Module">Tx</a><a id="9148" class="Symbol">;</a> <a id="9150" class="Keyword">open</a> <a id="9155" href="Ledger.Dijkstra.Specification.Transaction.html#3626" class="Module">TxBody</a> <a id="9162" class="Symbol">(</a><a id="9163" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a> <a id="9172" href="Ledger.Dijkstra.Specification.Transaction.html#9035" class="Bound">tx</a><a id="9174" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="9179" href="Ledger.Dijkstra.Specification.Transaction.html#9179" class="Function">txscripts</a> <a id="9189" class="Symbol">:</a> <a id="9191" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="9194" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9202" class="Symbol">→</a> <a id="9204" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="9209" class="Symbol">→</a> <a id="9211" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9213" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="9222" href="Ledger.Dijkstra.Specification.Transaction.html#9179" class="Function">txscripts</a> <a id="9232" href="Ledger.Dijkstra.Specification.Transaction.html#9232" class="Bound">tx</a> <a id="9235" href="Ledger.Dijkstra.Specification.Transaction.html#9235" class="Bound">utxo</a> <a id="9240" class="Symbol">=</a> <a id="9242" href="Ledger.Dijkstra.Specification.Transaction.html#5151" class="Field">scripts</a> <a id="9250" class="Symbol">(</a><a id="9251" href="Ledger.Dijkstra.Specification.Transaction.html#9232" class="Bound">tx</a> <a id="9254" class="Symbol">.</a><a id="9255" href="Ledger.Dijkstra.Specification.Transaction.html#3489" class="Field">txWitnesses</a><a id="9266" class="Symbol">)</a> <a id="9268" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9270" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="9279" class="Symbol">(</a><a id="9280" href="Ledger.Dijkstra.Specification.Transaction.html#8977" class="Function">refScripts</a> <a id="9291" href="Ledger.Dijkstra.Specification.Transaction.html#9232" class="Bound">tx</a> <a id="9294" href="Ledger.Dijkstra.Specification.Transaction.html#9235" class="Bound">utxo</a><a id="9298" class="Symbol">)</a>
    <a id="9304" class="Keyword">where</a> <a id="9310" class="Keyword">open</a> <a id="9315" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Module">Tx</a><a id="9317" class="Symbol">;</a> <a id="9319" class="Keyword">open</a> <a id="9324" href="Ledger.Dijkstra.Specification.Transaction.html#5036" class="Module">TxWitnesses</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="9339" href="Ledger.Dijkstra.Specification.Transaction.html#9339" class="Function">lookupScriptHash</a> <a id="9356" class="Symbol">:</a> <a id="9358" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="9369" class="Symbol">→</a> <a id="9371" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="9374" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9382" class="Symbol">→</a> <a id="9384" href="Ledger.Dijkstra.Specification.Transaction.html#2964" class="Function">UTxO</a> <a id="9389" class="Symbol">→</a> <a id="9391" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9397" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="9406" href="Ledger.Dijkstra.Specification.Transaction.html#9339" class="Function">lookupScriptHash</a> <a id="9423" href="Ledger.Dijkstra.Specification.Transaction.html#9423" class="Bound">sh</a> <a id="9426" href="Ledger.Dijkstra.Specification.Transaction.html#9426" class="Bound">tx</a> <a id="9429" href="Ledger.Dijkstra.Specification.Transaction.html#9429" class="Bound">utxo</a> <a id="9434" class="Symbol">=</a>
    <a id="9440" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="9443" href="Ledger.Dijkstra.Specification.Transaction.html#9423" class="Bound">sh</a> <a id="9446" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9448" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9453" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9459" class="Symbol">(</a><a id="9460" href="Ledger.Dijkstra.Specification.Transaction.html#9529" class="Function">m</a> <a id="9462" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9463" class="Symbol">)</a> <a id="9465" href="Class.ToBool.html#342" class="Function Operator">then</a>
      <a id="9476" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9481" class="Symbol">(</a><a id="9482" href="Axiom.Set.Map.html#16061" class="Function">lookupᵐ</a> <a id="9490" href="Ledger.Dijkstra.Specification.Transaction.html#9529" class="Function">m</a> <a id="9492" href="Ledger.Dijkstra.Specification.Transaction.html#9423" class="Bound">sh</a><a id="9494" class="Symbol">)</a>
    <a id="9500" href="Class.ToBool.html#342" class="Function Operator">else</a>
      <a id="9511" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="9523" class="Keyword">where</a> <a id="9529" href="Ledger.Dijkstra.Specification.Transaction.html#9529" class="Function">m</a> <a id="9531" class="Symbol">=</a> <a id="9533" href="Ledger.Prelude.html#1740" class="Function">setToMap</a> <a id="9542" class="Symbol">(</a><a id="9543" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9548" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="9550" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="9555" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="9557" href="Function.Base.html#704" class="Function">id</a> <a id="9560" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="9562" class="Symbol">(</a><a id="9563" href="Ledger.Dijkstra.Specification.Transaction.html#9179" class="Function">txscripts</a> <a id="9573" href="Ledger.Dijkstra.Specification.Transaction.html#9426" class="Bound">tx</a> <a id="9576" href="Ledger.Dijkstra.Specification.Transaction.html#9429" class="Bound">utxo</a><a id="9580" class="Symbol">))</a>

  <a id="TransactionStructure.getSubTxScripts"></a><a id="9586" href="Ledger.Dijkstra.Specification.Transaction.html#9586" class="Function">getSubTxScripts</a> <a id="9602" class="Symbol">:</a> <a id="9604" href="Ledger.Dijkstra.Specification.Transaction.html#5407" class="Function">SubLevelTx</a> <a id="9615" class="Symbol">→</a> <a id="9617" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9619" class="Symbol">(</a><a id="9620" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="9625" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9627" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="9637" class="Symbol">)</a>
  <a id="9641" href="Ledger.Dijkstra.Specification.Transaction.html#9586" class="Function">getSubTxScripts</a> <a id="9657" href="Ledger.Dijkstra.Specification.Transaction.html#9657" class="Bound">subtx</a> <a id="9663" class="Symbol">=</a> <a id="9665" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9670" class="Symbol">(λ</a> <a id="9673" href="Ledger.Dijkstra.Specification.Transaction.html#9673" class="Bound">hash</a> <a id="9678" class="Symbol">→</a> <a id="9680" class="Symbol">(</a><a id="9681" href="Ledger.Dijkstra.Specification.Transaction.html#5712" class="Field">TxIdOf</a> <a id="9688" href="Ledger.Dijkstra.Specification.Transaction.html#9657" class="Bound">subtx</a> <a id="9694" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9696" href="Ledger.Dijkstra.Specification.Transaction.html#9673" class="Bound">hash</a><a id="9700" class="Symbol">))</a> <a id="9703" class="Symbol">(</a><a id="9704" href="Ledger.Dijkstra.Specification.Transaction.html#9738" class="Function">ScriptHashes</a> <a id="9717" href="Ledger.Dijkstra.Specification.Transaction.html#9657" class="Bound">subtx</a><a id="9722" class="Symbol">)</a>
    <a id="9728" class="Keyword">where</a>
    <a id="9738" href="Ledger.Dijkstra.Specification.Transaction.html#9738" class="Function">ScriptHashes</a> <a id="9751" class="Symbol">:</a> <a id="9753" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="9756" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="9767" class="Symbol">→</a> <a id="9769" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9771" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="9786" href="Ledger.Dijkstra.Specification.Transaction.html#9738" class="Function">ScriptHashes</a> <a id="9799" class="Symbol">=</a> <a id="9801" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9805" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9807" href="Ledger.Dijkstra.Specification.Transaction.html#4902" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="9839" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9841" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

  <a id="TransactionStructure.getTxScripts"></a><a id="9853" href="Ledger.Dijkstra.Specification.Transaction.html#9853" class="Function">getTxScripts</a> <a id="9866" class="Symbol">:</a> <a id="9868" class="Symbol">{</a><a id="9869" href="Ledger.Dijkstra.Specification.Transaction.html#9869" class="Bound">ℓ</a> <a id="9871" class="Symbol">:</a> <a id="9873" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="9880" class="Symbol">}</a> <a id="9882" class="Symbol">→</a> <a id="9884" href="Ledger.Dijkstra.Specification.Transaction.html#3379" class="Record">Tx</a> <a id="9887" href="Ledger.Dijkstra.Specification.Transaction.html#9869" class="Bound">ℓ</a> <a id="9889" class="Symbol">→</a> <a id="9891" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9893" class="Symbol">(</a><a id="9894" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="9899" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9901" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="9911" class="Symbol">)</a>
  <a id="9915" href="Ledger.Dijkstra.Specification.Transaction.html#9853" class="Function">getTxScripts</a> <a id="9928" class="Symbol">{</a><a id="9929" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="9939" class="Symbol">}</a> <a id="9941" class="Symbol">=</a> <a id="9943" href="Ledger.Dijkstra.Specification.Transaction.html#9586" class="Function">getSubTxScripts</a>
  <a id="9961" href="Ledger.Dijkstra.Specification.Transaction.html#9853" class="Function">getTxScripts</a> <a id="9974" class="Symbol">{</a><a id="9975" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a><a id="9985" class="Symbol">}</a> <a id="9987" class="Symbol">=</a>
    <a id="9993" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="10004" href="Ledger.Dijkstra.Specification.Transaction.html#9586" class="Function">getSubTxScripts</a> <a id="10020" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10022" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="10031" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10033" href="Ledger.Dijkstra.Specification.Transaction.html#4550" class="Field">TxBody.txSubTransactions</a> <a id="10058" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10060" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

</pre></body></html>