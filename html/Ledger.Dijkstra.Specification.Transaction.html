<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#4041" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1313" class="Record">RwdAddr</a> <a id="367" class="Symbol">to</a> <a id="370" class="Record">RewardAddress</a><a id="383" class="Symbol">)</a>
<a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="428" class="Keyword">import</a> <a id="435" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="477" class="Keyword">import</a> <a id="484" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="522" class="Keyword">import</a> <a id="529" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="566" class="Keyword">import</a> <a id="573" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="654" class="Keyword">open</a> <a id="659" class="Keyword">import</a> <a id="666" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="703" class="Symbol">)</a>


<a id="707" class="Keyword">data</a> <a id="TxLevel"></a><a id="712" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="720" class="Symbol">:</a> <a id="722" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="727" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="735" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="746" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="757" class="Symbol">:</a> <a id="759" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="769" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="780" class="Symbol">:</a> <a id="782" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="790" class="Symbol">→</a> <a id="792" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="797" class="Symbol">→</a> <a id="799" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="804" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="815" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="826" href="Ledger.Dijkstra.Specification.Transaction.html#826" class="Bound">X</a> <a id="828" class="Symbol">=</a> <a id="830" href="Ledger.Dijkstra.Specification.Transaction.html#826" class="Bound">X</a>
<a id="832" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="843" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="854" class="Symbol">_</a> <a id="856" class="Symbol">=</a> <a id="858" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="861" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="872" class="Symbol">:</a> <a id="874" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="882" class="Symbol">→</a> <a id="884" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="889" class="Symbol">→</a> <a id="891" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="896" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="907" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="918" href="Ledger.Dijkstra.Specification.Transaction.html#918" class="Bound">X</a> <a id="920" class="Symbol">=</a> <a id="922" href="Ledger.Dijkstra.Specification.Transaction.html#918" class="Bound">X</a>
<a id="924" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="935" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a> <a id="946" class="Symbol">_</a> <a id="948" class="Symbol">=</a> <a id="950" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="954" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="966" href="Ledger.Dijkstra.Specification.Transaction.html#966" class="Function">DecEq-TxLevel</a> <a id="980" class="Symbol">=</a> <a id="982" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="995" class="Symbol">((</a><a id="997" class="Keyword">quote</a> <a id="1003" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="1011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1013" href="Ledger.Dijkstra.Specification.Transaction.html#966" class="Function">DecEq-TxLevel</a><a id="1026" class="Symbol">)</a> <a id="1028" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1030" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1032" class="Symbol">)</a>

<a id="1035" class="Keyword">private</a>
  <a id="1045" class="Keyword">variable</a>
    <a id="1058" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a>

<a id="1077" class="Keyword">data</a> <a id="Tag"></a><a id="1082" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="1096" class="Symbol">→</a> <a id="1098" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1103" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1111" href="Ledger.Dijkstra.Specification.Transaction.html#1111" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1117" href="Ledger.Dijkstra.Specification.Transaction.html#1117" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1122" href="Ledger.Dijkstra.Specification.Transaction.html#1122" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1127" href="Ledger.Dijkstra.Specification.Transaction.html#1127" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1134" href="Ledger.Dijkstra.Specification.Transaction.html#1134" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1139" href="Ledger.Dijkstra.Specification.Transaction.html#1139" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1147" href="Ledger.Dijkstra.Specification.Transaction.html#1147" class="InductiveConstructor">Guard</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1159" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1169" href="Ledger.Dijkstra.Specification.Transaction.html#1169" class="InductiveConstructor">SubGuard</a> <a id="1178" class="Symbol">:</a> <a id="1180" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1184" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a>

<a id="1196" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1208" href="Ledger.Dijkstra.Specification.Transaction.html#1208" class="Function">DecEq-Tag</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1233" class="Symbol">((</a><a id="1235" class="Keyword">quote</a> <a id="1241" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="1245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1247" href="Ledger.Dijkstra.Specification.Transaction.html#1208" class="Function">DecEq-Tag</a><a id="1256" class="Symbol">)</a> <a id="1258" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1260" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1262" class="Symbol">)</a>


<a id="1266" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1273" href="Ledger.Dijkstra.Specification.Transaction.html#1273" class="Record">TransactionStructure</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1302" class="Keyword">where</a>
  <a id="1310" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1320" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1323" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1328" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a>  <a id="1343" class="Symbol">:</a> <a id="1345" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1354" href="Ledger.Dijkstra.Specification.Transaction.html#1354" class="Field">adHashingScheme</a>        <a id="1377" class="Symbol">:</a> <a id="1379" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1393" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a>
    <a id="TransactionStructure.globalConstants"></a><a id="1411" href="Ledger.Dijkstra.Specification.Transaction.html#1411" class="Field">globalConstants</a>        <a id="1434" class="Symbol">:</a> <a id="1436" href="Ledger.Core.Specification.Epoch.html#2274" class="Record">GlobalConstants</a>
    <a id="TransactionStructure.crypto"></a><a id="1456" href="Ledger.Dijkstra.Specification.Transaction.html#1456" class="Field">crypto</a>                 <a id="1479" class="Symbol">:</a> <a id="1481" href="Ledger.Core.Specification.Crypto.html#1110" class="Record">CryptoStructure</a>
    <a id="TransactionStructure.epochStructure"></a><a id="1501" href="Ledger.Dijkstra.Specification.Transaction.html#1501" class="Field">epochStructure</a>         <a id="1524" class="Symbol">:</a> <a id="1526" href="Ledger.Core.Specification.Epoch.html#578" class="Record">EpochStructure</a>


    <a id="1547" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1549" href="Ledger.Dijkstra.Specification.Transaction.html#1549" class="Field">DecEq-Ix</a>   <a id="1560" class="Symbol">⦄</a> <a id="1562" class="Symbol">:</a> <a id="1564" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1570" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>
    <a id="1577" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1579" href="Ledger.Dijkstra.Specification.Transaction.html#1579" class="Field">DecEq-TxId</a> <a id="1590" class="Symbol">⦄</a> <a id="1592" class="Symbol">:</a> <a id="1594" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1600" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
  <a id="1607" class="Keyword">open</a> <a id="1612" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1626" href="Ledger.Dijkstra.Specification.Transaction.html#1354" class="Field">adHashingScheme</a> <a id="1642" class="Keyword">renaming</a> <a id="1651" class="Symbol">(</a><a id="1652" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1658" class="Symbol">to</a> <a id="1661" class="Field">ADHash</a><a id="1667" class="Symbol">)</a> <a id="1669" class="Keyword">public</a>
  <a id="1678" class="Keyword">open</a> <a id="1683" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1699" href="Ledger.Dijkstra.Specification.Transaction.html#1411" class="Field">globalConstants</a> <a id="1715" class="Keyword">public</a>
  <a id="1724" class="Keyword">open</a> <a id="1729" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1745" href="Ledger.Dijkstra.Specification.Transaction.html#1456" class="Field">crypto</a> <a id="1752" class="Keyword">public</a>
  <a id="1761" class="Keyword">open</a> <a id="1766" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1814" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1825" class="Keyword">public</a>
  <a id="1834" class="Keyword">open</a> <a id="1839" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1873" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1881" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1889" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1900" class="Symbol">⦃</a> <a id="1902" href="Function.Base.html#4755" class="Function">it</a> <a id="1905" class="Symbol">⦄</a> <a id="1907" class="Symbol">⦃</a> <a id="1909" href="Function.Base.html#4755" class="Function">it</a> <a id="1912" class="Symbol">⦄</a> <a id="1914" class="Symbol">⦃</a> <a id="1916" href="Function.Base.html#4755" class="Function">it</a> <a id="1919" class="Symbol">⦄</a> <a id="1921" class="Keyword">public</a>
  <a id="1930" class="Keyword">open</a> <a id="1935" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="1950" href="Ledger.Dijkstra.Specification.Transaction.html#1501" class="Field">epochStructure</a> <a id="1965" class="Keyword">public</a>
  <a id="1974" class="Keyword">open</a> <a id="1979" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="2016" href="Ledger.Dijkstra.Specification.Transaction.html#1456" class="Field">crypto</a> <a id="2023" href="Ledger.Dijkstra.Specification.Transaction.html#1501" class="Field">epochStructure</a> <a id="2038" class="Keyword">public</a>
  <a id="2047" class="Keyword">field</a>


    <a id="TransactionStructure.scriptStructure"></a><a id="2059" href="Ledger.Dijkstra.Specification.Transaction.html#2059" class="Field">scriptStructure</a>        <a id="2082" class="Symbol">:</a> <a id="2084" href="Ledger.Core.Specification.Script.Base.html#2046" class="Record">ScriptStructure</a>


  <a id="2104" class="Keyword">open</a> <a id="2109" href="Ledger.Core.Specification.Script.Base.html#2046" class="Module">ScriptStructure</a> <a id="2125" href="Ledger.Dijkstra.Specification.Transaction.html#2059" class="Field">scriptStructure</a> <a id="2141" class="Keyword">public</a>
  <a id="2150" class="Keyword">open</a> <a id="2155" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2193" href="Ledger.Dijkstra.Specification.Transaction.html#1456" class="Field">crypto</a> <a id="2200" href="Ledger.Dijkstra.Specification.Transaction.html#1501" class="Field">epochStructure</a> <a id="2215" href="Ledger.Dijkstra.Specification.Transaction.html#2059" class="Field">scriptStructure</a> <a id="2231" class="Keyword">public</a>
  <a id="2240" class="Keyword">field</a>


    <a id="TransactionStructure.govParams"></a><a id="2252" href="Ledger.Dijkstra.Specification.Transaction.html#2252" class="Field">govParams</a>              <a id="2275" class="Symbol">:</a> <a id="2277" href="Ledger.Conway.Specification.PParams.html#13995" class="Record">GovParams</a>
    <a id="TransactionStructure.tokenAlgebra"></a><a id="2291" href="Ledger.Dijkstra.Specification.Transaction.html#2291" class="Field">tokenAlgebra</a>           <a id="2314" class="Symbol">:</a> <a id="2316" href="Ledger.Core.Specification.TokenAlgebra.Base.html#476" class="Record">TokenAlgebra</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2333" href="Ledger.Dijkstra.Specification.Transaction.html#2333" class="Field">txidBytes</a>              <a id="2356" class="Symbol">:</a> <a id="2358" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="2363" class="Symbol">→</a> <a id="2365" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>


  <a id="2373" class="Keyword">open</a> <a id="2378" href="Ledger.Conway.Specification.PParams.html#13995" class="Module">GovParams</a> <a id="2388" href="Ledger.Dijkstra.Specification.Transaction.html#2252" class="Field">govParams</a> <a id="2398" class="Keyword">public</a>
  <a id="2407" class="Keyword">open</a> <a id="2412" href="Ledger.Core.Specification.TokenAlgebra.Base.html#476" class="Module">TokenAlgebra</a> <a id="2425" href="Ledger.Dijkstra.Specification.Transaction.html#2291" class="Field">tokenAlgebra</a> <a id="2438" class="Keyword">public</a>


  <a id="TransactionStructure.govStructure"></a><a id="2449" href="Ledger.Dijkstra.Specification.Transaction.html#2449" class="Function">govStructure</a> <a id="2462" class="Symbol">:</a> <a id="2464" href="Ledger.Core.Specification.Gov.Base.html#322" class="Record">GovStructure</a>
  <a id="2479" href="Ledger.Dijkstra.Specification.Transaction.html#2449" class="Function">govStructure</a> <a id="2492" class="Symbol">=</a> <a id="2494" class="Keyword">record</a>
    <a id="2505" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2554" class="Symbol">{</a> <a id="2556" href="Ledger.Core.Specification.Gov.Base.html#357" class="Field">TxId</a> <a id="2561" class="Symbol">=</a> <a id="2563" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a><a id="2567" class="Symbol">;</a> <a id="2569" href="Ledger.Core.Specification.Gov.Base.html#362" class="Field">DocHash</a> <a id="2577" class="Symbol">=</a> <a id="2579" href="Ledger.Dijkstra.Specification.Transaction.html#1661" class="Function">ADHash</a>
    <a id="2590" class="Symbol">;</a> <a id="2592" href="Ledger.Core.Specification.Gov.Base.html#422" class="Field">cryptoStructure</a> <a id="2608" class="Symbol">=</a> <a id="2610" href="Ledger.Dijkstra.Specification.Transaction.html#1456" class="Field">crypto</a>
    <a id="2621" class="Symbol">;</a> <a id="2623" href="Ledger.Core.Specification.Gov.Base.html#497" class="Field">epochStructure</a> <a id="2638" class="Symbol">=</a> <a id="2640" href="Ledger.Dijkstra.Specification.Transaction.html#1501" class="Field">epochStructure</a>
    <a id="2659" class="Symbol">;</a> <a id="2661" href="Ledger.Core.Specification.Gov.Base.html#569" class="Field">scriptStructure</a> <a id="2677" class="Symbol">=</a> <a id="2679" href="Ledger.Dijkstra.Specification.Transaction.html#2059" class="Field">scriptStructure</a>
    <a id="2699" class="Symbol">;</a> <a id="2701" href="Ledger.Core.Specification.Gov.Base.html#787" class="Field">govParams</a> <a id="2711" class="Symbol">=</a> <a id="2713" href="Ledger.Dijkstra.Specification.Transaction.html#2252" class="Field">govParams</a>
    <a id="2727" class="Symbol">;</a> <a id="2729" href="Ledger.Core.Specification.Gov.Base.html#852" class="Field">globalConstants</a> <a id="2745" class="Symbol">=</a> <a id="2747" href="Ledger.Dijkstra.Specification.Transaction.html#1411" class="Field">globalConstants</a>
    <a id="2767" class="Symbol">}</a>


  <a id="2773" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2780" href="Ledger.Dijkstra.Specification.Transaction.html#2780" class="Module">GovernanceActions</a> <a id="2798" class="Symbol">=</a> <a id="2800" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2842" href="Ledger.Dijkstra.Specification.Transaction.html#2449" class="Function">govStructure</a>
  <a id="2857" class="Keyword">open</a> <a id="2862" href="Ledger.Dijkstra.Specification.Transaction.html#2780" class="Module">GovernanceActions</a> <a id="2880" class="Keyword">hiding</a> <a id="2887" class="Symbol">(</a><a id="2888" href="Ledger.Core.Specification.Gov.Actions.html#2025" class="Datatype">Vote</a><a id="2892" class="Symbol">;</a> <a id="2894" href="Ledger.Core.Specification.Gov.Actions.html#2045" class="InductiveConstructor">yes</a><a id="2897" class="Symbol">;</a> <a id="2899" href="Ledger.Core.Specification.Gov.Actions.html#2049" class="InductiveConstructor">no</a><a id="2901" class="Symbol">;</a> <a id="2903" href="Ledger.Core.Specification.Gov.Actions.html#2052" class="InductiveConstructor">abstain</a><a id="2910" class="Symbol">)</a> <a id="2912" class="Keyword">public</a>

  <a id="2922" class="Keyword">open</a> <a id="2927" class="Keyword">import</a> <a id="2934" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="2970" href="Ledger.Dijkstra.Specification.Transaction.html#2449" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="2987" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a> <a id="2992" class="Symbol">:</a> <a id="2994" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3001" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a> <a id="3006" class="Symbol">=</a> <a id="3008" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="3013" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3015" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="3021" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a> <a id="3027" class="Symbol">:</a> <a id="3029" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3036" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a> <a id="3042" class="Symbol">=</a> <a id="3044" href="Ledger.Core.Specification.Address.html#2475" class="Function">Addr</a> <a id="3049" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3051" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="3057" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3059" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3065" class="Symbol">(</a><a id="3066" href="Ledger.Core.Specification.Script.Base.html#1768" class="Function">Datum</a> <a id="3072" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3074" href="Ledger.Core.Specification.Script.Base.html#1721" class="Function">DataHash</a><a id="3082" class="Symbol">)</a> <a id="3084" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3086" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3092" href="Ledger.Core.Specification.Script.Base.html#2441" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="3102" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3116" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="3121" class="Symbol">=</a> <a id="3123" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a> <a id="3128" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3130" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3139" href="Ledger.Dijkstra.Specification.Transaction.html#3139" class="Function">RedeemerPtr</a> <a id="3151" class="Symbol">:</a> <a id="3153" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a> <a id="3161" class="Symbol">→</a> <a id="3163" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3170" href="Ledger.Dijkstra.Specification.Transaction.html#3139" class="Function">RedeemerPtr</a> <a id="3182" href="Ledger.Dijkstra.Specification.Transaction.html#3182" class="Bound">txLevel</a>  <a id="3191" class="Symbol">=</a> <a id="3193" href="Ledger.Dijkstra.Specification.Transaction.html#1082" class="Datatype">Tag</a> <a id="3197" href="Ledger.Dijkstra.Specification.Transaction.html#3182" class="Bound">txLevel</a> <a id="3205" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3207" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3213" href="Ledger.Dijkstra.Specification.Transaction.html#3213" class="Function">ProposedPPUpdates</a> <a id="3231" class="Symbol">:</a> <a id="3233" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3240" href="Ledger.Dijkstra.Specification.Transaction.html#3213" class="Function">ProposedPPUpdates</a> <a id="3258" class="Symbol">=</a> <a id="3260" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3268" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3270" href="Ledger.Conway.Specification.PParams.html#14093" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3287" href="Ledger.Dijkstra.Specification.Transaction.html#3287" class="Function">Update</a> <a id="3294" class="Symbol">:</a> <a id="3296" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3303" href="Ledger.Dijkstra.Specification.Transaction.html#3287" class="Function">Update</a> <a id="3310" class="Symbol">=</a> <a id="3312" href="Ledger.Dijkstra.Specification.Transaction.html#3213" class="Function">ProposedPPUpdates</a> <a id="3330" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3332" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>

  <a id="3341" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3348" href="Ledger.Dijkstra.Specification.Transaction.html#3348" class="Record">HasUTxO</a> <a id="3356" class="Symbol">{</a><a id="3357" href="Ledger.Dijkstra.Specification.Transaction.html#3357" class="Bound">a</a><a id="3358" class="Symbol">}</a> <a id="3360" class="Symbol">(</a><a id="3361" href="Ledger.Dijkstra.Specification.Transaction.html#3361" class="Bound">A</a> <a id="3363" class="Symbol">:</a> <a id="3365" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3370" href="Ledger.Dijkstra.Specification.Transaction.html#3357" class="Bound">a</a><a id="3371" class="Symbol">)</a> <a id="3373" class="Symbol">:</a> <a id="3375" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3380" href="Ledger.Dijkstra.Specification.Transaction.html#3357" class="Bound">a</a> <a id="3382" class="Keyword">where</a>
    <a id="3392" class="Keyword">field</a> <a id="3398" href="Ledger.Dijkstra.Specification.Transaction.html#3398" class="Field">UTxOOf</a> <a id="3405" class="Symbol">:</a> <a id="3407" href="Ledger.Dijkstra.Specification.Transaction.html#3361" class="Bound">A</a> <a id="3409" class="Symbol">→</a> <a id="3411" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a>
  <a id="3418" class="Keyword">open</a> <a id="3423" href="Ledger.Dijkstra.Specification.Transaction.html#3348" class="Module">HasUTxO</a> <a id="3431" class="Symbol">⦃...⦄</a> <a id="3437" class="Keyword">public</a>


  <a id="3448" class="Keyword">mutual</a>
    <a id="3459" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3466" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Ledger.Dijkstra.Specification.Transaction.html#3470" class="Bound">txLevel</a> <a id="3478" class="Symbol">:</a> <a id="3480" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="3487" class="Symbol">)</a> <a id="3489" class="Symbol">:</a> <a id="3491" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3496" class="Keyword">where</a>
      <a id="3508" class="Keyword">inductive</a>
      <a id="3524" class="Keyword">field</a>
        <a id="3538" href="Ledger.Dijkstra.Specification.Transaction.html#3538" class="Field">txBody</a>       <a id="3551" class="Symbol">:</a> <a id="3553" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="3560" href="Ledger.Dijkstra.Specification.Transaction.html#3470" class="Bound">txLevel</a>
        <a id="3576" href="Ledger.Dijkstra.Specification.Transaction.html#3576" class="Field">txWitnesses</a>  <a id="3589" class="Symbol">:</a> <a id="3591" href="Ledger.Dijkstra.Specification.Transaction.html#5217" class="Record">TxWitnesses</a> <a id="3603" href="Ledger.Dijkstra.Specification.Transaction.html#3470" class="Bound">txLevel</a>
        <a id="3619" href="Ledger.Dijkstra.Specification.Transaction.html#3619" class="Field">txSize</a>       <a id="3632" class="Symbol">:</a> <a id="3634" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="3645" href="Ledger.Dijkstra.Specification.Transaction.html#3470" class="Bound">txLevel</a> <a id="3653" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>    <a id="3658" class="Comment">-- only in sub-level tx</a>
        <a id="3690" href="Ledger.Dijkstra.Specification.Transaction.html#3690" class="Field">isValid</a>      <a id="3703" class="Symbol">:</a> <a id="3705" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="3716" href="Ledger.Dijkstra.Specification.Transaction.html#3470" class="Bound">txLevel</a> <a id="3724" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="3729" class="Comment">-- only in top-level tx</a>
        <a id="3761" href="Ledger.Dijkstra.Specification.Transaction.html#3761" class="Field">txAuxData</a>    <a id="3774" class="Symbol">:</a> <a id="3776" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3782" href="Ledger.Dijkstra.Specification.Transaction.html#1328" class="Field">AuxiliaryData</a>

    <a id="3801" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3808" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Ledger.Dijkstra.Specification.Transaction.html#3816" class="Bound">txLevel</a> <a id="3824" class="Symbol">:</a> <a id="3826" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="3833" class="Symbol">)</a> <a id="3835" class="Symbol">:</a> <a id="3837" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3842" class="Keyword">where</a>
      <a id="3854" class="Keyword">inductive</a>
      <a id="3870" class="Keyword">field</a>
        <a id="3884" href="Ledger.Dijkstra.Specification.Transaction.html#3884" class="Field">txIns</a>                <a id="3905" class="Symbol">:</a> <a id="3907" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3909" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a>
        <a id="3922" href="Ledger.Dijkstra.Specification.Transaction.html#3922" class="Field">refInputs</a>            <a id="3943" class="Symbol">:</a> <a id="3945" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3947" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a>
        <a id="3960" href="Ledger.Dijkstra.Specification.Transaction.html#3960" class="Field">collateralInputs</a>     <a id="3981" class="Symbol">:</a> <a id="3983" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="3994" href="Ledger.Dijkstra.Specification.Transaction.html#3816" class="Bound">txLevel</a> <a id="4002" class="Symbol">(</a><a id="4003" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4005" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a><a id="4009" class="Symbol">)</a> <a id="4011" class="Comment">-- only in top-level tx</a>
        <a id="4043" href="Ledger.Dijkstra.Specification.Transaction.html#4043" class="Field">txOuts</a>               <a id="4064" class="Symbol">:</a> <a id="4066" href="Ledger.Dijkstra.Specification.Transaction.html#1320" class="Field">Ix</a> <a id="4069" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4071" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a>
        <a id="4085" href="Ledger.Dijkstra.Specification.Transaction.html#4085" class="Field">txId</a>                 <a id="4106" class="Symbol">:</a> <a id="4108" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
        <a id="4121" href="Ledger.Dijkstra.Specification.Transaction.html#4121" class="Field">txCerts</a>              <a id="4142" class="Symbol">:</a> <a id="4144" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4149" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a>
        <a id="4163" href="Ledger.Dijkstra.Specification.Transaction.html#4163" class="Field">txFee</a>                <a id="4184" class="Symbol">:</a> <a id="4186" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="4197" href="Ledger.Dijkstra.Specification.Transaction.html#3816" class="Bound">txLevel</a> <a id="4205" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a> <a id="4210" class="Comment">-- only in top-level tx</a>
        <a id="4242" href="Ledger.Dijkstra.Specification.Transaction.html#4242" class="Field">txWithdrawals</a>        <a id="4263" class="Symbol">:</a> <a id="4265" href="Ledger.Core.Specification.Address.html#1388" class="Function">Withdrawals</a>
        <a id="4285" href="Ledger.Dijkstra.Specification.Transaction.html#4285" class="Field">txVldt</a>               <a id="4306" class="Symbol">:</a> <a id="4308" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4314" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="4319" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4321" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4327" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
        <a id="4340" href="Ledger.Dijkstra.Specification.Transaction.html#4340" class="Field">txADhash</a>             <a id="4361" class="Symbol">:</a> <a id="4363" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4369" href="Ledger.Dijkstra.Specification.Transaction.html#1661" class="Function">ADHash</a>
        <a id="4384" href="Ledger.Dijkstra.Specification.Transaction.html#4384" class="Field">txDonation</a>           <a id="4405" class="Symbol">:</a> <a id="4407" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4425" href="Ledger.Dijkstra.Specification.Transaction.html#4425" class="Field">txGovVotes</a>           <a id="4446" class="Symbol">:</a> <a id="4448" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4453" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Record">GovVote</a>
        <a id="4469" href="Ledger.Dijkstra.Specification.Transaction.html#4469" class="Field">txGovProposals</a>       <a id="4490" class="Symbol">:</a> <a id="4492" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4497" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a>
        <a id="4517" href="Ledger.Dijkstra.Specification.Transaction.html#4517" class="Field">txNetworkId</a>          <a id="4538" class="Symbol">:</a> <a id="4540" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4546" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
        <a id="4562" href="Ledger.Dijkstra.Specification.Transaction.html#4562" class="Field">currentTreasury</a>      <a id="4583" class="Symbol">:</a> <a id="4585" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4591" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4604" href="Ledger.Dijkstra.Specification.Transaction.html#4604" class="Field">mint</a>                 <a id="4625" class="Symbol">:</a> <a id="4627" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
        <a id="4641" href="Ledger.Dijkstra.Specification.Transaction.html#4641" class="Field">scriptIntegrityHash</a>  <a id="4662" class="Symbol">:</a> <a id="4664" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4670" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4690" class="Comment">-- New in Dijkstra --</a>
        <a id="4720" class="Comment">--</a>
        <a id="4731" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">txSubTransactions</a>    <a id="4752" class="Symbol">:</a> <a id="4754" href="Ledger.Dijkstra.Specification.Transaction.html#769" class="Function">InTopLevel</a> <a id="4765" href="Ledger.Dijkstra.Specification.Transaction.html#3816" class="Bound">txLevel</a> <a id="4773" class="Symbol">(</a><a id="4774" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4779" class="Symbol">(</a><a id="4780" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="4783" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="4793" class="Symbol">))</a> <a id="4796" class="Comment">-- only in top-level tx</a>
        <a id="4828" class="Comment">-- ^^^^^^^^^^ should this be a set? i.e. InTopLevel txLevel (ℙ (Tx TxLevelSub))</a>
        <a id="4916" class="Comment">--            (in getTxScripts function below we need it as a set)</a>
        <a id="4991" class="Comment">--</a>
        <a id="5002" href="Ledger.Dijkstra.Specification.Transaction.html#5002" class="Field">txRequiredGuards</a>          <a id="5028" class="Symbol">:</a> <a id="5030" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5032" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="5040" class="Comment">-- replaces reqSigHash : ℙ KeyHash</a>
        <a id="5083" href="Ledger.Dijkstra.Specification.Transaction.html#5083" class="Field">txRequiredTopLevelGuards</a>  <a id="5109" class="Symbol">:</a> <a id="5111" href="Ledger.Dijkstra.Specification.Transaction.html#861" class="Function">InSubLevel</a> <a id="5122" href="Ledger.Dijkstra.Specification.Transaction.html#3816" class="Bound">txLevel</a> <a id="5130" class="Symbol">(</a><a id="5131" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="5142" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5144" href="Ledger.Core.Specification.Script.Base.html#1768" class="Function">Datum</a><a id="5149" class="Symbol">)</a> <a id="5151" class="Comment">-- only in sub-level tx</a>
        <a id="5183" class="Comment">---------------------</a>

    <a id="5210" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="5217" href="Ledger.Dijkstra.Specification.Transaction.html#5217" class="Record">TxWitnesses</a> <a id="5229" class="Symbol">(</a><a id="5230" href="Ledger.Dijkstra.Specification.Transaction.html#5230" class="Bound">txLevel</a> <a id="5238" class="Symbol">:</a> <a id="5240" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="5247" class="Symbol">)</a> <a id="5249" class="Symbol">:</a> <a id="5251" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5256" class="Keyword">where</a>
      <a id="5268" class="Keyword">inductive</a>
      <a id="5284" class="Keyword">field</a>
        <a id="5298" href="Ledger.Dijkstra.Specification.Transaction.html#5298" class="Field">vKeySigs</a>     <a id="5311" class="Symbol">:</a> <a id="5313" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="5318" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5320" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
        <a id="5332" href="Ledger.Dijkstra.Specification.Transaction.html#5332" class="Field">scripts</a>      <a id="5345" class="Symbol">:</a> <a id="5347" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5349" href="Ledger.Core.Specification.Script.Base.html#2441" class="Function">Script</a>
        <a id="5364" href="Ledger.Dijkstra.Specification.Transaction.html#5364" class="Field">txData</a>       <a id="5377" class="Symbol">:</a> <a id="5379" href="Ledger.Core.Specification.Script.Base.html#1721" class="Function">DataHash</a> <a id="5388" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5390" href="Ledger.Core.Specification.Script.Base.html#1768" class="Function">Datum</a>
        <a id="5404" href="Ledger.Dijkstra.Specification.Transaction.html#5404" class="Field">txRedeemers</a>  <a id="5417" class="Symbol">:</a> <a id="5419" href="Ledger.Dijkstra.Specification.Transaction.html#3139" class="Function">RedeemerPtr</a> <a id="5431" href="Ledger.Dijkstra.Specification.Transaction.html#5230" class="Bound">txLevel</a> <a id="5439" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5441" href="Ledger.Core.Specification.Script.Base.html#1786" class="Function">Redeemer</a> <a id="5450" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5452" href="Ledger.Core.Specification.Script.Base.html#1016" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5467" href="Ledger.Dijkstra.Specification.Transaction.html#5467" class="Function">scriptsP1</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5481" href="Ledger.Core.Specification.Script.Base.html#640" class="Function">P1Script</a>
      <a id="5496" href="Ledger.Dijkstra.Specification.Transaction.html#5467" class="Function">scriptsP1</a> <a id="5506" class="Symbol">=</a> <a id="5508" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5519" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5526" href="Ledger.Dijkstra.Specification.Transaction.html#5332" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5538" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Function">TopLevelTx</a> <a id="5549" class="Symbol">:</a> <a id="5551" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5558" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Function">TopLevelTx</a> <a id="5569" class="Symbol">=</a> <a id="5571" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="5574" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5588" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Function">SubLevelTx</a> <a id="5599" class="Symbol">:</a> <a id="5601" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5608" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Function">SubLevelTx</a> <a id="5619" class="Symbol">=</a> <a id="5621" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="5624" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5639" href="Ledger.Dijkstra.Specification.Transaction.html#5639" class="Function">AnyLevelTx</a> <a id="5650" class="Symbol">:</a> <a id="5652" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5659" href="Ledger.Dijkstra.Specification.Transaction.html#5639" class="Function">AnyLevelTx</a> <a id="5670" class="Symbol">=</a> <a id="5672" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Function">TopLevelTx</a> <a id="5683" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5685" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Function">SubLevelTx</a>


  <a id="5700" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5707" href="Ledger.Dijkstra.Specification.Transaction.html#5707" class="Record">HasTxBody</a> <a id="5717" class="Symbol">{</a><a id="5718" href="Ledger.Dijkstra.Specification.Transaction.html#5718" class="Bound">txLevel</a><a id="5725" class="Symbol">}</a> <a id="5727" class="Symbol">{</a><a id="5728" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a><a id="5729" class="Symbol">}</a> <a id="5731" class="Symbol">(</a><a id="5732" href="Ledger.Dijkstra.Specification.Transaction.html#5732" class="Bound">A</a> <a id="5734" class="Symbol">:</a> <a id="5736" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5741" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a><a id="5742" class="Symbol">)</a> <a id="5744" class="Symbol">:</a> <a id="5746" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5751" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a> <a id="5753" class="Keyword">where</a>
    <a id="5763" class="Keyword">field</a> <a id="5769" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a> <a id="5778" class="Symbol">:</a> <a id="5780" href="Ledger.Dijkstra.Specification.Transaction.html#5732" class="Bound">A</a> <a id="5782" class="Symbol">→</a> <a id="5784" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="5791" href="Ledger.Dijkstra.Specification.Transaction.html#5718" class="Bound">txLevel</a>
  <a id="5801" class="Keyword">open</a> <a id="5806" href="Ledger.Dijkstra.Specification.Transaction.html#5707" class="Module">HasTxBody</a>  <a id="5817" class="Symbol">⦃...⦄</a> <a id="5823" class="Keyword">public</a>

  <a id="5833" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="5840" href="Ledger.Dijkstra.Specification.Transaction.html#5840" class="Record">HasTxId</a>    <a id="5851" class="Symbol">{</a><a id="5852" href="Ledger.Dijkstra.Specification.Transaction.html#5852" class="Bound">a</a><a id="5853" class="Symbol">}</a> <a id="5855" class="Symbol">(</a><a id="5856" href="Ledger.Dijkstra.Specification.Transaction.html#5856" class="Bound">A</a> <a id="5858" class="Symbol">:</a> <a id="5860" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5865" href="Ledger.Dijkstra.Specification.Transaction.html#5852" class="Bound">a</a><a id="5866" class="Symbol">)</a> <a id="5868" class="Symbol">:</a> <a id="5870" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5875" href="Ledger.Dijkstra.Specification.Transaction.html#5852" class="Bound">a</a> <a id="5877" class="Keyword">where</a>
    <a id="5887" class="Keyword">field</a> <a id="5893" href="Ledger.Dijkstra.Specification.Transaction.html#5893" class="Field">TxIdOf</a>    <a id="5903" class="Symbol">:</a> <a id="5905" href="Ledger.Dijkstra.Specification.Transaction.html#5856" class="Bound">A</a> <a id="5907" class="Symbol">→</a> <a id="5909" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a>
  <a id="5916" class="Keyword">open</a> <a id="5921" href="Ledger.Dijkstra.Specification.Transaction.html#5840" class="Module">HasTxId</a>    <a id="5932" class="Symbol">⦃...⦄</a> <a id="5938" class="Keyword">public</a>

  <a id="5948" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="5955" href="Ledger.Dijkstra.Specification.Transaction.html#5955" class="Record">HasFees?</a> <a id="5964" class="Symbol">{</a><a id="5965" href="Ledger.Dijkstra.Specification.Transaction.html#5965" class="Bound">a</a><a id="5966" class="Symbol">}</a> <a id="5968" class="Symbol">(</a><a id="5969" href="Ledger.Dijkstra.Specification.Transaction.html#5969" class="Bound">A</a> <a id="5971" class="Symbol">:</a> <a id="5973" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5978" href="Ledger.Dijkstra.Specification.Transaction.html#5965" class="Bound">a</a><a id="5979" class="Symbol">)</a> <a id="5981" class="Symbol">:</a> <a id="5983" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5988" href="Ledger.Dijkstra.Specification.Transaction.html#5965" class="Bound">a</a> <a id="5990" class="Keyword">where</a>
    <a id="6000" class="Keyword">field</a> <a id="6006" href="Ledger.Dijkstra.Specification.Transaction.html#6006" class="Field">FeesOf?</a> <a id="6014" class="Symbol">:</a> <a id="6016" href="Ledger.Dijkstra.Specification.Transaction.html#5969" class="Bound">A</a> <a id="6018" class="Symbol">→</a> <a id="6020" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6026" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="6033" class="Keyword">open</a> <a id="6038" href="Ledger.Dijkstra.Specification.Transaction.html#5955" class="Module">HasFees?</a> <a id="6047" class="Symbol">⦃...⦄</a> <a id="6053" class="Keyword">public</a>

  <a id="6063" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="6070" href="Ledger.Dijkstra.Specification.Transaction.html#6070" class="Record">HasDCerts</a> <a id="6080" class="Symbol">{</a><a id="6081" href="Ledger.Dijkstra.Specification.Transaction.html#6081" class="Bound">a</a><a id="6082" class="Symbol">}</a> <a id="6084" class="Symbol">(</a><a id="6085" href="Ledger.Dijkstra.Specification.Transaction.html#6085" class="Bound">A</a> <a id="6087" class="Symbol">:</a> <a id="6089" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6094" href="Ledger.Dijkstra.Specification.Transaction.html#6081" class="Bound">a</a><a id="6095" class="Symbol">)</a> <a id="6097" class="Symbol">:</a> <a id="6099" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6104" href="Ledger.Dijkstra.Specification.Transaction.html#6081" class="Bound">a</a> <a id="6106" class="Keyword">where</a>
    <a id="6116" class="Keyword">field</a> <a id="6122" href="Ledger.Dijkstra.Specification.Transaction.html#6122" class="Field">DCertsOf</a> <a id="6131" class="Symbol">:</a> <a id="6133" href="Ledger.Dijkstra.Specification.Transaction.html#6085" class="Bound">A</a> <a id="6135" class="Symbol">→</a> <a id="6137" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6142" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a>
  <a id="6150" class="Keyword">open</a> <a id="6155" href="Ledger.Dijkstra.Specification.Transaction.html#6070" class="Module">HasDCerts</a> <a id="6165" class="Symbol">⦃...⦄</a> <a id="6171" class="Keyword">public</a>

  <a id="6181" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="6188" href="Ledger.Dijkstra.Specification.Transaction.html#6188" class="Record">HasData</a> <a id="6196" class="Symbol">{</a><a id="6197" href="Ledger.Dijkstra.Specification.Transaction.html#6197" class="Bound">a</a><a id="6198" class="Symbol">}</a> <a id="6200" class="Symbol">(</a><a id="6201" href="Ledger.Dijkstra.Specification.Transaction.html#6201" class="Bound">A</a> <a id="6203" class="Symbol">:</a> <a id="6205" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6210" href="Ledger.Dijkstra.Specification.Transaction.html#6197" class="Bound">a</a><a id="6211" class="Symbol">)</a> <a id="6213" class="Symbol">:</a> <a id="6215" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6220" href="Ledger.Dijkstra.Specification.Transaction.html#6197" class="Bound">a</a> <a id="6222" class="Keyword">where</a>
    <a id="6232" class="Keyword">field</a> <a id="6238" href="Ledger.Dijkstra.Specification.Transaction.html#6238" class="Field">DataOf</a> <a id="6245" class="Symbol">:</a> <a id="6247" href="Ledger.Dijkstra.Specification.Transaction.html#6201" class="Bound">A</a> <a id="6249" class="Symbol">→</a> <a id="6251" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6253" href="Ledger.Core.Specification.Script.Base.html#1768" class="Function">Datum</a>
  <a id="6261" class="Keyword">open</a> <a id="6266" href="Ledger.Dijkstra.Specification.Transaction.html#6188" class="Module">HasData</a> <a id="6274" class="Symbol">⦃...⦄</a> <a id="6280" class="Keyword">public</a>

  <a id="6290" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="6297" href="Ledger.Dijkstra.Specification.Transaction.html#6297" class="Record">HasTxWitnesses</a> <a id="6312" class="Symbol">{</a><a id="6313" href="Ledger.Dijkstra.Specification.Transaction.html#6313" class="Bound">txLevel</a><a id="6320" class="Symbol">}</a> <a id="6322" class="Symbol">{</a><a id="6323" href="Ledger.Dijkstra.Specification.Transaction.html#6323" class="Bound">a</a><a id="6324" class="Symbol">}</a> <a id="6326" class="Symbol">(</a><a id="6327" href="Ledger.Dijkstra.Specification.Transaction.html#6327" class="Bound">A</a> <a id="6329" class="Symbol">:</a> <a id="6331" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6336" href="Ledger.Dijkstra.Specification.Transaction.html#6323" class="Bound">a</a><a id="6337" class="Symbol">)</a> <a id="6339" class="Symbol">:</a> <a id="6341" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6346" href="Ledger.Dijkstra.Specification.Transaction.html#6323" class="Bound">a</a> <a id="6348" class="Keyword">where</a>
    <a id="6358" class="Keyword">field</a> <a id="6364" href="Ledger.Dijkstra.Specification.Transaction.html#6364" class="Field">TxWitnessesOf</a> <a id="6378" class="Symbol">:</a> <a id="6380" href="Ledger.Dijkstra.Specification.Transaction.html#6327" class="Bound">A</a> <a id="6382" class="Symbol">→</a> <a id="6384" href="Ledger.Dijkstra.Specification.Transaction.html#5217" class="Record">TxWitnesses</a> <a id="6396" href="Ledger.Dijkstra.Specification.Transaction.html#6313" class="Bound">txLevel</a>
  <a id="6406" class="Keyword">open</a> <a id="6411" href="Ledger.Dijkstra.Specification.Transaction.html#6297" class="Module">HasTxWitnesses</a> <a id="6426" class="Symbol">⦃...⦄</a> <a id="6432" class="Keyword">public</a>

  <a id="6442" class="Keyword">record</a> <a id="TransactionStructure.HasValue"></a><a id="6449" href="Ledger.Dijkstra.Specification.Transaction.html#6449" class="Record">HasValue</a> <a id="6458" class="Symbol">{</a><a id="6459" href="Ledger.Dijkstra.Specification.Transaction.html#6459" class="Bound">a</a><a id="6460" class="Symbol">}</a> <a id="6462" class="Symbol">(</a><a id="6463" href="Ledger.Dijkstra.Specification.Transaction.html#6463" class="Bound">A</a> <a id="6465" class="Symbol">:</a> <a id="6467" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6472" href="Ledger.Dijkstra.Specification.Transaction.html#6459" class="Bound">a</a><a id="6473" class="Symbol">)</a> <a id="6475" class="Symbol">:</a> <a id="6477" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6482" href="Ledger.Dijkstra.Specification.Transaction.html#6459" class="Bound">a</a> <a id="6484" class="Keyword">where</a>
    <a id="6494" class="Keyword">field</a> <a id="6500" href="Ledger.Dijkstra.Specification.Transaction.html#6500" class="Field">ValueOf</a> <a id="6508" class="Symbol">:</a> <a id="6510" href="Ledger.Dijkstra.Specification.Transaction.html#6463" class="Bound">A</a> <a id="6512" class="Symbol">→</a> <a id="6514" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="6522" class="Keyword">open</a> <a id="6527" href="Ledger.Dijkstra.Specification.Transaction.html#6449" class="Module">HasValue</a> <a id="6536" class="Symbol">⦃...⦄</a> <a id="6542" class="Keyword">public</a>

  <a id="6552" class="Keyword">record</a> <a id="TransactionStructure.HasGovProposals"></a><a id="6559" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Record">HasGovProposals</a> <a id="6575" class="Symbol">{</a><a id="6576" href="Ledger.Dijkstra.Specification.Transaction.html#6576" class="Bound">a</a><a id="6577" class="Symbol">}</a> <a id="6579" class="Symbol">(</a><a id="6580" href="Ledger.Dijkstra.Specification.Transaction.html#6580" class="Bound">A</a> <a id="6582" class="Symbol">:</a> <a id="6584" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6589" href="Ledger.Dijkstra.Specification.Transaction.html#6576" class="Bound">a</a><a id="6590" class="Symbol">)</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6599" href="Ledger.Dijkstra.Specification.Transaction.html#6576" class="Bound">a</a> <a id="6601" class="Keyword">where</a>
    <a id="6611" class="Keyword">field</a> <a id="6617" href="Ledger.Dijkstra.Specification.Transaction.html#6617" class="Field">GovProposalsOf</a> <a id="6632" class="Symbol">:</a> <a id="6634" href="Ledger.Dijkstra.Specification.Transaction.html#6580" class="Bound">A</a> <a id="6636" class="Symbol">→</a> <a id="6638" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6643" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a>
  <a id="6657" class="Keyword">open</a> <a id="6662" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Module">HasGovProposals</a> <a id="6678" class="Symbol">⦃...⦄</a> <a id="6684" class="Keyword">public</a>

  <a id="6694" class="Keyword">record</a> <a id="TransactionStructure.HasGovVotes"></a><a id="6701" href="Ledger.Dijkstra.Specification.Transaction.html#6701" class="Record">HasGovVotes</a> <a id="6713" class="Symbol">{</a><a id="6714" href="Ledger.Dijkstra.Specification.Transaction.html#6714" class="Bound">a</a><a id="6715" class="Symbol">}</a> <a id="6717" class="Symbol">(</a><a id="6718" href="Ledger.Dijkstra.Specification.Transaction.html#6718" class="Bound">A</a> <a id="6720" class="Symbol">:</a> <a id="6722" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6727" href="Ledger.Dijkstra.Specification.Transaction.html#6714" class="Bound">a</a><a id="6728" class="Symbol">)</a> <a id="6730" class="Symbol">:</a> <a id="6732" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6737" href="Ledger.Dijkstra.Specification.Transaction.html#6714" class="Bound">a</a> <a id="6739" class="Keyword">where</a>
    <a id="6749" class="Keyword">field</a> <a id="6755" href="Ledger.Dijkstra.Specification.Transaction.html#6755" class="Field">GovVotesOf</a> <a id="6766" class="Symbol">:</a> <a id="6768" href="Ledger.Dijkstra.Specification.Transaction.html#6718" class="Bound">A</a> <a id="6770" class="Symbol">→</a> <a id="6772" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6777" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Record">GovVote</a>
  <a id="6787" class="Keyword">open</a> <a id="6792" href="Ledger.Dijkstra.Specification.Transaction.html#6701" class="Module">HasGovVotes</a> <a id="6804" class="Symbol">⦃...⦄</a> <a id="6810" class="Keyword">public</a>

  <a id="6820" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="6833" href="Ledger.Dijkstra.Specification.Transaction.html#6833" class="Function">HasTxBody-Tx</a> <a id="6846" class="Symbol">:</a> <a id="6848" href="Ledger.Dijkstra.Specification.Transaction.html#5707" class="Record">HasTxBody</a> <a id="6858" class="Symbol">(</a><a id="6859" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="6862" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6869" class="Symbol">)</a>
    <a id="6875" href="Ledger.Dijkstra.Specification.Transaction.html#6833" class="Function">HasTxBody-Tx</a> <a id="6888" class="Symbol">.</a><a id="6889" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a> <a id="6898" class="Symbol">=</a> <a id="6900" href="Ledger.Dijkstra.Specification.Transaction.html#3538" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="6915" href="Ledger.Dijkstra.Specification.Transaction.html#6915" class="Function">HasTxWitnesses-Tx</a> <a id="6933" class="Symbol">:</a> <a id="6935" href="Ledger.Dijkstra.Specification.Transaction.html#6297" class="Record">HasTxWitnesses</a> <a id="6950" class="Symbol">(</a><a id="6951" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="6954" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="6961" class="Symbol">)</a>
    <a id="6967" href="Ledger.Dijkstra.Specification.Transaction.html#6915" class="Function">HasTxWitnesses-Tx</a> <a id="6985" class="Symbol">.</a><a id="6986" href="Ledger.Dijkstra.Specification.Transaction.html#6364" class="Field">TxWitnessesOf</a> <a id="7000" class="Symbol">=</a> <a id="7002" href="Ledger.Dijkstra.Specification.Transaction.html#3576" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="7022" href="Ledger.Dijkstra.Specification.Transaction.html#7022" class="Function">HasDCerts-TxBody</a> <a id="7039" class="Symbol">:</a> <a id="7041" href="Ledger.Dijkstra.Specification.Transaction.html#6070" class="Record">HasDCerts</a> <a id="7051" class="Symbol">(</a><a id="7052" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7059" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7066" class="Symbol">)</a>
    <a id="7072" href="Ledger.Dijkstra.Specification.Transaction.html#7022" class="Function">HasDCerts-TxBody</a> <a id="7089" class="Symbol">.</a><a id="7090" href="Ledger.Dijkstra.Specification.Transaction.html#6122" class="Field">DCertsOf</a> <a id="7099" class="Symbol">=</a> <a id="7101" href="Ledger.Dijkstra.Specification.Transaction.html#4121" class="Field">TxBody.txCerts</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="7121" href="Ledger.Dijkstra.Specification.Transaction.html#7121" class="Function">HasWithdrawals-TxBody</a> <a id="7143" class="Symbol">:</a> <a id="7145" href="Ledger.Core.Specification.Address.html#1633" class="Record">HasWithdrawals</a> <a id="7160" class="Symbol">(</a><a id="7161" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7168" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7175" class="Symbol">)</a>
    <a id="7181" href="Ledger.Dijkstra.Specification.Transaction.html#7121" class="Function">HasWithdrawals-TxBody</a> <a id="7203" class="Symbol">.</a><a id="7204" href="Ledger.Core.Specification.Address.html#1688" class="Field">WithdrawalsOf</a> <a id="7218" class="Symbol">=</a> <a id="7220" href="Ledger.Dijkstra.Specification.Transaction.html#4242" class="Field">TxBody.txWithdrawals</a>

    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="7246" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Function">HasWithdrawals-Tx</a> <a id="7264" class="Symbol">:</a> <a id="7266" href="Ledger.Core.Specification.Address.html#1633" class="Record">HasWithdrawals</a> <a id="7281" class="Symbol">(</a><a id="7282" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="7285" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7292" class="Symbol">)</a>
    <a id="7298" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Function">HasWithdrawals-Tx</a> <a id="7316" class="Symbol">.</a><a id="7317" href="Ledger.Core.Specification.Address.html#1688" class="Field">WithdrawalsOf</a> <a id="7331" class="Symbol">=</a> <a id="7333" href="Ledger.Core.Specification.Address.html#1688" class="Field">WithdrawalsOf</a> <a id="7347" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7349" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValue-TxBody"></a><a id="7363" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Function">HasValue-TxBody</a> <a id="7379" class="Symbol">:</a> <a id="7381" href="Ledger.Dijkstra.Specification.Transaction.html#6449" class="Record">HasValue</a> <a id="7390" class="Symbol">(</a><a id="7391" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7398" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7405" class="Symbol">)</a>
    <a id="7411" href="Ledger.Dijkstra.Specification.Transaction.html#7363" class="Function">HasValue-TxBody</a> <a id="7427" class="Symbol">.</a><a id="7428" href="Ledger.Dijkstra.Specification.Transaction.html#6500" class="Field">ValueOf</a> <a id="7436" class="Symbol">=</a> <a id="7438" href="Ledger.Dijkstra.Specification.Transaction.html#4604" class="Field">TxBody.mint</a>

    <a id="TransactionStructure.HasGovVotes-TxBody"></a><a id="7455" href="Ledger.Dijkstra.Specification.Transaction.html#7455" class="Function">HasGovVotes-TxBody</a> <a id="7474" class="Symbol">:</a> <a id="7476" href="Ledger.Dijkstra.Specification.Transaction.html#6701" class="Record">HasGovVotes</a> <a id="7488" class="Symbol">(</a><a id="7489" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7496" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7503" class="Symbol">)</a>
    <a id="7509" href="Ledger.Dijkstra.Specification.Transaction.html#7455" class="Function">HasGovVotes-TxBody</a> <a id="7528" class="Symbol">.</a><a id="7529" href="Ledger.Dijkstra.Specification.Transaction.html#6755" class="Field">GovVotesOf</a> <a id="7540" class="Symbol">=</a> <a id="7542" href="Ledger.Dijkstra.Specification.Transaction.html#4425" class="Field">TxBody.txGovVotes</a>

    <a id="TransactionStructure.HasGovVotes-Tx"></a><a id="7565" href="Ledger.Dijkstra.Specification.Transaction.html#7565" class="Function">HasGovVotes-Tx</a> <a id="7580" class="Symbol">:</a> <a id="7582" href="Ledger.Dijkstra.Specification.Transaction.html#6701" class="Record">HasGovVotes</a> <a id="7594" class="Symbol">(</a><a id="7595" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="7598" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7605" class="Symbol">)</a>
    <a id="7611" href="Ledger.Dijkstra.Specification.Transaction.html#7565" class="Function">HasGovVotes-Tx</a> <a id="7626" class="Symbol">.</a><a id="7627" href="Ledger.Dijkstra.Specification.Transaction.html#6755" class="Field">GovVotesOf</a> <a id="7638" class="Symbol">=</a> <a id="7640" href="Ledger.Dijkstra.Specification.Transaction.html#6755" class="Field">GovVotesOf</a> <a id="7651" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7653" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovProposals-TxBody"></a><a id="7667" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Function">HasGovProposals-TxBody</a> <a id="7690" class="Symbol">:</a> <a id="7692" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Record">HasGovProposals</a> <a id="7708" class="Symbol">(</a><a id="7709" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7716" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7723" class="Symbol">)</a>
    <a id="7729" href="Ledger.Dijkstra.Specification.Transaction.html#7667" class="Function">HasGovProposals-TxBody</a> <a id="7752" class="Symbol">.</a><a id="7753" href="Ledger.Dijkstra.Specification.Transaction.html#6617" class="Field">GovProposalsOf</a> <a id="7768" class="Symbol">=</a> <a id="7770" href="Ledger.Dijkstra.Specification.Transaction.html#4469" class="Field">TxBody.txGovProposals</a>

    <a id="TransactionStructure.HasGovProposals-Tx"></a><a id="7797" href="Ledger.Dijkstra.Specification.Transaction.html#7797" class="Function">HasGovProposals-Tx</a> <a id="7816" class="Symbol">:</a> <a id="7818" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Record">HasGovProposals</a> <a id="7834" class="Symbol">(</a><a id="7835" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="7838" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="7845" class="Symbol">)</a>
    <a id="7851" href="Ledger.Dijkstra.Specification.Transaction.html#7797" class="Function">HasGovProposals-Tx</a> <a id="7870" class="Symbol">.</a><a id="7871" href="Ledger.Dijkstra.Specification.Transaction.html#6617" class="Field">GovProposalsOf</a> <a id="7886" class="Symbol">=</a> <a id="7888" href="Ledger.Dijkstra.Specification.Transaction.html#6617" class="Field">GovProposalsOf</a> <a id="7903" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7905" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="7919" href="Ledger.Dijkstra.Specification.Transaction.html#7919" class="Function">HasFees?-TxBody</a> <a id="7935" class="Symbol">:</a> <a id="7937" class="Symbol">{</a><a id="7938" href="Ledger.Dijkstra.Specification.Transaction.html#7938" class="Bound">ℓ</a> <a id="7940" class="Symbol">:</a> <a id="7942" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="7949" class="Symbol">}</a> <a id="7951" class="Symbol">→</a> <a id="7953" href="Ledger.Dijkstra.Specification.Transaction.html#5955" class="Record">HasFees?</a> <a id="7962" class="Symbol">(</a><a id="7963" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Record">TxBody</a> <a id="7970" href="Ledger.Dijkstra.Specification.Transaction.html#7938" class="Bound">ℓ</a><a id="7971" class="Symbol">)</a>
    <a id="7977" href="Ledger.Dijkstra.Specification.Transaction.html#7919" class="Function">HasFees?-TxBody</a> <a id="7993" class="Symbol">{</a><a id="7994" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a><a id="8004" class="Symbol">}</a> <a id="8006" class="Symbol">.</a><a id="8007" href="Ledger.Dijkstra.Specification.Transaction.html#6006" class="Field">FeesOf?</a> <a id="8015" href="Ledger.Dijkstra.Specification.Transaction.html#8015" class="Bound">tbTop</a> <a id="8021" class="Symbol">=</a> <a id="8023" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8028" class="Symbol">(</a><a id="8029" href="Ledger.Dijkstra.Specification.Transaction.html#4163" class="Field">TxBody.txFee</a> <a id="8042" href="Ledger.Dijkstra.Specification.Transaction.html#8015" class="Bound">tbTop</a><a id="8047" class="Symbol">)</a>
    <a id="8053" href="Ledger.Dijkstra.Specification.Transaction.html#7919" class="Function">HasFees?-TxBody</a> <a id="8069" class="Symbol">{</a><a id="8070" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="8080" class="Symbol">}</a> <a id="8082" class="Symbol">.</a><a id="8083" href="Ledger.Dijkstra.Specification.Transaction.html#6006" class="Field">FeesOf?</a> <a id="8091" href="Ledger.Dijkstra.Specification.Transaction.html#8091" class="Bound">tbSub</a> <a id="8097" class="Symbol">=</a> <a id="8099" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

    <a id="TransactionStructure.HasFees?-Tx"></a><a id="8112" href="Ledger.Dijkstra.Specification.Transaction.html#8112" class="Function">HasFees?-Tx</a> <a id="8124" class="Symbol">:</a> <a id="8126" href="Ledger.Dijkstra.Specification.Transaction.html#5955" class="Record">HasFees?</a> <a id="8135" class="Symbol">(</a><a id="8136" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="8139" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8146" class="Symbol">)</a>
    <a id="8152" href="Ledger.Dijkstra.Specification.Transaction.html#8112" class="Function">HasFees?-Tx</a> <a id="8164" class="Symbol">.</a><a id="8165" href="Ledger.Dijkstra.Specification.Transaction.html#6006" class="Field">FeesOf?</a> <a id="8173" class="Symbol">=</a> <a id="8175" href="Ledger.Dijkstra.Specification.Transaction.html#6006" class="Field">FeesOf?</a> <a id="8183" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8185" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-Tx"></a><a id="8199" href="Ledger.Dijkstra.Specification.Transaction.html#8199" class="Function">HasTxId-Tx</a> <a id="8210" class="Symbol">:</a> <a id="8212" href="Ledger.Dijkstra.Specification.Transaction.html#5840" class="Record">HasTxId</a> <a id="8220" class="Symbol">(</a><a id="8221" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="8224" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8231" class="Symbol">)</a>
    <a id="8237" href="Ledger.Dijkstra.Specification.Transaction.html#8199" class="Function">HasTxId-Tx</a> <a id="8248" class="Symbol">.</a><a id="8249" href="Ledger.Dijkstra.Specification.Transaction.html#5893" class="Field">TxIdOf</a> <a id="8256" class="Symbol">=</a> <a id="8258" href="Ledger.Dijkstra.Specification.Transaction.html#4085" class="Field">TxBody.txId</a> <a id="8270" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8272" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="8286" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Function">HasCoin-TxOut</a> <a id="8300" class="Symbol">:</a> <a id="8302" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="8310" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a>
    <a id="8320" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Function">HasCoin-TxOut</a> <a id="8334" class="Symbol">.</a><a id="8335" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="8343" class="Symbol">=</a> <a id="8345" href="Ledger.Core.Specification.TokenAlgebra.Base.html#835" class="Function">coin</a> <a id="8350" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8352" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8358" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8360" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="8371" href="Ledger.Dijkstra.Specification.Transaction.html#8371" class="Function">HasData-TxWitnesses</a> <a id="8391" class="Symbol">:</a> <a id="8393" href="Ledger.Dijkstra.Specification.Transaction.html#6188" class="Record">HasData</a> <a id="8401" class="Symbol">(</a><a id="8402" href="Ledger.Dijkstra.Specification.Transaction.html#5217" class="Record">TxWitnesses</a> <a id="8414" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8421" class="Symbol">)</a>
    <a id="8427" href="Ledger.Dijkstra.Specification.Transaction.html#8371" class="Function">HasData-TxWitnesses</a> <a id="8447" class="Symbol">.</a><a id="8448" href="Ledger.Dijkstra.Specification.Transaction.html#6238" class="Field">DataOf</a> <a id="8455" class="Symbol">=</a> <a id="8457" href="Class.IsSet.html#959" class="Function">range</a> <a id="8463" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8465" href="Ledger.Dijkstra.Specification.Transaction.html#5364" class="Field">TxWitnesses.txData</a>

    <a id="TransactionStructure.HasData-Tx"></a><a id="8489" href="Ledger.Dijkstra.Specification.Transaction.html#8489" class="Function">HasData-Tx</a> <a id="8500" class="Symbol">:</a> <a id="8502" href="Ledger.Dijkstra.Specification.Transaction.html#6188" class="Record">HasData</a> <a id="8510" class="Symbol">(</a><a id="8511" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="8514" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a><a id="8521" class="Symbol">)</a>
    <a id="8527" href="Ledger.Dijkstra.Specification.Transaction.html#8489" class="Function">HasData-Tx</a> <a id="8538" class="Symbol">.</a><a id="8539" href="Ledger.Dijkstra.Specification.Transaction.html#6238" class="Field">DataOf</a> <a id="8546" class="Symbol">=</a> <a id="8548" href="Ledger.Dijkstra.Specification.Transaction.html#6238" class="Field">DataOf</a> <a id="8555" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8557" href="Ledger.Dijkstra.Specification.Transaction.html#6364" class="Field">TxWitnessesOf</a>

  <a id="TransactionStructure.getValue"></a><a id="8574" href="Ledger.Dijkstra.Specification.Transaction.html#8574" class="Function">getValue</a> <a id="8583" class="Symbol">:</a> <a id="8585" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a> <a id="8591" class="Symbol">→</a> <a id="8593" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="8601" href="Ledger.Dijkstra.Specification.Transaction.html#8574" class="Function">getValue</a> <a id="8610" class="Symbol">(_</a> <a id="8613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8615" href="Ledger.Dijkstra.Specification.Transaction.html#8615" class="Bound">v</a> <a id="8617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8619" class="Symbol">_)</a> <a id="8622" class="Symbol">=</a> <a id="8624" href="Ledger.Dijkstra.Specification.Transaction.html#8615" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="8629" href="Ledger.Dijkstra.Specification.Transaction.html#8629" class="Function">TxOutʰ</a> <a id="8636" class="Symbol">=</a> <a id="8638" href="Ledger.Core.Specification.Address.html#2475" class="Function">Addr</a> <a id="8643" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8645" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="8651" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8653" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8659" class="Symbol">(</a><a id="8660" href="Ledger.Core.Specification.Script.Base.html#1768" class="Function">Datum</a> <a id="8666" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8668" href="Ledger.Core.Specification.Script.Base.html#1721" class="Function">DataHash</a><a id="8676" class="Symbol">)</a> <a id="8678" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8680" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8686" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="8700" href="Ledger.Dijkstra.Specification.Transaction.html#8700" class="Function">txOutHash</a> <a id="8710" class="Symbol">:</a> <a id="8712" href="Ledger.Dijkstra.Specification.Transaction.html#3021" class="Function">TxOut</a> <a id="8718" class="Symbol">→</a> <a id="8720" href="Ledger.Dijkstra.Specification.Transaction.html#8629" class="Function">TxOutʰ</a>
  <a id="8729" href="Ledger.Dijkstra.Specification.Transaction.html#8700" class="Function">txOutHash</a> <a id="8739" class="Symbol">(</a><a id="8740" href="Ledger.Dijkstra.Specification.Transaction.html#8740" class="Bound">a</a> <a id="8742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8744" href="Ledger.Dijkstra.Specification.Transaction.html#8744" class="Bound">v</a> <a id="8746" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8748" href="Ledger.Dijkstra.Specification.Transaction.html#8748" class="Bound">d</a> <a id="8750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8752" href="Ledger.Dijkstra.Specification.Transaction.html#8752" class="Bound">s</a><a id="8753" class="Symbol">)</a> <a id="8755" class="Symbol">=</a> <a id="8757" href="Ledger.Dijkstra.Specification.Transaction.html#8740" class="Bound">a</a> <a id="8759" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8761" class="Symbol">(</a><a id="8762" href="Ledger.Dijkstra.Specification.Transaction.html#8744" class="Bound">v</a> <a id="8764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8766" class="Symbol">(</a><a id="8767" href="Ledger.Dijkstra.Specification.Transaction.html#8748" class="Bound">d</a> <a id="8769" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8771" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="8777" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8782" href="Ledger.Dijkstra.Specification.Transaction.html#8752" class="Bound">s</a><a id="8783" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="8789" href="Ledger.Dijkstra.Specification.Transaction.html#8789" class="Function">getValueʰ</a> <a id="8799" class="Symbol">:</a> <a id="8801" href="Ledger.Dijkstra.Specification.Transaction.html#8629" class="Function">TxOutʰ</a> <a id="8808" class="Symbol">→</a> <a id="8810" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="8818" href="Ledger.Dijkstra.Specification.Transaction.html#8789" class="Function">getValueʰ</a> <a id="8828" class="Symbol">(_</a> <a id="8831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8833" href="Ledger.Dijkstra.Specification.Transaction.html#8833" class="Bound">v</a> <a id="8835" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8837" class="Symbol">_)</a> <a id="8840" class="Symbol">=</a> <a id="8842" href="Ledger.Dijkstra.Specification.Transaction.html#8833" class="Bound">v</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="8847" href="Ledger.Dijkstra.Specification.Transaction.html#8847" class="Function">txinsVKey</a> <a id="8857" class="Symbol">:</a> <a id="8859" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8861" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a> <a id="8866" class="Symbol">→</a> <a id="8868" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="8873" class="Symbol">→</a> <a id="8875" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8877" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a>
  <a id="8884" href="Ledger.Dijkstra.Specification.Transaction.html#8847" class="Function">txinsVKey</a> <a id="8894" href="Ledger.Dijkstra.Specification.Transaction.html#8894" class="Bound">txins</a> <a id="8900" href="Ledger.Dijkstra.Specification.Transaction.html#8900" class="Bound">utxo</a> <a id="8905" class="Symbol">=</a> <a id="8907" href="Ledger.Dijkstra.Specification.Transaction.html#8894" class="Bound">txins</a> <a id="8913" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="8915" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8919" class="Symbol">(</a><a id="8920" href="Ledger.Dijkstra.Specification.Transaction.html#8900" class="Bound">utxo</a> <a id="8925" href="abstract-set-theory.FiniteSetTheory.html#4234" class="Function Operator">∣^&#39;</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Ledger.Core.Specification.Address.html#2730" class="Function">isVKeyAddr</a> <a id="8941" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8943" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8948" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="8954" href="Ledger.Dijkstra.Specification.Transaction.html#8954" class="Function">scriptOuts</a> <a id="8965" class="Symbol">:</a> <a id="8967" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="8972" class="Symbol">→</a> <a id="8974" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a>
  <a id="8981" href="Ledger.Dijkstra.Specification.Transaction.html#8954" class="Function">scriptOuts</a> <a id="8992" href="Ledger.Dijkstra.Specification.Transaction.html#8992" class="Bound">utxo</a> <a id="8997" class="Symbol">=</a> <a id="8999" href="Ledger.Dijkstra.Specification.Transaction.html#158" class="Function">filter</a> <a id="9006" class="Symbol">(λ</a> <a id="9009" class="Symbol">(_</a> <a id="9012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9014" href="Ledger.Dijkstra.Specification.Transaction.html#9014" class="Bound">addr</a> <a id="9019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9021" class="Symbol">_)</a> <a id="9024" class="Symbol">→</a> <a id="9026" href="Ledger.Core.Specification.Address.html#2758" class="Function">isScriptAddr</a> <a id="9039" href="Ledger.Dijkstra.Specification.Transaction.html#9014" class="Bound">addr</a><a id="9043" class="Symbol">)</a> <a id="9045" href="Ledger.Dijkstra.Specification.Transaction.html#8992" class="Bound">utxo</a>

  <a id="TransactionStructure.txinsScript"></a><a id="9053" href="Ledger.Dijkstra.Specification.Transaction.html#9053" class="Function">txinsScript</a> <a id="9065" class="Symbol">:</a> <a id="9067" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9069" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a> <a id="9074" class="Symbol">→</a> <a id="9076" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="9081" class="Symbol">→</a> <a id="9083" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9085" href="Ledger.Dijkstra.Specification.Transaction.html#2987" class="Function">TxIn</a>
  <a id="9092" href="Ledger.Dijkstra.Specification.Transaction.html#9053" class="Function">txinsScript</a> <a id="9104" href="Ledger.Dijkstra.Specification.Transaction.html#9104" class="Bound">txins</a> <a id="9110" href="Ledger.Dijkstra.Specification.Transaction.html#9110" class="Bound">utxo</a> <a id="9115" class="Symbol">=</a> <a id="9117" href="Ledger.Dijkstra.Specification.Transaction.html#9104" class="Bound">txins</a> <a id="9123" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="9125" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9129" class="Symbol">(</a><a id="9130" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9136" class="Symbol">(</a><a id="9137" href="Ledger.Dijkstra.Specification.Transaction.html#8954" class="Function">scriptOuts</a> <a id="9148" href="Ledger.Dijkstra.Specification.Transaction.html#9110" class="Bound">utxo</a><a id="9152" class="Symbol">))</a>

  <a id="TransactionStructure.refScripts"></a><a id="9158" href="Ledger.Dijkstra.Specification.Transaction.html#9158" class="Function">refScripts</a> <a id="9169" class="Symbol">:</a> <a id="9171" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="9174" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9182" class="Symbol">→</a> <a id="9184" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="9189" class="Symbol">→</a> <a id="9191" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9196" href="Ledger.Core.Specification.Script.Base.html#2441" class="Function">Script</a>
  <a id="9205" href="Ledger.Dijkstra.Specification.Transaction.html#9158" class="Function">refScripts</a> <a id="9216" href="Ledger.Dijkstra.Specification.Transaction.html#9216" class="Bound">tx</a> <a id="9219" href="Ledger.Dijkstra.Specification.Transaction.html#9219" class="Bound">utxo</a> <a id="9224" class="Symbol">=</a>
    <a id="9230" href="Data.List.Base.html#4606" class="Function">mapMaybe</a> <a id="9239" class="Symbol">(</a><a id="9240" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9246" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9248" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9254" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9256" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9261" class="Symbol">)</a> <a id="9263" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9265" href="abstract-set-theory.FiniteSetTheory.html#2556" class="Function">setToList</a> <a id="9275" class="Symbol">(</a><a id="9276" href="Class.IsSet.html#959" class="Function">range</a> <a id="9282" class="Symbol">(</a><a id="9283" href="Ledger.Dijkstra.Specification.Transaction.html#9219" class="Bound">utxo</a> <a id="9288" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="9290" class="Symbol">(</a><a id="9291" href="Ledger.Dijkstra.Specification.Transaction.html#3884" class="Function">txIns</a> <a id="9297" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="9299" href="Ledger.Dijkstra.Specification.Transaction.html#3922" class="Function">refInputs</a><a id="9308" class="Symbol">)))</a>
    <a id="9316" class="Keyword">where</a> <a id="9322" class="Keyword">open</a> <a id="9327" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Module">Tx</a><a id="9329" class="Symbol">;</a> <a id="9331" class="Keyword">open</a> <a id="9336" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Module">TxBody</a> <a id="9343" class="Symbol">(</a><a id="9344" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a> <a id="9353" href="Ledger.Dijkstra.Specification.Transaction.html#9216" class="Bound">tx</a><a id="9355" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="9360" href="Ledger.Dijkstra.Specification.Transaction.html#9360" class="Function">txscripts</a> <a id="9370" class="Symbol">:</a> <a id="9372" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="9375" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9383" class="Symbol">→</a> <a id="9385" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="9390" class="Symbol">→</a> <a id="9392" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9394" href="Ledger.Core.Specification.Script.Base.html#2441" class="Function">Script</a>
  <a id="9403" href="Ledger.Dijkstra.Specification.Transaction.html#9360" class="Function">txscripts</a> <a id="9413" href="Ledger.Dijkstra.Specification.Transaction.html#9413" class="Bound">tx</a> <a id="9416" href="Ledger.Dijkstra.Specification.Transaction.html#9416" class="Bound">utxo</a> <a id="9421" class="Symbol">=</a> <a id="9423" href="Ledger.Dijkstra.Specification.Transaction.html#5332" class="Field">scripts</a> <a id="9431" class="Symbol">(</a><a id="9432" href="Ledger.Dijkstra.Specification.Transaction.html#9413" class="Bound">tx</a> <a id="9435" class="Symbol">.</a><a id="9436" href="Ledger.Dijkstra.Specification.Transaction.html#3576" class="Field">txWitnesses</a><a id="9447" class="Symbol">)</a> <a id="9449" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="9451" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="9460" class="Symbol">(</a><a id="9461" href="Ledger.Dijkstra.Specification.Transaction.html#9158" class="Function">refScripts</a> <a id="9472" href="Ledger.Dijkstra.Specification.Transaction.html#9413" class="Bound">tx</a> <a id="9475" href="Ledger.Dijkstra.Specification.Transaction.html#9416" class="Bound">utxo</a><a id="9479" class="Symbol">)</a>
    <a id="9485" class="Keyword">where</a> <a id="9491" class="Keyword">open</a> <a id="9496" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Module">Tx</a><a id="9498" class="Symbol">;</a> <a id="9500" class="Keyword">open</a> <a id="9505" href="Ledger.Dijkstra.Specification.Transaction.html#5217" class="Module">TxWitnesses</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="9520" href="Ledger.Dijkstra.Specification.Transaction.html#9520" class="Function">lookupScriptHash</a> <a id="9537" class="Symbol">:</a> <a id="9539" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="9550" class="Symbol">→</a> <a id="9552" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="9555" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Generalizable">txLevel</a> <a id="9563" class="Symbol">→</a> <a id="9565" href="Ledger.Dijkstra.Specification.Transaction.html#3102" class="Function">UTxO</a> <a id="9570" class="Symbol">→</a> <a id="9572" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9578" href="Ledger.Core.Specification.Script.Base.html#2441" class="Function">Script</a>
  <a id="9587" href="Ledger.Dijkstra.Specification.Transaction.html#9520" class="Function">lookupScriptHash</a> <a id="9604" href="Ledger.Dijkstra.Specification.Transaction.html#9604" class="Bound">sh</a> <a id="9607" href="Ledger.Dijkstra.Specification.Transaction.html#9607" class="Bound">tx</a> <a id="9610" href="Ledger.Dijkstra.Specification.Transaction.html#9610" class="Bound">utxo</a> <a id="9615" class="Symbol">=</a>
    <a id="9621" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="9624" href="Ledger.Dijkstra.Specification.Transaction.html#9604" class="Bound">sh</a> <a id="9627" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9629" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9634" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9640" class="Symbol">(</a><a id="9641" href="Ledger.Dijkstra.Specification.Transaction.html#9710" class="Function">m</a> <a id="9643" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9644" class="Symbol">)</a> <a id="9646" href="Class.ToBool.html#342" class="Function Operator">then</a>
      <a id="9657" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9662" class="Symbol">(</a><a id="9663" href="Axiom.Set.Map.html#16825" class="Function">lookupᵐ</a> <a id="9671" href="Ledger.Dijkstra.Specification.Transaction.html#9710" class="Function">m</a> <a id="9673" href="Ledger.Dijkstra.Specification.Transaction.html#9604" class="Bound">sh</a><a id="9675" class="Symbol">)</a>
    <a id="9681" href="Class.ToBool.html#342" class="Function Operator">else</a>
      <a id="9692" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="9704" class="Keyword">where</a> <a id="9710" href="Ledger.Dijkstra.Specification.Transaction.html#9710" class="Function">m</a> <a id="9712" class="Symbol">=</a> <a id="9714" href="Ledger.Prelude.html#1789" class="Function">setToMap</a> <a id="9723" class="Symbol">(</a><a id="9724" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9729" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="9731" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="9736" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="9738" href="Function.Base.html#704" class="Function">id</a> <a id="9741" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="9743" class="Symbol">(</a><a id="9744" href="Ledger.Dijkstra.Specification.Transaction.html#9360" class="Function">txscripts</a> <a id="9754" href="Ledger.Dijkstra.Specification.Transaction.html#9607" class="Bound">tx</a> <a id="9757" href="Ledger.Dijkstra.Specification.Transaction.html#9610" class="Bound">utxo</a><a id="9761" class="Symbol">))</a>

  <a id="TransactionStructure.getSubTxScripts"></a><a id="9767" href="Ledger.Dijkstra.Specification.Transaction.html#9767" class="Function">getSubTxScripts</a> <a id="9783" class="Symbol">:</a> <a id="9785" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Function">SubLevelTx</a> <a id="9796" class="Symbol">→</a> <a id="9798" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9800" class="Symbol">(</a><a id="9801" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="9806" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9808" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="9818" class="Symbol">)</a>
  <a id="9822" href="Ledger.Dijkstra.Specification.Transaction.html#9767" class="Function">getSubTxScripts</a> <a id="9838" href="Ledger.Dijkstra.Specification.Transaction.html#9838" class="Bound">subtx</a> <a id="9844" class="Symbol">=</a> <a id="9846" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9851" class="Symbol">(λ</a> <a id="9854" href="Ledger.Dijkstra.Specification.Transaction.html#9854" class="Bound">hash</a> <a id="9859" class="Symbol">→</a> <a id="9861" class="Symbol">(</a><a id="9862" href="Ledger.Dijkstra.Specification.Transaction.html#5893" class="Field">TxIdOf</a> <a id="9869" href="Ledger.Dijkstra.Specification.Transaction.html#9838" class="Bound">subtx</a> <a id="9875" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9877" href="Ledger.Dijkstra.Specification.Transaction.html#9854" class="Bound">hash</a><a id="9881" class="Symbol">))</a> <a id="9884" class="Symbol">(</a><a id="9885" href="Ledger.Dijkstra.Specification.Transaction.html#9919" class="Function">ScriptHashes</a> <a id="9898" href="Ledger.Dijkstra.Specification.Transaction.html#9838" class="Bound">subtx</a><a id="9903" class="Symbol">)</a>
    <a id="9909" class="Keyword">where</a>
    <a id="9919" href="Ledger.Dijkstra.Specification.Transaction.html#9919" class="Function">ScriptHashes</a> <a id="9932" class="Symbol">:</a> <a id="9934" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="9937" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a> <a id="9948" class="Symbol">→</a> <a id="9950" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9952" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="9967" href="Ledger.Dijkstra.Specification.Transaction.html#9919" class="Function">ScriptHashes</a> <a id="9980" class="Symbol">=</a> <a id="9982" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9986" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9988" href="Ledger.Dijkstra.Specification.Transaction.html#5083" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="10020" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10022" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

  <a id="TransactionStructure.getTxScripts"></a><a id="10034" href="Ledger.Dijkstra.Specification.Transaction.html#10034" class="Function">getTxScripts</a> <a id="10047" class="Symbol">:</a> <a id="10049" class="Symbol">{</a><a id="10050" href="Ledger.Dijkstra.Specification.Transaction.html#10050" class="Bound">ℓ</a> <a id="10052" class="Symbol">:</a> <a id="10054" href="Ledger.Dijkstra.Specification.Transaction.html#712" class="Datatype">TxLevel</a><a id="10061" class="Symbol">}</a> <a id="10063" class="Symbol">→</a> <a id="10065" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Record">Tx</a> <a id="10068" href="Ledger.Dijkstra.Specification.Transaction.html#10050" class="Bound">ℓ</a> <a id="10070" class="Symbol">→</a> <a id="10072" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10074" class="Symbol">(</a><a id="10075" href="Ledger.Dijkstra.Specification.Transaction.html#1323" class="Field">TxId</a> <a id="10080" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10082" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a><a id="10092" class="Symbol">)</a>
  <a id="10096" href="Ledger.Dijkstra.Specification.Transaction.html#10034" class="Function">getTxScripts</a> <a id="10109" class="Symbol">{</a><a id="10110" href="Ledger.Dijkstra.Specification.Transaction.html#746" class="InductiveConstructor">TxLevelSub</a><a id="10120" class="Symbol">}</a> <a id="10122" class="Symbol">=</a> <a id="10124" href="Ledger.Dijkstra.Specification.Transaction.html#9767" class="Function">getSubTxScripts</a>
  <a id="10142" href="Ledger.Dijkstra.Specification.Transaction.html#10034" class="Function">getTxScripts</a> <a id="10155" class="Symbol">{</a><a id="10156" href="Ledger.Dijkstra.Specification.Transaction.html#735" class="InductiveConstructor">TxLevelTop</a><a id="10166" class="Symbol">}</a> <a id="10168" class="Symbol">=</a>
    <a id="10174" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="10185" href="Ledger.Dijkstra.Specification.Transaction.html#9767" class="Function">getSubTxScripts</a> <a id="10201" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10203" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="10212" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10214" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">TxBody.txSubTransactions</a> <a id="10239" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10241" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">TxBodyOf</a>

  <a id="TransactionStructure.getTopLevelTxSize"></a><a id="10253" href="Ledger.Dijkstra.Specification.Transaction.html#10253" class="Function">getTopLevelTxSize</a> <a id="10271" class="Symbol">:</a> <a id="10273" href="Ledger.Dijkstra.Specification.Transaction.html#5538" class="Function">TopLevelTx</a> <a id="10284" class="Symbol">→</a> <a id="10286" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="10290" href="Ledger.Dijkstra.Specification.Transaction.html#10253" class="Function">getTopLevelTxSize</a> <a id="10308" href="Ledger.Dijkstra.Specification.Transaction.html#10308" class="Bound">txTop</a> <a id="10314" class="Symbol">=</a> <a id="10316" href="Data.Nat.ListAction.html#612" class="Function">sum</a> <a id="10320" class="Symbol">(</a><a id="10321" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="10325" class="Symbol">(λ</a> <a id="10328" href="Ledger.Dijkstra.Specification.Transaction.html#10328" class="Bound">subTx</a> <a id="10334" class="Symbol">→</a> <a id="10336" href="Ledger.Dijkstra.Specification.Transaction.html#10328" class="Bound">subTx</a> <a id="10342" class="Symbol">.</a><a id="10343" href="Ledger.Dijkstra.Specification.Transaction.html#3619" class="Field">txSize</a><a id="10349" class="Symbol">)</a> <a id="10351" class="Symbol">(</a><a id="10352" href="Ledger.Dijkstra.Specification.Transaction.html#10308" class="Bound">txTop</a> <a id="10358" class="Symbol">.</a><a id="10359" href="Ledger.Dijkstra.Specification.Transaction.html#3538" class="Field">txBody</a> <a id="10366" class="Symbol">.</a><a id="10367" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">txSubTransactions</a><a id="10384" class="Symbol">))</a>
    <a id="10391" class="Keyword">where</a> <a id="10397" class="Keyword">open</a> <a id="10402" href="Ledger.Dijkstra.Specification.Transaction.html#3466" class="Module">Tx</a><a id="10404" class="Symbol">;</a> <a id="10406" class="Keyword">open</a> <a id="10411" href="Ledger.Dijkstra.Specification.Transaction.html#3808" class="Module">TxBody</a>

</pre></body></html>