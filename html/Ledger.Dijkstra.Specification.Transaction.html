<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#4102" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a> <a id="373" class="Symbol">to</a> <a id="376" class="Record">RewardAddress</a><a id="389" class="Symbol">)</a>
<a id="391" class="Keyword">import</a> <a id="398" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="434" class="Keyword">import</a> <a id="441" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="483" class="Keyword">import</a> <a id="490" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="572" class="Keyword">import</a> <a id="579" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="628" class="Keyword">import</a> <a id="635" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="664" class="Symbol">as</a> <a id="667" class="Module">List</a>

<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="744" class="Keyword">using</a> <a id="750" class="Symbol">(</a><a id="751" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="754" class="Symbol">)</a>


<a id="758" class="Keyword">data</a> <a id="TxLevel"></a><a id="763" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="771" class="Symbol">:</a> <a id="773" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="778" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="786" href="Ledger.Dijkstra.Specification.Transaction.html#786" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="797" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a> <a id="808" class="Symbol">:</a> <a id="810" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="820" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="831" class="Symbol">:</a> <a id="833" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="841" class="Symbol">→</a> <a id="843" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="848" class="Symbol">→</a> <a id="850" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="855" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="866" href="Ledger.Dijkstra.Specification.Transaction.html#786" class="InductiveConstructor">TxLevelTop</a> <a id="877" href="Ledger.Dijkstra.Specification.Transaction.html#877" class="Bound">X</a> <a id="879" class="Symbol">=</a> <a id="881" href="Ledger.Dijkstra.Specification.Transaction.html#877" class="Bound">X</a>
<a id="883" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="894" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a> <a id="905" class="Symbol">_</a> <a id="907" class="Symbol">=</a> <a id="909" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="912" href="Ledger.Dijkstra.Specification.Transaction.html#912" class="Function">InSubLevel</a> <a id="923" class="Symbol">:</a> <a id="925" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="933" class="Symbol">→</a> <a id="935" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="940" class="Symbol">→</a> <a id="942" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="947" href="Ledger.Dijkstra.Specification.Transaction.html#912" class="Function">InSubLevel</a> <a id="958" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a> <a id="969" href="Ledger.Dijkstra.Specification.Transaction.html#969" class="Bound">X</a> <a id="971" class="Symbol">=</a> <a id="973" href="Ledger.Dijkstra.Specification.Transaction.html#969" class="Bound">X</a>
<a id="975" href="Ledger.Dijkstra.Specification.Transaction.html#912" class="Function">InSubLevel</a> <a id="986" href="Ledger.Dijkstra.Specification.Transaction.html#786" class="InductiveConstructor">TxLevelTop</a> <a id="997" class="Symbol">_</a> <a id="999" class="Symbol">=</a> <a id="1001" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="1005" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="1017" href="Ledger.Dijkstra.Specification.Transaction.html#1017" class="Function">DecEq-TxLevel</a> <a id="1031" class="Symbol">=</a> <a id="1033" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1046" class="Symbol">((</a><a id="1048" class="Keyword">quote</a> <a id="1054" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="1062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1064" href="Ledger.Dijkstra.Specification.Transaction.html#1017" class="Function">DecEq-TxLevel</a><a id="1077" class="Symbol">)</a> <a id="1079" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1081" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1083" class="Symbol">)</a>

<a id="1086" class="Keyword">private</a>
  <a id="1096" class="Keyword">variable</a>
    <a id="1109" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="1117" class="Symbol">:</a> <a id="1119" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a>

<a id="1128" class="Keyword">data</a> <a id="Tag"></a><a id="1133" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="Datatype">Tag</a> <a id="1137" class="Symbol">:</a> <a id="1139" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="1147" class="Symbol">→</a> <a id="1149" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1154" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1162" href="Ledger.Dijkstra.Specification.Transaction.html#1162" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1168" href="Ledger.Dijkstra.Specification.Transaction.html#1168" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1173" href="Ledger.Dijkstra.Specification.Transaction.html#1173" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1178" href="Ledger.Dijkstra.Specification.Transaction.html#1178" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1185" href="Ledger.Dijkstra.Specification.Transaction.html#1185" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1190" href="Ledger.Dijkstra.Specification.Transaction.html#1190" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1198" href="Ledger.Dijkstra.Specification.Transaction.html#1198" class="InductiveConstructor">Guard</a> <a id="1204" class="Symbol">:</a> <a id="1206" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="Datatype">Tag</a> <a id="1210" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1220" href="Ledger.Dijkstra.Specification.Transaction.html#1220" class="InductiveConstructor">SubGuard</a> <a id="1229" class="Symbol">:</a> <a id="1231" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="Datatype">Tag</a> <a id="1235" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a>

<a id="1247" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1259" href="Ledger.Dijkstra.Specification.Transaction.html#1259" class="Function">DecEq-Tag</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1284" class="Symbol">((</a><a id="1286" class="Keyword">quote</a> <a id="1292" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="Datatype">Tag</a> <a id="1296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1298" href="Ledger.Dijkstra.Specification.Transaction.html#1259" class="Function">DecEq-Tag</a><a id="1307" class="Symbol">)</a> <a id="1309" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1311" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1313" class="Symbol">)</a>


<a id="1317" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1324" href="Ledger.Dijkstra.Specification.Transaction.html#1324" class="Record">TransactionStructure</a> <a id="1345" class="Symbol">:</a> <a id="1347" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1353" class="Keyword">where</a>
  <a id="1361" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1371" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1374" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1379" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">AuxiliaryData</a>  <a id="1394" class="Symbol">:</a> <a id="1396" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1405" href="Ledger.Dijkstra.Specification.Transaction.html#1405" class="Field">adHashingScheme</a>        <a id="1428" class="Symbol">:</a> <a id="1430" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1444" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">AuxiliaryData</a>
    <a id="TransactionStructure.globalConstants"></a><a id="1462" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">globalConstants</a>        <a id="1485" class="Symbol">:</a> <a id="1487" href="Ledger.Core.Specification.Epoch.html#2274" class="Record">GlobalConstants</a>
    <a id="TransactionStructure.crypto"></a><a id="1507" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">crypto</a>                 <a id="1530" class="Symbol">:</a> <a id="1532" href="Ledger.Core.Specification.Crypto.html#1110" class="Record">CryptoStructure</a>
    <a id="TransactionStructure.epochStructure"></a><a id="1552" href="Ledger.Dijkstra.Specification.Transaction.html#1552" class="Field">epochStructure</a>         <a id="1575" class="Symbol">:</a> <a id="1577" href="Ledger.Core.Specification.Epoch.html#578" class="Record">EpochStructure</a>


    <a id="1598" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1600" href="Ledger.Dijkstra.Specification.Transaction.html#1600" class="Field">DecEq-Ix</a>   <a id="1611" class="Symbol">⦄</a> <a id="1613" class="Symbol">:</a> <a id="1615" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1621" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a>
    <a id="1628" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1630" href="Ledger.Dijkstra.Specification.Transaction.html#1630" class="Field">DecEq-TxId</a> <a id="1641" class="Symbol">⦄</a> <a id="1643" class="Symbol">:</a> <a id="1645" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1651" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a>
  <a id="1658" class="Keyword">open</a> <a id="1663" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1677" href="Ledger.Dijkstra.Specification.Transaction.html#1405" class="Field">adHashingScheme</a> <a id="1693" class="Keyword">renaming</a> <a id="1702" class="Symbol">(</a><a id="1703" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1709" class="Symbol">to</a> <a id="1712" class="Field">ADHash</a><a id="1718" class="Symbol">)</a> <a id="1720" class="Keyword">public</a>
  <a id="1729" class="Keyword">open</a> <a id="1734" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1750" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">globalConstants</a> <a id="1766" class="Keyword">public</a>
  <a id="1775" class="Keyword">open</a> <a id="1780" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1796" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">crypto</a> <a id="1803" class="Keyword">public</a>
  <a id="1812" class="Keyword">open</a> <a id="1817" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1865" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1876" class="Keyword">public</a>
  <a id="1885" class="Keyword">open</a> <a id="1890" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1924" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1932" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1940" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1951" class="Symbol">⦃</a> <a id="1953" href="Function.Base.html#4755" class="Function">it</a> <a id="1956" class="Symbol">⦄</a> <a id="1958" class="Symbol">⦃</a> <a id="1960" href="Function.Base.html#4755" class="Function">it</a> <a id="1963" class="Symbol">⦄</a> <a id="1965" class="Symbol">⦃</a> <a id="1967" href="Function.Base.html#4755" class="Function">it</a> <a id="1970" class="Symbol">⦄</a> <a id="1972" class="Keyword">public</a>
  <a id="1981" class="Keyword">open</a> <a id="1986" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="2001" href="Ledger.Dijkstra.Specification.Transaction.html#1552" class="Field">epochStructure</a> <a id="2016" class="Keyword">public</a>
  <a id="2025" class="Keyword">open</a> <a id="2030" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="2067" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">crypto</a> <a id="2074" href="Ledger.Dijkstra.Specification.Transaction.html#1552" class="Field">epochStructure</a> <a id="2089" class="Keyword">public</a>
  <a id="2098" class="Keyword">field</a>


    <a id="TransactionStructure.scriptStructure"></a><a id="2110" href="Ledger.Dijkstra.Specification.Transaction.html#2110" class="Field">scriptStructure</a>        <a id="2133" class="Symbol">:</a> <a id="2135" href="Ledger.Dijkstra.Specification.Script.Base.html#2115" class="Record">ScriptStructure</a>


  <a id="2155" class="Keyword">open</a> <a id="2160" href="Ledger.Dijkstra.Specification.Script.Base.html#2115" class="Module">ScriptStructure</a> <a id="2176" href="Ledger.Dijkstra.Specification.Transaction.html#2110" class="Field">scriptStructure</a> <a id="2192" class="Keyword">public</a>
  <a id="2201" class="Keyword">open</a> <a id="2206" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2244" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">crypto</a> <a id="2251" href="Ledger.Dijkstra.Specification.Transaction.html#1552" class="Field">epochStructure</a> <a id="2266" href="Ledger.Dijkstra.Specification.Transaction.html#2110" class="Field">scriptStructure</a> <a id="2282" class="Keyword">public</a>
  <a id="2291" class="Keyword">field</a>


    <a id="TransactionStructure.govParams"></a><a id="2303" href="Ledger.Dijkstra.Specification.Transaction.html#2303" class="Field">govParams</a>              <a id="2326" class="Symbol">:</a> <a id="2328" href="Ledger.Dijkstra.Specification.PParams.html#14445" class="Record">GovParams</a>
    <a id="TransactionStructure.tokenAlgebra"></a><a id="2342" href="Ledger.Dijkstra.Specification.Transaction.html#2342" class="Field">tokenAlgebra</a>           <a id="2365" class="Symbol">:</a> <a id="2367" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Record">TokenAlgebra</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2384" href="Ledger.Dijkstra.Specification.Transaction.html#2384" class="Field">txidBytes</a>              <a id="2407" class="Symbol">:</a> <a id="2409" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a> <a id="2414" class="Symbol">→</a> <a id="2416" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>


  <a id="2424" class="Keyword">open</a> <a id="2429" href="Ledger.Dijkstra.Specification.PParams.html#14445" class="Module">GovParams</a> <a id="2439" href="Ledger.Dijkstra.Specification.Transaction.html#2303" class="Field">govParams</a> <a id="2449" class="Keyword">public</a>
  <a id="2458" class="Keyword">open</a> <a id="2463" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Module">TokenAlgebra</a> <a id="2476" href="Ledger.Dijkstra.Specification.Transaction.html#2342" class="Field">tokenAlgebra</a> <a id="2489" class="Keyword">public</a>


  <a id="TransactionStructure.govStructure"></a><a id="2500" href="Ledger.Dijkstra.Specification.Transaction.html#2500" class="Function">govStructure</a> <a id="2513" class="Symbol">:</a> <a id="2515" href="Ledger.Dijkstra.Specification.Gov.Base.html#332" class="Record">GovStructure</a>
  <a id="2530" href="Ledger.Dijkstra.Specification.Transaction.html#2500" class="Function">govStructure</a> <a id="2543" class="Symbol">=</a> <a id="2545" class="Keyword">record</a>
    <a id="2556" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2605" class="Symbol">{</a> <a id="2607" href="Ledger.Dijkstra.Specification.Gov.Base.html#367" class="Field">TxId</a> <a id="2612" class="Symbol">=</a> <a id="2614" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a><a id="2618" class="Symbol">;</a> <a id="2620" href="Ledger.Dijkstra.Specification.Gov.Base.html#372" class="Field">DocHash</a> <a id="2628" class="Symbol">=</a> <a id="2630" href="Ledger.Dijkstra.Specification.Transaction.html#1712" class="Function">ADHash</a>
    <a id="2641" class="Symbol">;</a> <a id="2643" href="Ledger.Dijkstra.Specification.Gov.Base.html#432" class="Field">cryptoStructure</a> <a id="2659" class="Symbol">=</a> <a id="2661" href="Ledger.Dijkstra.Specification.Transaction.html#1507" class="Field">crypto</a>
    <a id="2672" class="Symbol">;</a> <a id="2674" href="Ledger.Dijkstra.Specification.Gov.Base.html#521" class="Field">epochStructure</a> <a id="2689" class="Symbol">=</a> <a id="2691" href="Ledger.Dijkstra.Specification.Transaction.html#1552" class="Field">epochStructure</a>
    <a id="2710" class="Symbol">;</a> <a id="2712" href="Ledger.Dijkstra.Specification.Gov.Base.html#606" class="Field">scriptStructure</a> <a id="2728" class="Symbol">=</a> <a id="2730" href="Ledger.Dijkstra.Specification.Transaction.html#2110" class="Field">scriptStructure</a>
    <a id="2750" class="Symbol">;</a> <a id="2752" href="Ledger.Dijkstra.Specification.Gov.Base.html#826" class="Field">govParams</a> <a id="2762" class="Symbol">=</a> <a id="2764" href="Ledger.Dijkstra.Specification.Transaction.html#2303" class="Field">govParams</a>
    <a id="2778" class="Symbol">;</a> <a id="2780" href="Ledger.Dijkstra.Specification.Gov.Base.html#891" class="Field">globalConstants</a> <a id="2796" class="Symbol">=</a> <a id="2798" href="Ledger.Dijkstra.Specification.Transaction.html#1462" class="Field">globalConstants</a>
    <a id="2818" class="Symbol">}</a>


  <a id="2824" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2831" href="Ledger.Dijkstra.Specification.Transaction.html#2831" class="Module">GovernanceActions</a> <a id="2849" class="Symbol">=</a> <a id="2851" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2893" href="Ledger.Dijkstra.Specification.Transaction.html#2500" class="Function">govStructure</a>
  <a id="2908" class="Keyword">open</a> <a id="2913" href="Ledger.Dijkstra.Specification.Transaction.html#2831" class="Module">GovernanceActions</a> <a id="2931" class="Keyword">hiding</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1491" class="Datatype">Vote</a><a id="2943" class="Symbol">;</a> <a id="2945" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1511" class="InductiveConstructor">yes</a><a id="2948" class="Symbol">;</a> <a id="2950" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1515" class="InductiveConstructor">no</a><a id="2952" class="Symbol">;</a> <a id="2954" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1518" class="InductiveConstructor">abstain</a><a id="2961" class="Symbol">)</a> <a id="2963" class="Keyword">public</a>

  <a id="2973" class="Keyword">open</a> <a id="2978" class="Keyword">import</a> <a id="2985" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="3021" href="Ledger.Dijkstra.Specification.Transaction.html#2500" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="3038" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a> <a id="3043" class="Symbol">:</a> <a id="3045" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3052" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a> <a id="3057" class="Symbol">=</a> <a id="3059" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a> <a id="3064" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3066" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="3072" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a> <a id="3078" class="Symbol">:</a> <a id="3080" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3087" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a> <a id="3093" class="Symbol">=</a> <a id="3095" href="Ledger.Core.Specification.Address.html#2906" class="Function">Addr</a> <a id="3100" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3102" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="3108" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3110" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3116" class="Symbol">(</a><a id="3117" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a> <a id="3123" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3125" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a><a id="3133" class="Symbol">)</a> <a id="3135" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3137" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3143" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="3153" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3167" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="3172" class="Symbol">=</a> <a id="3174" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a> <a id="3179" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3181" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3190" href="Ledger.Dijkstra.Specification.Transaction.html#3190" class="Function">RedeemerPtr</a> <a id="3202" class="Symbol">:</a> <a id="3204" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a> <a id="3212" class="Symbol">→</a> <a id="3214" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3221" href="Ledger.Dijkstra.Specification.Transaction.html#3190" class="Function">RedeemerPtr</a> <a id="3233" href="Ledger.Dijkstra.Specification.Transaction.html#3233" class="Bound">txLevel</a>  <a id="3242" class="Symbol">=</a> <a id="3244" href="Ledger.Dijkstra.Specification.Transaction.html#1133" class="Datatype">Tag</a> <a id="3248" href="Ledger.Dijkstra.Specification.Transaction.html#3233" class="Bound">txLevel</a> <a id="3256" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3258" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3264" href="Ledger.Dijkstra.Specification.Transaction.html#3264" class="Function">ProposedPPUpdates</a> <a id="3282" class="Symbol">:</a> <a id="3284" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3291" href="Ledger.Dijkstra.Specification.Transaction.html#3264" class="Function">ProposedPPUpdates</a> <a id="3309" class="Symbol">=</a> <a id="3311" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3319" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3321" href="Ledger.Dijkstra.Specification.PParams.html#14543" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3338" href="Ledger.Dijkstra.Specification.Transaction.html#3338" class="Function">Update</a> <a id="3345" class="Symbol">:</a> <a id="3347" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3354" href="Ledger.Dijkstra.Specification.Transaction.html#3338" class="Function">Update</a> <a id="3361" class="Symbol">=</a> <a id="3363" href="Ledger.Dijkstra.Specification.Transaction.html#3264" class="Function">ProposedPPUpdates</a> <a id="3381" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3383" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>

  <a id="3392" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3399" href="Ledger.Dijkstra.Specification.Transaction.html#3399" class="Record">HasUTxO</a> <a id="3407" class="Symbol">{</a><a id="3408" href="Ledger.Dijkstra.Specification.Transaction.html#3408" class="Bound">a</a><a id="3409" class="Symbol">}</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Ledger.Dijkstra.Specification.Transaction.html#3412" class="Bound">A</a> <a id="3414" class="Symbol">:</a> <a id="3416" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3421" href="Ledger.Dijkstra.Specification.Transaction.html#3408" class="Bound">a</a><a id="3422" class="Symbol">)</a> <a id="3424" class="Symbol">:</a> <a id="3426" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3431" href="Ledger.Dijkstra.Specification.Transaction.html#3408" class="Bound">a</a> <a id="3433" class="Keyword">where</a>
    <a id="3443" class="Keyword">field</a> <a id="3449" href="Ledger.Dijkstra.Specification.Transaction.html#3449" class="Field">UTxOOf</a> <a id="3456" class="Symbol">:</a> <a id="3458" href="Ledger.Dijkstra.Specification.Transaction.html#3412" class="Bound">A</a> <a id="3460" class="Symbol">→</a> <a id="3462" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a>
  <a id="3469" class="Keyword">open</a> <a id="3474" href="Ledger.Dijkstra.Specification.Transaction.html#3399" class="Module">HasUTxO</a> <a id="3482" class="Symbol">⦃...⦄</a> <a id="3488" class="Keyword">public</a>


  <a id="3499" class="Keyword">mutual</a>
    <a id="3510" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3517" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="3520" class="Symbol">(</a><a id="3521" href="Ledger.Dijkstra.Specification.Transaction.html#3521" class="Bound">txLevel</a> <a id="3529" class="Symbol">:</a> <a id="3531" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a><a id="3538" class="Symbol">)</a> <a id="3540" class="Symbol">:</a> <a id="3542" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3547" class="Keyword">where</a>
      <a id="3559" class="Keyword">inductive</a>
      <a id="3575" class="Keyword">field</a>
        <a id="3589" href="Ledger.Dijkstra.Specification.Transaction.html#3589" class="Field">txBody</a>       <a id="3602" class="Symbol">:</a> <a id="3604" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="3611" href="Ledger.Dijkstra.Specification.Transaction.html#3521" class="Bound">txLevel</a>
        <a id="3627" href="Ledger.Dijkstra.Specification.Transaction.html#3627" class="Field">txWitnesses</a>  <a id="3640" class="Symbol">:</a> <a id="3642" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="3654" href="Ledger.Dijkstra.Specification.Transaction.html#3521" class="Bound">txLevel</a>
        <a id="3670" href="Ledger.Dijkstra.Specification.Transaction.html#3670" class="Field">txSize</a>       <a id="3683" class="Symbol">:</a> <a id="3685" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="3695" href="Ledger.Dijkstra.Specification.Transaction.html#3695" class="Field">isValid</a>      <a id="3708" class="Symbol">:</a> <a id="3710" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="3721" href="Ledger.Dijkstra.Specification.Transaction.html#3521" class="Bound">txLevel</a> <a id="3729" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3742" href="Ledger.Dijkstra.Specification.Transaction.html#3742" class="Field">txAuxData</a>    <a id="3755" class="Symbol">:</a> <a id="3757" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3763" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">AuxiliaryData</a>

    <a id="3782" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3789" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="3796" class="Symbol">(</a><a id="3797" href="Ledger.Dijkstra.Specification.Transaction.html#3797" class="Bound">txLevel</a> <a id="3805" class="Symbol">:</a> <a id="3807" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a><a id="3814" class="Symbol">)</a> <a id="3816" class="Symbol">:</a> <a id="3818" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3823" class="Keyword">where</a>
      <a id="3835" class="Keyword">inductive</a>
      <a id="3851" class="Keyword">field</a>
        <a id="3865" href="Ledger.Dijkstra.Specification.Transaction.html#3865" class="Field">txIns</a>                <a id="3886" class="Symbol">:</a> <a id="3888" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3890" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
        <a id="3903" href="Ledger.Dijkstra.Specification.Transaction.html#3903" class="Field">referenceInputs</a>      <a id="3924" class="Symbol">:</a> <a id="3926" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3928" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
        <a id="3941" href="Ledger.Dijkstra.Specification.Transaction.html#3941" class="Field">collateralInputs</a>     <a id="3962" class="Symbol">:</a> <a id="3964" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="3975" href="Ledger.Dijkstra.Specification.Transaction.html#3797" class="Bound">txLevel</a> <a id="3983" class="Symbol">(</a><a id="3984" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3986" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a><a id="3990" class="Symbol">)</a>
        <a id="4000" href="Ledger.Dijkstra.Specification.Transaction.html#4000" class="Field">txOuts</a>               <a id="4021" class="Symbol">:</a> <a id="4023" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a> <a id="4026" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4028" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
        <a id="4042" href="Ledger.Dijkstra.Specification.Transaction.html#4042" class="Field">txId</a>                 <a id="4063" class="Symbol">:</a> <a id="4065" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a>
        <a id="4078" href="Ledger.Dijkstra.Specification.Transaction.html#4078" class="Field">txCerts</a>              <a id="4099" class="Symbol">:</a> <a id="4101" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4106" href="Ledger.Dijkstra.Specification.Certs.html#992" class="Datatype">DCert</a>
        <a id="4120" href="Ledger.Dijkstra.Specification.Transaction.html#4120" class="Field">txFee</a>                <a id="4141" class="Symbol">:</a> <a id="4143" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="4154" href="Ledger.Dijkstra.Specification.Transaction.html#3797" class="Bound">txLevel</a> <a id="4162" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
        <a id="4175" href="Ledger.Dijkstra.Specification.Transaction.html#4175" class="Field">txWithdrawals</a>        <a id="4196" class="Symbol">:</a> <a id="4198" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>
        <a id="4218" href="Ledger.Dijkstra.Specification.Transaction.html#4218" class="Field">txVldt</a>               <a id="4239" class="Symbol">:</a> <a id="4241" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4247" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="4252" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4254" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4260" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
        <a id="4273" href="Ledger.Dijkstra.Specification.Transaction.html#4273" class="Field">txADhash</a>             <a id="4294" class="Symbol">:</a> <a id="4296" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4302" href="Ledger.Dijkstra.Specification.Transaction.html#1712" class="Function">ADHash</a>
        <a id="4317" href="Ledger.Dijkstra.Specification.Transaction.html#4317" class="Field">txDonation</a>           <a id="4338" class="Symbol">:</a> <a id="4340" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4358" href="Ledger.Dijkstra.Specification.Transaction.html#4358" class="Field">txGovVotes</a>           <a id="4379" class="Symbol">:</a> <a id="4381" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4386" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
        <a id="4402" href="Ledger.Dijkstra.Specification.Transaction.html#4402" class="Field">txGovProposals</a>       <a id="4423" class="Symbol">:</a> <a id="4425" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4430" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
        <a id="4450" href="Ledger.Dijkstra.Specification.Transaction.html#4450" class="Field">txNetworkId</a>          <a id="4471" class="Symbol">:</a> <a id="4473" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4479" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
        <a id="4495" href="Ledger.Dijkstra.Specification.Transaction.html#4495" class="Field">currentTreasury</a>      <a id="4516" class="Symbol">:</a> <a id="4518" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4524" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4537" href="Ledger.Dijkstra.Specification.Transaction.html#4537" class="Field">mint</a>                 <a id="4558" class="Symbol">:</a> <a id="4560" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
        <a id="4574" href="Ledger.Dijkstra.Specification.Transaction.html#4574" class="Field">scriptIntegrityHash</a>  <a id="4595" class="Symbol">:</a> <a id="4597" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4603" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4623" class="Comment">-- New in Dijkstra --</a>
        <a id="4653" href="Ledger.Dijkstra.Specification.Transaction.html#4653" class="Field">txSubTransactions</a>         <a id="4679" class="Symbol">:</a> <a id="4681" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="4692" href="Ledger.Dijkstra.Specification.Transaction.html#3797" class="Bound">txLevel</a> <a id="4700" class="Symbol">(</a><a id="4701" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4706" class="Symbol">(</a><a id="4707" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="4710" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a><a id="4720" class="Symbol">))</a>
        <a id="4731" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">txGuards</a>                  <a id="4757" class="Symbol">:</a> <a id="4759" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4761" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
        <a id="4780" href="Ledger.Dijkstra.Specification.Transaction.html#4780" class="Field">txRequiredTopLevelGuards</a>  <a id="4806" class="Symbol">:</a> <a id="4808" href="Ledger.Dijkstra.Specification.Transaction.html#912" class="Function">InSubLevel</a> <a id="4819" href="Ledger.Dijkstra.Specification.Transaction.html#3797" class="Bound">txLevel</a> <a id="4827" class="Symbol">(</a><a id="4828" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4830" class="Symbol">(</a><a id="4831" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="4842" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4844" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4850" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="4855" class="Symbol">))</a>
        <a id="4866" class="Comment">---------------------</a>

      <a id="TransactionStructure.TxBody.requiredSignerHashes"></a><a id="4895" href="Ledger.Dijkstra.Specification.Transaction.html#4895" class="Function">requiredSignerHashes</a> <a id="4916" class="Symbol">:</a> <a id="4918" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4920" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
      <a id="4934" href="Ledger.Dijkstra.Specification.Transaction.html#4895" class="Function">requiredSignerHashes</a> <a id="4955" class="Symbol">=</a> <a id="4957" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4968" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="4981" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">txGuards</a>


    <a id="4996" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="5003" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="5015" class="Symbol">(</a><a id="5016" href="Ledger.Dijkstra.Specification.Transaction.html#5016" class="Bound">txLevel</a> <a id="5024" class="Symbol">:</a> <a id="5026" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a><a id="5033" class="Symbol">)</a> <a id="5035" class="Symbol">:</a> <a id="5037" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5042" class="Keyword">where</a>
      <a id="5054" class="Keyword">inductive</a>
      <a id="5070" class="Keyword">field</a>
        <a id="5084" href="Ledger.Dijkstra.Specification.Transaction.html#5084" class="Field">vKeySigs</a>     <a id="5097" class="Symbol">:</a> <a id="5099" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="5104" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5106" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
        <a id="5118" href="Ledger.Dijkstra.Specification.Transaction.html#5118" class="Field">scripts</a>      <a id="5131" class="Symbol">:</a> <a id="5133" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5135" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
        <a id="5150" href="Ledger.Dijkstra.Specification.Transaction.html#5150" class="Field">txData</a>       <a id="5163" class="Symbol">:</a> <a id="5165" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5167" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
        <a id="5181" href="Ledger.Dijkstra.Specification.Transaction.html#5181" class="Field">txRedeemers</a>  <a id="5194" class="Symbol">:</a> <a id="5196" href="Ledger.Dijkstra.Specification.Transaction.html#3190" class="Function">RedeemerPtr</a> <a id="5208" href="Ledger.Dijkstra.Specification.Transaction.html#5016" class="Bound">txLevel</a> <a id="5216" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5218" href="Ledger.Dijkstra.Specification.Script.Base.html#1853" class="Function">Redeemer</a> <a id="5227" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5229" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5244" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">scriptsP1</a> <a id="5254" class="Symbol">:</a> <a id="5256" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5258" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
      <a id="5273" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">scriptsP1</a> <a id="5283" class="Symbol">=</a> <a id="5285" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5296" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5303" href="Ledger.Dijkstra.Specification.Transaction.html#5118" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5315" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="5326" class="Symbol">:</a> <a id="5328" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5335" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="5346" class="Symbol">=</a> <a id="5348" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="5351" href="Ledger.Dijkstra.Specification.Transaction.html#786" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5365" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a> <a id="5376" class="Symbol">:</a> <a id="5378" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5385" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a> <a id="5396" class="Symbol">=</a> <a id="5398" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="5401" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5416" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Function">AnyLevelTx</a> <a id="5427" class="Symbol">:</a> <a id="5429" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5436" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Function">AnyLevelTx</a> <a id="5447" class="Symbol">=</a> <a id="5449" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="5460" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5462" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a>


  <a id="5477" class="Comment">-- Level-Dependent Type Classes --</a>
  <a id="5514" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5521" href="Ledger.Dijkstra.Specification.Transaction.html#5521" class="Record">HasTxBody</a> <a id="5531" class="Symbol">{</a><a id="5532" href="Ledger.Dijkstra.Specification.Transaction.html#5532" class="Bound">txLevel</a><a id="5539" class="Symbol">}</a> <a id="5541" class="Symbol">{</a><a id="5542" href="Ledger.Dijkstra.Specification.Transaction.html#5542" class="Bound">a</a><a id="5543" class="Symbol">}</a> <a id="5545" class="Symbol">(</a><a id="5546" href="Ledger.Dijkstra.Specification.Transaction.html#5546" class="Bound">A</a> <a id="5548" class="Symbol">:</a> <a id="5550" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5555" href="Ledger.Dijkstra.Specification.Transaction.html#5542" class="Bound">a</a><a id="5556" class="Symbol">)</a> <a id="5558" class="Symbol">:</a> <a id="5560" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5565" href="Ledger.Dijkstra.Specification.Transaction.html#5542" class="Bound">a</a> <a id="5567" class="Keyword">where</a>
    <a id="5577" class="Keyword">field</a> <a id="5583" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a> <a id="5592" class="Symbol">:</a> <a id="5594" href="Ledger.Dijkstra.Specification.Transaction.html#5546" class="Bound">A</a> <a id="5596" class="Symbol">→</a> <a id="5598" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="5605" href="Ledger.Dijkstra.Specification.Transaction.html#5532" class="Bound">txLevel</a>
  <a id="5615" class="Keyword">open</a> <a id="5620" href="Ledger.Dijkstra.Specification.Transaction.html#5521" class="Module">HasTxBody</a>  <a id="5631" class="Symbol">⦃...⦄</a> <a id="5637" class="Keyword">public</a>

  <a id="5647" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="5654" href="Ledger.Dijkstra.Specification.Transaction.html#5654" class="Record">HasTxWitnesses</a> <a id="5669" class="Symbol">{</a><a id="5670" href="Ledger.Dijkstra.Specification.Transaction.html#5670" class="Bound">txLevel</a><a id="5677" class="Symbol">}</a> <a id="5679" class="Symbol">{</a><a id="5680" href="Ledger.Dijkstra.Specification.Transaction.html#5680" class="Bound">a</a><a id="5681" class="Symbol">}</a> <a id="5683" class="Symbol">(</a><a id="5684" href="Ledger.Dijkstra.Specification.Transaction.html#5684" class="Bound">A</a> <a id="5686" class="Symbol">:</a> <a id="5688" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5693" href="Ledger.Dijkstra.Specification.Transaction.html#5680" class="Bound">a</a><a id="5694" class="Symbol">)</a> <a id="5696" class="Symbol">:</a> <a id="5698" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5703" href="Ledger.Dijkstra.Specification.Transaction.html#5680" class="Bound">a</a> <a id="5705" class="Keyword">where</a>
    <a id="5715" class="Keyword">field</a> <a id="5721" href="Ledger.Dijkstra.Specification.Transaction.html#5721" class="Field">TxWitnessesOf</a> <a id="5735" class="Symbol">:</a> <a id="5737" href="Ledger.Dijkstra.Specification.Transaction.html#5684" class="Bound">A</a> <a id="5739" class="Symbol">→</a> <a id="5741" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="5753" href="Ledger.Dijkstra.Specification.Transaction.html#5670" class="Bound">txLevel</a>
  <a id="5763" class="Keyword">open</a> <a id="5768" href="Ledger.Dijkstra.Specification.Transaction.html#5654" class="Module">HasTxWitnesses</a> <a id="5783" class="Symbol">⦃...⦄</a> <a id="5789" class="Keyword">public</a>

  <a id="5799" class="Keyword">record</a> <a id="TransactionStructure.HasRedeemers"></a><a id="5806" href="Ledger.Dijkstra.Specification.Transaction.html#5806" class="Record">HasRedeemers</a> <a id="5819" class="Symbol">{</a><a id="5820" href="Ledger.Dijkstra.Specification.Transaction.html#5820" class="Bound">txLevel</a><a id="5827" class="Symbol">}</a> <a id="5829" class="Symbol">{</a><a id="5830" href="Ledger.Dijkstra.Specification.Transaction.html#5830" class="Bound">a</a><a id="5831" class="Symbol">}</a> <a id="5833" class="Symbol">(</a><a id="5834" href="Ledger.Dijkstra.Specification.Transaction.html#5834" class="Bound">A</a> <a id="5836" class="Symbol">:</a> <a id="5838" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5843" href="Ledger.Dijkstra.Specification.Transaction.html#5830" class="Bound">a</a><a id="5844" class="Symbol">)</a> <a id="5846" class="Symbol">:</a> <a id="5848" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5853" href="Ledger.Dijkstra.Specification.Transaction.html#5830" class="Bound">a</a> <a id="5855" class="Keyword">where</a>
    <a id="5865" class="Keyword">field</a> <a id="5871" href="Ledger.Dijkstra.Specification.Transaction.html#5871" class="Field">RedeemersOf</a> <a id="5883" class="Symbol">:</a> <a id="5885" href="Ledger.Dijkstra.Specification.Transaction.html#5834" class="Bound">A</a> <a id="5887" class="Symbol">→</a> <a id="5889" href="Ledger.Dijkstra.Specification.Transaction.html#3190" class="Function">RedeemerPtr</a> <a id="5901" href="Ledger.Dijkstra.Specification.Transaction.html#5820" class="Bound">txLevel</a> <a id="5909" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5911" href="Ledger.Dijkstra.Specification.Script.Base.html#1853" class="Function">Redeemer</a> <a id="5920" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5922" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>
  <a id="5932" class="Keyword">open</a> <a id="5937" href="Ledger.Dijkstra.Specification.Transaction.html#5806" class="Module">HasRedeemers</a> <a id="5950" class="Symbol">⦃...⦄</a> <a id="5956" class="Keyword">public</a>

  <a id="5966" class="Comment">-- (top-level only) --</a>
  <a id="5991" class="Keyword">record</a> <a id="TransactionStructure.HasCollateralInputs"></a><a id="5998" href="Ledger.Dijkstra.Specification.Transaction.html#5998" class="Record">HasCollateralInputs</a> <a id="6018" class="Symbol">{</a><a id="6019" href="Ledger.Dijkstra.Specification.Transaction.html#6019" class="Bound">txLevel</a><a id="6026" class="Symbol">}</a> <a id="6028" class="Symbol">{</a><a id="6029" href="Ledger.Dijkstra.Specification.Transaction.html#6029" class="Bound">a</a><a id="6030" class="Symbol">}</a> <a id="6032" class="Symbol">(</a><a id="6033" href="Ledger.Dijkstra.Specification.Transaction.html#6033" class="Bound">A</a> <a id="6035" class="Symbol">:</a> <a id="6037" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6042" href="Ledger.Dijkstra.Specification.Transaction.html#6029" class="Bound">a</a><a id="6043" class="Symbol">)</a> <a id="6045" class="Symbol">:</a> <a id="6047" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6052" href="Ledger.Dijkstra.Specification.Transaction.html#6029" class="Bound">a</a> <a id="6054" class="Keyword">where</a>
    <a id="6064" class="Keyword">field</a> <a id="6070" href="Ledger.Dijkstra.Specification.Transaction.html#6070" class="Field">CollateralInputsOf</a> <a id="6089" class="Symbol">:</a> <a id="6091" href="Ledger.Dijkstra.Specification.Transaction.html#6033" class="Bound">A</a> <a id="6093" class="Symbol">→</a> <a id="6095" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="6106" href="Ledger.Dijkstra.Specification.Transaction.html#6019" class="Bound">txLevel</a> <a id="6114" class="Symbol">(</a><a id="6115" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6117" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a><a id="6121" class="Symbol">)</a>
  <a id="6125" class="Keyword">open</a> <a id="6130" href="Ledger.Dijkstra.Specification.Transaction.html#5998" class="Module">HasCollateralInputs</a> <a id="6150" class="Symbol">⦃...⦄</a> <a id="6156" class="Keyword">public</a>

  <a id="6166" class="Keyword">record</a> <a id="TransactionStructure.HasTxFees"></a><a id="6173" href="Ledger.Dijkstra.Specification.Transaction.html#6173" class="Record">HasTxFees</a> <a id="6183" class="Symbol">{</a><a id="6184" href="Ledger.Dijkstra.Specification.Transaction.html#6184" class="Bound">txLevel</a><a id="6191" class="Symbol">}</a> <a id="6193" class="Symbol">{</a><a id="6194" href="Ledger.Dijkstra.Specification.Transaction.html#6194" class="Bound">a</a><a id="6195" class="Symbol">}</a> <a id="6197" class="Symbol">(</a><a id="6198" href="Ledger.Dijkstra.Specification.Transaction.html#6198" class="Bound">A</a> <a id="6200" class="Symbol">:</a> <a id="6202" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6207" href="Ledger.Dijkstra.Specification.Transaction.html#6194" class="Bound">a</a><a id="6208" class="Symbol">)</a> <a id="6210" class="Symbol">:</a> <a id="6212" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6217" href="Ledger.Dijkstra.Specification.Transaction.html#6194" class="Bound">a</a> <a id="6219" class="Keyword">where</a>
    <a id="6229" class="Keyword">field</a> <a id="6235" href="Ledger.Dijkstra.Specification.Transaction.html#6235" class="Field">TxFeesOf</a> <a id="6244" class="Symbol">:</a> <a id="6246" href="Ledger.Dijkstra.Specification.Transaction.html#6198" class="Bound">A</a> <a id="6248" class="Symbol">→</a> <a id="6250" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="6261" href="Ledger.Dijkstra.Specification.Transaction.html#6184" class="Bound">txLevel</a> <a id="6269" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="6276" class="Keyword">open</a> <a id="6281" href="Ledger.Dijkstra.Specification.Transaction.html#6173" class="Module">HasTxFees</a> <a id="6291" class="Symbol">⦃...⦄</a> <a id="6297" class="Keyword">public</a>

  <a id="6307" class="Keyword">record</a> <a id="TransactionStructure.HasSubTransactions"></a><a id="6314" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Record">HasSubTransactions</a> <a id="6333" class="Symbol">{</a><a id="6334" href="Ledger.Dijkstra.Specification.Transaction.html#6334" class="Bound">txLevel</a><a id="6341" class="Symbol">}</a> <a id="6343" class="Symbol">{</a><a id="6344" href="Ledger.Dijkstra.Specification.Transaction.html#6344" class="Bound">a</a><a id="6345" class="Symbol">}</a> <a id="6347" class="Symbol">(</a><a id="6348" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Bound">A</a> <a id="6350" class="Symbol">:</a> <a id="6352" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6357" href="Ledger.Dijkstra.Specification.Transaction.html#6344" class="Bound">a</a><a id="6358" class="Symbol">)</a> <a id="6360" class="Symbol">:</a> <a id="6362" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6367" href="Ledger.Dijkstra.Specification.Transaction.html#6344" class="Bound">a</a> <a id="6369" class="Keyword">where</a>
    <a id="6379" class="Keyword">field</a> <a id="6385" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="6403" class="Symbol">:</a> <a id="6405" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Bound">A</a> <a id="6407" class="Symbol">→</a> <a id="6409" href="Ledger.Dijkstra.Specification.Transaction.html#820" class="Function">InTopLevel</a> <a id="6420" href="Ledger.Dijkstra.Specification.Transaction.html#6334" class="Bound">txLevel</a> <a id="6428" class="Symbol">(</a><a id="6429" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6434" class="Symbol">(</a><a id="6435" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="6438" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a><a id="6448" class="Symbol">))</a>
  <a id="6453" class="Keyword">open</a> <a id="6458" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Module">HasSubTransactions</a> <a id="6477" class="Symbol">⦃...⦄</a> <a id="6483" class="Keyword">public</a>

  <a id="6493" class="Comment">-- (sub-level only) --</a>
  <a id="6518" class="Keyword">record</a> <a id="TransactionStructure.HasTopLevelGuards"></a><a id="6525" href="Ledger.Dijkstra.Specification.Transaction.html#6525" class="Record">HasTopLevelGuards</a> <a id="6543" class="Symbol">{</a><a id="6544" href="Ledger.Dijkstra.Specification.Transaction.html#6544" class="Bound">txLevel</a><a id="6551" class="Symbol">}</a> <a id="6553" class="Symbol">{</a><a id="6554" href="Ledger.Dijkstra.Specification.Transaction.html#6554" class="Bound">a</a><a id="6555" class="Symbol">}</a> <a id="6557" class="Symbol">(</a><a id="6558" href="Ledger.Dijkstra.Specification.Transaction.html#6558" class="Bound">A</a> <a id="6560" class="Symbol">:</a> <a id="6562" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6567" href="Ledger.Dijkstra.Specification.Transaction.html#6554" class="Bound">a</a><a id="6568" class="Symbol">)</a> <a id="6570" class="Symbol">:</a> <a id="6572" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6577" href="Ledger.Dijkstra.Specification.Transaction.html#6554" class="Bound">a</a> <a id="6579" class="Keyword">where</a>
    <a id="6589" class="Keyword">field</a> <a id="6595" href="Ledger.Dijkstra.Specification.Transaction.html#6595" class="Field">TopLevelGuardsOf</a> <a id="6612" class="Symbol">:</a> <a id="6614" href="Ledger.Dijkstra.Specification.Transaction.html#6558" class="Bound">A</a> <a id="6616" class="Symbol">→</a> <a id="6618" href="Ledger.Dijkstra.Specification.Transaction.html#912" class="Function">InSubLevel</a> <a id="6629" href="Ledger.Dijkstra.Specification.Transaction.html#6544" class="Bound">txLevel</a> <a id="6637" class="Symbol">(</a><a id="6638" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6640" class="Symbol">(</a><a id="6641" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="6652" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6654" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6660" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="6665" class="Symbol">))</a>
  <a id="6670" class="Keyword">open</a> <a id="6675" href="Ledger.Dijkstra.Specification.Transaction.html#6525" class="Module">HasTopLevelGuards</a> <a id="6693" class="Symbol">⦃...⦄</a> <a id="6699" class="Keyword">public</a>


  <a id="6710" class="Comment">-- Level-Independent Type Classes --</a>
  <a id="6749" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="6756" href="Ledger.Dijkstra.Specification.Transaction.html#6756" class="Record">HasTxId</a> <a id="6764" class="Symbol">{</a><a id="6765" href="Ledger.Dijkstra.Specification.Transaction.html#6765" class="Bound">a</a><a id="6766" class="Symbol">}</a> <a id="6768" class="Symbol">(</a><a id="6769" href="Ledger.Dijkstra.Specification.Transaction.html#6769" class="Bound">A</a> <a id="6771" class="Symbol">:</a> <a id="6773" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6778" href="Ledger.Dijkstra.Specification.Transaction.html#6765" class="Bound">a</a><a id="6779" class="Symbol">)</a> <a id="6781" class="Symbol">:</a> <a id="6783" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6788" href="Ledger.Dijkstra.Specification.Transaction.html#6765" class="Bound">a</a> <a id="6790" class="Keyword">where</a>
    <a id="6800" class="Keyword">field</a> <a id="6806" href="Ledger.Dijkstra.Specification.Transaction.html#6806" class="Field">TxIdOf</a> <a id="6813" class="Symbol">:</a> <a id="6815" href="Ledger.Dijkstra.Specification.Transaction.html#6769" class="Bound">A</a> <a id="6817" class="Symbol">→</a> <a id="6819" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a>
  <a id="6826" class="Keyword">open</a> <a id="6831" href="Ledger.Dijkstra.Specification.Transaction.html#6756" class="Module">HasTxId</a> <a id="6839" class="Symbol">⦃...⦄</a> <a id="6845" class="Keyword">public</a>

  <a id="6855" class="Keyword">record</a> <a id="TransactionStructure.HasSize"></a><a id="6862" href="Ledger.Dijkstra.Specification.Transaction.html#6862" class="Record">HasSize</a> <a id="6870" class="Symbol">{</a><a id="6871" href="Ledger.Dijkstra.Specification.Transaction.html#6871" class="Bound">a</a><a id="6872" class="Symbol">}</a> <a id="6874" class="Symbol">(</a><a id="6875" href="Ledger.Dijkstra.Specification.Transaction.html#6875" class="Bound">A</a> <a id="6877" class="Symbol">:</a> <a id="6879" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6884" href="Ledger.Dijkstra.Specification.Transaction.html#6871" class="Bound">a</a><a id="6885" class="Symbol">)</a> <a id="6887" class="Symbol">:</a> <a id="6889" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6894" href="Ledger.Dijkstra.Specification.Transaction.html#6871" class="Bound">a</a> <a id="6896" class="Keyword">where</a>
    <a id="6906" class="Keyword">field</a> <a id="6912" href="Ledger.Dijkstra.Specification.Transaction.html#6912" class="Field">SizeOf</a> <a id="6919" class="Symbol">:</a> <a id="6921" href="Ledger.Dijkstra.Specification.Transaction.html#6875" class="Bound">A</a> <a id="6923" class="Symbol">→</a> <a id="6925" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6929" class="Keyword">open</a> <a id="6934" href="Ledger.Dijkstra.Specification.Transaction.html#6862" class="Module">HasSize</a> <a id="6942" class="Symbol">⦃...⦄</a> <a id="6948" class="Keyword">public</a>

  <a id="6958" class="Keyword">record</a> <a id="TransactionStructure.HasValidInterval"></a><a id="6965" href="Ledger.Dijkstra.Specification.Transaction.html#6965" class="Record">HasValidInterval</a> <a id="6982" class="Symbol">{</a><a id="6983" href="Ledger.Dijkstra.Specification.Transaction.html#6983" class="Bound">a</a><a id="6984" class="Symbol">}</a> <a id="6986" class="Symbol">(</a><a id="6987" href="Ledger.Dijkstra.Specification.Transaction.html#6987" class="Bound">A</a> <a id="6989" class="Symbol">:</a> <a id="6991" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6996" href="Ledger.Dijkstra.Specification.Transaction.html#6983" class="Bound">a</a><a id="6997" class="Symbol">)</a> <a id="6999" class="Symbol">:</a> <a id="7001" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7006" href="Ledger.Dijkstra.Specification.Transaction.html#6983" class="Bound">a</a> <a id="7008" class="Keyword">where</a>
    <a id="7018" class="Keyword">field</a> <a id="7024" href="Ledger.Dijkstra.Specification.Transaction.html#7024" class="Field">ValidIntervalOf</a> <a id="7040" class="Symbol">:</a> <a id="7042" href="Ledger.Dijkstra.Specification.Transaction.html#6987" class="Bound">A</a> <a id="7044" class="Symbol">→</a> <a id="7046" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7052" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="7057" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7059" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7065" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="7072" class="Keyword">open</a> <a id="7077" href="Ledger.Dijkstra.Specification.Transaction.html#6965" class="Module">HasValidInterval</a> <a id="7094" class="Symbol">⦃...⦄</a> <a id="7100" class="Keyword">public</a>

  <a id="7110" class="Keyword">record</a> <a id="TransactionStructure.HasSpendInputs"></a><a id="7117" href="Ledger.Dijkstra.Specification.Transaction.html#7117" class="Record">HasSpendInputs</a> <a id="7132" class="Symbol">{</a><a id="7133" href="Ledger.Dijkstra.Specification.Transaction.html#7133" class="Bound">a</a><a id="7134" class="Symbol">}</a> <a id="7136" class="Symbol">(</a><a id="7137" href="Ledger.Dijkstra.Specification.Transaction.html#7137" class="Bound">A</a> <a id="7139" class="Symbol">:</a> <a id="7141" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7146" href="Ledger.Dijkstra.Specification.Transaction.html#7133" class="Bound">a</a><a id="7147" class="Symbol">)</a> <a id="7149" class="Symbol">:</a> <a id="7151" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7156" href="Ledger.Dijkstra.Specification.Transaction.html#7133" class="Bound">a</a> <a id="7158" class="Keyword">where</a>
    <a id="7168" class="Keyword">field</a> <a id="7174" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="7188" class="Symbol">:</a> <a id="7190" href="Ledger.Dijkstra.Specification.Transaction.html#7137" class="Bound">A</a> <a id="7192" class="Symbol">→</a> <a id="7194" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7196" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
  <a id="7203" class="Keyword">open</a> <a id="7208" href="Ledger.Dijkstra.Specification.Transaction.html#7117" class="Module">HasSpendInputs</a> <a id="7223" class="Symbol">⦃...⦄</a> <a id="7229" class="Keyword">public</a>

  <a id="7239" class="Keyword">record</a> <a id="TransactionStructure.HasReferenceInputs"></a><a id="7246" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Record">HasReferenceInputs</a> <a id="7265" class="Symbol">{</a><a id="7266" href="Ledger.Dijkstra.Specification.Transaction.html#7266" class="Bound">a</a><a id="7267" class="Symbol">}</a> <a id="7269" class="Symbol">(</a><a id="7270" href="Ledger.Dijkstra.Specification.Transaction.html#7270" class="Bound">A</a> <a id="7272" class="Symbol">:</a> <a id="7274" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7279" href="Ledger.Dijkstra.Specification.Transaction.html#7266" class="Bound">a</a><a id="7280" class="Symbol">)</a> <a id="7282" class="Symbol">:</a> <a id="7284" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7289" href="Ledger.Dijkstra.Specification.Transaction.html#7266" class="Bound">a</a> <a id="7291" class="Keyword">where</a>
    <a id="7301" class="Keyword">field</a> <a id="7307" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="7325" class="Symbol">:</a> <a id="7327" href="Ledger.Dijkstra.Specification.Transaction.html#7270" class="Bound">A</a> <a id="7329" class="Symbol">→</a> <a id="7331" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7333" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
  <a id="7340" class="Keyword">open</a> <a id="7345" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Module">HasReferenceInputs</a> <a id="7364" class="Symbol">⦃...⦄</a> <a id="7370" class="Keyword">public</a>

  <a id="7380" class="Keyword">record</a> <a id="TransactionStructure.HasMintedValue"></a><a id="7387" href="Ledger.Dijkstra.Specification.Transaction.html#7387" class="Record">HasMintedValue</a> <a id="7402" class="Symbol">{</a><a id="7403" href="Ledger.Dijkstra.Specification.Transaction.html#7403" class="Bound">a</a><a id="7404" class="Symbol">}</a> <a id="7406" class="Symbol">(</a><a id="7407" href="Ledger.Dijkstra.Specification.Transaction.html#7407" class="Bound">A</a> <a id="7409" class="Symbol">:</a> <a id="7411" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7416" href="Ledger.Dijkstra.Specification.Transaction.html#7403" class="Bound">a</a><a id="7417" class="Symbol">)</a> <a id="7419" class="Symbol">:</a> <a id="7421" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7426" href="Ledger.Dijkstra.Specification.Transaction.html#7403" class="Bound">a</a> <a id="7428" class="Keyword">where</a>
    <a id="7438" class="Keyword">field</a> <a id="7444" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="7458" class="Symbol">:</a> <a id="7460" href="Ledger.Dijkstra.Specification.Transaction.html#7407" class="Bound">A</a> <a id="7462" class="Symbol">→</a> <a id="7464" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="7472" class="Keyword">open</a> <a id="7477" href="Ledger.Dijkstra.Specification.Transaction.html#7387" class="Module">HasMintedValue</a> <a id="7492" class="Symbol">⦃...⦄</a> <a id="7498" class="Keyword">public</a>

  <a id="7508" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="7515" href="Ledger.Dijkstra.Specification.Transaction.html#7515" class="Record">HasFees?</a> <a id="7524" class="Symbol">{</a><a id="7525" href="Ledger.Dijkstra.Specification.Transaction.html#7525" class="Bound">a</a><a id="7526" class="Symbol">}</a> <a id="7528" class="Symbol">(</a><a id="7529" href="Ledger.Dijkstra.Specification.Transaction.html#7529" class="Bound">A</a> <a id="7531" class="Symbol">:</a> <a id="7533" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7538" href="Ledger.Dijkstra.Specification.Transaction.html#7525" class="Bound">a</a><a id="7539" class="Symbol">)</a> <a id="7541" class="Symbol">:</a> <a id="7543" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7548" href="Ledger.Dijkstra.Specification.Transaction.html#7525" class="Bound">a</a> <a id="7550" class="Keyword">where</a>
    <a id="7560" class="Keyword">field</a> <a id="7566" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Field">FeesOf?</a> <a id="7574" class="Symbol">:</a> <a id="7576" href="Ledger.Dijkstra.Specification.Transaction.html#7529" class="Bound">A</a> <a id="7578" class="Symbol">→</a> <a id="7580" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7586" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="7593" class="Keyword">open</a> <a id="7598" href="Ledger.Dijkstra.Specification.Transaction.html#7515" class="Module">HasFees?</a> <a id="7607" class="Symbol">⦃...⦄</a> <a id="7613" class="Keyword">public</a>

  <a id="7623" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="7630" href="Ledger.Dijkstra.Specification.Transaction.html#7630" class="Record">HasDCerts</a> <a id="7640" class="Symbol">{</a><a id="7641" href="Ledger.Dijkstra.Specification.Transaction.html#7641" class="Bound">a</a><a id="7642" class="Symbol">}</a> <a id="7644" class="Symbol">(</a><a id="7645" href="Ledger.Dijkstra.Specification.Transaction.html#7645" class="Bound">A</a> <a id="7647" class="Symbol">:</a> <a id="7649" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7654" href="Ledger.Dijkstra.Specification.Transaction.html#7641" class="Bound">a</a><a id="7655" class="Symbol">)</a> <a id="7657" class="Symbol">:</a> <a id="7659" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7664" href="Ledger.Dijkstra.Specification.Transaction.html#7641" class="Bound">a</a> <a id="7666" class="Keyword">where</a>
    <a id="7676" class="Keyword">field</a> <a id="7682" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="7691" class="Symbol">:</a> <a id="7693" href="Ledger.Dijkstra.Specification.Transaction.html#7645" class="Bound">A</a> <a id="7695" class="Symbol">→</a> <a id="7697" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7702" href="Ledger.Dijkstra.Specification.Certs.html#992" class="Datatype">DCert</a>
  <a id="7710" class="Keyword">open</a> <a id="7715" href="Ledger.Dijkstra.Specification.Transaction.html#7630" class="Module">HasDCerts</a> <a id="7725" class="Symbol">⦃...⦄</a> <a id="7731" class="Keyword">public</a>

  <a id="7741" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="7748" href="Ledger.Dijkstra.Specification.Transaction.html#7748" class="Record">HasData</a> <a id="7756" class="Symbol">{</a><a id="7757" href="Ledger.Dijkstra.Specification.Transaction.html#7757" class="Bound">a</a><a id="7758" class="Symbol">}</a> <a id="7760" class="Symbol">(</a><a id="7761" href="Ledger.Dijkstra.Specification.Transaction.html#7761" class="Bound">A</a> <a id="7763" class="Symbol">:</a> <a id="7765" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7770" href="Ledger.Dijkstra.Specification.Transaction.html#7757" class="Bound">a</a><a id="7771" class="Symbol">)</a> <a id="7773" class="Symbol">:</a> <a id="7775" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7780" href="Ledger.Dijkstra.Specification.Transaction.html#7757" class="Bound">a</a> <a id="7782" class="Keyword">where</a>
    <a id="7792" class="Keyword">field</a> <a id="7798" href="Ledger.Dijkstra.Specification.Transaction.html#7798" class="Field">DataOf</a> <a id="7805" class="Symbol">:</a> <a id="7807" href="Ledger.Dijkstra.Specification.Transaction.html#7761" class="Bound">A</a> <a id="7809" class="Symbol">→</a> <a id="7811" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7813" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="7821" class="Keyword">open</a> <a id="7826" href="Ledger.Dijkstra.Specification.Transaction.html#7748" class="Module">HasData</a> <a id="7834" class="Symbol">⦃...⦄</a> <a id="7840" class="Keyword">public</a>

  <a id="7850" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovProposals"></a><a id="7857" href="Ledger.Dijkstra.Specification.Transaction.html#7857" class="Record">HasListOfGovProposals</a> <a id="7879" class="Symbol">{</a><a id="7880" href="Ledger.Dijkstra.Specification.Transaction.html#7880" class="Bound">a</a><a id="7881" class="Symbol">}</a> <a id="7883" class="Symbol">(</a><a id="7884" href="Ledger.Dijkstra.Specification.Transaction.html#7884" class="Bound">A</a> <a id="7886" class="Symbol">:</a> <a id="7888" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7893" href="Ledger.Dijkstra.Specification.Transaction.html#7880" class="Bound">a</a><a id="7894" class="Symbol">)</a> <a id="7896" class="Symbol">:</a> <a id="7898" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7903" href="Ledger.Dijkstra.Specification.Transaction.html#7880" class="Bound">a</a> <a id="7905" class="Keyword">where</a>
    <a id="7915" class="Keyword">field</a> <a id="7921" href="Ledger.Dijkstra.Specification.Transaction.html#7921" class="Field">ListOfGovProposalsOf</a> <a id="7942" class="Symbol">:</a> <a id="7944" href="Ledger.Dijkstra.Specification.Transaction.html#7884" class="Bound">A</a> <a id="7946" class="Symbol">→</a> <a id="7948" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7953" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
  <a id="7967" class="Keyword">open</a> <a id="7972" href="Ledger.Dijkstra.Specification.Transaction.html#7857" class="Module">HasListOfGovProposals</a> <a id="7994" class="Symbol">⦃...⦄</a> <a id="8000" class="Keyword">public</a>

  <a id="8010" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovVotes"></a><a id="8017" href="Ledger.Dijkstra.Specification.Transaction.html#8017" class="Record">HasListOfGovVotes</a> <a id="8035" class="Symbol">{</a><a id="8036" href="Ledger.Dijkstra.Specification.Transaction.html#8036" class="Bound">a</a><a id="8037" class="Symbol">}</a> <a id="8039" class="Symbol">(</a><a id="8040" href="Ledger.Dijkstra.Specification.Transaction.html#8040" class="Bound">A</a> <a id="8042" class="Symbol">:</a> <a id="8044" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8049" href="Ledger.Dijkstra.Specification.Transaction.html#8036" class="Bound">a</a><a id="8050" class="Symbol">)</a> <a id="8052" class="Symbol">:</a> <a id="8054" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8059" href="Ledger.Dijkstra.Specification.Transaction.html#8036" class="Bound">a</a> <a id="8061" class="Keyword">where</a>
    <a id="8071" class="Keyword">field</a> <a id="8077" href="Ledger.Dijkstra.Specification.Transaction.html#8077" class="Field">ListOfGovVotesOf</a> <a id="8094" class="Symbol">:</a> <a id="8096" href="Ledger.Dijkstra.Specification.Transaction.html#8040" class="Bound">A</a> <a id="8098" class="Symbol">→</a> <a id="8100" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8105" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
  <a id="8115" class="Keyword">open</a> <a id="8120" href="Ledger.Dijkstra.Specification.Transaction.html#8017" class="Module">HasListOfGovVotes</a> <a id="8138" class="Symbol">⦃...⦄</a> <a id="8144" class="Keyword">public</a>

  <a id="8154" class="Keyword">record</a> <a id="TransactionStructure.HasGuards"></a><a id="8161" href="Ledger.Dijkstra.Specification.Transaction.html#8161" class="Record">HasGuards</a> <a id="8171" class="Symbol">{</a><a id="8172" href="Ledger.Dijkstra.Specification.Transaction.html#8172" class="Bound">a</a><a id="8173" class="Symbol">}</a> <a id="8175" class="Symbol">(</a><a id="8176" href="Ledger.Dijkstra.Specification.Transaction.html#8176" class="Bound">A</a> <a id="8178" class="Symbol">:</a> <a id="8180" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8185" href="Ledger.Dijkstra.Specification.Transaction.html#8172" class="Bound">a</a><a id="8186" class="Symbol">)</a> <a id="8188" class="Symbol">:</a> <a id="8190" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8195" href="Ledger.Dijkstra.Specification.Transaction.html#8172" class="Bound">a</a> <a id="8197" class="Keyword">where</a>
    <a id="8207" class="Keyword">field</a> <a id="8213" href="Ledger.Dijkstra.Specification.Transaction.html#8213" class="Field">GuardsOf</a> <a id="8222" class="Symbol">:</a> <a id="8224" href="Ledger.Dijkstra.Specification.Transaction.html#8176" class="Bound">A</a> <a id="8226" class="Symbol">→</a> <a id="8228" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8230" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="8243" class="Keyword">open</a> <a id="8248" href="Ledger.Dijkstra.Specification.Transaction.html#8161" class="Module">HasGuards</a> <a id="8258" class="Symbol">⦃...⦄</a> <a id="8264" class="Keyword">public</a>

  <a id="8274" class="Keyword">record</a> <a id="TransactionStructure.HasScripts"></a><a id="8281" href="Ledger.Dijkstra.Specification.Transaction.html#8281" class="Record">HasScripts</a> <a id="8292" class="Symbol">{</a><a id="8293" href="Ledger.Dijkstra.Specification.Transaction.html#8293" class="Bound">a</a><a id="8294" class="Symbol">}</a> <a id="8296" class="Symbol">(</a><a id="8297" href="Ledger.Dijkstra.Specification.Transaction.html#8297" class="Bound">A</a> <a id="8299" class="Symbol">:</a> <a id="8301" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8306" href="Ledger.Dijkstra.Specification.Transaction.html#8293" class="Bound">a</a><a id="8307" class="Symbol">)</a> <a id="8309" class="Symbol">:</a> <a id="8311" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8316" href="Ledger.Dijkstra.Specification.Transaction.html#8293" class="Bound">a</a> <a id="8318" class="Keyword">where</a>
    <a id="8328" class="Keyword">field</a> <a id="8334" href="Ledger.Dijkstra.Specification.Transaction.html#8334" class="Field">ScriptsOf</a> <a id="8344" class="Symbol">:</a> <a id="8346" href="Ledger.Dijkstra.Specification.Transaction.html#8297" class="Bound">A</a> <a id="8348" class="Symbol">→</a> <a id="8350" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8352" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="8361" class="Keyword">open</a> <a id="8366" href="Ledger.Dijkstra.Specification.Transaction.html#8281" class="Module">HasScripts</a> <a id="8377" class="Symbol">⦃...⦄</a> <a id="8383" class="Keyword">public</a>

  <a id="8393" class="Keyword">record</a> <a id="TransactionStructure.HasTxOuts"></a><a id="8400" href="Ledger.Dijkstra.Specification.Transaction.html#8400" class="Record">HasTxOuts</a> <a id="8410" class="Symbol">{</a><a id="8411" href="Ledger.Dijkstra.Specification.Transaction.html#8411" class="Bound">a</a><a id="8412" class="Symbol">}</a> <a id="8414" class="Symbol">(</a><a id="8415" href="Ledger.Dijkstra.Specification.Transaction.html#8415" class="Bound">A</a> <a id="8417" class="Symbol">:</a> <a id="8419" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8424" href="Ledger.Dijkstra.Specification.Transaction.html#8411" class="Bound">a</a><a id="8425" class="Symbol">)</a> <a id="8427" class="Symbol">:</a> <a id="8429" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8434" href="Ledger.Dijkstra.Specification.Transaction.html#8411" class="Bound">a</a> <a id="8436" class="Keyword">where</a>
    <a id="8446" class="Keyword">field</a> <a id="8452" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a> <a id="8461" class="Symbol">:</a> <a id="8463" href="Ledger.Dijkstra.Specification.Transaction.html#8415" class="Bound">A</a> <a id="8465" class="Symbol">→</a> <a id="8467" href="Ledger.Dijkstra.Specification.Transaction.html#1371" class="Field">Ix</a> <a id="8470" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8472" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
  <a id="8480" class="Keyword">open</a> <a id="8485" href="Ledger.Dijkstra.Specification.Transaction.html#8400" class="Module">HasTxOuts</a> <a id="8495" class="Symbol">⦃...⦄</a> <a id="8501" class="Keyword">public</a>

  <a id="8511" class="Keyword">record</a> <a id="TransactionStructure.HasRequiredSingerHashes"></a><a id="8518" href="Ledger.Dijkstra.Specification.Transaction.html#8518" class="Record">HasRequiredSingerHashes</a> <a id="8542" class="Symbol">{</a><a id="8543" href="Ledger.Dijkstra.Specification.Transaction.html#8543" class="Bound">a</a><a id="8544" class="Symbol">}</a> <a id="8546" class="Symbol">(</a><a id="8547" href="Ledger.Dijkstra.Specification.Transaction.html#8547" class="Bound">A</a> <a id="8549" class="Symbol">:</a> <a id="8551" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8556" href="Ledger.Dijkstra.Specification.Transaction.html#8543" class="Bound">a</a><a id="8557" class="Symbol">)</a> <a id="8559" class="Symbol">:</a> <a id="8561" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8566" href="Ledger.Dijkstra.Specification.Transaction.html#8543" class="Bound">a</a> <a id="8568" class="Keyword">where</a>
    <a id="8578" class="Keyword">field</a> <a id="8584" href="Ledger.Dijkstra.Specification.Transaction.html#8584" class="Field">RequiredSignerHashesOf</a> <a id="8607" class="Symbol">:</a> <a id="8609" href="Ledger.Dijkstra.Specification.Transaction.html#8547" class="Bound">A</a> <a id="8611" class="Symbol">→</a> <a id="8613" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8615" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="8625" class="Keyword">open</a> <a id="8630" href="Ledger.Dijkstra.Specification.Transaction.html#8518" class="Module">HasRequiredSingerHashes</a> <a id="8654" class="Symbol">⦃...⦄</a> <a id="8660" class="Keyword">public</a>

  <a id="8670" class="Keyword">record</a> <a id="TransactionStructure.HasCurrentTreasury"></a><a id="8677" href="Ledger.Dijkstra.Specification.Transaction.html#8677" class="Record">HasCurrentTreasury</a> <a id="8696" class="Symbol">{</a><a id="8697" href="Ledger.Dijkstra.Specification.Transaction.html#8697" class="Bound">a</a><a id="8698" class="Symbol">}</a> <a id="8700" class="Symbol">(</a><a id="8701" href="Ledger.Dijkstra.Specification.Transaction.html#8701" class="Bound">A</a> <a id="8703" class="Symbol">:</a> <a id="8705" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8710" href="Ledger.Dijkstra.Specification.Transaction.html#8697" class="Bound">a</a><a id="8711" class="Symbol">)</a> <a id="8713" class="Symbol">:</a> <a id="8715" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8720" href="Ledger.Dijkstra.Specification.Transaction.html#8697" class="Bound">a</a> <a id="8722" class="Keyword">where</a>
    <a id="8732" class="Keyword">field</a> <a id="8738" href="Ledger.Dijkstra.Specification.Transaction.html#8738" class="Field">CurrentTreasuryOf</a> <a id="8756" class="Symbol">:</a> <a id="8758" href="Ledger.Dijkstra.Specification.Transaction.html#8701" class="Bound">A</a> <a id="8760" class="Symbol">→</a> <a id="8762" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8768" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="8775" class="Keyword">open</a> <a id="8780" href="Ledger.Dijkstra.Specification.Transaction.html#8677" class="Module">HasCurrentTreasury</a> <a id="8799" class="Symbol">⦃...⦄</a> <a id="8805" class="Keyword">public</a>

  <a id="8815" class="Keyword">record</a> <a id="TransactionStructure.HasIsValidFlag"></a><a id="8822" href="Ledger.Dijkstra.Specification.Transaction.html#8822" class="Record">HasIsValidFlag</a> <a id="8837" class="Symbol">{</a><a id="8838" href="Ledger.Dijkstra.Specification.Transaction.html#8838" class="Bound">a</a><a id="8839" class="Symbol">}</a> <a id="8841" class="Symbol">(</a><a id="8842" href="Ledger.Dijkstra.Specification.Transaction.html#8842" class="Bound">A</a> <a id="8844" class="Symbol">:</a> <a id="8846" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8851" href="Ledger.Dijkstra.Specification.Transaction.html#8838" class="Bound">a</a><a id="8852" class="Symbol">)</a> <a id="8854" class="Symbol">:</a> <a id="8856" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8861" href="Ledger.Dijkstra.Specification.Transaction.html#8838" class="Bound">a</a> <a id="8863" class="Keyword">where</a>
    <a id="8873" class="Keyword">field</a> <a id="8879" href="Ledger.Dijkstra.Specification.Transaction.html#8879" class="Field">IsValidFlagOf</a> <a id="8893" class="Symbol">:</a> <a id="8895" href="Ledger.Dijkstra.Specification.Transaction.html#8842" class="Bound">A</a> <a id="8897" class="Symbol">→</a> <a id="8899" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="8906" class="Keyword">open</a> <a id="8911" href="Ledger.Dijkstra.Specification.Transaction.html#8822" class="Module">HasIsValidFlag</a> <a id="8926" class="Symbol">⦃...⦄</a> <a id="8932" class="Keyword">public</a>

  <a id="8942" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="8955" href="Ledger.Dijkstra.Specification.Transaction.html#8955" class="Function">HasTxBody-Tx</a> <a id="8968" class="Symbol">:</a> <a id="8970" href="Ledger.Dijkstra.Specification.Transaction.html#5521" class="Record">HasTxBody</a> <a id="8980" class="Symbol">(</a><a id="8981" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="8984" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="8991" class="Symbol">)</a>
    <a id="8997" href="Ledger.Dijkstra.Specification.Transaction.html#8955" class="Function">HasTxBody-Tx</a> <a id="9010" class="Symbol">.</a><a id="9011" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a> <a id="9020" class="Symbol">=</a> <a id="9022" href="Ledger.Dijkstra.Specification.Transaction.html#3589" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasSize-Tx"></a><a id="9037" href="Ledger.Dijkstra.Specification.Transaction.html#9037" class="Function">HasSize-Tx</a> <a id="9048" class="Symbol">:</a> <a id="9050" href="Ledger.Dijkstra.Specification.Transaction.html#6862" class="Record">HasSize</a> <a id="9058" class="Symbol">(</a><a id="9059" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="9062" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="9069" class="Symbol">)</a>
    <a id="9075" href="Ledger.Dijkstra.Specification.Transaction.html#9037" class="Function">HasSize-Tx</a> <a id="9086" class="Symbol">.</a><a id="9087" href="Ledger.Dijkstra.Specification.Transaction.html#6912" class="Field">SizeOf</a> <a id="9094" class="Symbol">=</a> <a id="9096" href="Ledger.Dijkstra.Specification.Transaction.html#3670" class="Field">Tx.txSize</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="9111" href="Ledger.Dijkstra.Specification.Transaction.html#9111" class="Function">HasTxWitnesses-Tx</a> <a id="9129" class="Symbol">:</a> <a id="9131" href="Ledger.Dijkstra.Specification.Transaction.html#5654" class="Record">HasTxWitnesses</a> <a id="9146" class="Symbol">(</a><a id="9147" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="9150" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="9157" class="Symbol">)</a>
    <a id="9163" href="Ledger.Dijkstra.Specification.Transaction.html#9111" class="Function">HasTxWitnesses-Tx</a> <a id="9181" class="Symbol">.</a><a id="9182" href="Ledger.Dijkstra.Specification.Transaction.html#5721" class="Field">TxWitnessesOf</a> <a id="9196" class="Symbol">=</a> <a id="9198" href="Ledger.Dijkstra.Specification.Transaction.html#3627" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasIsValidFlag-Tx"></a><a id="9218" href="Ledger.Dijkstra.Specification.Transaction.html#9218" class="Function">HasIsValidFlag-Tx</a> <a id="9236" class="Symbol">:</a> <a id="9238" href="Ledger.Dijkstra.Specification.Transaction.html#8822" class="Record">HasIsValidFlag</a> <a id="9253" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a>
    <a id="9268" href="Ledger.Dijkstra.Specification.Transaction.html#9218" class="Function">HasIsValidFlag-Tx</a> <a id="9286" class="Symbol">.</a><a id="9287" href="Ledger.Dijkstra.Specification.Transaction.html#8879" class="Field">IsValidFlagOf</a> <a id="9301" class="Symbol">=</a> <a id="9303" href="Ledger.Dijkstra.Specification.Transaction.html#3695" class="Field">Tx.isValid</a>

    <a id="TransactionStructure.HasRedeemers-TxWitnesses"></a><a id="9319" href="Ledger.Dijkstra.Specification.Transaction.html#9319" class="Function">HasRedeemers-TxWitnesses</a> <a id="9344" class="Symbol">:</a> <a id="9346" href="Ledger.Dijkstra.Specification.Transaction.html#5806" class="Record">HasRedeemers</a> <a id="9359" class="Symbol">(</a><a id="9360" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="9372" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="9379" class="Symbol">)</a>
    <a id="9385" href="Ledger.Dijkstra.Specification.Transaction.html#9319" class="Function">HasRedeemers-TxWitnesses</a> <a id="9410" class="Symbol">.</a><a id="9411" href="Ledger.Dijkstra.Specification.Transaction.html#5871" class="Field">RedeemersOf</a> <a id="9423" class="Symbol">=</a> <a id="9425" href="Ledger.Dijkstra.Specification.Transaction.html#5181" class="Field">TxWitnesses.txRedeemers</a>
    <a id="TransactionStructure.HasRedeemers-Tx"></a><a id="9453" href="Ledger.Dijkstra.Specification.Transaction.html#9453" class="Function">HasRedeemers-Tx</a> <a id="9469" class="Symbol">:</a> <a id="9471" href="Ledger.Dijkstra.Specification.Transaction.html#5806" class="Record">HasRedeemers</a> <a id="9484" class="Symbol">(</a><a id="9485" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="9488" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="9495" class="Symbol">)</a>
    <a id="9501" href="Ledger.Dijkstra.Specification.Transaction.html#9453" class="Function">HasRedeemers-Tx</a> <a id="9517" class="Symbol">.</a><a id="9518" href="Ledger.Dijkstra.Specification.Transaction.html#5871" class="Field">RedeemersOf</a> <a id="9530" class="Symbol">=</a> <a id="9532" href="Ledger.Dijkstra.Specification.Transaction.html#5871" class="Field">RedeemersOf</a> <a id="9544" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9546" href="Ledger.Dijkstra.Specification.Transaction.html#5721" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasCollateralInputs-TopLevelTx"></a><a id="9565" href="Ledger.Dijkstra.Specification.Transaction.html#9565" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9596" class="Symbol">:</a> <a id="9598" href="Ledger.Dijkstra.Specification.Transaction.html#5998" class="Record">HasCollateralInputs</a> <a id="9618" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a>
    <a id="9633" href="Ledger.Dijkstra.Specification.Transaction.html#9565" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9664" class="Symbol">.</a><a id="9665" href="Ledger.Dijkstra.Specification.Transaction.html#6070" class="Field">CollateralInputsOf</a> <a id="9684" class="Symbol">=</a> <a id="9686" href="Ledger.Dijkstra.Specification.Transaction.html#3941" class="Field">TxBody.collateralInputs</a> <a id="9710" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9712" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxFees-TopLevelTx"></a><a id="9726" href="Ledger.Dijkstra.Specification.Transaction.html#9726" class="Function">HasTxFees-TopLevelTx</a> <a id="9747" class="Symbol">:</a> <a id="9749" href="Ledger.Dijkstra.Specification.Transaction.html#6173" class="Record">HasTxFees</a> <a id="9759" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a>
    <a id="9774" href="Ledger.Dijkstra.Specification.Transaction.html#9726" class="Function">HasTxFees-TopLevelTx</a> <a id="9795" class="Symbol">.</a><a id="9796" href="Ledger.Dijkstra.Specification.Transaction.html#6235" class="Field">TxFeesOf</a> <a id="9805" class="Symbol">=</a> <a id="9807" href="Ledger.Dijkstra.Specification.Transaction.html#4120" class="Field">TxBody.txFee</a> <a id="9820" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9822" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSubTransactions-TopLevelTx"></a><a id="9836" href="Ledger.Dijkstra.Specification.Transaction.html#9836" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9866" class="Symbol">:</a> <a id="9868" href="Ledger.Dijkstra.Specification.Transaction.html#6314" class="Record">HasSubTransactions</a> <a id="9887" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a>
    <a id="9902" href="Ledger.Dijkstra.Specification.Transaction.html#9836" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9932" class="Symbol">.</a><a id="9933" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="9951" class="Symbol">=</a> <a id="9953" href="Ledger.Dijkstra.Specification.Transaction.html#4653" class="Field">TxBody.txSubTransactions</a> <a id="9978" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9980" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTopLevelGuards-SubLevelTx"></a><a id="9994" href="Ledger.Dijkstra.Specification.Transaction.html#9994" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="10023" class="Symbol">:</a> <a id="10025" href="Ledger.Dijkstra.Specification.Transaction.html#6525" class="Record">HasTopLevelGuards</a> <a id="10043" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a>
    <a id="10058" href="Ledger.Dijkstra.Specification.Transaction.html#9994" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="10087" class="Symbol">.</a><a id="10088" href="Ledger.Dijkstra.Specification.Transaction.html#6595" class="Field">TopLevelGuardsOf</a> <a id="10105" class="Symbol">=</a> <a id="10107" href="Ledger.Dijkstra.Specification.Transaction.html#4780" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="10139" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10141" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="10155" href="Ledger.Dijkstra.Specification.Transaction.html#10155" class="Function">HasDCerts-TxBody</a> <a id="10172" class="Symbol">:</a> <a id="10174" href="Ledger.Dijkstra.Specification.Transaction.html#7630" class="Record">HasDCerts</a> <a id="10184" class="Symbol">(</a><a id="10185" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="10192" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10199" class="Symbol">)</a>
    <a id="10205" href="Ledger.Dijkstra.Specification.Transaction.html#10155" class="Function">HasDCerts-TxBody</a> <a id="10222" class="Symbol">.</a><a id="10223" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="10232" class="Symbol">=</a> <a id="10234" href="Ledger.Dijkstra.Specification.Transaction.html#4078" class="Field">TxBody.txCerts</a>
    <a id="TransactionStructure.HasDCerts-Tx"></a><a id="10253" href="Ledger.Dijkstra.Specification.Transaction.html#10253" class="Function">HasDCerts-Tx</a> <a id="10266" class="Symbol">:</a> <a id="10268" href="Ledger.Dijkstra.Specification.Transaction.html#7630" class="Record">HasDCerts</a> <a id="10278" class="Symbol">(</a><a id="10279" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="10282" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10289" class="Symbol">)</a>
    <a id="10295" href="Ledger.Dijkstra.Specification.Transaction.html#10253" class="Function">HasDCerts-Tx</a> <a id="10308" class="Symbol">.</a><a id="10309" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="10318" class="Symbol">=</a> <a id="10320" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="10329" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10331" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="10345" href="Ledger.Dijkstra.Specification.Transaction.html#10345" class="Function">HasWithdrawals-TxBody</a> <a id="10367" class="Symbol">:</a> <a id="10369" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="10384" class="Symbol">(</a><a id="10385" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="10392" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10399" class="Symbol">)</a>
    <a id="10405" href="Ledger.Dijkstra.Specification.Transaction.html#10345" class="Function">HasWithdrawals-TxBody</a> <a id="10427" class="Symbol">.</a><a id="10428" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10442" class="Symbol">=</a> <a id="10444" href="Ledger.Dijkstra.Specification.Transaction.html#4175" class="Field">TxBody.txWithdrawals</a>
    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="10469" href="Ledger.Dijkstra.Specification.Transaction.html#10469" class="Function">HasWithdrawals-Tx</a> <a id="10487" class="Symbol">:</a> <a id="10489" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="10504" class="Symbol">(</a><a id="10505" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="10508" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10515" class="Symbol">)</a>
    <a id="10521" href="Ledger.Dijkstra.Specification.Transaction.html#10469" class="Function">HasWithdrawals-Tx</a> <a id="10539" class="Symbol">.</a><a id="10540" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10554" class="Symbol">=</a> <a id="10556" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="10570" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10572" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValidInterval-TxBody"></a><a id="10586" href="Ledger.Dijkstra.Specification.Transaction.html#10586" class="Function">HasValidInterval-TxBody</a> <a id="10610" class="Symbol">:</a> <a id="10612" href="Ledger.Dijkstra.Specification.Transaction.html#6965" class="Record">HasValidInterval</a> <a id="10629" class="Symbol">(</a><a id="10630" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="10637" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10644" class="Symbol">)</a>
    <a id="10650" href="Ledger.Dijkstra.Specification.Transaction.html#10586" class="Function">HasValidInterval-TxBody</a> <a id="10674" class="Symbol">.</a><a id="10675" href="Ledger.Dijkstra.Specification.Transaction.html#7024" class="Field">ValidIntervalOf</a> <a id="10691" class="Symbol">=</a> <a id="10693" href="Ledger.Dijkstra.Specification.Transaction.html#4218" class="Field">TxBody.txVldt</a>
    <a id="TransactionStructure.HasValidInterval-Tx"></a><a id="10711" href="Ledger.Dijkstra.Specification.Transaction.html#10711" class="Function">HasValidInterval-Tx</a> <a id="10731" class="Symbol">:</a> <a id="10733" href="Ledger.Dijkstra.Specification.Transaction.html#6965" class="Record">HasValidInterval</a> <a id="10750" class="Symbol">(</a><a id="10751" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="10754" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10761" class="Symbol">)</a>
    <a id="10767" href="Ledger.Dijkstra.Specification.Transaction.html#10711" class="Function">HasValidInterval-Tx</a> <a id="10787" class="Symbol">.</a><a id="10788" href="Ledger.Dijkstra.Specification.Transaction.html#7024" class="Field">ValidIntervalOf</a> <a id="10804" class="Symbol">=</a> <a id="10806" href="Ledger.Dijkstra.Specification.Transaction.html#7024" class="Field">ValidIntervalOf</a> <a id="10822" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10824" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSpendInputs-TxBody"></a><a id="10838" href="Ledger.Dijkstra.Specification.Transaction.html#10838" class="Function">HasSpendInputs-TxBody</a> <a id="10860" class="Symbol">:</a> <a id="10862" href="Ledger.Dijkstra.Specification.Transaction.html#7117" class="Record">HasSpendInputs</a> <a id="10877" class="Symbol">(</a><a id="10878" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="10885" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="10892" class="Symbol">)</a>
    <a id="10898" href="Ledger.Dijkstra.Specification.Transaction.html#10838" class="Function">HasSpendInputs-TxBody</a> <a id="10920" class="Symbol">.</a><a id="10921" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="10935" class="Symbol">=</a> <a id="10937" href="Ledger.Dijkstra.Specification.Transaction.html#3865" class="Field">TxBody.txIns</a>
    <a id="TransactionStructure.HasSpendInputs-Tx"></a><a id="10954" href="Ledger.Dijkstra.Specification.Transaction.html#10954" class="Function">HasSpendInputs-Tx</a> <a id="10972" class="Symbol">:</a> <a id="10974" href="Ledger.Dijkstra.Specification.Transaction.html#7117" class="Record">HasSpendInputs</a> <a id="10989" class="Symbol">(</a><a id="10990" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="10993" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11000" class="Symbol">)</a>
    <a id="11006" href="Ledger.Dijkstra.Specification.Transaction.html#10954" class="Function">HasSpendInputs-Tx</a> <a id="11024" class="Symbol">.</a><a id="11025" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="11039" class="Symbol">=</a> <a id="11041" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="11055" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11057" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasReferenceInputs-TxBody"></a><a id="11071" href="Ledger.Dijkstra.Specification.Transaction.html#11071" class="Function">HasReferenceInputs-TxBody</a> <a id="11097" class="Symbol">:</a> <a id="11099" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Record">HasReferenceInputs</a> <a id="11118" class="Symbol">(</a><a id="11119" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="11126" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11133" class="Symbol">)</a>
    <a id="11139" href="Ledger.Dijkstra.Specification.Transaction.html#11071" class="Function">HasReferenceInputs-TxBody</a> <a id="11165" class="Symbol">.</a><a id="11166" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="11184" class="Symbol">=</a> <a id="11186" href="Ledger.Dijkstra.Specification.Transaction.html#3903" class="Field">TxBody.referenceInputs</a>
    <a id="TransactionStructure.HasReferenceInputs-Tx"></a><a id="11213" href="Ledger.Dijkstra.Specification.Transaction.html#11213" class="Function">HasReferenceInputs-Tx</a> <a id="11235" class="Symbol">:</a> <a id="11237" href="Ledger.Dijkstra.Specification.Transaction.html#7246" class="Record">HasReferenceInputs</a> <a id="11256" class="Symbol">(</a><a id="11257" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="11260" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11267" class="Symbol">)</a>
    <a id="11273" href="Ledger.Dijkstra.Specification.Transaction.html#11213" class="Function">HasReferenceInputs-Tx</a> <a id="11295" class="Symbol">.</a><a id="11296" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="11314" class="Symbol">=</a> <a id="11316" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="11334" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11336" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMintedValue-TxBody"></a><a id="11350" href="Ledger.Dijkstra.Specification.Transaction.html#11350" class="Function">HasMintedValue-TxBody</a> <a id="11372" class="Symbol">:</a> <a id="11374" href="Ledger.Dijkstra.Specification.Transaction.html#7387" class="Record">HasMintedValue</a> <a id="11389" class="Symbol">(</a><a id="11390" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="11397" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11404" class="Symbol">)</a>
    <a id="11410" href="Ledger.Dijkstra.Specification.Transaction.html#11350" class="Function">HasMintedValue-TxBody</a> <a id="11432" class="Symbol">.</a><a id="11433" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="11447" class="Symbol">=</a> <a id="11449" href="Ledger.Dijkstra.Specification.Transaction.html#4537" class="Field">TxBody.mint</a>
    <a id="TransactionStructure.HasMintedValue-Tx"></a><a id="11465" href="Ledger.Dijkstra.Specification.Transaction.html#11465" class="Function">HasMintedValue-Tx</a> <a id="11483" class="Symbol">:</a> <a id="11485" href="Ledger.Dijkstra.Specification.Transaction.html#7387" class="Record">HasMintedValue</a> <a id="11500" class="Symbol">(</a><a id="11501" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="11504" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11511" class="Symbol">)</a>
    <a id="11517" href="Ledger.Dijkstra.Specification.Transaction.html#11465" class="Function">HasMintedValue-Tx</a> <a id="11535" class="Symbol">.</a><a id="11536" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="11550" class="Symbol">=</a> <a id="11552" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="11566" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11568" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovVotes-TxBody"></a><a id="11582" href="Ledger.Dijkstra.Specification.Transaction.html#11582" class="Function">HasListOfGovVotes-TxBody</a> <a id="11607" class="Symbol">:</a> <a id="11609" href="Ledger.Dijkstra.Specification.Transaction.html#8017" class="Record">HasListOfGovVotes</a> <a id="11627" class="Symbol">(</a><a id="11628" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="11635" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11642" class="Symbol">)</a>
    <a id="11648" href="Ledger.Dijkstra.Specification.Transaction.html#11582" class="Function">HasListOfGovVotes-TxBody</a> <a id="11673" class="Symbol">.</a><a id="11674" href="Ledger.Dijkstra.Specification.Transaction.html#8077" class="Field">ListOfGovVotesOf</a> <a id="11691" class="Symbol">=</a> <a id="11693" href="Ledger.Dijkstra.Specification.Transaction.html#4358" class="Field">TxBody.txGovVotes</a>
    <a id="TransactionStructure.HasListOfGovVotes-Tx"></a><a id="11715" href="Ledger.Dijkstra.Specification.Transaction.html#11715" class="Function">HasListOfGovVotes-Tx</a> <a id="11736" class="Symbol">:</a> <a id="11738" href="Ledger.Dijkstra.Specification.Transaction.html#8017" class="Record">HasListOfGovVotes</a> <a id="11756" class="Symbol">(</a><a id="11757" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="11760" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11767" class="Symbol">)</a>
    <a id="11773" href="Ledger.Dijkstra.Specification.Transaction.html#11715" class="Function">HasListOfGovVotes-Tx</a> <a id="11794" class="Symbol">.</a><a id="11795" href="Ledger.Dijkstra.Specification.Transaction.html#8077" class="Field">ListOfGovVotesOf</a> <a id="11812" class="Symbol">=</a> <a id="11814" href="Ledger.Dijkstra.Specification.Transaction.html#8077" class="Field">ListOfGovVotesOf</a> <a id="11831" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11833" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovProposals-TxBody"></a><a id="11847" href="Ledger.Dijkstra.Specification.Transaction.html#11847" class="Function">HasListOfGovProposals-TxBody</a> <a id="11876" class="Symbol">:</a> <a id="11878" href="Ledger.Dijkstra.Specification.Transaction.html#7857" class="Record">HasListOfGovProposals</a> <a id="11900" class="Symbol">(</a><a id="11901" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="11908" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="11915" class="Symbol">)</a>
    <a id="11921" href="Ledger.Dijkstra.Specification.Transaction.html#11847" class="Function">HasListOfGovProposals-TxBody</a> <a id="11950" class="Symbol">.</a><a id="11951" href="Ledger.Dijkstra.Specification.Transaction.html#7921" class="Field">ListOfGovProposalsOf</a> <a id="11972" class="Symbol">=</a> <a id="11974" href="Ledger.Dijkstra.Specification.Transaction.html#4402" class="Field">TxBody.txGovProposals</a>
    <a id="TransactionStructure.HasListOfGovProposals-Tx"></a><a id="12000" href="Ledger.Dijkstra.Specification.Transaction.html#12000" class="Function">HasListOfGovProposals-Tx</a> <a id="12025" class="Symbol">:</a> <a id="12027" href="Ledger.Dijkstra.Specification.Transaction.html#7857" class="Record">HasListOfGovProposals</a> <a id="12049" class="Symbol">(</a><a id="12050" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="12053" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12060" class="Symbol">)</a>
    <a id="12066" href="Ledger.Dijkstra.Specification.Transaction.html#12000" class="Function">HasListOfGovProposals-Tx</a> <a id="12091" class="Symbol">.</a><a id="12092" href="Ledger.Dijkstra.Specification.Transaction.html#7921" class="Field">ListOfGovProposalsOf</a> <a id="12113" class="Symbol">=</a> <a id="12115" href="Ledger.Dijkstra.Specification.Transaction.html#7921" class="Field">ListOfGovProposalsOf</a> <a id="12136" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12138" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMaybeNetworkId-TxBody"></a><a id="12152" href="Ledger.Dijkstra.Specification.Transaction.html#12152" class="Function">HasMaybeNetworkId-TxBody</a> <a id="12177" class="Symbol">:</a> <a id="12179" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasMaybeNetworkId</a> <a id="12197" class="Symbol">(</a><a id="12198" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="12205" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12212" class="Symbol">)</a>
    <a id="12218" href="Ledger.Dijkstra.Specification.Transaction.html#12152" class="Function">HasMaybeNetworkId-TxBody</a> <a id="12243" class="Symbol">.</a><a id="12244" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="12261" class="Symbol">=</a> <a id="12263" href="Ledger.Dijkstra.Specification.Transaction.html#4450" class="Field">TxBody.txNetworkId</a>
    <a id="TransactionStructure.HasMaybeNetworkId-Tx"></a><a id="12286" href="Ledger.Dijkstra.Specification.Transaction.html#12286" class="Function">HasMaybeNetworkId-Tx</a> <a id="12307" class="Symbol">:</a> <a id="12309" href="Ledger.Core.Specification.Address.html#1645" class="Record">HasMaybeNetworkId</a> <a id="12327" class="Symbol">(</a><a id="12328" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="12331" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12338" class="Symbol">)</a>
    <a id="12344" href="Ledger.Dijkstra.Specification.Transaction.html#12286" class="Function">HasMaybeNetworkId-Tx</a> <a id="12365" class="Symbol">.</a><a id="12366" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="12383" class="Symbol">=</a> <a id="12385" href="Ledger.Core.Specification.Address.html#1703" class="Field">MaybeNetworkIdOf</a> <a id="12402" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12404" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="12418" href="Ledger.Dijkstra.Specification.Transaction.html#12418" class="Function">HasFees?-TxBody</a> <a id="12434" class="Symbol">:</a> <a id="12436" class="Symbol">{</a><a id="12437" href="Ledger.Dijkstra.Specification.Transaction.html#12437" class="Bound">ℓ</a> <a id="12439" class="Symbol">:</a> <a id="12441" href="Ledger.Dijkstra.Specification.Transaction.html#763" class="Datatype">TxLevel</a><a id="12448" class="Symbol">}</a> <a id="12450" class="Symbol">→</a> <a id="12452" href="Ledger.Dijkstra.Specification.Transaction.html#7515" class="Record">HasFees?</a> <a id="12461" class="Symbol">(</a><a id="12462" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="12469" href="Ledger.Dijkstra.Specification.Transaction.html#12437" class="Bound">ℓ</a><a id="12470" class="Symbol">)</a>
    <a id="12476" href="Ledger.Dijkstra.Specification.Transaction.html#12418" class="Function">HasFees?-TxBody</a> <a id="12492" class="Symbol">{</a><a id="12493" href="Ledger.Dijkstra.Specification.Transaction.html#786" class="InductiveConstructor">TxLevelTop</a><a id="12503" class="Symbol">}</a> <a id="12505" class="Symbol">.</a><a id="12506" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Field">FeesOf?</a> <a id="12514" href="Ledger.Dijkstra.Specification.Transaction.html#12514" class="Bound">tbTop</a> <a id="12520" class="Symbol">=</a> <a id="12522" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12527" class="Symbol">(</a><a id="12528" href="Ledger.Dijkstra.Specification.Transaction.html#4120" class="Field">TxBody.txFee</a> <a id="12541" href="Ledger.Dijkstra.Specification.Transaction.html#12514" class="Bound">tbTop</a><a id="12546" class="Symbol">)</a>
    <a id="12552" href="Ledger.Dijkstra.Specification.Transaction.html#12418" class="Function">HasFees?-TxBody</a> <a id="12568" class="Symbol">{</a><a id="12569" href="Ledger.Dijkstra.Specification.Transaction.html#797" class="InductiveConstructor">TxLevelSub</a><a id="12579" class="Symbol">}</a> <a id="12581" class="Symbol">.</a><a id="12582" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Field">FeesOf?</a> <a id="12590" href="Ledger.Dijkstra.Specification.Transaction.html#12590" class="Bound">tbSub</a> <a id="12596" class="Symbol">=</a> <a id="12598" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="TransactionStructure.HasFees?-Tx"></a><a id="12610" href="Ledger.Dijkstra.Specification.Transaction.html#12610" class="Function">HasFees?-Tx</a> <a id="12622" class="Symbol">:</a> <a id="12624" href="Ledger.Dijkstra.Specification.Transaction.html#7515" class="Record">HasFees?</a> <a id="12633" class="Symbol">(</a><a id="12634" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="12637" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12644" class="Symbol">)</a>
    <a id="12650" href="Ledger.Dijkstra.Specification.Transaction.html#12610" class="Function">HasFees?-Tx</a> <a id="12662" class="Symbol">.</a><a id="12663" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Field">FeesOf?</a> <a id="12671" class="Symbol">=</a> <a id="12673" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Field">FeesOf?</a> <a id="12681" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12683" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-TxBody"></a><a id="12697" href="Ledger.Dijkstra.Specification.Transaction.html#12697" class="Function">HasTxId-TxBody</a> <a id="12712" class="Symbol">:</a> <a id="12714" href="Ledger.Dijkstra.Specification.Transaction.html#6756" class="Record">HasTxId</a> <a id="12722" class="Symbol">(</a><a id="12723" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="12730" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12737" class="Symbol">)</a>
    <a id="12743" href="Ledger.Dijkstra.Specification.Transaction.html#12697" class="Function">HasTxId-TxBody</a> <a id="12758" class="Symbol">.</a><a id="12759" href="Ledger.Dijkstra.Specification.Transaction.html#6806" class="Field">TxIdOf</a> <a id="12766" class="Symbol">=</a> <a id="12768" href="Ledger.Dijkstra.Specification.Transaction.html#4042" class="Field">TxBody.txId</a>
    <a id="TransactionStructure.HasTxId-Tx"></a><a id="12784" href="Ledger.Dijkstra.Specification.Transaction.html#12784" class="Function">HasTxId-Tx</a> <a id="12795" class="Symbol">:</a> <a id="12797" href="Ledger.Dijkstra.Specification.Transaction.html#6756" class="Record">HasTxId</a> <a id="12805" class="Symbol">(</a><a id="12806" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="12809" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12816" class="Symbol">)</a>
    <a id="12822" href="Ledger.Dijkstra.Specification.Transaction.html#12784" class="Function">HasTxId-Tx</a> <a id="12833" class="Symbol">.</a><a id="12834" href="Ledger.Dijkstra.Specification.Transaction.html#6806" class="Field">TxIdOf</a> <a id="12841" class="Symbol">=</a> <a id="12843" href="Ledger.Dijkstra.Specification.Transaction.html#6806" class="Field">TxIdOf</a> <a id="12850" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12852" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDonations-TxBody"></a><a id="12866" href="Ledger.Dijkstra.Specification.Transaction.html#12866" class="Function">HasDonations-TxBody</a> <a id="12886" class="Symbol">:</a> <a id="12888" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="12901" class="Symbol">(</a><a id="12902" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="12909" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="12916" class="Symbol">)</a>
    <a id="12922" href="Ledger.Dijkstra.Specification.Transaction.html#12866" class="Function">HasDonations-TxBody</a> <a id="12942" class="Symbol">.</a><a id="12943" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="12955" class="Symbol">=</a> <a id="12957" href="Ledger.Dijkstra.Specification.Transaction.html#4317" class="Field">TxBody.txDonation</a>
    <a id="TransactionStructure.HasDonations-Tx"></a><a id="12979" href="Ledger.Dijkstra.Specification.Transaction.html#12979" class="Function">HasDonations-Tx</a> <a id="12995" class="Symbol">:</a> <a id="12997" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="13010" class="Symbol">(</a><a id="13011" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="13014" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13021" class="Symbol">)</a>
    <a id="13027" href="Ledger.Dijkstra.Specification.Transaction.html#12979" class="Function">HasDonations-Tx</a> <a id="13043" class="Symbol">.</a><a id="13044" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="13056" class="Symbol">=</a> <a id="13058" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="13070" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13072" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="13086" href="Ledger.Dijkstra.Specification.Transaction.html#13086" class="Function">HasCoin-TxOut</a> <a id="13100" class="Symbol">:</a> <a id="13102" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="13110" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
    <a id="13120" href="Ledger.Dijkstra.Specification.Transaction.html#13086" class="Function">HasCoin-TxOut</a> <a id="13134" class="Symbol">.</a><a id="13135" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="13143" class="Symbol">=</a> <a id="13145" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="13150" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13152" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13158" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13160" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="13171" href="Ledger.Dijkstra.Specification.Transaction.html#13171" class="Function">HasData-TxWitnesses</a> <a id="13191" class="Symbol">:</a> <a id="13193" href="Ledger.Dijkstra.Specification.Transaction.html#7748" class="Record">HasData</a> <a id="13201" class="Symbol">(</a><a id="13202" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="13214" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13221" class="Symbol">)</a>
    <a id="13227" href="Ledger.Dijkstra.Specification.Transaction.html#13171" class="Function">HasData-TxWitnesses</a> <a id="13247" class="Symbol">.</a><a id="13248" href="Ledger.Dijkstra.Specification.Transaction.html#7798" class="Field">DataOf</a> <a id="13255" class="Symbol">=</a> <a id="13257" href="Ledger.Dijkstra.Specification.Transaction.html#5150" class="Field">TxWitnesses.txData</a>
    <a id="TransactionStructure.HasData-Tx"></a><a id="13280" href="Ledger.Dijkstra.Specification.Transaction.html#13280" class="Function">HasData-Tx</a> <a id="13291" class="Symbol">:</a> <a id="13293" href="Ledger.Dijkstra.Specification.Transaction.html#7748" class="Record">HasData</a> <a id="13301" class="Symbol">(</a><a id="13302" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="13305" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13312" class="Symbol">)</a>
    <a id="13318" href="Ledger.Dijkstra.Specification.Transaction.html#13280" class="Function">HasData-Tx</a> <a id="13329" class="Symbol">.</a><a id="13330" href="Ledger.Dijkstra.Specification.Transaction.html#7798" class="Field">DataOf</a> <a id="13337" class="Symbol">=</a> <a id="13339" href="Ledger.Dijkstra.Specification.Transaction.html#7798" class="Field">DataOf</a> <a id="13346" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13348" href="Ledger.Dijkstra.Specification.Transaction.html#5721" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasGuards-TxBody"></a><a id="13367" href="Ledger.Dijkstra.Specification.Transaction.html#13367" class="Function">HasGuards-TxBody</a> <a id="13384" class="Symbol">:</a> <a id="13386" href="Ledger.Dijkstra.Specification.Transaction.html#8161" class="Record">HasGuards</a> <a id="13396" class="Symbol">(</a><a id="13397" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="13404" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13411" class="Symbol">)</a>
    <a id="13417" href="Ledger.Dijkstra.Specification.Transaction.html#13367" class="Function">HasGuards-TxBody</a> <a id="13434" class="Symbol">.</a><a id="13435" href="Ledger.Dijkstra.Specification.Transaction.html#8213" class="Field">GuardsOf</a> <a id="13444" class="Symbol">=</a> <a id="13446" href="Ledger.Dijkstra.Specification.Transaction.html#4731" class="Field">TxBody.txGuards</a>
    <a id="TransactionStructure.HasGuards-Tx"></a><a id="13466" href="Ledger.Dijkstra.Specification.Transaction.html#13466" class="Function">HasGuards-Tx</a> <a id="13479" class="Symbol">:</a> <a id="13481" href="Ledger.Dijkstra.Specification.Transaction.html#8161" class="Record">HasGuards</a> <a id="13491" class="Symbol">(</a><a id="13492" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="13495" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13502" class="Symbol">)</a>
    <a id="13508" href="Ledger.Dijkstra.Specification.Transaction.html#13466" class="Function">HasGuards-Tx</a> <a id="13521" class="Symbol">.</a><a id="13522" href="Ledger.Dijkstra.Specification.Transaction.html#8213" class="Field">GuardsOf</a> <a id="13531" class="Symbol">=</a> <a id="13533" href="Ledger.Dijkstra.Specification.Transaction.html#8213" class="Field">GuardsOf</a> <a id="13542" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13544" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasScripts-TxWitnesses"></a><a id="13558" href="Ledger.Dijkstra.Specification.Transaction.html#13558" class="Function">HasScripts-TxWitnesses</a> <a id="13581" class="Symbol">:</a> <a id="13583" href="Ledger.Dijkstra.Specification.Transaction.html#8281" class="Record">HasScripts</a> <a id="13594" class="Symbol">(</a><a id="13595" href="Ledger.Dijkstra.Specification.Transaction.html#5003" class="Record">TxWitnesses</a> <a id="13607" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13614" class="Symbol">)</a>
    <a id="13620" href="Ledger.Dijkstra.Specification.Transaction.html#13558" class="Function">HasScripts-TxWitnesses</a> <a id="13643" class="Symbol">.</a><a id="13644" href="Ledger.Dijkstra.Specification.Transaction.html#8334" class="Field">ScriptsOf</a> <a id="13654" class="Symbol">=</a> <a id="13656" href="Ledger.Dijkstra.Specification.Transaction.html#5118" class="Field">TxWitnesses.scripts</a>
    <a id="TransactionStructure.HasScripts-Tx"></a><a id="13680" href="Ledger.Dijkstra.Specification.Transaction.html#13680" class="Function">HasScripts-Tx</a> <a id="13694" class="Symbol">:</a> <a id="13696" href="Ledger.Dijkstra.Specification.Transaction.html#8281" class="Record">HasScripts</a> <a id="13707" class="Symbol">(</a><a id="13708" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="13711" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13718" class="Symbol">)</a>
    <a id="13724" href="Ledger.Dijkstra.Specification.Transaction.html#13680" class="Function">HasScripts-Tx</a> <a id="13738" class="Symbol">.</a><a id="13739" href="Ledger.Dijkstra.Specification.Transaction.html#8334" class="Field">ScriptsOf</a> <a id="13749" class="Symbol">=</a> <a id="13751" href="Ledger.Dijkstra.Specification.Transaction.html#8334" class="Field">ScriptsOf</a> <a id="13761" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13763" href="Ledger.Dijkstra.Specification.Transaction.html#5721" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasTxOuts-TxBody"></a><a id="13782" href="Ledger.Dijkstra.Specification.Transaction.html#13782" class="Function">HasTxOuts-TxBody</a> <a id="13799" class="Symbol">:</a> <a id="13801" href="Ledger.Dijkstra.Specification.Transaction.html#8400" class="Record">HasTxOuts</a> <a id="13811" class="Symbol">(</a><a id="13812" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="13819" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13826" class="Symbol">)</a>
    <a id="13832" href="Ledger.Dijkstra.Specification.Transaction.html#13782" class="Function">HasTxOuts-TxBody</a> <a id="13849" class="Symbol">.</a><a id="13850" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a> <a id="13859" class="Symbol">=</a> <a id="13861" href="Ledger.Dijkstra.Specification.Transaction.html#4000" class="Field">TxBody.txOuts</a>
    <a id="TransactionStructure.HasTxOuts-Tx"></a><a id="13879" href="Ledger.Dijkstra.Specification.Transaction.html#13879" class="Function">HasTxOuts-Tx</a> <a id="13892" class="Symbol">:</a> <a id="13894" href="Ledger.Dijkstra.Specification.Transaction.html#8400" class="Record">HasTxOuts</a> <a id="13904" class="Symbol">(</a><a id="13905" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="13908" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="13915" class="Symbol">)</a>
    <a id="13921" href="Ledger.Dijkstra.Specification.Transaction.html#13879" class="Function">HasTxOuts-Tx</a> <a id="13934" class="Symbol">.</a><a id="13935" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a> <a id="13944" class="Symbol">=</a> <a id="13946" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a> <a id="13955" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13957" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasRequiredSingerHashes-TxBody"></a><a id="13971" href="Ledger.Dijkstra.Specification.Transaction.html#13971" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="14002" class="Symbol">:</a> <a id="14004" href="Ledger.Dijkstra.Specification.Transaction.html#8518" class="Record">HasRequiredSingerHashes</a> <a id="14028" class="Symbol">(</a><a id="14029" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="14036" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="14043" class="Symbol">)</a>
    <a id="14049" href="Ledger.Dijkstra.Specification.Transaction.html#13971" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="14080" class="Symbol">.</a><a id="14081" href="Ledger.Dijkstra.Specification.Transaction.html#8584" class="Field">RequiredSignerHashesOf</a> <a id="14104" class="Symbol">=</a> <a id="14106" href="Ledger.Dijkstra.Specification.Transaction.html#4895" class="Function">TxBody.requiredSignerHashes</a>
    <a id="TransactionStructure.HasRequiredSingerHashes-Tx"></a><a id="14138" href="Ledger.Dijkstra.Specification.Transaction.html#14138" class="Function">HasRequiredSingerHashes-Tx</a> <a id="14165" class="Symbol">:</a> <a id="14167" href="Ledger.Dijkstra.Specification.Transaction.html#8518" class="Record">HasRequiredSingerHashes</a> <a id="14191" class="Symbol">(</a><a id="14192" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="14195" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="14202" class="Symbol">)</a>
    <a id="14208" href="Ledger.Dijkstra.Specification.Transaction.html#14138" class="Function">HasRequiredSingerHashes-Tx</a> <a id="14235" class="Symbol">.</a><a id="14236" href="Ledger.Dijkstra.Specification.Transaction.html#8584" class="Field">RequiredSignerHashesOf</a> <a id="14259" class="Symbol">=</a> <a id="14261" href="Ledger.Dijkstra.Specification.Transaction.html#8584" class="Field">RequiredSignerHashesOf</a> <a id="14284" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14286" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCurrentTreasury-TxBody"></a><a id="14300" href="Ledger.Dijkstra.Specification.Transaction.html#14300" class="Function">HasCurrentTreasury-TxBody</a> <a id="14326" class="Symbol">:</a> <a id="14328" href="Ledger.Dijkstra.Specification.Transaction.html#8677" class="Record">HasCurrentTreasury</a> <a id="14347" class="Symbol">(</a><a id="14348" href="Ledger.Dijkstra.Specification.Transaction.html#3789" class="Record">TxBody</a> <a id="14355" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="14362" class="Symbol">)</a>
    <a id="14368" href="Ledger.Dijkstra.Specification.Transaction.html#14300" class="Function">HasCurrentTreasury-TxBody</a> <a id="14394" class="Symbol">.</a><a id="14395" href="Ledger.Dijkstra.Specification.Transaction.html#8738" class="Field">CurrentTreasuryOf</a> <a id="14413" class="Symbol">=</a> <a id="14415" href="Ledger.Dijkstra.Specification.Transaction.html#4495" class="Field">TxBody.currentTreasury</a>
    <a id="TransactionStructure.HasCurrentTreasury-Tx"></a><a id="14442" href="Ledger.Dijkstra.Specification.Transaction.html#14442" class="Function">HasCurrentTreasury-Tx</a> <a id="14464" class="Symbol">:</a> <a id="14466" href="Ledger.Dijkstra.Specification.Transaction.html#8677" class="Record">HasCurrentTreasury</a> <a id="14485" class="Symbol">(</a><a id="14486" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="14489" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a><a id="14496" class="Symbol">)</a>
    <a id="14502" href="Ledger.Dijkstra.Specification.Transaction.html#14442" class="Function">HasCurrentTreasury-Tx</a> <a id="14524" class="Symbol">.</a><a id="14525" href="Ledger.Dijkstra.Specification.Transaction.html#8738" class="Field">CurrentTreasuryOf</a> <a id="14543" class="Symbol">=</a> <a id="14545" href="Ledger.Dijkstra.Specification.Transaction.html#8738" class="Field">CurrentTreasuryOf</a> <a id="14563" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14565" href="Ledger.Dijkstra.Specification.Transaction.html#5583" class="Field">TxBodyOf</a>


  <a id="14578" class="Comment">-- Helpers --</a>
  <a id="14594" class="Comment">--| extract scripts from TxOuts</a>
  <a id="TransactionStructure.txOutToScript"></a><a id="14628" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="14642" class="Symbol">:</a> <a id="14644" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a> <a id="14650" class="Symbol">→</a> <a id="14652" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14658" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="14667" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="14681" class="Symbol">(_</a> <a id="14684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14686" class="Symbol">_</a> <a id="14688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14690" class="Symbol">_</a> <a id="14692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14694" href="Ledger.Dijkstra.Specification.Transaction.html#14694" class="Bound">s</a><a id="14695" class="Symbol">)</a> <a id="14697" class="Symbol">=</a> <a id="14699" href="Ledger.Dijkstra.Specification.Transaction.html#14694" class="Bound">s</a>
  <a id="14703" class="Comment">--| extract datum from TxOuts</a>
  <a id="TransactionStructure.txOutToDatum"></a><a id="14735" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="14748" class="Symbol">:</a> <a id="14750" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a> <a id="14756" class="Symbol">→</a> <a id="14758" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14764" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="14772" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="14785" class="Symbol">(_</a> <a id="14788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14790" class="Symbol">_</a> <a id="14792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14794" href="Ledger.Dijkstra.Specification.Transaction.html#14794" class="Bound">d</a> <a id="14796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14798" class="Symbol">_)</a> <a id="14801" class="Symbol">=</a> <a id="14803" href="Ledger.Dijkstra.Specification.Transaction.html#14794" class="Bound">d</a> <a id="14805" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="14809" href="Data.Sum.html#787" class="Function">isInj₁</a>
  <a id="14818" class="Comment">--| extract value from TxOuts</a>
  <a id="TransactionStructure.txOutToValue"></a><a id="14850" href="Ledger.Dijkstra.Specification.Transaction.html#14850" class="Function">txOutToValue</a> <a id="14863" class="Symbol">:</a> <a id="14865" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a> <a id="14871" class="Symbol">→</a> <a id="14873" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="14881" href="Ledger.Dijkstra.Specification.Transaction.html#14850" class="Function">txOutToValue</a> <a id="14894" class="Symbol">(_</a> <a id="14897" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14899" href="Ledger.Dijkstra.Specification.Transaction.html#14899" class="Bound">v</a> <a id="14901" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14903" class="Symbol">_</a> <a id="14905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14907" class="Symbol">_)</a> <a id="14910" class="Symbol">=</a> <a id="14912" href="Ledger.Dijkstra.Specification.Transaction.html#14899" class="Bound">v</a>
  <a id="14916" class="Comment">--| extract set of values from a UTxO</a>
  <a id="TransactionStructure.valuesOfUTxO"></a><a id="14956" href="Ledger.Dijkstra.Specification.Transaction.html#14956" class="Function">valuesOfUTxO</a> <a id="14969" class="Symbol">:</a> <a id="14971" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="14976" class="Symbol">→</a> <a id="14978" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14980" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="14988" href="Ledger.Dijkstra.Specification.Transaction.html#14956" class="Function">valuesOfUTxO</a> <a id="15001" class="Symbol">=</a> <a id="15003" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="15008" href="Ledger.Dijkstra.Specification.Transaction.html#14850" class="Function">txOutToValue</a> <a id="15021" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15023" href="Class.IsSet.html#959" class="Function">range</a>

  <a id="15032" class="Comment">--| INPUTS ---------------------------------------------------------------------</a>
  <a id="15115" class="Comment">--| Sets of TxIns can come from</a>
  <a id="15149" class="Comment">--| spending inputs</a>
  <a id="TransactionStructure.allSpendInputs"></a><a id="15171" href="Ledger.Dijkstra.Specification.Transaction.html#15171" class="Function">allSpendInputs</a> <a id="15186" class="Symbol">:</a> <a id="15188" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="15199" class="Symbol">→</a> <a id="15201" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15203" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
  <a id="15210" href="Ledger.Dijkstra.Specification.Transaction.html#15171" class="Function">allSpendInputs</a> <a id="15225" href="Ledger.Dijkstra.Specification.Transaction.html#15225" class="Bound">txTop</a> <a id="15231" class="Symbol">=</a> <a id="15233" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="15240" class="Symbol">(λ</a> <a id="15243" href="Ledger.Dijkstra.Specification.Transaction.html#15243" class="Bound">acc</a> <a id="15247" href="Ledger.Dijkstra.Specification.Transaction.html#15247" class="Bound">txSub</a> <a id="15253" class="Symbol">→</a> <a id="15255" href="Ledger.Dijkstra.Specification.Transaction.html#15243" class="Bound">acc</a> <a id="15259" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15261" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="15275" href="Ledger.Dijkstra.Specification.Transaction.html#15247" class="Bound">txSub</a><a id="15280" class="Symbol">)</a>
                                <a id="15314" class="Symbol">(</a><a id="15315" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="15329" href="Ledger.Dijkstra.Specification.Transaction.html#15225" class="Bound">txTop</a><a id="15334" class="Symbol">)</a>
                                <a id="15368" class="Symbol">(</a><a id="15369" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="15387" href="Ledger.Dijkstra.Specification.Transaction.html#15225" class="Bound">txTop</a><a id="15392" class="Symbol">)</a>
  <a id="TransactionStructure.allSpendInputsList"></a><a id="15396" href="Ledger.Dijkstra.Specification.Transaction.html#15396" class="Function">allSpendInputsList</a> <a id="15415" class="Symbol">:</a> <a id="15417" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="15428" class="Symbol">→</a> <a id="15430" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15435" class="Symbol">(</a><a id="15436" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15438" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a><a id="15442" class="Symbol">)</a>
  <a id="15446" href="Ledger.Dijkstra.Specification.Transaction.html#15396" class="Function">allSpendInputsList</a> <a id="15465" href="Ledger.Dijkstra.Specification.Transaction.html#15465" class="Bound">t</a> <a id="15467" class="Symbol">=</a> <a id="15469" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="15483" href="Ledger.Dijkstra.Specification.Transaction.html#15465" class="Bound">t</a> <a id="15485" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15487" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15491" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="15505" class="Symbol">(</a><a id="15506" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="15524" href="Ledger.Dijkstra.Specification.Transaction.html#15465" class="Bound">t</a><a id="15525" class="Symbol">)</a>
  <a id="15529" class="Comment">--| reference inputs</a>
  <a id="TransactionStructure.allReferenceInputs"></a><a id="15552" href="Ledger.Dijkstra.Specification.Transaction.html#15552" class="Function">allReferenceInputs</a> <a id="15571" class="Symbol">:</a> <a id="15573" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="15584" class="Symbol">→</a> <a id="15586" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15588" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a>
  <a id="15595" href="Ledger.Dijkstra.Specification.Transaction.html#15552" class="Function">allReferenceInputs</a> <a id="15614" href="Ledger.Dijkstra.Specification.Transaction.html#15614" class="Bound">txTop</a> <a id="15620" class="Symbol">=</a> <a id="15622" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="15629" class="Symbol">(λ</a> <a id="15632" href="Ledger.Dijkstra.Specification.Transaction.html#15632" class="Bound">acc</a> <a id="15636" href="Ledger.Dijkstra.Specification.Transaction.html#15636" class="Bound">txSub</a> <a id="15642" class="Symbol">→</a> <a id="15644" href="Ledger.Dijkstra.Specification.Transaction.html#15632" class="Bound">acc</a> <a id="15648" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15650" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="15668" href="Ledger.Dijkstra.Specification.Transaction.html#15636" class="Bound">txSub</a><a id="15673" class="Symbol">)</a>
                                    <a id="15711" class="Symbol">(</a><a id="15712" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="15730" href="Ledger.Dijkstra.Specification.Transaction.html#15614" class="Bound">txTop</a><a id="15735" class="Symbol">)</a>
                                    <a id="15773" class="Symbol">(</a><a id="15774" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="15792" href="Ledger.Dijkstra.Specification.Transaction.html#15614" class="Bound">txTop</a><a id="15797" class="Symbol">)</a>

  <a id="15802" class="Comment">--| OUTPUTS -------------------------------------------------------------------</a>
  <a id="15884" class="Comment">--|</a>
  <a id="15890" class="Comment">--| Sets of TxOuts can come from the range of...</a>
  <a id="15941" class="Comment">--|</a>
  <a id="15947" class="Comment">--| ...a UTxO</a>
  <a id="15963" href="Ledger.Dijkstra.Specification.Transaction.html#15963" class="Function">_</a> <a id="15965" class="Symbol">:</a> <a id="15967" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="15972" class="Symbol">→</a> <a id="15974" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15976" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
  <a id="15984" class="Symbol">_</a> <a id="15986" class="Symbol">=</a> <a id="15988" href="Class.IsSet.html#959" class="Function">range</a>
  <a id="15996" class="Comment">--|</a>
  <a id="16002" class="Comment">--| ...the txOuts field of a transaction</a>
  <a id="16045" href="Ledger.Dijkstra.Specification.Transaction.html#16045" class="Function">_</a> <a id="16047" class="Symbol">:</a> <a id="16049" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16052" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16060" class="Symbol">→</a> <a id="16062" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16064" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
  <a id="16072" class="Symbol">_</a> <a id="16074" class="Symbol">=</a> <a id="16076" href="Class.IsSet.html#959" class="Function">range</a> <a id="16082" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16084" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a>
  <a id="16095" class="Comment">--|</a>
  <a id="16101" class="Comment">--| ...a UTxO restricted to spend inputs of a Tx</a>
  <a id="TransactionStructure.spendTxOuts"></a><a id="16152" href="Ledger.Dijkstra.Specification.Transaction.html#16152" class="Function">spendTxOuts</a> <a id="16164" class="Symbol">:</a> <a id="16166" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16169" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16177" class="Symbol">→</a> <a id="16179" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="16184" class="Symbol">→</a> <a id="16186" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16188" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
  <a id="16196" href="Ledger.Dijkstra.Specification.Transaction.html#16152" class="Function">spendTxOuts</a> <a id="16208" href="Ledger.Dijkstra.Specification.Transaction.html#16208" class="Bound">tx</a> <a id="16211" href="Ledger.Dijkstra.Specification.Transaction.html#16211" class="Bound">utxo</a> <a id="16216" class="Symbol">=</a> <a id="16218" href="Class.IsSet.html#959" class="Function">range</a> <a id="16224" class="Symbol">(</a><a id="16225" href="Ledger.Dijkstra.Specification.Transaction.html#16211" class="Bound">utxo</a> <a id="16230" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="16232" href="Ledger.Dijkstra.Specification.Transaction.html#7174" class="Field">SpendInputsOf</a> <a id="16246" href="Ledger.Dijkstra.Specification.Transaction.html#16208" class="Bound">tx</a><a id="16248" class="Symbol">)</a>
  <a id="16252" class="Comment">--|</a>
  <a id="16258" class="Comment">--| ...a UTxO restricted to reference inputs of a Tx</a>
  <a id="TransactionStructure.referencedTxOuts"></a><a id="16313" href="Ledger.Dijkstra.Specification.Transaction.html#16313" class="Function">referencedTxOuts</a> <a id="16330" class="Symbol">:</a> <a id="16332" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16335" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16343" class="Symbol">→</a> <a id="16345" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="16350" class="Symbol">→</a> <a id="16352" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16354" href="Ledger.Dijkstra.Specification.Transaction.html#3072" class="Function">TxOut</a>
  <a id="16362" href="Ledger.Dijkstra.Specification.Transaction.html#16313" class="Function">referencedTxOuts</a> <a id="16379" href="Ledger.Dijkstra.Specification.Transaction.html#16379" class="Bound">tx</a> <a id="16382" href="Ledger.Dijkstra.Specification.Transaction.html#16382" class="Bound">utxo</a> <a id="16387" class="Symbol">=</a> <a id="16389" href="Class.IsSet.html#959" class="Function">range</a> <a id="16395" class="Symbol">(</a><a id="16396" href="Ledger.Dijkstra.Specification.Transaction.html#16382" class="Bound">utxo</a> <a id="16401" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="16403" href="Ledger.Dijkstra.Specification.Transaction.html#7307" class="Field">ReferenceInputsOf</a> <a id="16421" href="Ledger.Dijkstra.Specification.Transaction.html#16379" class="Bound">tx</a><a id="16423" class="Symbol">)</a>
  <a id="16427" class="Comment">--|</a>
  <a id="16433" class="Comment">--| Sets of Scripts can come from the TxOuts of...</a>
  <a id="16486" class="Comment">--|</a>
  <a id="16492" class="Comment">--| ...a UTxO</a>
  <a id="TransactionStructure.scriptsOfUTxO"></a><a id="16508" href="Ledger.Dijkstra.Specification.Transaction.html#16508" class="Function">scriptsOfUTxO</a> <a id="16522" class="Symbol">:</a> <a id="16524" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="16529" class="Symbol">→</a> <a id="16531" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16533" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16542" href="Ledger.Dijkstra.Specification.Transaction.html#16508" class="Function">scriptsOfUTxO</a> <a id="16556" class="Symbol">=</a> <a id="16558" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16569" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="16583" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16585" href="Class.IsSet.html#959" class="Function">range</a>
  <a id="16593" class="Comment">--|</a>
  <a id="16599" class="Comment">--| ...a transaction</a>
  <a id="TransactionStructure.scriptsOfTx"></a><a id="16622" href="Ledger.Dijkstra.Specification.Transaction.html#16622" class="Function">scriptsOfTx</a> <a id="16634" class="Symbol">:</a> <a id="16636" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16639" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16647" class="Symbol">→</a> <a id="16649" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16651" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16660" href="Ledger.Dijkstra.Specification.Transaction.html#16622" class="Function">scriptsOfTx</a> <a id="16672" class="Symbol">=</a> <a id="16674" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16685" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="16699" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16701" href="Class.IsSet.html#959" class="Function">range</a> <a id="16707" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16709" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a>
  <a id="16720" class="Comment">--|</a>
  <a id="16726" class="Comment">--| ...spendTxOuts</a>
  <a id="TransactionStructure.spendScripts"></a><a id="16747" href="Ledger.Dijkstra.Specification.Transaction.html#16747" class="Function">spendScripts</a> <a id="16760" class="Symbol">:</a> <a id="16762" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16765" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16773" class="Symbol">→</a> <a id="16775" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="16780" class="Symbol">→</a> <a id="16782" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16784" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16793" href="Ledger.Dijkstra.Specification.Transaction.html#16747" class="Function">spendScripts</a> <a id="16806" class="Symbol">=</a> <a id="16808" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16819" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="16833" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="16836" href="Ledger.Dijkstra.Specification.Transaction.html#16152" class="Function">spendTxOuts</a>
  <a id="16850" class="Comment">--|</a>
  <a id="16856" class="Comment">--| ...referencedTxOuts</a>
  <a id="TransactionStructure.referenceScripts"></a><a id="16882" href="Ledger.Dijkstra.Specification.Transaction.html#16882" class="Function">referenceScripts</a> <a id="16899" class="Symbol">:</a> <a id="16901" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="16904" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="16912" class="Symbol">→</a> <a id="16914" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="16919" class="Symbol">→</a> <a id="16921" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16923" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16932" href="Ledger.Dijkstra.Specification.Transaction.html#16882" class="Function">referenceScripts</a> <a id="16949" class="Symbol">=</a> <a id="16951" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16962" href="Ledger.Dijkstra.Specification.Transaction.html#14628" class="Function">txOutToScript</a> <a id="16976" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="16979" href="Ledger.Dijkstra.Specification.Transaction.html#16313" class="Function">referencedTxOuts</a>
  <a id="16998" class="Comment">--|</a>
  <a id="17004" class="Comment">--| Sets of Scripts can also come from...</a>
  <a id="17048" class="Comment">--|</a>
  <a id="17054" class="Comment">--| ...unioning the referenceScripts of a batch</a>
  <a id="TransactionStructure.allReferenceScripts"></a><a id="17104" href="Ledger.Dijkstra.Specification.Transaction.html#17104" class="Function">allReferenceScripts</a> <a id="17124" class="Symbol">:</a> <a id="17126" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="17137" class="Symbol">→</a> <a id="17139" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="17144" class="Symbol">→</a> <a id="17146" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17148" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17157" href="Ledger.Dijkstra.Specification.Transaction.html#17104" class="Function">allReferenceScripts</a> <a id="17177" href="Ledger.Dijkstra.Specification.Transaction.html#17177" class="Bound">tx</a> <a id="17180" href="Ledger.Dijkstra.Specification.Transaction.html#17180" class="Bound">utxo</a> <a id="17185" class="Symbol">=</a>
    <a id="17191" href="Data.List.Base.html#4227" class="Function">foldl</a> <a id="17197" class="Symbol">(λ</a> <a id="17200" href="Ledger.Dijkstra.Specification.Transaction.html#17200" class="Bound">acc</a> <a id="17204" href="Ledger.Dijkstra.Specification.Transaction.html#17204" class="Bound">t</a> <a id="17206" class="Symbol">→</a> <a id="17208" href="Ledger.Dijkstra.Specification.Transaction.html#17200" class="Bound">acc</a> <a id="17212" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17214" href="Ledger.Dijkstra.Specification.Transaction.html#16882" class="Function">referenceScripts</a> <a id="17231" href="Ledger.Dijkstra.Specification.Transaction.html#17204" class="Bound">t</a> <a id="17233" href="Ledger.Dijkstra.Specification.Transaction.html#17180" class="Bound">utxo</a><a id="17237" class="Symbol">)</a>
          <a id="17249" class="Symbol">(</a><a id="17250" href="Ledger.Dijkstra.Specification.Transaction.html#16882" class="Function">referenceScripts</a> <a id="17267" href="Ledger.Dijkstra.Specification.Transaction.html#17177" class="Bound">tx</a> <a id="17270" href="Ledger.Dijkstra.Specification.Transaction.html#17180" class="Bound">utxo</a><a id="17274" class="Symbol">)</a> <a id="17276" class="Symbol">(</a><a id="17277" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="17295" href="Ledger.Dijkstra.Specification.Transaction.html#17177" class="Bound">tx</a><a id="17297" class="Symbol">)</a>
  <a id="17301" class="Comment">--|</a>
  <a id="17307" class="Comment">--| ...a transactions&#39;s witness field</a>
  <a id="TransactionStructure.witnessScripts"></a><a id="17347" href="Ledger.Dijkstra.Specification.Transaction.html#17347" class="Function">witnessScripts</a> <a id="17362" class="Symbol">:</a> <a id="17364" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="17367" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="17375" class="Symbol">→</a> <a id="17377" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17379" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17388" href="Ledger.Dijkstra.Specification.Transaction.html#17347" class="Function">witnessScripts</a> <a id="17403" class="Symbol">=</a> <a id="17405" href="Ledger.Dijkstra.Specification.Transaction.html#8334" class="Field">ScriptsOf</a>
  <a id="17417" class="Comment">--|</a>
  <a id="17423" class="Comment">--| ...unioning some of the above sets of Scripts</a>
  <a id="TransactionStructure.getTxScripts"></a><a id="17475" href="Ledger.Dijkstra.Specification.Transaction.html#17475" class="Function">getTxScripts</a> <a id="17488" class="Symbol">:</a> <a id="17490" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="17493" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="17501" class="Symbol">→</a> <a id="17503" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="17508" class="Symbol">→</a> <a id="17510" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17512" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17521" href="Ledger.Dijkstra.Specification.Transaction.html#17475" class="Function">getTxScripts</a> <a id="17534" href="Ledger.Dijkstra.Specification.Transaction.html#17534" class="Bound">tx</a> <a id="17537" href="Ledger.Dijkstra.Specification.Transaction.html#17537" class="Bound">utxo</a> <a id="17542" class="Symbol">=</a>  <a id="17545" href="Ledger.Dijkstra.Specification.Transaction.html#16622" class="Function">scriptsOfTx</a> <a id="17557" href="Ledger.Dijkstra.Specification.Transaction.html#17534" class="Bound">tx</a>
                          <a id="17586" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17588" href="Ledger.Dijkstra.Specification.Transaction.html#16747" class="Function">spendScripts</a> <a id="17601" href="Ledger.Dijkstra.Specification.Transaction.html#17534" class="Bound">tx</a> <a id="17604" href="Ledger.Dijkstra.Specification.Transaction.html#17537" class="Bound">utxo</a>
                          <a id="17635" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17637" href="Ledger.Dijkstra.Specification.Transaction.html#16882" class="Function">referenceScripts</a> <a id="17654" href="Ledger.Dijkstra.Specification.Transaction.html#17534" class="Bound">tx</a> <a id="17657" href="Ledger.Dijkstra.Specification.Transaction.html#17537" class="Bound">utxo</a>
                          <a id="17688" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17690" href="Ledger.Dijkstra.Specification.Transaction.html#17347" class="Function">witnessScripts</a> <a id="17705" href="Ledger.Dijkstra.Specification.Transaction.html#17534" class="Bound">tx</a>
  <a id="17710" class="Comment">--|</a>
  <a id="17716" class="Comment">--| ...unioning the preceding union for each transaction in a batch</a>
  <a id="TransactionStructure.getAllScripts"></a><a id="17786" href="Ledger.Dijkstra.Specification.Transaction.html#17786" class="Function">getAllScripts</a> <a id="17800" class="Symbol">:</a> <a id="17802" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="17813" class="Symbol">→</a> <a id="17815" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="17820" class="Symbol">→</a>  <a id="17823" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17825" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17834" href="Ledger.Dijkstra.Specification.Transaction.html#17786" class="Function">getAllScripts</a> <a id="17848" href="Ledger.Dijkstra.Specification.Transaction.html#17848" class="Bound">txTop</a> <a id="17854" href="Ledger.Dijkstra.Specification.Transaction.html#17854" class="Bound">utxo</a> <a id="17859" class="Symbol">=</a> <a id="17861" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="17868" class="Symbol">(λ</a> <a id="17871" href="Ledger.Dijkstra.Specification.Transaction.html#17871" class="Bound">acc</a> <a id="17875" href="Ledger.Dijkstra.Specification.Transaction.html#17875" class="Bound">txSub</a> <a id="17881" class="Symbol">→</a> <a id="17883" href="Ledger.Dijkstra.Specification.Transaction.html#17871" class="Bound">acc</a> <a id="17887" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17889" href="Ledger.Dijkstra.Specification.Transaction.html#17475" class="Function">getTxScripts</a> <a id="17902" href="Ledger.Dijkstra.Specification.Transaction.html#17875" class="Bound">txSub</a> <a id="17908" href="Ledger.Dijkstra.Specification.Transaction.html#17854" class="Bound">utxo</a><a id="17912" class="Symbol">)</a>
                                    <a id="17950" class="Symbol">(</a><a id="17951" href="Ledger.Dijkstra.Specification.Transaction.html#17475" class="Function">getTxScripts</a> <a id="17964" href="Ledger.Dijkstra.Specification.Transaction.html#17848" class="Bound">txTop</a> <a id="17970" href="Ledger.Dijkstra.Specification.Transaction.html#17854" class="Bound">utxo</a><a id="17974" class="Symbol">)</a>
                                    <a id="18012" class="Symbol">(</a><a id="18013" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="18031" href="Ledger.Dijkstra.Specification.Transaction.html#17848" class="Bound">txTop</a><a id="18036" class="Symbol">)</a>
  <a id="18040" class="Comment">--|</a>
  <a id="18046" class="Comment">--| Sets of Datums can come from the TxOuts of...</a>
  <a id="18098" class="Comment">--|</a>
  <a id="18104" class="Comment">--| ...a transaction</a>
  <a id="TransactionStructure.dataOfTx"></a><a id="18127" href="Ledger.Dijkstra.Specification.Transaction.html#18127" class="Function">dataOfTx</a> <a id="18136" class="Symbol">:</a> <a id="18138" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="18141" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="18149" class="Symbol">→</a> <a id="18151" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18153" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18161" href="Ledger.Dijkstra.Specification.Transaction.html#18127" class="Function">dataOfTx</a> <a id="18170" class="Symbol">=</a> <a id="18172" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18183" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="18196" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="18198" href="Class.IsSet.html#959" class="Function">range</a> <a id="18204" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="18206" href="Ledger.Dijkstra.Specification.Transaction.html#8452" class="Field">TxOutsOf</a>
  <a id="18217" class="Comment">--|</a>
  <a id="18223" class="Comment">--| ...a UTxO</a>
  <a id="TransactionStructure.txOutDataOfUTxO"></a><a id="18239" href="Ledger.Dijkstra.Specification.Transaction.html#18239" class="Function">txOutDataOfUTxO</a> <a id="18255" class="Symbol">:</a> <a id="18257" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="18262" class="Symbol">→</a> <a id="18264" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18266" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18274" href="Ledger.Dijkstra.Specification.Transaction.html#18239" class="Function">txOutDataOfUTxO</a> <a id="18290" class="Symbol">=</a> <a id="18292" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18303" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="18316" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="18318" href="Class.IsSet.html#959" class="Function">range</a>
  <a id="18326" class="Comment">--|</a>
  <a id="18332" class="Comment">--| ...spendTxOuts</a>
  <a id="TransactionStructure.spendData"></a><a id="18353" href="Ledger.Dijkstra.Specification.Transaction.html#18353" class="Function">spendData</a> <a id="18363" class="Symbol">:</a> <a id="18365" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="18368" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="18376" class="Symbol">→</a> <a id="18378" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="18383" class="Symbol">→</a> <a id="18385" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18387" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18395" href="Ledger.Dijkstra.Specification.Transaction.html#18353" class="Function">spendData</a> <a id="18405" class="Symbol">=</a> <a id="18407" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18418" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="18431" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="18434" href="Ledger.Dijkstra.Specification.Transaction.html#16152" class="Function">spendTxOuts</a>
  <a id="18448" class="Comment">--|</a>
  <a id="18454" class="Comment">--| ...referencedTxOuts</a>
  <a id="TransactionStructure.referenceData"></a><a id="18480" href="Ledger.Dijkstra.Specification.Transaction.html#18480" class="Function">referenceData</a> <a id="18494" class="Symbol">:</a> <a id="18496" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="18499" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="18507" class="Symbol">→</a> <a id="18509" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="18514" class="Symbol">→</a> <a id="18516" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18518" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18526" href="Ledger.Dijkstra.Specification.Transaction.html#18480" class="Function">referenceData</a> <a id="18540" class="Symbol">=</a> <a id="18542" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18553" href="Ledger.Dijkstra.Specification.Transaction.html#14735" class="Function">txOutToDatum</a> <a id="18566" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="18569" href="Ledger.Dijkstra.Specification.Transaction.html#16313" class="Function">referencedTxOuts</a>
  <a id="18588" class="Comment">--|</a>
  <a id="18594" class="Comment">--| Sets of Datums can also come from...</a>
  <a id="18637" class="Comment">--|</a>
  <a id="18643" class="Comment">--| ...a transaction&#39;s witness field</a>
  <a id="TransactionStructure.witnessData"></a><a id="18682" href="Ledger.Dijkstra.Specification.Transaction.html#18682" class="Function">witnessData</a> <a id="18694" class="Symbol">:</a> <a id="18696" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="18699" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="18707" class="Symbol">→</a> <a id="18709" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18711" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18719" href="Ledger.Dijkstra.Specification.Transaction.html#18682" class="Function">witnessData</a> <a id="18731" class="Symbol">=</a> <a id="18733" href="Ledger.Dijkstra.Specification.Transaction.html#7798" class="Field">DataOf</a>
  <a id="18742" class="Comment">--|</a>
  <a id="18748" class="Comment">--| ...unioning some of the above sets of Datums</a>
  <a id="TransactionStructure.getTxData"></a><a id="18799" href="Ledger.Dijkstra.Specification.Transaction.html#18799" class="Function">getTxData</a> <a id="18809" class="Symbol">:</a> <a id="18811" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="18814" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="18822" class="Symbol">→</a> <a id="18824" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="18829" class="Symbol">→</a> <a id="18831" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18833" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18841" href="Ledger.Dijkstra.Specification.Transaction.html#18799" class="Function">getTxData</a> <a id="18851" href="Ledger.Dijkstra.Specification.Transaction.html#18851" class="Bound">tx</a> <a id="18854" href="Ledger.Dijkstra.Specification.Transaction.html#18854" class="Bound">utxo</a> <a id="18859" class="Symbol">=</a>  <a id="18862" href="Ledger.Dijkstra.Specification.Transaction.html#18127" class="Function">dataOfTx</a> <a id="18871" href="Ledger.Dijkstra.Specification.Transaction.html#18851" class="Bound">tx</a>
                       <a id="18897" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18899" href="Ledger.Dijkstra.Specification.Transaction.html#18353" class="Function">spendData</a> <a id="18909" href="Ledger.Dijkstra.Specification.Transaction.html#18851" class="Bound">tx</a> <a id="18912" href="Ledger.Dijkstra.Specification.Transaction.html#18854" class="Bound">utxo</a>
                       <a id="18940" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18942" href="Ledger.Dijkstra.Specification.Transaction.html#18480" class="Function">referenceData</a> <a id="18956" href="Ledger.Dijkstra.Specification.Transaction.html#18851" class="Bound">tx</a> <a id="18959" href="Ledger.Dijkstra.Specification.Transaction.html#18854" class="Bound">utxo</a>
                       <a id="18987" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18989" href="Ledger.Dijkstra.Specification.Transaction.html#18682" class="Function">witnessData</a> <a id="19001" href="Ledger.Dijkstra.Specification.Transaction.html#18851" class="Bound">tx</a>
  <a id="19006" class="Comment">--|</a>
  <a id="19012" class="Comment">--| ...unioning the preceding union for each transaction in a batch</a>
  <a id="TransactionStructure.getAllData"></a><a id="19082" href="Ledger.Dijkstra.Specification.Transaction.html#19082" class="Function">getAllData</a> <a id="19093" class="Symbol">:</a> <a id="19095" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="19106" class="Symbol">→</a> <a id="19108" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="19113" class="Symbol">→</a> <a id="19115" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="19117" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="19125" href="Ledger.Dijkstra.Specification.Transaction.html#19082" class="Function">getAllData</a> <a id="19136" href="Ledger.Dijkstra.Specification.Transaction.html#19136" class="Bound">txTop</a> <a id="19142" href="Ledger.Dijkstra.Specification.Transaction.html#19142" class="Bound">utxo</a> <a id="19147" class="Symbol">=</a> <a id="19149" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="19156" class="Symbol">(λ</a> <a id="19159" href="Ledger.Dijkstra.Specification.Transaction.html#19159" class="Bound">acc</a> <a id="19163" href="Ledger.Dijkstra.Specification.Transaction.html#19163" class="Bound">txSub</a> <a id="19169" class="Symbol">→</a> <a id="19171" href="Ledger.Dijkstra.Specification.Transaction.html#19159" class="Bound">acc</a> <a id="19175" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="19177" href="Ledger.Dijkstra.Specification.Transaction.html#18799" class="Function">getTxData</a> <a id="19187" href="Ledger.Dijkstra.Specification.Transaction.html#19163" class="Bound">txSub</a> <a id="19193" href="Ledger.Dijkstra.Specification.Transaction.html#19142" class="Bound">utxo</a><a id="19197" class="Symbol">)</a>
                                 <a id="19232" class="Symbol">(</a><a id="19233" href="Ledger.Dijkstra.Specification.Transaction.html#18799" class="Function">getTxData</a> <a id="19243" href="Ledger.Dijkstra.Specification.Transaction.html#19136" class="Bound">txTop</a> <a id="19249" href="Ledger.Dijkstra.Specification.Transaction.html#19142" class="Bound">utxo</a><a id="19253" class="Symbol">)</a>
                                 <a id="19288" class="Symbol">(</a><a id="19289" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="19307" href="Ledger.Dijkstra.Specification.Transaction.html#19136" class="Bound">txTop</a><a id="19312" class="Symbol">)</a>



  <a id="19319" class="Comment">-- No-double-spend across the batch: the collection of all spending inputs must</a>
  <a id="19401" class="Comment">-- be pairwise disjoint.  NOTE: using `batchSpendInputs` alone is insufficient,</a>
  <a id="19483" class="Comment">-- because set union would silently erase duplicates.</a>
  <a id="TransactionStructure.PairwiseDisjoint"></a><a id="19539" href="Ledger.Dijkstra.Specification.Transaction.html#19539" class="Function">PairwiseDisjoint</a> <a id="19556" class="Symbol">:</a> <a id="19558" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19563" class="Symbol">(</a><a id="19564" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="19566" href="Ledger.Dijkstra.Specification.Transaction.html#3038" class="Function">TxIn</a><a id="19570" class="Symbol">)</a> <a id="19572" class="Symbol">→</a> <a id="19574" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="19581" href="Ledger.Dijkstra.Specification.Transaction.html#19539" class="Function">PairwiseDisjoint</a> <a id="19598" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="19608" class="Symbol">=</a> <a id="19610" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="19614" href="Ledger.Dijkstra.Specification.Transaction.html#19539" class="Function">PairwiseDisjoint</a> <a id="19631" class="Symbol">(</a><a id="19632" href="Ledger.Dijkstra.Specification.Transaction.html#19632" class="Bound">X</a> <a id="19634" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19636" href="Ledger.Dijkstra.Specification.Transaction.html#19636" class="Bound">Xs</a><a id="19638" class="Symbol">)</a>  <a id="19641" class="Symbol">=</a> <a id="19643" href="Data.List.Relation.Unary.All.html#1638" class="Datatype">List.All</a> <a id="19652" class="Symbol">(λ</a> <a id="19655" href="Ledger.Dijkstra.Specification.Transaction.html#19655" class="Bound">Y</a> <a id="19657" class="Symbol">→</a> <a id="19659" href="Axiom.Set.html#3515" class="Function">disjoint</a> <a id="19668" href="Ledger.Dijkstra.Specification.Transaction.html#19632" class="Bound">X</a> <a id="19670" href="Ledger.Dijkstra.Specification.Transaction.html#19655" class="Bound">Y</a><a id="19671" class="Symbol">)</a> <a id="19673" href="Ledger.Dijkstra.Specification.Transaction.html#19636" class="Bound">Xs</a> <a id="19676" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="19678" href="Ledger.Dijkstra.Specification.Transaction.html#19539" class="Function">PairwiseDisjoint</a> <a id="19695" href="Ledger.Dijkstra.Specification.Transaction.html#19636" class="Bound">Xs</a>

  <a id="TransactionStructure.allDCerts"></a><a id="19701" href="Ledger.Dijkstra.Specification.Transaction.html#19701" class="Function">allDCerts</a> <a id="19711" class="Symbol">:</a> <a id="19713" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="19724" class="Symbol">→</a> <a id="19726" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19731" href="Ledger.Dijkstra.Specification.Certs.html#992" class="Datatype">DCert</a>
  <a id="19739" href="Ledger.Dijkstra.Specification.Transaction.html#19701" class="Function">allDCerts</a> <a id="19749" href="Ledger.Dijkstra.Specification.Transaction.html#19749" class="Bound">t</a> <a id="19751" class="Symbol">=</a> <a id="19753" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="19762" href="Ledger.Dijkstra.Specification.Transaction.html#19749" class="Bound">t</a> <a id="19764" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="19767" href="Data.List.Base.html#4384" class="Function">concatMap</a> <a id="19777" href="Ledger.Dijkstra.Specification.Transaction.html#7682" class="Field">DCertsOf</a> <a id="19786" class="Symbol">(</a><a id="19787" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="19805" href="Ledger.Dijkstra.Specification.Transaction.html#19749" class="Bound">t</a><a id="19806" class="Symbol">)</a>

  <a id="TransactionStructure.noOverlappingSpendInputs"></a><a id="19811" href="Ledger.Dijkstra.Specification.Transaction.html#19811" class="Function">noOverlappingSpendInputs</a> <a id="19836" class="Symbol">:</a> <a id="19838" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="19849" class="Symbol">→</a> <a id="19851" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="19858" href="Ledger.Dijkstra.Specification.Transaction.html#19811" class="Function">noOverlappingSpendInputs</a> <a id="19883" class="Symbol">=</a> <a id="19885" href="Ledger.Dijkstra.Specification.Transaction.html#19539" class="Function">PairwiseDisjoint</a> <a id="19902" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="19904" href="Ledger.Dijkstra.Specification.Transaction.html#15396" class="Function">allSpendInputsList</a>

  <a id="19926" class="Comment">-- Total Ada minted across the entire batch (top-level tx + all sub-txs).</a>
  <a id="TransactionStructure.allMintedCoin"></a><a id="20002" href="Ledger.Dijkstra.Specification.Transaction.html#20002" class="Function">allMintedCoin</a> <a id="20016" class="Symbol">:</a> <a id="20018" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="20029" class="Symbol">→</a> <a id="20031" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="20038" href="Ledger.Dijkstra.Specification.Transaction.html#20002" class="Function">allMintedCoin</a> <a id="20052" href="Ledger.Dijkstra.Specification.Transaction.html#20052" class="Bound">txTop</a> <a id="20058" class="Symbol">=</a> <a id="20060" href="Data.List.Base.html#4227" class="Function">foldl</a> <a id="20066" class="Symbol">(λ</a> <a id="20069" href="Ledger.Dijkstra.Specification.Transaction.html#20069" class="Bound">acc</a> <a id="20073" href="Ledger.Dijkstra.Specification.Transaction.html#20073" class="Bound">txSub</a> <a id="20079" class="Symbol">→</a> <a id="20081" href="Ledger.Dijkstra.Specification.Transaction.html#20069" class="Bound">acc</a> <a id="20085" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20087" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="20092" class="Symbol">(</a><a id="20093" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="20107" href="Ledger.Dijkstra.Specification.Transaction.html#20073" class="Bound">txSub</a><a id="20112" class="Symbol">))</a>
                              <a id="20145" class="Symbol">(</a><a id="20146" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="20151" class="Symbol">(</a><a id="20152" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Field">MintedValueOf</a> <a id="20166" href="Ledger.Dijkstra.Specification.Transaction.html#20052" class="Bound">txTop</a><a id="20171" class="Symbol">))</a>
                              <a id="20204" class="Symbol">(</a><a id="20205" href="Ledger.Dijkstra.Specification.Transaction.html#6385" class="Field">SubTransactionsOf</a> <a id="20223" href="Ledger.Dijkstra.Specification.Transaction.html#20052" class="Bound">txTop</a><a id="20228" class="Symbol">)</a>
  <a id="20232" class="Comment">-- To maintain total Ada supply invariant, this must satisfy `allMintedCoin ≡ 0`;</a>
  <a id="20316" class="Comment">-- this is the generalization of Conway&#39;s `coin mint ≡ 0`.</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="20378" href="Ledger.Dijkstra.Specification.Transaction.html#20378" class="Function">lookupScriptHash</a> <a id="20395" class="Symbol">:</a> <a id="20397" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="20408" class="Symbol">→</a> <a id="20410" href="Ledger.Dijkstra.Specification.Transaction.html#3517" class="Record">Tx</a> <a id="20413" href="Ledger.Dijkstra.Specification.Transaction.html#1109" class="Generalizable">txLevel</a> <a id="20421" class="Symbol">→</a> <a id="20423" href="Ledger.Dijkstra.Specification.Transaction.html#3153" class="Function">UTxO</a> <a id="20428" class="Symbol">→</a> <a id="20430" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="20436" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="20445" href="Ledger.Dijkstra.Specification.Transaction.html#20378" class="Function">lookupScriptHash</a> <a id="20462" href="Ledger.Dijkstra.Specification.Transaction.html#20462" class="Bound">sh</a> <a id="20465" href="Ledger.Dijkstra.Specification.Transaction.html#20465" class="Bound">tx</a> <a id="20468" href="Ledger.Dijkstra.Specification.Transaction.html#20468" class="Bound">utxo</a> <a id="20473" class="Symbol">=</a> <a id="20475" href="Ledger.Prelude.html#2610" class="Function">lookupHash</a> <a id="20486" href="Ledger.Dijkstra.Specification.Transaction.html#20462" class="Bound">sh</a> <a id="20489" class="Symbol">(</a><a id="20490" href="Ledger.Dijkstra.Specification.Transaction.html#17475" class="Function">getTxScripts</a> <a id="20503" href="Ledger.Dijkstra.Specification.Transaction.html#20465" class="Bound">tx</a> <a id="20506" href="Ledger.Dijkstra.Specification.Transaction.html#20468" class="Bound">utxo</a><a id="20510" class="Symbol">)</a>


  <a id="TransactionStructure.TaggedTopLevelGuard"></a><a id="20516" href="Ledger.Dijkstra.Specification.Transaction.html#20516" class="Function">TaggedTopLevelGuard</a> <a id="20536" class="Symbol">:</a> <a id="20538" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="20545" href="Ledger.Dijkstra.Specification.Transaction.html#20516" class="Function">TaggedTopLevelGuard</a> <a id="20565" class="Symbol">=</a> <a id="20567" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a> <a id="20572" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20574" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="20585" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20587" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="20593" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
                     <a id="20620" class="Comment">-- (subTxId, guard credential, optional datum argument)</a>

  <a id="TransactionStructure.GroupedTopLevelGuards"></a><a id="20679" href="Ledger.Dijkstra.Specification.Transaction.html#20679" class="Function">GroupedTopLevelGuards</a> <a id="20701" class="Symbol">:</a> <a id="20703" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="20710" href="Ledger.Dijkstra.Specification.Transaction.html#20679" class="Function">GroupedTopLevelGuards</a> <a id="20732" class="Symbol">=</a> <a id="20734" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20739" class="Symbol">(</a><a id="20740" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="20751" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20753" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20758" class="Symbol">(</a><a id="20759" href="Ledger.Dijkstra.Specification.Transaction.html#1374" class="Field">TxId</a> <a id="20764" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20766" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="20772" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="20777" class="Symbol">))</a>

  <a id="TransactionStructure.groupTopLevelGuards"></a><a id="20783" href="Ledger.Dijkstra.Specification.Transaction.html#20783" class="Function">groupTopLevelGuards</a> <a id="20803" class="Symbol">:</a> <a id="20805" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20810" href="Ledger.Dijkstra.Specification.Transaction.html#20516" class="Function">TaggedTopLevelGuard</a> <a id="20830" class="Symbol">→</a> <a id="20832" href="Ledger.Dijkstra.Specification.Transaction.html#20679" class="Function">GroupedTopLevelGuards</a>
  <a id="20856" href="Ledger.Dijkstra.Specification.Transaction.html#20783" class="Function">groupTopLevelGuards</a> <a id="20876" class="Symbol">=</a> <a id="20878" href="Data.List.Base.html#4126" class="Function">foldr</a> <a id="20884" href="Ledger.Dijkstra.Specification.Transaction.html#21116" class="Function">insertGuard</a> <a id="20896" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="20903" class="Keyword">where</a>
    <a id="20913" class="Comment">-- Insert one tagged guard into an existing group:</a>
    <a id="20968" class="Comment">--   + if the credential already has a group, cons (subTxId, datum?) onto its list</a>
    <a id="21055" class="Comment">--   + otherwise create a new group for that credential.</a>
    <a id="21116" href="Ledger.Dijkstra.Specification.Transaction.html#21116" class="Function">insertGuard</a> <a id="21128" class="Symbol">:</a> <a id="21130" href="Ledger.Dijkstra.Specification.Transaction.html#20516" class="Function">TaggedTopLevelGuard</a> <a id="21150" class="Symbol">→</a> <a id="21152" href="Ledger.Dijkstra.Specification.Transaction.html#20679" class="Function">GroupedTopLevelGuards</a> <a id="21174" class="Symbol">→</a> <a id="21176" href="Ledger.Dijkstra.Specification.Transaction.html#20679" class="Function">GroupedTopLevelGuards</a>
    <a id="21202" href="Ledger.Dijkstra.Specification.Transaction.html#21116" class="Function">insertGuard</a> <a id="21214" class="Symbol">(</a><a id="21215" href="Ledger.Dijkstra.Specification.Transaction.html#21215" class="Bound">tid</a> <a id="21219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21221" href="Ledger.Dijkstra.Specification.Transaction.html#21221" class="Bound">cred</a> <a id="21226" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21228" href="Ledger.Dijkstra.Specification.Transaction.html#21228" class="Bound">md</a><a id="21230" class="Symbol">)</a> <a id="21232" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21235" class="Symbol">=</a> <a id="21237" class="Symbol">(</a><a id="21238" href="Ledger.Dijkstra.Specification.Transaction.html#21221" class="Bound">cred</a> <a id="21243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21245" class="Symbol">(</a><a id="21246" href="Ledger.Dijkstra.Specification.Transaction.html#21215" class="Bound">tid</a> <a id="21250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21252" href="Ledger.Dijkstra.Specification.Transaction.html#21228" class="Bound">md</a><a id="21254" class="Symbol">)</a> <a id="21256" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21258" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="21260" class="Symbol">)</a> <a id="21262" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21264" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="21271" href="Ledger.Dijkstra.Specification.Transaction.html#21116" class="Function">insertGuard</a> <a id="21283" class="Symbol">(</a><a id="21284" href="Ledger.Dijkstra.Specification.Transaction.html#21284" class="Bound">tid</a> <a id="21288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21290" href="Ledger.Dijkstra.Specification.Transaction.html#21290" class="Bound">cred</a> <a id="21295" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21297" href="Ledger.Dijkstra.Specification.Transaction.html#21297" class="Bound">md</a><a id="21299" class="Symbol">)</a> <a id="21301" class="Symbol">((</a><a id="21303" href="Ledger.Dijkstra.Specification.Transaction.html#21303" class="Bound">c</a> <a id="21305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21307" href="Ledger.Dijkstra.Specification.Transaction.html#21307" class="Bound">xs</a><a id="21309" class="Symbol">)</a> <a id="21311" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21313" href="Ledger.Dijkstra.Specification.Transaction.html#21313" class="Bound">rest</a><a id="21317" class="Symbol">)</a> <a id="21319" class="Keyword">with</a> <a id="21324" href="Ledger.Dijkstra.Specification.Transaction.html#21303" class="Bound">c</a> <a id="21326" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="21328" href="Ledger.Dijkstra.Specification.Transaction.html#21290" class="Bound">cred</a>
    <a id="21337" class="Symbol">...</a> <a id="21341" class="Symbol">|</a> <a id="21343" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="21347" class="Symbol">_</a> <a id="21349" class="Symbol">=</a> <a id="21351" class="Symbol">(</a><a id="21352" class="Bound">c</a> <a id="21354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21356" class="Symbol">(</a><a id="21357" class="Bound">tid</a> <a id="21361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21363" class="Bound">md</a><a id="21365" class="Symbol">)</a> <a id="21367" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21369" class="Bound">xs</a><a id="21371" class="Symbol">)</a> <a id="21373" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21375" class="Bound">rest</a>
    <a id="21384" class="Symbol">...</a> <a id="21388" class="Symbol">|</a> <a id="21390" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="21394" class="Symbol">_</a> <a id="21396" class="Symbol">=</a> <a id="21398" class="Symbol">(</a><a id="21399" class="Bound">c</a> <a id="21401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21403" class="Bound">xs</a><a id="21405" class="Symbol">)</a> <a id="21407" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21409" href="Ledger.Dijkstra.Specification.Transaction.html#21116" class="Function">insertGuard</a> <a id="21421" class="Symbol">(</a><a id="21422" class="Bound">tid</a> <a id="21426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21428" class="Bound">cred</a> <a id="21433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21435" class="Bound">md</a><a id="21437" class="Symbol">)</a> <a id="21439" class="Bound">rest</a>

  <a id="TransactionStructure.subTxTaggedGuards"></a><a id="21447" href="Ledger.Dijkstra.Specification.Transaction.html#21447" class="Function">subTxTaggedGuards</a> <a id="21465" class="Symbol">:</a> <a id="21467" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a> <a id="21478" class="Symbol">→</a> <a id="21480" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21482" href="Ledger.Dijkstra.Specification.Transaction.html#20516" class="Function">TaggedTopLevelGuard</a>
  <a id="21504" href="Ledger.Dijkstra.Specification.Transaction.html#21447" class="Function">subTxTaggedGuards</a> <a id="21522" href="Ledger.Dijkstra.Specification.Transaction.html#21522" class="Bound">subtx</a> <a id="21528" class="Symbol">=</a>
    <a id="21534" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="21539" class="Symbol">(λ</a> <a id="21542" class="Symbol">(</a><a id="21543" href="Ledger.Dijkstra.Specification.Transaction.html#21543" class="Bound">cred</a> <a id="21548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21550" href="Ledger.Dijkstra.Specification.Transaction.html#21550" class="Bound">md</a><a id="21552" class="Symbol">)</a> <a id="21554" class="Symbol">→</a> <a id="21556" class="Symbol">(</a><a id="21557" href="Ledger.Dijkstra.Specification.Transaction.html#6806" class="Field">TxIdOf</a> <a id="21564" href="Ledger.Dijkstra.Specification.Transaction.html#21522" class="Bound">subtx</a> <a id="21570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21572" href="Ledger.Dijkstra.Specification.Transaction.html#21543" class="Bound">cred</a> <a id="21577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21579" href="Ledger.Dijkstra.Specification.Transaction.html#21550" class="Bound">md</a><a id="21581" class="Symbol">))</a> <a id="21584" class="Symbol">(</a><a id="21585" href="Ledger.Dijkstra.Specification.Transaction.html#6595" class="Field">TopLevelGuardsOf</a> <a id="21602" href="Ledger.Dijkstra.Specification.Transaction.html#21522" class="Bound">subtx</a><a id="21607" class="Symbol">)</a>

  <a id="21612" class="Comment">-- Turn a subTx body&#39;s `txRequiredTopLevelGuards` into a set of guard credentials.</a>
  <a id="TransactionStructure.subTxGuardCredentials"></a><a id="21697" href="Ledger.Dijkstra.Specification.Transaction.html#21697" class="Function">subTxGuardCredentials</a> <a id="21719" class="Symbol">:</a> <a id="21721" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a> <a id="21732" class="Symbol">→</a> <a id="21734" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21736" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="21749" href="Ledger.Dijkstra.Specification.Transaction.html#21697" class="Function">subTxGuardCredentials</a> <a id="21771" class="Symbol">=</a> <a id="21773" class="Symbol">(</a><a id="21774" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="21779" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="21784" class="Symbol">)</a> <a id="21786" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="21788" href="Ledger.Dijkstra.Specification.Transaction.html#6595" class="Field">TopLevelGuardsOf</a>

  <a id="21808" class="Comment">-- Phase-1 condition (CIP-0118):</a>
  <a id="21843" class="Comment">-- every credential required by a subTx body must appear in the top-level txGuards set.</a>
  <a id="TransactionStructure.requiredGuardsInTopLevel"></a><a id="21933" href="Ledger.Dijkstra.Specification.Transaction.html#21933" class="Function">requiredGuardsInTopLevel</a> <a id="21958" class="Symbol">:</a> <a id="21960" href="Ledger.Dijkstra.Specification.Transaction.html#5315" class="Function">TopLevelTx</a> <a id="21971" class="Symbol">→</a> <a id="21973" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21978" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Function">SubLevelTx</a> <a id="21989" class="Symbol">→</a> <a id="21991" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="21998" href="Ledger.Dijkstra.Specification.Transaction.html#21933" class="Function">requiredGuardsInTopLevel</a> <a id="22023" href="Ledger.Dijkstra.Specification.Transaction.html#22023" class="Bound">topTx</a> <a id="22029" href="Ledger.Dijkstra.Specification.Transaction.html#22029" class="Bound">subTxs</a> <a id="22036" class="Symbol">=</a> <a id="22038" href="Ledger.Dijkstra.Specification.Transaction.html#22280" class="Function">requiredCreds</a> <a id="22052" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="22054" href="Ledger.Dijkstra.Specification.Transaction.html#8213" class="Field">GuardsOf</a> <a id="22063" href="Ledger.Dijkstra.Specification.Transaction.html#22023" class="Bound">topTx</a>
    <a id="22073" class="Keyword">where</a>
    <a id="22083" class="Comment">-- union a list of sets</a>
    <a id="22111" href="Ledger.Dijkstra.Specification.Transaction.html#22111" class="Function">concatMapˡ</a> <a id="22122" class="Symbol">:</a> <a id="22124" class="Symbol">{</a><a id="22125" href="Ledger.Dijkstra.Specification.Transaction.html#22125" class="Bound">A</a> <a id="22127" href="Ledger.Dijkstra.Specification.Transaction.html#22127" class="Bound">B</a> <a id="22129" class="Symbol">:</a> <a id="22131" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="22135" class="Symbol">}</a> <a id="22137" class="Symbol">→</a> <a id="22139" class="Symbol">(</a><a id="22140" href="Ledger.Dijkstra.Specification.Transaction.html#22125" class="Bound">A</a> <a id="22142" class="Symbol">→</a> <a id="22144" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="22146" href="Ledger.Dijkstra.Specification.Transaction.html#22127" class="Bound">B</a><a id="22147" class="Symbol">)</a> <a id="22149" class="Symbol">→</a> <a id="22151" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="22156" href="Ledger.Dijkstra.Specification.Transaction.html#22125" class="Bound">A</a> <a id="22158" class="Symbol">→</a> <a id="22160" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="22162" href="Ledger.Dijkstra.Specification.Transaction.html#22127" class="Bound">B</a>
    <a id="22168" href="Ledger.Dijkstra.Specification.Transaction.html#22111" class="Function">concatMapˡ</a> <a id="22179" href="Ledger.Dijkstra.Specification.Transaction.html#22179" class="Bound">f</a> <a id="22181" href="Ledger.Dijkstra.Specification.Transaction.html#22181" class="Bound">as</a> <a id="22184" class="Symbol">=</a> <a id="22186" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="22192" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="22194" href="Axiom.Set.html#2286" class="Function">unions</a> <a id="22201" class="Symbol">(</a><a id="22202" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="22211" class="Symbol">(</a><a id="22212" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22216" href="Ledger.Dijkstra.Specification.Transaction.html#22179" class="Bound">f</a> <a id="22218" href="Ledger.Dijkstra.Specification.Transaction.html#22181" class="Bound">as</a><a id="22220" class="Symbol">))</a>
    <a id="22227" class="Comment">-- maybe move this to agda-sets or src-lib-exts</a>

    <a id="22280" href="Ledger.Dijkstra.Specification.Transaction.html#22280" class="Function">requiredCreds</a> <a id="22294" class="Symbol">:</a> <a id="22296" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="22298" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
    <a id="22313" href="Ledger.Dijkstra.Specification.Transaction.html#22280" class="Function">requiredCreds</a> <a id="22327" class="Symbol">=</a> <a id="22329" href="Ledger.Dijkstra.Specification.Transaction.html#22111" class="Function">concatMapˡ</a> <a id="22340" href="Ledger.Dijkstra.Specification.Transaction.html#21697" class="Function">subTxGuardCredentials</a> <a id="22362" href="Ledger.Dijkstra.Specification.Transaction.html#22029" class="Bound">subTxs</a>

</pre></body></html>