<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#4102" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="349" class="Keyword">renaming</a> <a id="358" class="Symbol">(</a><a id="359" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a> <a id="373" class="Symbol">to</a> <a id="376" class="Record">RewardAddress</a><a id="389" class="Symbol">)</a>
<a id="391" class="Keyword">import</a> <a id="398" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="434" class="Keyword">import</a> <a id="441" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="483" class="Keyword">import</a> <a id="490" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="572" class="Keyword">import</a> <a id="579" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="628" class="Keyword">import</a> <a id="635" href="Data.List.Relation.Unary.AllPairs.html" class="Module">Data.List.Relation.Unary.AllPairs</a> <a id="669" class="Symbol">as</a> <a id="672" class="Module">List</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="749" class="Keyword">using</a> <a id="755" class="Symbol">(</a><a id="756" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="759" class="Symbol">)</a>


<a id="763" class="Keyword">data</a> <a id="TxLevel"></a><a id="768" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="776" class="Symbol">:</a> <a id="778" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="783" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="791" href="Ledger.Dijkstra.Specification.Transaction.html#791" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="802" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a> <a id="813" class="Symbol">:</a> <a id="815" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="825" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="836" class="Symbol">:</a> <a id="838" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="846" class="Symbol">→</a> <a id="848" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="853" class="Symbol">→</a> <a id="855" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="860" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="871" href="Ledger.Dijkstra.Specification.Transaction.html#791" class="InductiveConstructor">TxLevelTop</a> <a id="882" href="Ledger.Dijkstra.Specification.Transaction.html#882" class="Bound">X</a> <a id="884" class="Symbol">=</a> <a id="886" href="Ledger.Dijkstra.Specification.Transaction.html#882" class="Bound">X</a>
<a id="888" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="899" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a> <a id="910" class="Symbol">_</a> <a id="912" class="Symbol">=</a> <a id="914" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="917" href="Ledger.Dijkstra.Specification.Transaction.html#917" class="Function">InSubLevel</a> <a id="928" class="Symbol">:</a> <a id="930" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="938" class="Symbol">→</a> <a id="940" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="945" class="Symbol">→</a> <a id="947" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="952" href="Ledger.Dijkstra.Specification.Transaction.html#917" class="Function">InSubLevel</a> <a id="963" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a> <a id="974" href="Ledger.Dijkstra.Specification.Transaction.html#974" class="Bound">X</a> <a id="976" class="Symbol">=</a> <a id="978" href="Ledger.Dijkstra.Specification.Transaction.html#974" class="Bound">X</a>
<a id="980" href="Ledger.Dijkstra.Specification.Transaction.html#917" class="Function">InSubLevel</a> <a id="991" href="Ledger.Dijkstra.Specification.Transaction.html#791" class="InductiveConstructor">TxLevelTop</a> <a id="1002" class="Symbol">_</a> <a id="1004" class="Symbol">=</a> <a id="1006" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="1010" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="1022" href="Ledger.Dijkstra.Specification.Transaction.html#1022" class="Function">DecEq-TxLevel</a> <a id="1036" class="Symbol">=</a> <a id="1038" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1051" class="Symbol">((</a><a id="1053" class="Keyword">quote</a> <a id="1059" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="1067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1069" href="Ledger.Dijkstra.Specification.Transaction.html#1022" class="Function">DecEq-TxLevel</a><a id="1082" class="Symbol">)</a> <a id="1084" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1086" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1088" class="Symbol">)</a>

<a id="1091" class="Keyword">private</a>
  <a id="1101" class="Keyword">variable</a>
    <a id="1114" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a>

<a id="1133" class="Keyword">data</a> <a id="Tag"></a><a id="1138" href="Ledger.Dijkstra.Specification.Transaction.html#1138" class="Datatype">Tag</a> <a id="1142" class="Symbol">:</a> <a id="1144" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1159" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1167" href="Ledger.Dijkstra.Specification.Transaction.html#1167" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1173" href="Ledger.Dijkstra.Specification.Transaction.html#1173" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1178" href="Ledger.Dijkstra.Specification.Transaction.html#1178" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1183" href="Ledger.Dijkstra.Specification.Transaction.html#1183" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1190" href="Ledger.Dijkstra.Specification.Transaction.html#1190" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1195" href="Ledger.Dijkstra.Specification.Transaction.html#1195" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1203" href="Ledger.Dijkstra.Specification.Transaction.html#1203" class="InductiveConstructor">Guard</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="Ledger.Dijkstra.Specification.Transaction.html#1138" class="Datatype">Tag</a> <a id="1215" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1225" href="Ledger.Dijkstra.Specification.Transaction.html#1225" class="InductiveConstructor">SubGuard</a> <a id="1234" class="Symbol">:</a> <a id="1236" href="Ledger.Dijkstra.Specification.Transaction.html#1138" class="Datatype">Tag</a> <a id="1240" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a>

<a id="1252" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1264" href="Ledger.Dijkstra.Specification.Transaction.html#1264" class="Function">DecEq-Tag</a> <a id="1274" class="Symbol">=</a> <a id="1276" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1289" class="Symbol">((</a><a id="1291" class="Keyword">quote</a> <a id="1297" href="Ledger.Dijkstra.Specification.Transaction.html#1138" class="Datatype">Tag</a> <a id="1301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1303" href="Ledger.Dijkstra.Specification.Transaction.html#1264" class="Function">DecEq-Tag</a><a id="1312" class="Symbol">)</a> <a id="1314" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1316" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1318" class="Symbol">)</a>


<a id="1322" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1329" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Record">TransactionStructure</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1358" class="Keyword">where</a>
  <a id="1366" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1376" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1379" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1384" href="Ledger.Dijkstra.Specification.Transaction.html#1384" class="Field">AuxiliaryData</a>  <a id="1399" class="Symbol">:</a> <a id="1401" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1410" href="Ledger.Dijkstra.Specification.Transaction.html#1410" class="Field">adHashingScheme</a>        <a id="1433" class="Symbol">:</a> <a id="1435" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1449" href="Ledger.Dijkstra.Specification.Transaction.html#1384" class="Field">AuxiliaryData</a>
    <a id="TransactionStructure.globalConstants"></a><a id="1467" href="Ledger.Dijkstra.Specification.Transaction.html#1467" class="Field">globalConstants</a>        <a id="1490" class="Symbol">:</a> <a id="1492" href="Ledger.Core.Specification.Epoch.html#2274" class="Record">GlobalConstants</a>
    <a id="TransactionStructure.crypto"></a><a id="1512" href="Ledger.Dijkstra.Specification.Transaction.html#1512" class="Field">crypto</a>                 <a id="1535" class="Symbol">:</a> <a id="1537" href="Ledger.Core.Specification.Crypto.html#1110" class="Record">CryptoStructure</a>
    <a id="TransactionStructure.epochStructure"></a><a id="1557" href="Ledger.Dijkstra.Specification.Transaction.html#1557" class="Field">epochStructure</a>         <a id="1580" class="Symbol">:</a> <a id="1582" href="Ledger.Core.Specification.Epoch.html#578" class="Record">EpochStructure</a>


    <a id="1603" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1605" href="Ledger.Dijkstra.Specification.Transaction.html#1605" class="Field">DecEq-Ix</a>   <a id="1616" class="Symbol">⦄</a> <a id="1618" class="Symbol">:</a> <a id="1620" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1626" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a>
    <a id="1633" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1635" href="Ledger.Dijkstra.Specification.Transaction.html#1635" class="Field">DecEq-TxId</a> <a id="1646" class="Symbol">⦄</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1656" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a>
  <a id="1663" class="Keyword">open</a> <a id="1668" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1682" href="Ledger.Dijkstra.Specification.Transaction.html#1410" class="Field">adHashingScheme</a> <a id="1698" class="Keyword">renaming</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1714" class="Symbol">to</a> <a id="1717" class="Field">ADHash</a><a id="1723" class="Symbol">)</a> <a id="1725" class="Keyword">public</a>
  <a id="1734" class="Keyword">open</a> <a id="1739" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1755" href="Ledger.Dijkstra.Specification.Transaction.html#1467" class="Field">globalConstants</a> <a id="1771" class="Keyword">public</a>
  <a id="1780" class="Keyword">open</a> <a id="1785" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1801" href="Ledger.Dijkstra.Specification.Transaction.html#1512" class="Field">crypto</a> <a id="1808" class="Keyword">public</a>
  <a id="1817" class="Keyword">open</a> <a id="1822" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1870" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1881" class="Keyword">public</a>
  <a id="1890" class="Keyword">open</a> <a id="1895" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1929" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1937" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1945" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1956" class="Symbol">⦃</a> <a id="1958" href="Function.Base.html#4755" class="Function">it</a> <a id="1961" class="Symbol">⦄</a> <a id="1963" class="Symbol">⦃</a> <a id="1965" href="Function.Base.html#4755" class="Function">it</a> <a id="1968" class="Symbol">⦄</a> <a id="1970" class="Symbol">⦃</a> <a id="1972" href="Function.Base.html#4755" class="Function">it</a> <a id="1975" class="Symbol">⦄</a> <a id="1977" class="Keyword">public</a>
  <a id="1986" class="Keyword">open</a> <a id="1991" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="2006" href="Ledger.Dijkstra.Specification.Transaction.html#1557" class="Field">epochStructure</a> <a id="2021" class="Keyword">public</a>
  <a id="2030" class="Keyword">open</a> <a id="2035" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="2072" href="Ledger.Dijkstra.Specification.Transaction.html#1512" class="Field">crypto</a> <a id="2079" href="Ledger.Dijkstra.Specification.Transaction.html#1557" class="Field">epochStructure</a> <a id="2094" class="Keyword">public</a>
  <a id="2103" class="Keyword">field</a>


    <a id="TransactionStructure.scriptStructure"></a><a id="2115" href="Ledger.Dijkstra.Specification.Transaction.html#2115" class="Field">scriptStructure</a>        <a id="2138" class="Symbol">:</a> <a id="2140" href="Ledger.Dijkstra.Specification.Script.Base.html#2115" class="Record">ScriptStructure</a>


  <a id="2160" class="Keyword">open</a> <a id="2165" href="Ledger.Dijkstra.Specification.Script.Base.html#2115" class="Module">ScriptStructure</a> <a id="2181" href="Ledger.Dijkstra.Specification.Transaction.html#2115" class="Field">scriptStructure</a> <a id="2197" class="Keyword">public</a>
  <a id="2206" class="Keyword">open</a> <a id="2211" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2249" href="Ledger.Dijkstra.Specification.Transaction.html#1512" class="Field">crypto</a> <a id="2256" href="Ledger.Dijkstra.Specification.Transaction.html#1557" class="Field">epochStructure</a> <a id="2271" href="Ledger.Dijkstra.Specification.Transaction.html#2115" class="Field">scriptStructure</a> <a id="2287" class="Keyword">public</a>
  <a id="2296" class="Keyword">field</a>


    <a id="TransactionStructure.govParams"></a><a id="2308" href="Ledger.Dijkstra.Specification.Transaction.html#2308" class="Field">govParams</a>              <a id="2331" class="Symbol">:</a> <a id="2333" href="Ledger.Dijkstra.Specification.PParams.html#14445" class="Record">GovParams</a>
    <a id="TransactionStructure.tokenAlgebra"></a><a id="2347" href="Ledger.Dijkstra.Specification.Transaction.html#2347" class="Field">tokenAlgebra</a>           <a id="2370" class="Symbol">:</a> <a id="2372" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Record">TokenAlgebra</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2389" href="Ledger.Dijkstra.Specification.Transaction.html#2389" class="Field">txidBytes</a>              <a id="2412" class="Symbol">:</a> <a id="2414" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a> <a id="2419" class="Symbol">→</a> <a id="2421" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>


  <a id="2429" class="Keyword">open</a> <a id="2434" href="Ledger.Dijkstra.Specification.PParams.html#14445" class="Module">GovParams</a> <a id="2444" href="Ledger.Dijkstra.Specification.Transaction.html#2308" class="Field">govParams</a> <a id="2454" class="Keyword">public</a>
  <a id="2463" class="Keyword">open</a> <a id="2468" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Module">TokenAlgebra</a> <a id="2481" href="Ledger.Dijkstra.Specification.Transaction.html#2347" class="Field">tokenAlgebra</a> <a id="2494" class="Keyword">public</a>


  <a id="TransactionStructure.govStructure"></a><a id="2505" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a> <a id="2518" class="Symbol">:</a> <a id="2520" href="Ledger.Dijkstra.Specification.Gov.Base.html#332" class="Record">GovStructure</a>
  <a id="2535" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a> <a id="2548" class="Symbol">=</a> <a id="2550" class="Keyword">record</a>
    <a id="2561" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2610" class="Symbol">{</a> <a id="2612" href="Ledger.Dijkstra.Specification.Gov.Base.html#367" class="Field">TxId</a> <a id="2617" class="Symbol">=</a> <a id="2619" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a><a id="2623" class="Symbol">;</a> <a id="2625" href="Ledger.Dijkstra.Specification.Gov.Base.html#372" class="Field">DocHash</a> <a id="2633" class="Symbol">=</a> <a id="2635" href="Ledger.Dijkstra.Specification.Transaction.html#1717" class="Function">ADHash</a>
    <a id="2646" class="Symbol">;</a> <a id="2648" href="Ledger.Dijkstra.Specification.Gov.Base.html#432" class="Field">cryptoStructure</a> <a id="2664" class="Symbol">=</a> <a id="2666" href="Ledger.Dijkstra.Specification.Transaction.html#1512" class="Field">crypto</a>
    <a id="2677" class="Symbol">;</a> <a id="2679" href="Ledger.Dijkstra.Specification.Gov.Base.html#521" class="Field">epochStructure</a> <a id="2694" class="Symbol">=</a> <a id="2696" href="Ledger.Dijkstra.Specification.Transaction.html#1557" class="Field">epochStructure</a>
    <a id="2715" class="Symbol">;</a> <a id="2717" href="Ledger.Dijkstra.Specification.Gov.Base.html#606" class="Field">scriptStructure</a> <a id="2733" class="Symbol">=</a> <a id="2735" href="Ledger.Dijkstra.Specification.Transaction.html#2115" class="Field">scriptStructure</a>
    <a id="2755" class="Symbol">;</a> <a id="2757" href="Ledger.Dijkstra.Specification.Gov.Base.html#826" class="Field">govParams</a> <a id="2767" class="Symbol">=</a> <a id="2769" href="Ledger.Dijkstra.Specification.Transaction.html#2308" class="Field">govParams</a>
    <a id="2783" class="Symbol">;</a> <a id="2785" href="Ledger.Dijkstra.Specification.Gov.Base.html#891" class="Field">globalConstants</a> <a id="2801" class="Symbol">=</a> <a id="2803" href="Ledger.Dijkstra.Specification.Transaction.html#1467" class="Field">globalConstants</a>
    <a id="2823" class="Symbol">}</a>


  <a id="2829" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2836" href="Ledger.Dijkstra.Specification.Transaction.html#2836" class="Module">GovernanceActions</a> <a id="2854" class="Symbol">=</a> <a id="2856" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2898" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
  <a id="2913" class="Keyword">open</a> <a id="2918" href="Ledger.Dijkstra.Specification.Transaction.html#2836" class="Module">GovernanceActions</a> <a id="2936" class="Keyword">hiding</a> <a id="2943" class="Symbol">(</a><a id="2944" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1491" class="Datatype">Vote</a><a id="2948" class="Symbol">;</a> <a id="2950" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1511" class="InductiveConstructor">yes</a><a id="2953" class="Symbol">;</a> <a id="2955" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1515" class="InductiveConstructor">no</a><a id="2957" class="Symbol">;</a> <a id="2959" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1518" class="InductiveConstructor">abstain</a><a id="2966" class="Symbol">)</a> <a id="2968" class="Keyword">public</a>

  <a id="2978" class="Keyword">open</a> <a id="2983" class="Keyword">import</a> <a id="2990" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="3026" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="3043" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a> <a id="3048" class="Symbol">:</a> <a id="3050" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3057" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a> <a id="3062" class="Symbol">=</a> <a id="3064" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a> <a id="3069" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3071" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="3077" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="3083" class="Symbol">:</a> <a id="3085" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3092" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="3098" class="Symbol">=</a> <a id="3100" href="Ledger.Core.Specification.Address.html#3042" class="Function">Addr</a> <a id="3105" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3107" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="3113" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3115" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3121" class="Symbol">(</a><a id="3122" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a> <a id="3128" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3130" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a><a id="3138" class="Symbol">)</a> <a id="3140" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3142" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3148" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="3158" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="3163" class="Symbol">:</a> <a id="3165" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3172" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="3177" class="Symbol">=</a> <a id="3179" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a> <a id="3184" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3186" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3195" href="Ledger.Dijkstra.Specification.Transaction.html#3195" class="Function">RedeemerPtr</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a> <a id="3217" class="Symbol">→</a> <a id="3219" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3226" href="Ledger.Dijkstra.Specification.Transaction.html#3195" class="Function">RedeemerPtr</a> <a id="3238" href="Ledger.Dijkstra.Specification.Transaction.html#3238" class="Bound">txLevel</a>  <a id="3247" class="Symbol">=</a> <a id="3249" href="Ledger.Dijkstra.Specification.Transaction.html#1138" class="Datatype">Tag</a> <a id="3253" href="Ledger.Dijkstra.Specification.Transaction.html#3238" class="Bound">txLevel</a> <a id="3261" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3263" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3269" href="Ledger.Dijkstra.Specification.Transaction.html#3269" class="Function">ProposedPPUpdates</a> <a id="3287" class="Symbol">:</a> <a id="3289" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3296" href="Ledger.Dijkstra.Specification.Transaction.html#3269" class="Function">ProposedPPUpdates</a> <a id="3314" class="Symbol">=</a> <a id="3316" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3324" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3326" href="Ledger.Dijkstra.Specification.PParams.html#14543" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3343" href="Ledger.Dijkstra.Specification.Transaction.html#3343" class="Function">Update</a> <a id="3350" class="Symbol">:</a> <a id="3352" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3359" href="Ledger.Dijkstra.Specification.Transaction.html#3343" class="Function">Update</a> <a id="3366" class="Symbol">=</a> <a id="3368" href="Ledger.Dijkstra.Specification.Transaction.html#3269" class="Function">ProposedPPUpdates</a> <a id="3386" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3388" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>

  <a id="3397" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3404" href="Ledger.Dijkstra.Specification.Transaction.html#3404" class="Record">HasUTxO</a> <a id="3412" class="Symbol">{</a><a id="3413" href="Ledger.Dijkstra.Specification.Transaction.html#3413" class="Bound">a</a><a id="3414" class="Symbol">}</a> <a id="3416" class="Symbol">(</a><a id="3417" href="Ledger.Dijkstra.Specification.Transaction.html#3417" class="Bound">A</a> <a id="3419" class="Symbol">:</a> <a id="3421" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3426" href="Ledger.Dijkstra.Specification.Transaction.html#3413" class="Bound">a</a><a id="3427" class="Symbol">)</a> <a id="3429" class="Symbol">:</a> <a id="3431" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3436" href="Ledger.Dijkstra.Specification.Transaction.html#3413" class="Bound">a</a> <a id="3438" class="Keyword">where</a>
    <a id="3448" class="Keyword">field</a> <a id="3454" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="3461" class="Symbol">:</a> <a id="3463" href="Ledger.Dijkstra.Specification.Transaction.html#3417" class="Bound">A</a> <a id="3465" class="Symbol">→</a> <a id="3467" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
  <a id="3474" class="Keyword">open</a> <a id="3479" href="Ledger.Dijkstra.Specification.Transaction.html#3404" class="Module">HasUTxO</a> <a id="3487" class="Symbol">⦃...⦄</a> <a id="3493" class="Keyword">public</a>


  <a id="3504" class="Keyword">mutual</a>
    <a id="3515" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3522" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="3525" class="Symbol">(</a><a id="3526" href="Ledger.Dijkstra.Specification.Transaction.html#3526" class="Bound">txLevel</a> <a id="3534" class="Symbol">:</a> <a id="3536" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a><a id="3543" class="Symbol">)</a> <a id="3545" class="Symbol">:</a> <a id="3547" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3552" class="Keyword">where</a>
      <a id="3564" class="Keyword">inductive</a>
      <a id="3580" class="Keyword">field</a>
        <a id="3594" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Field">txBody</a>       <a id="3607" class="Symbol">:</a> <a id="3609" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="3616" href="Ledger.Dijkstra.Specification.Transaction.html#3526" class="Bound">txLevel</a>
        <a id="3632" href="Ledger.Dijkstra.Specification.Transaction.html#3632" class="Field">txWitnesses</a>  <a id="3645" class="Symbol">:</a> <a id="3647" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="3659" href="Ledger.Dijkstra.Specification.Transaction.html#3526" class="Bound">txLevel</a>
        <a id="3675" href="Ledger.Dijkstra.Specification.Transaction.html#3675" class="Field">txSize</a>       <a id="3688" class="Symbol">:</a> <a id="3690" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="3700" href="Ledger.Dijkstra.Specification.Transaction.html#3700" class="Field">isValid</a>      <a id="3713" class="Symbol">:</a> <a id="3715" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="3726" href="Ledger.Dijkstra.Specification.Transaction.html#3526" class="Bound">txLevel</a> <a id="3734" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3747" href="Ledger.Dijkstra.Specification.Transaction.html#3747" class="Field">txAuxData</a>    <a id="3760" class="Symbol">:</a> <a id="3762" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3768" href="Ledger.Dijkstra.Specification.Transaction.html#1384" class="Field">AuxiliaryData</a>

    <a id="3787" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3794" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="3801" class="Symbol">(</a><a id="3802" href="Ledger.Dijkstra.Specification.Transaction.html#3802" class="Bound">txLevel</a> <a id="3810" class="Symbol">:</a> <a id="3812" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a><a id="3819" class="Symbol">)</a> <a id="3821" class="Symbol">:</a> <a id="3823" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3828" class="Keyword">where</a>
      <a id="3840" class="Keyword">inductive</a>
      <a id="3856" class="Keyword">field</a>
        <a id="3870" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Field">txIns</a>                <a id="3891" class="Symbol">:</a> <a id="3893" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3895" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
        <a id="3908" href="Ledger.Dijkstra.Specification.Transaction.html#3908" class="Field">referenceInputs</a>      <a id="3929" class="Symbol">:</a> <a id="3931" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3933" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
        <a id="3946" href="Ledger.Dijkstra.Specification.Transaction.html#3946" class="Field">collateralInputs</a>     <a id="3967" class="Symbol">:</a> <a id="3969" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="3980" href="Ledger.Dijkstra.Specification.Transaction.html#3802" class="Bound">txLevel</a> <a id="3988" class="Symbol">(</a><a id="3989" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3991" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a><a id="3995" class="Symbol">)</a>
        <a id="4005" href="Ledger.Dijkstra.Specification.Transaction.html#4005" class="Field">txOuts</a>               <a id="4026" class="Symbol">:</a> <a id="4028" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a> <a id="4031" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4033" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
        <a id="4047" href="Ledger.Dijkstra.Specification.Transaction.html#4047" class="Field">txId</a>                 <a id="4068" class="Symbol">:</a> <a id="4070" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a>
        <a id="4083" href="Ledger.Dijkstra.Specification.Transaction.html#4083" class="Field">txCerts</a>              <a id="4104" class="Symbol">:</a> <a id="4106" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4111" href="Ledger.Dijkstra.Specification.Certs.html#992" class="Datatype">DCert</a>
        <a id="4125" href="Ledger.Dijkstra.Specification.Transaction.html#4125" class="Field">txFee</a>                <a id="4146" class="Symbol">:</a> <a id="4148" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="4159" href="Ledger.Dijkstra.Specification.Transaction.html#3802" class="Bound">txLevel</a> <a id="4167" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
        <a id="4180" href="Ledger.Dijkstra.Specification.Transaction.html#4180" class="Field">txWithdrawals</a>        <a id="4201" class="Symbol">:</a> <a id="4203" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>
        <a id="4223" href="Ledger.Dijkstra.Specification.Transaction.html#4223" class="Field">txVldt</a>               <a id="4244" class="Symbol">:</a> <a id="4246" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4252" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="4257" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4259" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4265" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
        <a id="4278" href="Ledger.Dijkstra.Specification.Transaction.html#4278" class="Field">txADhash</a>             <a id="4299" class="Symbol">:</a> <a id="4301" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4307" href="Ledger.Dijkstra.Specification.Transaction.html#1717" class="Function">ADHash</a>
        <a id="4322" href="Ledger.Dijkstra.Specification.Transaction.html#4322" class="Field">txDonation</a>           <a id="4343" class="Symbol">:</a> <a id="4345" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4363" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Field">txGovVotes</a>           <a id="4384" class="Symbol">:</a> <a id="4386" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4391" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
        <a id="4407" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Field">txGovProposals</a>       <a id="4428" class="Symbol">:</a> <a id="4430" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4435" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
        <a id="4455" href="Ledger.Dijkstra.Specification.Transaction.html#4455" class="Field">txNetworkId</a>          <a id="4476" class="Symbol">:</a> <a id="4478" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4484" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
        <a id="4500" href="Ledger.Dijkstra.Specification.Transaction.html#4500" class="Field">currentTreasury</a>      <a id="4521" class="Symbol">:</a> <a id="4523" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4529" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4542" href="Ledger.Dijkstra.Specification.Transaction.html#4542" class="Field">mint</a>                 <a id="4563" class="Symbol">:</a> <a id="4565" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
        <a id="4579" href="Ledger.Dijkstra.Specification.Transaction.html#4579" class="Field">scriptIntegrityHash</a>  <a id="4600" class="Symbol">:</a> <a id="4602" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4608" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4628" class="Comment">-- New in Dijkstra --</a>
        <a id="4658" href="Ledger.Dijkstra.Specification.Transaction.html#4658" class="Field">txSubTransactions</a>         <a id="4684" class="Symbol">:</a> <a id="4686" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="4697" href="Ledger.Dijkstra.Specification.Transaction.html#3802" class="Bound">txLevel</a> <a id="4705" class="Symbol">(</a><a id="4706" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4711" class="Symbol">(</a><a id="4712" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="4715" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a><a id="4725" class="Symbol">))</a>
        <a id="4736" href="Ledger.Dijkstra.Specification.Transaction.html#4736" class="Field">txGuards</a>                  <a id="4762" class="Symbol">:</a> <a id="4764" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4766" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
        <a id="4785" href="Ledger.Dijkstra.Specification.Transaction.html#4785" class="Field">txRequiredTopLevelGuards</a>  <a id="4811" class="Symbol">:</a> <a id="4813" href="Ledger.Dijkstra.Specification.Transaction.html#917" class="Function">InSubLevel</a> <a id="4824" href="Ledger.Dijkstra.Specification.Transaction.html#3802" class="Bound">txLevel</a> <a id="4832" class="Symbol">(</a><a id="4833" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="4847" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4849" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4855" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="4860" class="Symbol">))</a>
        <a id="4871" class="Comment">---------------------</a>

      <a id="TransactionStructure.TxBody.requiredSignerHashes"></a><a id="4900" href="Ledger.Dijkstra.Specification.Transaction.html#4900" class="Function">requiredSignerHashes</a> <a id="4921" class="Symbol">:</a> <a id="4923" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4925" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
      <a id="4939" href="Ledger.Dijkstra.Specification.Transaction.html#4900" class="Function">requiredSignerHashes</a> <a id="4960" class="Symbol">=</a> <a id="4962" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4973" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="4986" href="Ledger.Dijkstra.Specification.Transaction.html#4736" class="Field">txGuards</a>


    <a id="5001" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="5008" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="5020" class="Symbol">(</a><a id="5021" href="Ledger.Dijkstra.Specification.Transaction.html#5021" class="Bound">txLevel</a> <a id="5029" class="Symbol">:</a> <a id="5031" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a><a id="5038" class="Symbol">)</a> <a id="5040" class="Symbol">:</a> <a id="5042" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5047" class="Keyword">where</a>
      <a id="5059" class="Keyword">inductive</a>
      <a id="5075" class="Keyword">field</a>
        <a id="5089" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Field">vKeySigs</a>     <a id="5102" class="Symbol">:</a> <a id="5104" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="5109" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5111" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
        <a id="5123" href="Ledger.Dijkstra.Specification.Transaction.html#5123" class="Field">scripts</a>      <a id="5136" class="Symbol">:</a> <a id="5138" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5140" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
        <a id="5155" href="Ledger.Dijkstra.Specification.Transaction.html#5155" class="Field">txData</a>       <a id="5168" class="Symbol">:</a> <a id="5170" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5172" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
        <a id="5186" href="Ledger.Dijkstra.Specification.Transaction.html#5186" class="Field">txRedeemers</a>  <a id="5199" class="Symbol">:</a> <a id="5201" href="Ledger.Dijkstra.Specification.Transaction.html#3195" class="Function">RedeemerPtr</a> <a id="5213" href="Ledger.Dijkstra.Specification.Transaction.html#5021" class="Bound">txLevel</a> <a id="5221" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5223" href="Ledger.Dijkstra.Specification.Script.Base.html#1853" class="Function">Redeemer</a> <a id="5232" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5234" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5249" href="Ledger.Dijkstra.Specification.Transaction.html#5249" class="Function">scriptsP1</a> <a id="5259" class="Symbol">:</a> <a id="5261" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5263" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
      <a id="5278" href="Ledger.Dijkstra.Specification.Transaction.html#5249" class="Function">scriptsP1</a> <a id="5288" class="Symbol">=</a> <a id="5290" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5301" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5308" href="Ledger.Dijkstra.Specification.Transaction.html#5123" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5320" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="5331" class="Symbol">:</a> <a id="5333" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5340" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="5351" class="Symbol">=</a> <a id="5353" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="5356" href="Ledger.Dijkstra.Specification.Transaction.html#791" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5370" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="5381" class="Symbol">:</a> <a id="5383" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5390" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="5401" class="Symbol">=</a> <a id="5403" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="5406" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5421" href="Ledger.Dijkstra.Specification.Transaction.html#5421" class="Function">AnyLevelTx</a> <a id="5432" class="Symbol">:</a> <a id="5434" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5441" href="Ledger.Dijkstra.Specification.Transaction.html#5421" class="Function">AnyLevelTx</a> <a id="5452" class="Symbol">=</a> <a id="5454" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="5465" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5467" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a>


  <a id="5482" class="Comment">-- Level-Dependent Type Classes --</a>
  <a id="5519" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5526" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Record">HasTxBody</a> <a id="5536" class="Symbol">{</a><a id="5537" href="Ledger.Dijkstra.Specification.Transaction.html#5537" class="Bound">txLevel</a><a id="5544" class="Symbol">}</a> <a id="5546" class="Symbol">{</a><a id="5547" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a><a id="5548" class="Symbol">}</a> <a id="5550" class="Symbol">(</a><a id="5551" href="Ledger.Dijkstra.Specification.Transaction.html#5551" class="Bound">A</a> <a id="5553" class="Symbol">:</a> <a id="5555" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5560" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">:</a> <a id="5565" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5570" href="Ledger.Dijkstra.Specification.Transaction.html#5547" class="Bound">a</a> <a id="5572" class="Keyword">where</a>
    <a id="5582" class="Keyword">field</a> <a id="5588" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a> <a id="5597" class="Symbol">:</a> <a id="5599" href="Ledger.Dijkstra.Specification.Transaction.html#5551" class="Bound">A</a> <a id="5601" class="Symbol">→</a> <a id="5603" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="5610" href="Ledger.Dijkstra.Specification.Transaction.html#5537" class="Bound">txLevel</a>
  <a id="5620" class="Keyword">open</a> <a id="5625" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Module">HasTxBody</a>  <a id="5636" class="Symbol">⦃...⦄</a> <a id="5642" class="Keyword">public</a>

  <a id="5652" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="5659" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Record">HasTxWitnesses</a> <a id="5674" class="Symbol">{</a><a id="5675" href="Ledger.Dijkstra.Specification.Transaction.html#5675" class="Bound">txLevel</a><a id="5682" class="Symbol">}</a> <a id="5684" class="Symbol">{</a><a id="5685" href="Ledger.Dijkstra.Specification.Transaction.html#5685" class="Bound">a</a><a id="5686" class="Symbol">}</a> <a id="5688" class="Symbol">(</a><a id="5689" href="Ledger.Dijkstra.Specification.Transaction.html#5689" class="Bound">A</a> <a id="5691" class="Symbol">:</a> <a id="5693" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5698" href="Ledger.Dijkstra.Specification.Transaction.html#5685" class="Bound">a</a><a id="5699" class="Symbol">)</a> <a id="5701" class="Symbol">:</a> <a id="5703" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5708" href="Ledger.Dijkstra.Specification.Transaction.html#5685" class="Bound">a</a> <a id="5710" class="Keyword">where</a>
    <a id="5720" class="Keyword">field</a> <a id="5726" href="Ledger.Dijkstra.Specification.Transaction.html#5726" class="Field">TxWitnessesOf</a> <a id="5740" class="Symbol">:</a> <a id="5742" href="Ledger.Dijkstra.Specification.Transaction.html#5689" class="Bound">A</a> <a id="5744" class="Symbol">→</a> <a id="5746" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="5758" href="Ledger.Dijkstra.Specification.Transaction.html#5675" class="Bound">txLevel</a>
  <a id="5768" class="Keyword">open</a> <a id="5773" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Module">HasTxWitnesses</a> <a id="5788" class="Symbol">⦃...⦄</a> <a id="5794" class="Keyword">public</a>

  <a id="5804" class="Keyword">record</a> <a id="TransactionStructure.HasRedeemers"></a><a id="5811" href="Ledger.Dijkstra.Specification.Transaction.html#5811" class="Record">HasRedeemers</a> <a id="5824" class="Symbol">{</a><a id="5825" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Bound">txLevel</a><a id="5832" class="Symbol">}</a> <a id="5834" class="Symbol">{</a><a id="5835" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Bound">a</a><a id="5836" class="Symbol">}</a> <a id="5838" class="Symbol">(</a><a id="5839" href="Ledger.Dijkstra.Specification.Transaction.html#5839" class="Bound">A</a> <a id="5841" class="Symbol">:</a> <a id="5843" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5848" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Bound">a</a><a id="5849" class="Symbol">)</a> <a id="5851" class="Symbol">:</a> <a id="5853" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5858" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Bound">a</a> <a id="5860" class="Keyword">where</a>
    <a id="5870" class="Keyword">field</a> <a id="5876" href="Ledger.Dijkstra.Specification.Transaction.html#5876" class="Field">RedeemersOf</a> <a id="5888" class="Symbol">:</a> <a id="5890" href="Ledger.Dijkstra.Specification.Transaction.html#5839" class="Bound">A</a> <a id="5892" class="Symbol">→</a> <a id="5894" href="Ledger.Dijkstra.Specification.Transaction.html#3195" class="Function">RedeemerPtr</a> <a id="5906" href="Ledger.Dijkstra.Specification.Transaction.html#5825" class="Bound">txLevel</a> <a id="5914" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5916" href="Ledger.Dijkstra.Specification.Script.Base.html#1853" class="Function">Redeemer</a> <a id="5925" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5927" href="Ledger.Dijkstra.Specification.Script.Base.html#1023" class="Function">ExUnits</a>
  <a id="5937" class="Keyword">open</a> <a id="5942" href="Ledger.Dijkstra.Specification.Transaction.html#5811" class="Module">HasRedeemers</a> <a id="5955" class="Symbol">⦃...⦄</a> <a id="5961" class="Keyword">public</a>

  <a id="5971" class="Comment">-- (top-level only) --</a>
  <a id="5996" class="Keyword">record</a> <a id="TransactionStructure.HasCollateralInputs"></a><a id="6003" href="Ledger.Dijkstra.Specification.Transaction.html#6003" class="Record">HasCollateralInputs</a> <a id="6023" class="Symbol">{</a><a id="6024" href="Ledger.Dijkstra.Specification.Transaction.html#6024" class="Bound">txLevel</a><a id="6031" class="Symbol">}</a> <a id="6033" class="Symbol">{</a><a id="6034" href="Ledger.Dijkstra.Specification.Transaction.html#6034" class="Bound">a</a><a id="6035" class="Symbol">}</a> <a id="6037" class="Symbol">(</a><a id="6038" href="Ledger.Dijkstra.Specification.Transaction.html#6038" class="Bound">A</a> <a id="6040" class="Symbol">:</a> <a id="6042" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6047" href="Ledger.Dijkstra.Specification.Transaction.html#6034" class="Bound">a</a><a id="6048" class="Symbol">)</a> <a id="6050" class="Symbol">:</a> <a id="6052" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6057" href="Ledger.Dijkstra.Specification.Transaction.html#6034" class="Bound">a</a> <a id="6059" class="Keyword">where</a>
    <a id="6069" class="Keyword">field</a> <a id="6075" href="Ledger.Dijkstra.Specification.Transaction.html#6075" class="Field">CollateralInputsOf</a> <a id="6094" class="Symbol">:</a> <a id="6096" href="Ledger.Dijkstra.Specification.Transaction.html#6038" class="Bound">A</a> <a id="6098" class="Symbol">→</a> <a id="6100" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="6111" href="Ledger.Dijkstra.Specification.Transaction.html#6024" class="Bound">txLevel</a> <a id="6119" class="Symbol">(</a><a id="6120" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6122" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a><a id="6126" class="Symbol">)</a>
  <a id="6130" class="Keyword">open</a> <a id="6135" href="Ledger.Dijkstra.Specification.Transaction.html#6003" class="Module">HasCollateralInputs</a> <a id="6155" class="Symbol">⦃...⦄</a> <a id="6161" class="Keyword">public</a>

  <a id="6171" class="Keyword">record</a> <a id="TransactionStructure.HasTxFees"></a><a id="6178" href="Ledger.Dijkstra.Specification.Transaction.html#6178" class="Record">HasTxFees</a> <a id="6188" class="Symbol">{</a><a id="6189" href="Ledger.Dijkstra.Specification.Transaction.html#6189" class="Bound">txLevel</a><a id="6196" class="Symbol">}</a> <a id="6198" class="Symbol">{</a><a id="6199" href="Ledger.Dijkstra.Specification.Transaction.html#6199" class="Bound">a</a><a id="6200" class="Symbol">}</a> <a id="6202" class="Symbol">(</a><a id="6203" href="Ledger.Dijkstra.Specification.Transaction.html#6203" class="Bound">A</a> <a id="6205" class="Symbol">:</a> <a id="6207" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6212" href="Ledger.Dijkstra.Specification.Transaction.html#6199" class="Bound">a</a><a id="6213" class="Symbol">)</a> <a id="6215" class="Symbol">:</a> <a id="6217" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6222" href="Ledger.Dijkstra.Specification.Transaction.html#6199" class="Bound">a</a> <a id="6224" class="Keyword">where</a>
    <a id="6234" class="Keyword">field</a> <a id="6240" href="Ledger.Dijkstra.Specification.Transaction.html#6240" class="Field">TxFeesOf</a> <a id="6249" class="Symbol">:</a> <a id="6251" href="Ledger.Dijkstra.Specification.Transaction.html#6203" class="Bound">A</a> <a id="6253" class="Symbol">→</a> <a id="6255" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="6266" href="Ledger.Dijkstra.Specification.Transaction.html#6189" class="Bound">txLevel</a> <a id="6274" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="6281" class="Keyword">open</a> <a id="6286" href="Ledger.Dijkstra.Specification.Transaction.html#6178" class="Module">HasTxFees</a> <a id="6296" class="Symbol">⦃...⦄</a> <a id="6302" class="Keyword">public</a>

  <a id="6312" class="Keyword">record</a> <a id="TransactionStructure.HasSubTransactions"></a><a id="6319" href="Ledger.Dijkstra.Specification.Transaction.html#6319" class="Record">HasSubTransactions</a> <a id="6338" class="Symbol">{</a><a id="6339" href="Ledger.Dijkstra.Specification.Transaction.html#6339" class="Bound">txLevel</a><a id="6346" class="Symbol">}</a> <a id="6348" class="Symbol">{</a><a id="6349" href="Ledger.Dijkstra.Specification.Transaction.html#6349" class="Bound">a</a><a id="6350" class="Symbol">}</a> <a id="6352" class="Symbol">(</a><a id="6353" href="Ledger.Dijkstra.Specification.Transaction.html#6353" class="Bound">A</a> <a id="6355" class="Symbol">:</a> <a id="6357" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6362" href="Ledger.Dijkstra.Specification.Transaction.html#6349" class="Bound">a</a><a id="6363" class="Symbol">)</a> <a id="6365" class="Symbol">:</a> <a id="6367" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6372" href="Ledger.Dijkstra.Specification.Transaction.html#6349" class="Bound">a</a> <a id="6374" class="Keyword">where</a>
    <a id="6384" class="Keyword">field</a> <a id="6390" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="6408" class="Symbol">:</a> <a id="6410" href="Ledger.Dijkstra.Specification.Transaction.html#6353" class="Bound">A</a> <a id="6412" class="Symbol">→</a> <a id="6414" href="Ledger.Dijkstra.Specification.Transaction.html#825" class="Function">InTopLevel</a> <a id="6425" href="Ledger.Dijkstra.Specification.Transaction.html#6339" class="Bound">txLevel</a> <a id="6433" class="Symbol">(</a><a id="6434" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6439" class="Symbol">(</a><a id="6440" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="6443" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a><a id="6453" class="Symbol">))</a>
  <a id="6458" class="Keyword">open</a> <a id="6463" href="Ledger.Dijkstra.Specification.Transaction.html#6319" class="Module">HasSubTransactions</a> <a id="6482" class="Symbol">⦃...⦄</a> <a id="6488" class="Keyword">public</a>

  <a id="6498" class="Comment">-- (sub-level only) --</a>
  <a id="6523" class="Keyword">record</a> <a id="TransactionStructure.HasTopLevelGuards"></a><a id="6530" href="Ledger.Dijkstra.Specification.Transaction.html#6530" class="Record">HasTopLevelGuards</a> <a id="6548" class="Symbol">{</a><a id="6549" href="Ledger.Dijkstra.Specification.Transaction.html#6549" class="Bound">txLevel</a><a id="6556" class="Symbol">}</a> <a id="6558" class="Symbol">{</a><a id="6559" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Bound">a</a><a id="6560" class="Symbol">}</a> <a id="6562" class="Symbol">(</a><a id="6563" href="Ledger.Dijkstra.Specification.Transaction.html#6563" class="Bound">A</a> <a id="6565" class="Symbol">:</a> <a id="6567" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6572" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Bound">a</a><a id="6573" class="Symbol">)</a> <a id="6575" class="Symbol">:</a> <a id="6577" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6582" href="Ledger.Dijkstra.Specification.Transaction.html#6559" class="Bound">a</a> <a id="6584" class="Keyword">where</a>
    <a id="6594" class="Keyword">field</a> <a id="6600" href="Ledger.Dijkstra.Specification.Transaction.html#6600" class="Field">TopLevelGuardsOf</a> <a id="6617" class="Symbol">:</a> <a id="6619" href="Ledger.Dijkstra.Specification.Transaction.html#6563" class="Bound">A</a> <a id="6621" class="Symbol">→</a> <a id="6623" href="Ledger.Dijkstra.Specification.Transaction.html#917" class="Function">InSubLevel</a> <a id="6634" href="Ledger.Dijkstra.Specification.Transaction.html#6549" class="Bound">txLevel</a> <a id="6642" class="Symbol">(</a><a id="6643" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="6657" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6659" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6665" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="6670" class="Symbol">))</a>
  <a id="6675" class="Keyword">open</a> <a id="6680" href="Ledger.Dijkstra.Specification.Transaction.html#6530" class="Module">HasTopLevelGuards</a> <a id="6698" class="Symbol">⦃...⦄</a> <a id="6704" class="Keyword">public</a>


  <a id="6715" class="Comment">-- Level-Independent Type Classes --</a>
  <a id="6754" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="6761" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Record">HasTxId</a> <a id="6769" class="Symbol">{</a><a id="6770" href="Ledger.Dijkstra.Specification.Transaction.html#6770" class="Bound">a</a><a id="6771" class="Symbol">}</a> <a id="6773" class="Symbol">(</a><a id="6774" href="Ledger.Dijkstra.Specification.Transaction.html#6774" class="Bound">A</a> <a id="6776" class="Symbol">:</a> <a id="6778" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6783" href="Ledger.Dijkstra.Specification.Transaction.html#6770" class="Bound">a</a><a id="6784" class="Symbol">)</a> <a id="6786" class="Symbol">:</a> <a id="6788" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6793" href="Ledger.Dijkstra.Specification.Transaction.html#6770" class="Bound">a</a> <a id="6795" class="Keyword">where</a>
    <a id="6805" class="Keyword">field</a> <a id="6811" href="Ledger.Dijkstra.Specification.Transaction.html#6811" class="Field">TxIdOf</a> <a id="6818" class="Symbol">:</a> <a id="6820" href="Ledger.Dijkstra.Specification.Transaction.html#6774" class="Bound">A</a> <a id="6822" class="Symbol">→</a> <a id="6824" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a>
  <a id="6831" class="Keyword">open</a> <a id="6836" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Module">HasTxId</a> <a id="6844" class="Symbol">⦃...⦄</a> <a id="6850" class="Keyword">public</a>

  <a id="6860" class="Keyword">record</a> <a id="TransactionStructure.HasSize"></a><a id="6867" href="Ledger.Dijkstra.Specification.Transaction.html#6867" class="Record">HasSize</a> <a id="6875" class="Symbol">{</a><a id="6876" href="Ledger.Dijkstra.Specification.Transaction.html#6876" class="Bound">a</a><a id="6877" class="Symbol">}</a> <a id="6879" class="Symbol">(</a><a id="6880" href="Ledger.Dijkstra.Specification.Transaction.html#6880" class="Bound">A</a> <a id="6882" class="Symbol">:</a> <a id="6884" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6889" href="Ledger.Dijkstra.Specification.Transaction.html#6876" class="Bound">a</a><a id="6890" class="Symbol">)</a> <a id="6892" class="Symbol">:</a> <a id="6894" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6899" href="Ledger.Dijkstra.Specification.Transaction.html#6876" class="Bound">a</a> <a id="6901" class="Keyword">where</a>
    <a id="6911" class="Keyword">field</a> <a id="6917" href="Ledger.Dijkstra.Specification.Transaction.html#6917" class="Field">SizeOf</a> <a id="6924" class="Symbol">:</a> <a id="6926" href="Ledger.Dijkstra.Specification.Transaction.html#6880" class="Bound">A</a> <a id="6928" class="Symbol">→</a> <a id="6930" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="6934" class="Keyword">open</a> <a id="6939" href="Ledger.Dijkstra.Specification.Transaction.html#6867" class="Module">HasSize</a> <a id="6947" class="Symbol">⦃...⦄</a> <a id="6953" class="Keyword">public</a>

  <a id="6963" class="Keyword">record</a> <a id="TransactionStructure.HasValidInterval"></a><a id="6970" href="Ledger.Dijkstra.Specification.Transaction.html#6970" class="Record">HasValidInterval</a> <a id="6987" class="Symbol">{</a><a id="6988" href="Ledger.Dijkstra.Specification.Transaction.html#6988" class="Bound">a</a><a id="6989" class="Symbol">}</a> <a id="6991" class="Symbol">(</a><a id="6992" href="Ledger.Dijkstra.Specification.Transaction.html#6992" class="Bound">A</a> <a id="6994" class="Symbol">:</a> <a id="6996" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7001" href="Ledger.Dijkstra.Specification.Transaction.html#6988" class="Bound">a</a><a id="7002" class="Symbol">)</a> <a id="7004" class="Symbol">:</a> <a id="7006" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7011" href="Ledger.Dijkstra.Specification.Transaction.html#6988" class="Bound">a</a> <a id="7013" class="Keyword">where</a>
    <a id="7023" class="Keyword">field</a> <a id="7029" href="Ledger.Dijkstra.Specification.Transaction.html#7029" class="Field">ValidIntervalOf</a> <a id="7045" class="Symbol">:</a> <a id="7047" href="Ledger.Dijkstra.Specification.Transaction.html#6992" class="Bound">A</a> <a id="7049" class="Symbol">→</a> <a id="7051" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7057" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="7062" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7064" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7070" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="7077" class="Keyword">open</a> <a id="7082" href="Ledger.Dijkstra.Specification.Transaction.html#6970" class="Module">HasValidInterval</a> <a id="7099" class="Symbol">⦃...⦄</a> <a id="7105" class="Keyword">public</a>

  <a id="7115" class="Keyword">record</a> <a id="TransactionStructure.HasSpendInputs"></a><a id="7122" href="Ledger.Dijkstra.Specification.Transaction.html#7122" class="Record">HasSpendInputs</a> <a id="7137" class="Symbol">{</a><a id="7138" href="Ledger.Dijkstra.Specification.Transaction.html#7138" class="Bound">a</a><a id="7139" class="Symbol">}</a> <a id="7141" class="Symbol">(</a><a id="7142" href="Ledger.Dijkstra.Specification.Transaction.html#7142" class="Bound">A</a> <a id="7144" class="Symbol">:</a> <a id="7146" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7151" href="Ledger.Dijkstra.Specification.Transaction.html#7138" class="Bound">a</a><a id="7152" class="Symbol">)</a> <a id="7154" class="Symbol">:</a> <a id="7156" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7161" href="Ledger.Dijkstra.Specification.Transaction.html#7138" class="Bound">a</a> <a id="7163" class="Keyword">where</a>
    <a id="7173" class="Keyword">field</a> <a id="7179" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="7193" class="Symbol">:</a> <a id="7195" href="Ledger.Dijkstra.Specification.Transaction.html#7142" class="Bound">A</a> <a id="7197" class="Symbol">→</a> <a id="7199" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7201" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
  <a id="7208" class="Keyword">open</a> <a id="7213" href="Ledger.Dijkstra.Specification.Transaction.html#7122" class="Module">HasSpendInputs</a> <a id="7228" class="Symbol">⦃...⦄</a> <a id="7234" class="Keyword">public</a>

  <a id="7244" class="Keyword">record</a> <a id="TransactionStructure.HasReferenceInputs"></a><a id="7251" href="Ledger.Dijkstra.Specification.Transaction.html#7251" class="Record">HasReferenceInputs</a> <a id="7270" class="Symbol">{</a><a id="7271" href="Ledger.Dijkstra.Specification.Transaction.html#7271" class="Bound">a</a><a id="7272" class="Symbol">}</a> <a id="7274" class="Symbol">(</a><a id="7275" href="Ledger.Dijkstra.Specification.Transaction.html#7275" class="Bound">A</a> <a id="7277" class="Symbol">:</a> <a id="7279" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7284" href="Ledger.Dijkstra.Specification.Transaction.html#7271" class="Bound">a</a><a id="7285" class="Symbol">)</a> <a id="7287" class="Symbol">:</a> <a id="7289" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7294" href="Ledger.Dijkstra.Specification.Transaction.html#7271" class="Bound">a</a> <a id="7296" class="Keyword">where</a>
    <a id="7306" class="Keyword">field</a> <a id="7312" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="7330" class="Symbol">:</a> <a id="7332" href="Ledger.Dijkstra.Specification.Transaction.html#7275" class="Bound">A</a> <a id="7334" class="Symbol">→</a> <a id="7336" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7338" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
  <a id="7345" class="Keyword">open</a> <a id="7350" href="Ledger.Dijkstra.Specification.Transaction.html#7251" class="Module">HasReferenceInputs</a> <a id="7369" class="Symbol">⦃...⦄</a> <a id="7375" class="Keyword">public</a>

  <a id="7385" class="Keyword">record</a> <a id="TransactionStructure.HasMintedValue"></a><a id="7392" href="Ledger.Dijkstra.Specification.Transaction.html#7392" class="Record">HasMintedValue</a> <a id="7407" class="Symbol">{</a><a id="7408" href="Ledger.Dijkstra.Specification.Transaction.html#7408" class="Bound">a</a><a id="7409" class="Symbol">}</a> <a id="7411" class="Symbol">(</a><a id="7412" href="Ledger.Dijkstra.Specification.Transaction.html#7412" class="Bound">A</a> <a id="7414" class="Symbol">:</a> <a id="7416" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7421" href="Ledger.Dijkstra.Specification.Transaction.html#7408" class="Bound">a</a><a id="7422" class="Symbol">)</a> <a id="7424" class="Symbol">:</a> <a id="7426" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7431" href="Ledger.Dijkstra.Specification.Transaction.html#7408" class="Bound">a</a> <a id="7433" class="Keyword">where</a>
    <a id="7443" class="Keyword">field</a> <a id="7449" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="7463" class="Symbol">:</a> <a id="7465" href="Ledger.Dijkstra.Specification.Transaction.html#7412" class="Bound">A</a> <a id="7467" class="Symbol">→</a> <a id="7469" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="7477" class="Keyword">open</a> <a id="7482" href="Ledger.Dijkstra.Specification.Transaction.html#7392" class="Module">HasMintedValue</a> <a id="7497" class="Symbol">⦃...⦄</a> <a id="7503" class="Keyword">public</a>

  <a id="7513" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="7520" href="Ledger.Dijkstra.Specification.Transaction.html#7520" class="Record">HasFees?</a> <a id="7529" class="Symbol">{</a><a id="7530" href="Ledger.Dijkstra.Specification.Transaction.html#7530" class="Bound">a</a><a id="7531" class="Symbol">}</a> <a id="7533" class="Symbol">(</a><a id="7534" href="Ledger.Dijkstra.Specification.Transaction.html#7534" class="Bound">A</a> <a id="7536" class="Symbol">:</a> <a id="7538" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7543" href="Ledger.Dijkstra.Specification.Transaction.html#7530" class="Bound">a</a><a id="7544" class="Symbol">)</a> <a id="7546" class="Symbol">:</a> <a id="7548" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7553" href="Ledger.Dijkstra.Specification.Transaction.html#7530" class="Bound">a</a> <a id="7555" class="Keyword">where</a>
    <a id="7565" class="Keyword">field</a> <a id="7571" href="Ledger.Dijkstra.Specification.Transaction.html#7571" class="Field">FeesOf?</a> <a id="7579" class="Symbol">:</a> <a id="7581" href="Ledger.Dijkstra.Specification.Transaction.html#7534" class="Bound">A</a> <a id="7583" class="Symbol">→</a> <a id="7585" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7591" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="7598" class="Keyword">open</a> <a id="7603" href="Ledger.Dijkstra.Specification.Transaction.html#7520" class="Module">HasFees?</a> <a id="7612" class="Symbol">⦃...⦄</a> <a id="7618" class="Keyword">public</a>

  <a id="7628" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="7635" href="Ledger.Dijkstra.Specification.Transaction.html#7635" class="Record">HasDCerts</a> <a id="7645" class="Symbol">{</a><a id="7646" href="Ledger.Dijkstra.Specification.Transaction.html#7646" class="Bound">a</a><a id="7647" class="Symbol">}</a> <a id="7649" class="Symbol">(</a><a id="7650" href="Ledger.Dijkstra.Specification.Transaction.html#7650" class="Bound">A</a> <a id="7652" class="Symbol">:</a> <a id="7654" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7659" href="Ledger.Dijkstra.Specification.Transaction.html#7646" class="Bound">a</a><a id="7660" class="Symbol">)</a> <a id="7662" class="Symbol">:</a> <a id="7664" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7669" href="Ledger.Dijkstra.Specification.Transaction.html#7646" class="Bound">a</a> <a id="7671" class="Keyword">where</a>
    <a id="7681" class="Keyword">field</a> <a id="7687" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="7696" class="Symbol">:</a> <a id="7698" href="Ledger.Dijkstra.Specification.Transaction.html#7650" class="Bound">A</a> <a id="7700" class="Symbol">→</a> <a id="7702" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7707" href="Ledger.Dijkstra.Specification.Certs.html#992" class="Datatype">DCert</a>
  <a id="7715" class="Keyword">open</a> <a id="7720" href="Ledger.Dijkstra.Specification.Transaction.html#7635" class="Module">HasDCerts</a> <a id="7730" class="Symbol">⦃...⦄</a> <a id="7736" class="Keyword">public</a>

  <a id="7746" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="7753" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Record">HasData</a> <a id="7761" class="Symbol">{</a><a id="7762" href="Ledger.Dijkstra.Specification.Transaction.html#7762" class="Bound">a</a><a id="7763" class="Symbol">}</a> <a id="7765" class="Symbol">(</a><a id="7766" href="Ledger.Dijkstra.Specification.Transaction.html#7766" class="Bound">A</a> <a id="7768" class="Symbol">:</a> <a id="7770" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7775" href="Ledger.Dijkstra.Specification.Transaction.html#7762" class="Bound">a</a><a id="7776" class="Symbol">)</a> <a id="7778" class="Symbol">:</a> <a id="7780" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7785" href="Ledger.Dijkstra.Specification.Transaction.html#7762" class="Bound">a</a> <a id="7787" class="Keyword">where</a>
    <a id="7797" class="Keyword">field</a> <a id="7803" href="Ledger.Dijkstra.Specification.Transaction.html#7803" class="Field">DataOf</a> <a id="7810" class="Symbol">:</a> <a id="7812" href="Ledger.Dijkstra.Specification.Transaction.html#7766" class="Bound">A</a> <a id="7814" class="Symbol">→</a> <a id="7816" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7818" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="7826" class="Keyword">open</a> <a id="7831" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Module">HasData</a> <a id="7839" class="Symbol">⦃...⦄</a> <a id="7845" class="Keyword">public</a>

  <a id="7855" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovProposals"></a><a id="7862" href="Ledger.Dijkstra.Specification.Transaction.html#7862" class="Record">HasListOfGovProposals</a> <a id="7884" class="Symbol">{</a><a id="7885" href="Ledger.Dijkstra.Specification.Transaction.html#7885" class="Bound">a</a><a id="7886" class="Symbol">}</a> <a id="7888" class="Symbol">(</a><a id="7889" href="Ledger.Dijkstra.Specification.Transaction.html#7889" class="Bound">A</a> <a id="7891" class="Symbol">:</a> <a id="7893" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7898" href="Ledger.Dijkstra.Specification.Transaction.html#7885" class="Bound">a</a><a id="7899" class="Symbol">)</a> <a id="7901" class="Symbol">:</a> <a id="7903" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7908" href="Ledger.Dijkstra.Specification.Transaction.html#7885" class="Bound">a</a> <a id="7910" class="Keyword">where</a>
    <a id="7920" class="Keyword">field</a> <a id="7926" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="7947" class="Symbol">:</a> <a id="7949" href="Ledger.Dijkstra.Specification.Transaction.html#7889" class="Bound">A</a> <a id="7951" class="Symbol">→</a> <a id="7953" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7958" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a>
  <a id="7972" class="Keyword">open</a> <a id="7977" href="Ledger.Dijkstra.Specification.Transaction.html#7862" class="Module">HasListOfGovProposals</a> <a id="7999" class="Symbol">⦃...⦄</a> <a id="8005" class="Keyword">public</a>

  <a id="8015" class="Keyword">record</a> <a id="TransactionStructure.HasListOfGovVotes"></a><a id="8022" href="Ledger.Dijkstra.Specification.Transaction.html#8022" class="Record">HasListOfGovVotes</a> <a id="8040" class="Symbol">{</a><a id="8041" href="Ledger.Dijkstra.Specification.Transaction.html#8041" class="Bound">a</a><a id="8042" class="Symbol">}</a> <a id="8044" class="Symbol">(</a><a id="8045" href="Ledger.Dijkstra.Specification.Transaction.html#8045" class="Bound">A</a> <a id="8047" class="Symbol">:</a> <a id="8049" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8054" href="Ledger.Dijkstra.Specification.Transaction.html#8041" class="Bound">a</a><a id="8055" class="Symbol">)</a> <a id="8057" class="Symbol">:</a> <a id="8059" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8064" href="Ledger.Dijkstra.Specification.Transaction.html#8041" class="Bound">a</a> <a id="8066" class="Keyword">where</a>
    <a id="8076" class="Keyword">field</a> <a id="8082" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="8099" class="Symbol">:</a> <a id="8101" href="Ledger.Dijkstra.Specification.Transaction.html#8045" class="Bound">A</a> <a id="8103" class="Symbol">→</a> <a id="8105" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8110" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
  <a id="8120" class="Keyword">open</a> <a id="8125" href="Ledger.Dijkstra.Specification.Transaction.html#8022" class="Module">HasListOfGovVotes</a> <a id="8143" class="Symbol">⦃...⦄</a> <a id="8149" class="Keyword">public</a>

  <a id="8159" class="Keyword">record</a> <a id="TransactionStructure.HasGuards"></a><a id="8166" href="Ledger.Dijkstra.Specification.Transaction.html#8166" class="Record">HasGuards</a> <a id="8176" class="Symbol">{</a><a id="8177" href="Ledger.Dijkstra.Specification.Transaction.html#8177" class="Bound">a</a><a id="8178" class="Symbol">}</a> <a id="8180" class="Symbol">(</a><a id="8181" href="Ledger.Dijkstra.Specification.Transaction.html#8181" class="Bound">A</a> <a id="8183" class="Symbol">:</a> <a id="8185" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8190" href="Ledger.Dijkstra.Specification.Transaction.html#8177" class="Bound">a</a><a id="8191" class="Symbol">)</a> <a id="8193" class="Symbol">:</a> <a id="8195" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8200" href="Ledger.Dijkstra.Specification.Transaction.html#8177" class="Bound">a</a> <a id="8202" class="Keyword">where</a>
    <a id="8212" class="Keyword">field</a> <a id="8218" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="8227" class="Symbol">:</a> <a id="8229" href="Ledger.Dijkstra.Specification.Transaction.html#8181" class="Bound">A</a> <a id="8231" class="Symbol">→</a> <a id="8233" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8235" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="8248" class="Keyword">open</a> <a id="8253" href="Ledger.Dijkstra.Specification.Transaction.html#8166" class="Module">HasGuards</a> <a id="8263" class="Symbol">⦃...⦄</a> <a id="8269" class="Keyword">public</a>

  <a id="8279" class="Keyword">record</a> <a id="TransactionStructure.HasScripts"></a><a id="8286" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Record">HasScripts</a> <a id="8297" class="Symbol">{</a><a id="8298" href="Ledger.Dijkstra.Specification.Transaction.html#8298" class="Bound">a</a><a id="8299" class="Symbol">}</a> <a id="8301" class="Symbol">(</a><a id="8302" href="Ledger.Dijkstra.Specification.Transaction.html#8302" class="Bound">A</a> <a id="8304" class="Symbol">:</a> <a id="8306" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8311" href="Ledger.Dijkstra.Specification.Transaction.html#8298" class="Bound">a</a><a id="8312" class="Symbol">)</a> <a id="8314" class="Symbol">:</a> <a id="8316" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8321" href="Ledger.Dijkstra.Specification.Transaction.html#8298" class="Bound">a</a> <a id="8323" class="Keyword">where</a>
    <a id="8333" class="Keyword">field</a> <a id="8339" href="Ledger.Dijkstra.Specification.Transaction.html#8339" class="Field">ScriptsOf</a> <a id="8349" class="Symbol">:</a> <a id="8351" href="Ledger.Dijkstra.Specification.Transaction.html#8302" class="Bound">A</a> <a id="8353" class="Symbol">→</a> <a id="8355" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8357" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="8366" class="Keyword">open</a> <a id="8371" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Module">HasScripts</a> <a id="8382" class="Symbol">⦃...⦄</a> <a id="8388" class="Keyword">public</a>

  <a id="8398" class="Keyword">record</a> <a id="TransactionStructure.HasTxOuts"></a><a id="8405" href="Ledger.Dijkstra.Specification.Transaction.html#8405" class="Record">HasTxOuts</a> <a id="8415" class="Symbol">{</a><a id="8416" href="Ledger.Dijkstra.Specification.Transaction.html#8416" class="Bound">a</a><a id="8417" class="Symbol">}</a> <a id="8419" class="Symbol">(</a><a id="8420" href="Ledger.Dijkstra.Specification.Transaction.html#8420" class="Bound">A</a> <a id="8422" class="Symbol">:</a> <a id="8424" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8429" href="Ledger.Dijkstra.Specification.Transaction.html#8416" class="Bound">a</a><a id="8430" class="Symbol">)</a> <a id="8432" class="Symbol">:</a> <a id="8434" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8439" href="Ledger.Dijkstra.Specification.Transaction.html#8416" class="Bound">a</a> <a id="8441" class="Keyword">where</a>
    <a id="8451" class="Keyword">field</a> <a id="8457" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a> <a id="8466" class="Symbol">:</a> <a id="8468" href="Ledger.Dijkstra.Specification.Transaction.html#8420" class="Bound">A</a> <a id="8470" class="Symbol">→</a> <a id="8472" href="Ledger.Dijkstra.Specification.Transaction.html#1376" class="Field">Ix</a> <a id="8475" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8477" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
  <a id="8485" class="Keyword">open</a> <a id="8490" href="Ledger.Dijkstra.Specification.Transaction.html#8405" class="Module">HasTxOuts</a> <a id="8500" class="Symbol">⦃...⦄</a> <a id="8506" class="Keyword">public</a>

  <a id="8516" class="Keyword">record</a> <a id="TransactionStructure.HasRequiredSingerHashes"></a><a id="8523" href="Ledger.Dijkstra.Specification.Transaction.html#8523" class="Record">HasRequiredSingerHashes</a> <a id="8547" class="Symbol">{</a><a id="8548" href="Ledger.Dijkstra.Specification.Transaction.html#8548" class="Bound">a</a><a id="8549" class="Symbol">}</a> <a id="8551" class="Symbol">(</a><a id="8552" href="Ledger.Dijkstra.Specification.Transaction.html#8552" class="Bound">A</a> <a id="8554" class="Symbol">:</a> <a id="8556" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8561" href="Ledger.Dijkstra.Specification.Transaction.html#8548" class="Bound">a</a><a id="8562" class="Symbol">)</a> <a id="8564" class="Symbol">:</a> <a id="8566" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8571" href="Ledger.Dijkstra.Specification.Transaction.html#8548" class="Bound">a</a> <a id="8573" class="Keyword">where</a>
    <a id="8583" class="Keyword">field</a> <a id="8589" href="Ledger.Dijkstra.Specification.Transaction.html#8589" class="Field">RequiredSignerHashesOf</a> <a id="8612" class="Symbol">:</a> <a id="8614" href="Ledger.Dijkstra.Specification.Transaction.html#8552" class="Bound">A</a> <a id="8616" class="Symbol">→</a> <a id="8618" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8620" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="8630" class="Keyword">open</a> <a id="8635" href="Ledger.Dijkstra.Specification.Transaction.html#8523" class="Module">HasRequiredSingerHashes</a> <a id="8659" class="Symbol">⦃...⦄</a> <a id="8665" class="Keyword">public</a>

  <a id="8675" class="Keyword">record</a> <a id="TransactionStructure.HasCurrentTreasury"></a><a id="8682" href="Ledger.Dijkstra.Specification.Transaction.html#8682" class="Record">HasCurrentTreasury</a> <a id="8701" class="Symbol">{</a><a id="8702" href="Ledger.Dijkstra.Specification.Transaction.html#8702" class="Bound">a</a><a id="8703" class="Symbol">}</a> <a id="8705" class="Symbol">(</a><a id="8706" href="Ledger.Dijkstra.Specification.Transaction.html#8706" class="Bound">A</a> <a id="8708" class="Symbol">:</a> <a id="8710" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8715" href="Ledger.Dijkstra.Specification.Transaction.html#8702" class="Bound">a</a><a id="8716" class="Symbol">)</a> <a id="8718" class="Symbol">:</a> <a id="8720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8725" href="Ledger.Dijkstra.Specification.Transaction.html#8702" class="Bound">a</a> <a id="8727" class="Keyword">where</a>
    <a id="8737" class="Keyword">field</a> <a id="8743" href="Ledger.Dijkstra.Specification.Transaction.html#8743" class="Field">CurrentTreasuryOf</a> <a id="8761" class="Symbol">:</a> <a id="8763" href="Ledger.Dijkstra.Specification.Transaction.html#8706" class="Bound">A</a> <a id="8765" class="Symbol">→</a> <a id="8767" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8773" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="8780" class="Keyword">open</a> <a id="8785" href="Ledger.Dijkstra.Specification.Transaction.html#8682" class="Module">HasCurrentTreasury</a> <a id="8804" class="Symbol">⦃...⦄</a> <a id="8810" class="Keyword">public</a>

  <a id="8820" class="Keyword">record</a> <a id="TransactionStructure.HasIsValidFlag"></a><a id="8827" href="Ledger.Dijkstra.Specification.Transaction.html#8827" class="Record">HasIsValidFlag</a> <a id="8842" class="Symbol">{</a><a id="8843" href="Ledger.Dijkstra.Specification.Transaction.html#8843" class="Bound">a</a><a id="8844" class="Symbol">}</a> <a id="8846" class="Symbol">(</a><a id="8847" href="Ledger.Dijkstra.Specification.Transaction.html#8847" class="Bound">A</a> <a id="8849" class="Symbol">:</a> <a id="8851" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8856" href="Ledger.Dijkstra.Specification.Transaction.html#8843" class="Bound">a</a><a id="8857" class="Symbol">)</a> <a id="8859" class="Symbol">:</a> <a id="8861" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8866" href="Ledger.Dijkstra.Specification.Transaction.html#8843" class="Bound">a</a> <a id="8868" class="Keyword">where</a>
    <a id="8878" class="Keyword">field</a> <a id="8884" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="8898" class="Symbol">:</a> <a id="8900" href="Ledger.Dijkstra.Specification.Transaction.html#8847" class="Bound">A</a> <a id="8902" class="Symbol">→</a> <a id="8904" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="8911" class="Keyword">open</a> <a id="8916" href="Ledger.Dijkstra.Specification.Transaction.html#8827" class="Module">HasIsValidFlag</a> <a id="8931" class="Symbol">⦃...⦄</a> <a id="8937" class="Keyword">public</a>

  <a id="8947" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="8960" href="Ledger.Dijkstra.Specification.Transaction.html#8960" class="Function">HasTxBody-Tx</a> <a id="8973" class="Symbol">:</a> <a id="8975" href="Ledger.Dijkstra.Specification.Transaction.html#5526" class="Record">HasTxBody</a> <a id="8985" class="Symbol">(</a><a id="8986" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="8989" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="8996" class="Symbol">)</a>
    <a id="9002" href="Ledger.Dijkstra.Specification.Transaction.html#8960" class="Function">HasTxBody-Tx</a> <a id="9015" class="Symbol">.</a><a id="9016" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a> <a id="9025" class="Symbol">=</a> <a id="9027" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasSize-Tx"></a><a id="9042" href="Ledger.Dijkstra.Specification.Transaction.html#9042" class="Function">HasSize-Tx</a> <a id="9053" class="Symbol">:</a> <a id="9055" href="Ledger.Dijkstra.Specification.Transaction.html#6867" class="Record">HasSize</a> <a id="9063" class="Symbol">(</a><a id="9064" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="9067" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="9074" class="Symbol">)</a>
    <a id="9080" href="Ledger.Dijkstra.Specification.Transaction.html#9042" class="Function">HasSize-Tx</a> <a id="9091" class="Symbol">.</a><a id="9092" href="Ledger.Dijkstra.Specification.Transaction.html#6917" class="Field">SizeOf</a> <a id="9099" class="Symbol">=</a> <a id="9101" href="Ledger.Dijkstra.Specification.Transaction.html#3675" class="Field">Tx.txSize</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="9116" href="Ledger.Dijkstra.Specification.Transaction.html#9116" class="Function">HasTxWitnesses-Tx</a> <a id="9134" class="Symbol">:</a> <a id="9136" href="Ledger.Dijkstra.Specification.Transaction.html#5659" class="Record">HasTxWitnesses</a> <a id="9151" class="Symbol">(</a><a id="9152" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="9155" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="9162" class="Symbol">)</a>
    <a id="9168" href="Ledger.Dijkstra.Specification.Transaction.html#9116" class="Function">HasTxWitnesses-Tx</a> <a id="9186" class="Symbol">.</a><a id="9187" href="Ledger.Dijkstra.Specification.Transaction.html#5726" class="Field">TxWitnessesOf</a> <a id="9201" class="Symbol">=</a> <a id="9203" href="Ledger.Dijkstra.Specification.Transaction.html#3632" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasIsValidFlag-Tx"></a><a id="9223" href="Ledger.Dijkstra.Specification.Transaction.html#9223" class="Function">HasIsValidFlag-Tx</a> <a id="9241" class="Symbol">:</a> <a id="9243" href="Ledger.Dijkstra.Specification.Transaction.html#8827" class="Record">HasIsValidFlag</a> <a id="9258" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
    <a id="9273" href="Ledger.Dijkstra.Specification.Transaction.html#9223" class="Function">HasIsValidFlag-Tx</a> <a id="9291" class="Symbol">.</a><a id="9292" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="9306" class="Symbol">=</a> <a id="9308" href="Ledger.Dijkstra.Specification.Transaction.html#3700" class="Field">Tx.isValid</a>

    <a id="TransactionStructure.HasRedeemers-TxWitnesses"></a><a id="9324" href="Ledger.Dijkstra.Specification.Transaction.html#9324" class="Function">HasRedeemers-TxWitnesses</a> <a id="9349" class="Symbol">:</a> <a id="9351" href="Ledger.Dijkstra.Specification.Transaction.html#5811" class="Record">HasRedeemers</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="9377" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="9384" class="Symbol">)</a>
    <a id="9390" href="Ledger.Dijkstra.Specification.Transaction.html#9324" class="Function">HasRedeemers-TxWitnesses</a> <a id="9415" class="Symbol">.</a><a id="9416" href="Ledger.Dijkstra.Specification.Transaction.html#5876" class="Field">RedeemersOf</a> <a id="9428" class="Symbol">=</a> <a id="9430" href="Ledger.Dijkstra.Specification.Transaction.html#5186" class="Field">TxWitnesses.txRedeemers</a>
    <a id="TransactionStructure.HasRedeemers-Tx"></a><a id="9458" href="Ledger.Dijkstra.Specification.Transaction.html#9458" class="Function">HasRedeemers-Tx</a> <a id="9474" class="Symbol">:</a> <a id="9476" href="Ledger.Dijkstra.Specification.Transaction.html#5811" class="Record">HasRedeemers</a> <a id="9489" class="Symbol">(</a><a id="9490" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="9493" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="9500" class="Symbol">)</a>
    <a id="9506" href="Ledger.Dijkstra.Specification.Transaction.html#9458" class="Function">HasRedeemers-Tx</a> <a id="9522" class="Symbol">.</a><a id="9523" href="Ledger.Dijkstra.Specification.Transaction.html#5876" class="Field">RedeemersOf</a> <a id="9535" class="Symbol">=</a> <a id="9537" href="Ledger.Dijkstra.Specification.Transaction.html#5876" class="Field">RedeemersOf</a> <a id="9549" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9551" href="Ledger.Dijkstra.Specification.Transaction.html#5726" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasCollateralInputs-TopLevelTx"></a><a id="9570" href="Ledger.Dijkstra.Specification.Transaction.html#9570" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9601" class="Symbol">:</a> <a id="9603" href="Ledger.Dijkstra.Specification.Transaction.html#6003" class="Record">HasCollateralInputs</a> <a id="9623" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
    <a id="9638" href="Ledger.Dijkstra.Specification.Transaction.html#9570" class="Function">HasCollateralInputs-TopLevelTx</a> <a id="9669" class="Symbol">.</a><a id="9670" href="Ledger.Dijkstra.Specification.Transaction.html#6075" class="Field">CollateralInputsOf</a> <a id="9689" class="Symbol">=</a> <a id="9691" href="Ledger.Dijkstra.Specification.Transaction.html#3946" class="Field">TxBody.collateralInputs</a> <a id="9715" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9717" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxFees-TopLevelTx"></a><a id="9731" href="Ledger.Dijkstra.Specification.Transaction.html#9731" class="Function">HasTxFees-TopLevelTx</a> <a id="9752" class="Symbol">:</a> <a id="9754" href="Ledger.Dijkstra.Specification.Transaction.html#6178" class="Record">HasTxFees</a> <a id="9764" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
    <a id="9779" href="Ledger.Dijkstra.Specification.Transaction.html#9731" class="Function">HasTxFees-TopLevelTx</a> <a id="9800" class="Symbol">.</a><a id="9801" href="Ledger.Dijkstra.Specification.Transaction.html#6240" class="Field">TxFeesOf</a> <a id="9810" class="Symbol">=</a> <a id="9812" href="Ledger.Dijkstra.Specification.Transaction.html#4125" class="Field">TxBody.txFee</a> <a id="9825" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9827" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSubTransactions-TopLevelTx"></a><a id="9841" href="Ledger.Dijkstra.Specification.Transaction.html#9841" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9871" class="Symbol">:</a> <a id="9873" href="Ledger.Dijkstra.Specification.Transaction.html#6319" class="Record">HasSubTransactions</a> <a id="9892" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
    <a id="9907" href="Ledger.Dijkstra.Specification.Transaction.html#9841" class="Function">HasSubTransactions-TopLevelTx</a> <a id="9937" class="Symbol">.</a><a id="9938" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="9956" class="Symbol">=</a> <a id="9958" href="Ledger.Dijkstra.Specification.Transaction.html#4658" class="Field">TxBody.txSubTransactions</a> <a id="9983" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9985" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTopLevelGuards-SubLevelTx"></a><a id="9999" href="Ledger.Dijkstra.Specification.Transaction.html#9999" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="10028" class="Symbol">:</a> <a id="10030" href="Ledger.Dijkstra.Specification.Transaction.html#6530" class="Record">HasTopLevelGuards</a> <a id="10048" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a>
    <a id="10063" href="Ledger.Dijkstra.Specification.Transaction.html#9999" class="Function">HasTopLevelGuards-SubLevelTx</a> <a id="10092" class="Symbol">.</a><a id="10093" href="Ledger.Dijkstra.Specification.Transaction.html#6600" class="Field">TopLevelGuardsOf</a> <a id="10110" class="Symbol">=</a> <a id="10112" href="Ledger.Dijkstra.Specification.Transaction.html#4785" class="Field">TxBody.txRequiredTopLevelGuards</a> <a id="10144" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10146" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="10160" href="Ledger.Dijkstra.Specification.Transaction.html#10160" class="Function">HasDCerts-TxBody</a> <a id="10177" class="Symbol">:</a> <a id="10179" href="Ledger.Dijkstra.Specification.Transaction.html#7635" class="Record">HasDCerts</a> <a id="10189" class="Symbol">(</a><a id="10190" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="10197" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10204" class="Symbol">)</a>
    <a id="10210" href="Ledger.Dijkstra.Specification.Transaction.html#10160" class="Function">HasDCerts-TxBody</a> <a id="10227" class="Symbol">.</a><a id="10228" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="10237" class="Symbol">=</a> <a id="10239" href="Ledger.Dijkstra.Specification.Transaction.html#4083" class="Field">TxBody.txCerts</a>
    <a id="TransactionStructure.HasDCerts-Tx"></a><a id="10258" href="Ledger.Dijkstra.Specification.Transaction.html#10258" class="Function">HasDCerts-Tx</a> <a id="10271" class="Symbol">:</a> <a id="10273" href="Ledger.Dijkstra.Specification.Transaction.html#7635" class="Record">HasDCerts</a> <a id="10283" class="Symbol">(</a><a id="10284" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="10287" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10294" class="Symbol">)</a>
    <a id="10300" href="Ledger.Dijkstra.Specification.Transaction.html#10258" class="Function">HasDCerts-Tx</a> <a id="10313" class="Symbol">.</a><a id="10314" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="10323" class="Symbol">=</a> <a id="10325" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="10334" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10336" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="10350" href="Ledger.Dijkstra.Specification.Transaction.html#10350" class="Function">HasWithdrawals-TxBody</a> <a id="10372" class="Symbol">:</a> <a id="10374" href="Ledger.Core.Specification.Address.html#1920" class="Record">HasWithdrawals</a> <a id="10389" class="Symbol">(</a><a id="10390" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="10397" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10404" class="Symbol">)</a>
    <a id="10410" href="Ledger.Dijkstra.Specification.Transaction.html#10350" class="Function">HasWithdrawals-TxBody</a> <a id="10432" class="Symbol">.</a><a id="10433" href="Ledger.Core.Specification.Address.html#1975" class="Field">WithdrawalsOf</a> <a id="10447" class="Symbol">=</a> <a id="10449" href="Ledger.Dijkstra.Specification.Transaction.html#4180" class="Field">TxBody.txWithdrawals</a>
    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="10474" href="Ledger.Dijkstra.Specification.Transaction.html#10474" class="Function">HasWithdrawals-Tx</a> <a id="10492" class="Symbol">:</a> <a id="10494" href="Ledger.Core.Specification.Address.html#1920" class="Record">HasWithdrawals</a> <a id="10509" class="Symbol">(</a><a id="10510" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="10513" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10520" class="Symbol">)</a>
    <a id="10526" href="Ledger.Dijkstra.Specification.Transaction.html#10474" class="Function">HasWithdrawals-Tx</a> <a id="10544" class="Symbol">.</a><a id="10545" href="Ledger.Core.Specification.Address.html#1975" class="Field">WithdrawalsOf</a> <a id="10559" class="Symbol">=</a> <a id="10561" href="Ledger.Core.Specification.Address.html#1975" class="Field">WithdrawalsOf</a> <a id="10575" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10577" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValidInterval-TxBody"></a><a id="10591" href="Ledger.Dijkstra.Specification.Transaction.html#10591" class="Function">HasValidInterval-TxBody</a> <a id="10615" class="Symbol">:</a> <a id="10617" href="Ledger.Dijkstra.Specification.Transaction.html#6970" class="Record">HasValidInterval</a> <a id="10634" class="Symbol">(</a><a id="10635" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="10642" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10649" class="Symbol">)</a>
    <a id="10655" href="Ledger.Dijkstra.Specification.Transaction.html#10591" class="Function">HasValidInterval-TxBody</a> <a id="10679" class="Symbol">.</a><a id="10680" href="Ledger.Dijkstra.Specification.Transaction.html#7029" class="Field">ValidIntervalOf</a> <a id="10696" class="Symbol">=</a> <a id="10698" href="Ledger.Dijkstra.Specification.Transaction.html#4223" class="Field">TxBody.txVldt</a>
    <a id="TransactionStructure.HasValidInterval-Tx"></a><a id="10716" href="Ledger.Dijkstra.Specification.Transaction.html#10716" class="Function">HasValidInterval-Tx</a> <a id="10736" class="Symbol">:</a> <a id="10738" href="Ledger.Dijkstra.Specification.Transaction.html#6970" class="Record">HasValidInterval</a> <a id="10755" class="Symbol">(</a><a id="10756" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="10759" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10766" class="Symbol">)</a>
    <a id="10772" href="Ledger.Dijkstra.Specification.Transaction.html#10716" class="Function">HasValidInterval-Tx</a> <a id="10792" class="Symbol">.</a><a id="10793" href="Ledger.Dijkstra.Specification.Transaction.html#7029" class="Field">ValidIntervalOf</a> <a id="10809" class="Symbol">=</a> <a id="10811" href="Ledger.Dijkstra.Specification.Transaction.html#7029" class="Field">ValidIntervalOf</a> <a id="10827" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="10829" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasSpendInputs-TxBody"></a><a id="10843" href="Ledger.Dijkstra.Specification.Transaction.html#10843" class="Function">HasSpendInputs-TxBody</a> <a id="10865" class="Symbol">:</a> <a id="10867" href="Ledger.Dijkstra.Specification.Transaction.html#7122" class="Record">HasSpendInputs</a> <a id="10882" class="Symbol">(</a><a id="10883" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="10890" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="10897" class="Symbol">)</a>
    <a id="10903" href="Ledger.Dijkstra.Specification.Transaction.html#10843" class="Function">HasSpendInputs-TxBody</a> <a id="10925" class="Symbol">.</a><a id="10926" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="10940" class="Symbol">=</a> <a id="10942" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Field">TxBody.txIns</a>
    <a id="TransactionStructure.HasSpendInputs-Tx"></a><a id="10959" href="Ledger.Dijkstra.Specification.Transaction.html#10959" class="Function">HasSpendInputs-Tx</a> <a id="10977" class="Symbol">:</a> <a id="10979" href="Ledger.Dijkstra.Specification.Transaction.html#7122" class="Record">HasSpendInputs</a> <a id="10994" class="Symbol">(</a><a id="10995" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="10998" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11005" class="Symbol">)</a>
    <a id="11011" href="Ledger.Dijkstra.Specification.Transaction.html#10959" class="Function">HasSpendInputs-Tx</a> <a id="11029" class="Symbol">.</a><a id="11030" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="11044" class="Symbol">=</a> <a id="11046" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="11060" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11062" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasReferenceInputs-TxBody"></a><a id="11076" href="Ledger.Dijkstra.Specification.Transaction.html#11076" class="Function">HasReferenceInputs-TxBody</a> <a id="11102" class="Symbol">:</a> <a id="11104" href="Ledger.Dijkstra.Specification.Transaction.html#7251" class="Record">HasReferenceInputs</a> <a id="11123" class="Symbol">(</a><a id="11124" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="11131" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11138" class="Symbol">)</a>
    <a id="11144" href="Ledger.Dijkstra.Specification.Transaction.html#11076" class="Function">HasReferenceInputs-TxBody</a> <a id="11170" class="Symbol">.</a><a id="11171" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="11189" class="Symbol">=</a> <a id="11191" href="Ledger.Dijkstra.Specification.Transaction.html#3908" class="Field">TxBody.referenceInputs</a>
    <a id="TransactionStructure.HasReferenceInputs-Tx"></a><a id="11218" href="Ledger.Dijkstra.Specification.Transaction.html#11218" class="Function">HasReferenceInputs-Tx</a> <a id="11240" class="Symbol">:</a> <a id="11242" href="Ledger.Dijkstra.Specification.Transaction.html#7251" class="Record">HasReferenceInputs</a> <a id="11261" class="Symbol">(</a><a id="11262" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="11265" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11272" class="Symbol">)</a>
    <a id="11278" href="Ledger.Dijkstra.Specification.Transaction.html#11218" class="Function">HasReferenceInputs-Tx</a> <a id="11300" class="Symbol">.</a><a id="11301" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="11319" class="Symbol">=</a> <a id="11321" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="11339" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11341" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMintedValue-TxBody"></a><a id="11355" href="Ledger.Dijkstra.Specification.Transaction.html#11355" class="Function">HasMintedValue-TxBody</a> <a id="11377" class="Symbol">:</a> <a id="11379" href="Ledger.Dijkstra.Specification.Transaction.html#7392" class="Record">HasMintedValue</a> <a id="11394" class="Symbol">(</a><a id="11395" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="11402" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11409" class="Symbol">)</a>
    <a id="11415" href="Ledger.Dijkstra.Specification.Transaction.html#11355" class="Function">HasMintedValue-TxBody</a> <a id="11437" class="Symbol">.</a><a id="11438" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="11452" class="Symbol">=</a> <a id="11454" href="Ledger.Dijkstra.Specification.Transaction.html#4542" class="Field">TxBody.mint</a>
    <a id="TransactionStructure.HasMintedValue-Tx"></a><a id="11470" href="Ledger.Dijkstra.Specification.Transaction.html#11470" class="Function">HasMintedValue-Tx</a> <a id="11488" class="Symbol">:</a> <a id="11490" href="Ledger.Dijkstra.Specification.Transaction.html#7392" class="Record">HasMintedValue</a> <a id="11505" class="Symbol">(</a><a id="11506" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="11509" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11516" class="Symbol">)</a>
    <a id="11522" href="Ledger.Dijkstra.Specification.Transaction.html#11470" class="Function">HasMintedValue-Tx</a> <a id="11540" class="Symbol">.</a><a id="11541" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="11555" class="Symbol">=</a> <a id="11557" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="11571" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11573" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovVotes-TxBody"></a><a id="11587" href="Ledger.Dijkstra.Specification.Transaction.html#11587" class="Function">HasListOfGovVotes-TxBody</a> <a id="11612" class="Symbol">:</a> <a id="11614" href="Ledger.Dijkstra.Specification.Transaction.html#8022" class="Record">HasListOfGovVotes</a> <a id="11632" class="Symbol">(</a><a id="11633" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="11640" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11647" class="Symbol">)</a>
    <a id="11653" href="Ledger.Dijkstra.Specification.Transaction.html#11587" class="Function">HasListOfGovVotes-TxBody</a> <a id="11678" class="Symbol">.</a><a id="11679" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="11696" class="Symbol">=</a> <a id="11698" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Field">TxBody.txGovVotes</a>
    <a id="TransactionStructure.HasListOfGovVotes-Tx"></a><a id="11720" href="Ledger.Dijkstra.Specification.Transaction.html#11720" class="Function">HasListOfGovVotes-Tx</a> <a id="11741" class="Symbol">:</a> <a id="11743" href="Ledger.Dijkstra.Specification.Transaction.html#8022" class="Record">HasListOfGovVotes</a> <a id="11761" class="Symbol">(</a><a id="11762" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="11765" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11772" class="Symbol">)</a>
    <a id="11778" href="Ledger.Dijkstra.Specification.Transaction.html#11720" class="Function">HasListOfGovVotes-Tx</a> <a id="11799" class="Symbol">.</a><a id="11800" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="11817" class="Symbol">=</a> <a id="11819" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="11836" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="11838" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasListOfGovProposals-TxBody"></a><a id="11852" href="Ledger.Dijkstra.Specification.Transaction.html#11852" class="Function">HasListOfGovProposals-TxBody</a> <a id="11881" class="Symbol">:</a> <a id="11883" href="Ledger.Dijkstra.Specification.Transaction.html#7862" class="Record">HasListOfGovProposals</a> <a id="11905" class="Symbol">(</a><a id="11906" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="11913" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="11920" class="Symbol">)</a>
    <a id="11926" href="Ledger.Dijkstra.Specification.Transaction.html#11852" class="Function">HasListOfGovProposals-TxBody</a> <a id="11955" class="Symbol">.</a><a id="11956" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="11977" class="Symbol">=</a> <a id="11979" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Field">TxBody.txGovProposals</a>
    <a id="TransactionStructure.HasListOfGovProposals-Tx"></a><a id="12005" href="Ledger.Dijkstra.Specification.Transaction.html#12005" class="Function">HasListOfGovProposals-Tx</a> <a id="12030" class="Symbol">:</a> <a id="12032" href="Ledger.Dijkstra.Specification.Transaction.html#7862" class="Record">HasListOfGovProposals</a> <a id="12054" class="Symbol">(</a><a id="12055" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="12058" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12065" class="Symbol">)</a>
    <a id="12071" href="Ledger.Dijkstra.Specification.Transaction.html#12005" class="Function">HasListOfGovProposals-Tx</a> <a id="12096" class="Symbol">.</a><a id="12097" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="12118" class="Symbol">=</a> <a id="12120" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="12141" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12143" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasMaybeNetworkId-TxBody"></a><a id="12157" href="Ledger.Dijkstra.Specification.Transaction.html#12157" class="Function">HasMaybeNetworkId-TxBody</a> <a id="12182" class="Symbol">:</a> <a id="12184" href="Ledger.Core.Specification.Address.html#1781" class="Record">HasMaybeNetworkId</a> <a id="12202" class="Symbol">(</a><a id="12203" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="12210" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12217" class="Symbol">)</a>
    <a id="12223" href="Ledger.Dijkstra.Specification.Transaction.html#12157" class="Function">HasMaybeNetworkId-TxBody</a> <a id="12248" class="Symbol">.</a><a id="12249" href="Ledger.Core.Specification.Address.html#1839" class="Field">MaybeNetworkIdOf</a> <a id="12266" class="Symbol">=</a> <a id="12268" href="Ledger.Dijkstra.Specification.Transaction.html#4455" class="Field">TxBody.txNetworkId</a>
    <a id="TransactionStructure.HasMaybeNetworkId-Tx"></a><a id="12291" href="Ledger.Dijkstra.Specification.Transaction.html#12291" class="Function">HasMaybeNetworkId-Tx</a> <a id="12312" class="Symbol">:</a> <a id="12314" href="Ledger.Core.Specification.Address.html#1781" class="Record">HasMaybeNetworkId</a> <a id="12332" class="Symbol">(</a><a id="12333" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="12336" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12343" class="Symbol">)</a>
    <a id="12349" href="Ledger.Dijkstra.Specification.Transaction.html#12291" class="Function">HasMaybeNetworkId-Tx</a> <a id="12370" class="Symbol">.</a><a id="12371" href="Ledger.Core.Specification.Address.html#1839" class="Field">MaybeNetworkIdOf</a> <a id="12388" class="Symbol">=</a> <a id="12390" href="Ledger.Core.Specification.Address.html#1839" class="Field">MaybeNetworkIdOf</a> <a id="12407" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12409" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="12423" href="Ledger.Dijkstra.Specification.Transaction.html#12423" class="Function">HasFees?-TxBody</a> <a id="12439" class="Symbol">:</a> <a id="12441" class="Symbol">{</a><a id="12442" href="Ledger.Dijkstra.Specification.Transaction.html#12442" class="Bound">ℓ</a> <a id="12444" class="Symbol">:</a> <a id="12446" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a><a id="12453" class="Symbol">}</a> <a id="12455" class="Symbol">→</a> <a id="12457" href="Ledger.Dijkstra.Specification.Transaction.html#7520" class="Record">HasFees?</a> <a id="12466" class="Symbol">(</a><a id="12467" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="12474" href="Ledger.Dijkstra.Specification.Transaction.html#12442" class="Bound">ℓ</a><a id="12475" class="Symbol">)</a>
    <a id="12481" href="Ledger.Dijkstra.Specification.Transaction.html#12423" class="Function">HasFees?-TxBody</a> <a id="12497" class="Symbol">{</a><a id="12498" href="Ledger.Dijkstra.Specification.Transaction.html#791" class="InductiveConstructor">TxLevelTop</a><a id="12508" class="Symbol">}</a> <a id="12510" class="Symbol">.</a><a id="12511" href="Ledger.Dijkstra.Specification.Transaction.html#7571" class="Field">FeesOf?</a> <a id="12519" href="Ledger.Dijkstra.Specification.Transaction.html#12519" class="Bound">tbTop</a> <a id="12525" class="Symbol">=</a> <a id="12527" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12532" class="Symbol">(</a><a id="12533" href="Ledger.Dijkstra.Specification.Transaction.html#4125" class="Field">TxBody.txFee</a> <a id="12546" href="Ledger.Dijkstra.Specification.Transaction.html#12519" class="Bound">tbTop</a><a id="12551" class="Symbol">)</a>
    <a id="12557" href="Ledger.Dijkstra.Specification.Transaction.html#12423" class="Function">HasFees?-TxBody</a> <a id="12573" class="Symbol">{</a><a id="12574" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="InductiveConstructor">TxLevelSub</a><a id="12584" class="Symbol">}</a> <a id="12586" class="Symbol">.</a><a id="12587" href="Ledger.Dijkstra.Specification.Transaction.html#7571" class="Field">FeesOf?</a> <a id="12595" href="Ledger.Dijkstra.Specification.Transaction.html#12595" class="Bound">tbSub</a> <a id="12601" class="Symbol">=</a> <a id="12603" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="TransactionStructure.HasFees?-Tx"></a><a id="12615" href="Ledger.Dijkstra.Specification.Transaction.html#12615" class="Function">HasFees?-Tx</a> <a id="12627" class="Symbol">:</a> <a id="12629" href="Ledger.Dijkstra.Specification.Transaction.html#7520" class="Record">HasFees?</a> <a id="12638" class="Symbol">(</a><a id="12639" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="12642" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12649" class="Symbol">)</a>
    <a id="12655" href="Ledger.Dijkstra.Specification.Transaction.html#12615" class="Function">HasFees?-Tx</a> <a id="12667" class="Symbol">.</a><a id="12668" href="Ledger.Dijkstra.Specification.Transaction.html#7571" class="Field">FeesOf?</a> <a id="12676" class="Symbol">=</a> <a id="12678" href="Ledger.Dijkstra.Specification.Transaction.html#7571" class="Field">FeesOf?</a> <a id="12686" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12688" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-TxBody"></a><a id="12702" href="Ledger.Dijkstra.Specification.Transaction.html#12702" class="Function">HasTxId-TxBody</a> <a id="12717" class="Symbol">:</a> <a id="12719" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Record">HasTxId</a> <a id="12727" class="Symbol">(</a><a id="12728" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="12735" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12742" class="Symbol">)</a>
    <a id="12748" href="Ledger.Dijkstra.Specification.Transaction.html#12702" class="Function">HasTxId-TxBody</a> <a id="12763" class="Symbol">.</a><a id="12764" href="Ledger.Dijkstra.Specification.Transaction.html#6811" class="Field">TxIdOf</a> <a id="12771" class="Symbol">=</a> <a id="12773" href="Ledger.Dijkstra.Specification.Transaction.html#4047" class="Field">TxBody.txId</a>
    <a id="TransactionStructure.HasTxId-Tx"></a><a id="12789" href="Ledger.Dijkstra.Specification.Transaction.html#12789" class="Function">HasTxId-Tx</a> <a id="12800" class="Symbol">:</a> <a id="12802" href="Ledger.Dijkstra.Specification.Transaction.html#6761" class="Record">HasTxId</a> <a id="12810" class="Symbol">(</a><a id="12811" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="12814" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12821" class="Symbol">)</a>
    <a id="12827" href="Ledger.Dijkstra.Specification.Transaction.html#12789" class="Function">HasTxId-Tx</a> <a id="12838" class="Symbol">.</a><a id="12839" href="Ledger.Dijkstra.Specification.Transaction.html#6811" class="Field">TxIdOf</a> <a id="12846" class="Symbol">=</a> <a id="12848" href="Ledger.Dijkstra.Specification.Transaction.html#6811" class="Field">TxIdOf</a> <a id="12855" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="12857" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDonations-TxBody"></a><a id="12871" href="Ledger.Dijkstra.Specification.Transaction.html#12871" class="Function">HasDonations-TxBody</a> <a id="12891" class="Symbol">:</a> <a id="12893" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="12906" class="Symbol">(</a><a id="12907" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="12914" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="12921" class="Symbol">)</a>
    <a id="12927" href="Ledger.Dijkstra.Specification.Transaction.html#12871" class="Function">HasDonations-TxBody</a> <a id="12947" class="Symbol">.</a><a id="12948" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="12960" class="Symbol">=</a> <a id="12962" href="Ledger.Dijkstra.Specification.Transaction.html#4322" class="Field">TxBody.txDonation</a>
    <a id="TransactionStructure.HasDonations-Tx"></a><a id="12984" href="Ledger.Dijkstra.Specification.Transaction.html#12984" class="Function">HasDonations-Tx</a> <a id="13000" class="Symbol">:</a> <a id="13002" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="13015" class="Symbol">(</a><a id="13016" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="13019" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13026" class="Symbol">)</a>
    <a id="13032" href="Ledger.Dijkstra.Specification.Transaction.html#12984" class="Function">HasDonations-Tx</a> <a id="13048" class="Symbol">.</a><a id="13049" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="13061" class="Symbol">=</a> <a id="13063" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="13075" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13077" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="13091" href="Ledger.Dijkstra.Specification.Transaction.html#13091" class="Function">HasCoin-TxOut</a> <a id="13105" class="Symbol">:</a> <a id="13107" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="13115" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
    <a id="13125" href="Ledger.Dijkstra.Specification.Transaction.html#13091" class="Function">HasCoin-TxOut</a> <a id="13139" class="Symbol">.</a><a id="13140" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="13148" class="Symbol">=</a> <a id="13150" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="13155" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13157" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13163" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13165" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="13176" href="Ledger.Dijkstra.Specification.Transaction.html#13176" class="Function">HasData-TxWitnesses</a> <a id="13196" class="Symbol">:</a> <a id="13198" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Record">HasData</a> <a id="13206" class="Symbol">(</a><a id="13207" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="13219" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13226" class="Symbol">)</a>
    <a id="13232" href="Ledger.Dijkstra.Specification.Transaction.html#13176" class="Function">HasData-TxWitnesses</a> <a id="13252" class="Symbol">.</a><a id="13253" href="Ledger.Dijkstra.Specification.Transaction.html#7803" class="Field">DataOf</a> <a id="13260" class="Symbol">=</a> <a id="13262" href="Ledger.Dijkstra.Specification.Transaction.html#5155" class="Field">TxWitnesses.txData</a>
    <a id="TransactionStructure.HasData-Tx"></a><a id="13285" href="Ledger.Dijkstra.Specification.Transaction.html#13285" class="Function">HasData-Tx</a> <a id="13296" class="Symbol">:</a> <a id="13298" href="Ledger.Dijkstra.Specification.Transaction.html#7753" class="Record">HasData</a> <a id="13306" class="Symbol">(</a><a id="13307" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="13310" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13317" class="Symbol">)</a>
    <a id="13323" href="Ledger.Dijkstra.Specification.Transaction.html#13285" class="Function">HasData-Tx</a> <a id="13334" class="Symbol">.</a><a id="13335" href="Ledger.Dijkstra.Specification.Transaction.html#7803" class="Field">DataOf</a> <a id="13342" class="Symbol">=</a> <a id="13344" href="Ledger.Dijkstra.Specification.Transaction.html#7803" class="Field">DataOf</a> <a id="13351" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13353" href="Ledger.Dijkstra.Specification.Transaction.html#5726" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasGuards-TxBody"></a><a id="13372" href="Ledger.Dijkstra.Specification.Transaction.html#13372" class="Function">HasGuards-TxBody</a> <a id="13389" class="Symbol">:</a> <a id="13391" href="Ledger.Dijkstra.Specification.Transaction.html#8166" class="Record">HasGuards</a> <a id="13401" class="Symbol">(</a><a id="13402" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="13409" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13416" class="Symbol">)</a>
    <a id="13422" href="Ledger.Dijkstra.Specification.Transaction.html#13372" class="Function">HasGuards-TxBody</a> <a id="13439" class="Symbol">.</a><a id="13440" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="13449" class="Symbol">=</a> <a id="13451" href="Ledger.Dijkstra.Specification.Transaction.html#4736" class="Field">TxBody.txGuards</a>
    <a id="TransactionStructure.HasGuards-Tx"></a><a id="13471" href="Ledger.Dijkstra.Specification.Transaction.html#13471" class="Function">HasGuards-Tx</a> <a id="13484" class="Symbol">:</a> <a id="13486" href="Ledger.Dijkstra.Specification.Transaction.html#8166" class="Record">HasGuards</a> <a id="13496" class="Symbol">(</a><a id="13497" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="13500" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13507" class="Symbol">)</a>
    <a id="13513" href="Ledger.Dijkstra.Specification.Transaction.html#13471" class="Function">HasGuards-Tx</a> <a id="13526" class="Symbol">.</a><a id="13527" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="13536" class="Symbol">=</a> <a id="13538" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="13547" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13549" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasScripts-TxWitnesses"></a><a id="13563" href="Ledger.Dijkstra.Specification.Transaction.html#13563" class="Function">HasScripts-TxWitnesses</a> <a id="13586" class="Symbol">:</a> <a id="13588" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Record">HasScripts</a> <a id="13599" class="Symbol">(</a><a id="13600" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Record">TxWitnesses</a> <a id="13612" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13619" class="Symbol">)</a>
    <a id="13625" href="Ledger.Dijkstra.Specification.Transaction.html#13563" class="Function">HasScripts-TxWitnesses</a> <a id="13648" class="Symbol">.</a><a id="13649" href="Ledger.Dijkstra.Specification.Transaction.html#8339" class="Field">ScriptsOf</a> <a id="13659" class="Symbol">=</a> <a id="13661" href="Ledger.Dijkstra.Specification.Transaction.html#5123" class="Field">TxWitnesses.scripts</a>
    <a id="TransactionStructure.HasScripts-Tx"></a><a id="13685" href="Ledger.Dijkstra.Specification.Transaction.html#13685" class="Function">HasScripts-Tx</a> <a id="13699" class="Symbol">:</a> <a id="13701" href="Ledger.Dijkstra.Specification.Transaction.html#8286" class="Record">HasScripts</a> <a id="13712" class="Symbol">(</a><a id="13713" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="13716" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13723" class="Symbol">)</a>
    <a id="13729" href="Ledger.Dijkstra.Specification.Transaction.html#13685" class="Function">HasScripts-Tx</a> <a id="13743" class="Symbol">.</a><a id="13744" href="Ledger.Dijkstra.Specification.Transaction.html#8339" class="Field">ScriptsOf</a> <a id="13754" class="Symbol">=</a> <a id="13756" href="Ledger.Dijkstra.Specification.Transaction.html#8339" class="Field">ScriptsOf</a> <a id="13766" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13768" href="Ledger.Dijkstra.Specification.Transaction.html#5726" class="Field">TxWitnessesOf</a>

    <a id="TransactionStructure.HasTxOuts-TxBody"></a><a id="13787" href="Ledger.Dijkstra.Specification.Transaction.html#13787" class="Function">HasTxOuts-TxBody</a> <a id="13804" class="Symbol">:</a> <a id="13806" href="Ledger.Dijkstra.Specification.Transaction.html#8405" class="Record">HasTxOuts</a> <a id="13816" class="Symbol">(</a><a id="13817" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="13824" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13831" class="Symbol">)</a>
    <a id="13837" href="Ledger.Dijkstra.Specification.Transaction.html#13787" class="Function">HasTxOuts-TxBody</a> <a id="13854" class="Symbol">.</a><a id="13855" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a> <a id="13864" class="Symbol">=</a> <a id="13866" href="Ledger.Dijkstra.Specification.Transaction.html#4005" class="Field">TxBody.txOuts</a>
    <a id="TransactionStructure.HasTxOuts-Tx"></a><a id="13884" href="Ledger.Dijkstra.Specification.Transaction.html#13884" class="Function">HasTxOuts-Tx</a> <a id="13897" class="Symbol">:</a> <a id="13899" href="Ledger.Dijkstra.Specification.Transaction.html#8405" class="Record">HasTxOuts</a> <a id="13909" class="Symbol">(</a><a id="13910" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="13913" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="13920" class="Symbol">)</a>
    <a id="13926" href="Ledger.Dijkstra.Specification.Transaction.html#13884" class="Function">HasTxOuts-Tx</a> <a id="13939" class="Symbol">.</a><a id="13940" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a> <a id="13949" class="Symbol">=</a> <a id="13951" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a> <a id="13960" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="13962" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasRequiredSingerHashes-TxBody"></a><a id="13976" href="Ledger.Dijkstra.Specification.Transaction.html#13976" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="14007" class="Symbol">:</a> <a id="14009" href="Ledger.Dijkstra.Specification.Transaction.html#8523" class="Record">HasRequiredSingerHashes</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="14041" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="14048" class="Symbol">)</a>
    <a id="14054" href="Ledger.Dijkstra.Specification.Transaction.html#13976" class="Function">HasRequiredSingerHashes-TxBody</a> <a id="14085" class="Symbol">.</a><a id="14086" href="Ledger.Dijkstra.Specification.Transaction.html#8589" class="Field">RequiredSignerHashesOf</a> <a id="14109" class="Symbol">=</a> <a id="14111" href="Ledger.Dijkstra.Specification.Transaction.html#4900" class="Function">TxBody.requiredSignerHashes</a>
    <a id="TransactionStructure.HasRequiredSingerHashes-Tx"></a><a id="14143" href="Ledger.Dijkstra.Specification.Transaction.html#14143" class="Function">HasRequiredSingerHashes-Tx</a> <a id="14170" class="Symbol">:</a> <a id="14172" href="Ledger.Dijkstra.Specification.Transaction.html#8523" class="Record">HasRequiredSingerHashes</a> <a id="14196" class="Symbol">(</a><a id="14197" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="14200" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="14207" class="Symbol">)</a>
    <a id="14213" href="Ledger.Dijkstra.Specification.Transaction.html#14143" class="Function">HasRequiredSingerHashes-Tx</a> <a id="14240" class="Symbol">.</a><a id="14241" href="Ledger.Dijkstra.Specification.Transaction.html#8589" class="Field">RequiredSignerHashesOf</a> <a id="14264" class="Symbol">=</a> <a id="14266" href="Ledger.Dijkstra.Specification.Transaction.html#8589" class="Field">RequiredSignerHashesOf</a> <a id="14289" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14291" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCurrentTreasury-TxBody"></a><a id="14305" href="Ledger.Dijkstra.Specification.Transaction.html#14305" class="Function">HasCurrentTreasury-TxBody</a> <a id="14331" class="Symbol">:</a> <a id="14333" href="Ledger.Dijkstra.Specification.Transaction.html#8682" class="Record">HasCurrentTreasury</a> <a id="14352" class="Symbol">(</a><a id="14353" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="14360" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="14367" class="Symbol">)</a>
    <a id="14373" href="Ledger.Dijkstra.Specification.Transaction.html#14305" class="Function">HasCurrentTreasury-TxBody</a> <a id="14399" class="Symbol">.</a><a id="14400" href="Ledger.Dijkstra.Specification.Transaction.html#8743" class="Field">CurrentTreasuryOf</a> <a id="14418" class="Symbol">=</a> <a id="14420" href="Ledger.Dijkstra.Specification.Transaction.html#4500" class="Field">TxBody.currentTreasury</a>
    <a id="TransactionStructure.HasCurrentTreasury-Tx"></a><a id="14447" href="Ledger.Dijkstra.Specification.Transaction.html#14447" class="Function">HasCurrentTreasury-Tx</a> <a id="14469" class="Symbol">:</a> <a id="14471" href="Ledger.Dijkstra.Specification.Transaction.html#8682" class="Record">HasCurrentTreasury</a> <a id="14490" class="Symbol">(</a><a id="14491" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="14494" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a><a id="14501" class="Symbol">)</a>
    <a id="14507" href="Ledger.Dijkstra.Specification.Transaction.html#14447" class="Function">HasCurrentTreasury-Tx</a> <a id="14529" class="Symbol">.</a><a id="14530" href="Ledger.Dijkstra.Specification.Transaction.html#8743" class="Field">CurrentTreasuryOf</a> <a id="14548" class="Symbol">=</a> <a id="14550" href="Ledger.Dijkstra.Specification.Transaction.html#8743" class="Field">CurrentTreasuryOf</a> <a id="14568" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="14570" href="Ledger.Dijkstra.Specification.Transaction.html#5588" class="Field">TxBodyOf</a>


  <a id="14583" class="Comment">-- Helpers --</a>
  <a id="14599" class="Comment">--| extract scripts from TxOuts</a>
  <a id="TransactionStructure.txOutToScript"></a><a id="14633" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="14647" class="Symbol">:</a> <a id="14649" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="14655" class="Symbol">→</a> <a id="14657" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14663" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="14672" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="14686" class="Symbol">(_</a> <a id="14689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14691" class="Symbol">_</a> <a id="14693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14695" class="Symbol">_</a> <a id="14697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14699" href="Ledger.Dijkstra.Specification.Transaction.html#14699" class="Bound">s</a><a id="14700" class="Symbol">)</a> <a id="14702" class="Symbol">=</a> <a id="14704" href="Ledger.Dijkstra.Specification.Transaction.html#14699" class="Bound">s</a>
  <a id="14708" class="Comment">--| extract datum from TxOuts</a>
  <a id="TransactionStructure.txOutToDatum"></a><a id="14740" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="14753" class="Symbol">:</a> <a id="14755" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="14761" class="Symbol">→</a> <a id="14763" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14769" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="14777" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="14790" class="Symbol">(_</a> <a id="14793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14795" class="Symbol">_</a> <a id="14797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14799" href="Ledger.Dijkstra.Specification.Transaction.html#14799" class="Bound">d</a> <a id="14801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14803" class="Symbol">_)</a> <a id="14806" class="Symbol">=</a> <a id="14808" href="Ledger.Dijkstra.Specification.Transaction.html#14799" class="Bound">d</a> <a id="14810" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="14814" href="Data.Sum.html#787" class="Function">isInj₁</a>
  <a id="14823" class="Comment">--| extract value from TxOuts</a>
  <a id="TransactionStructure.txOutToValue"></a><a id="14855" href="Ledger.Dijkstra.Specification.Transaction.html#14855" class="Function">txOutToValue</a> <a id="14868" class="Symbol">:</a> <a id="14870" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="14876" class="Symbol">→</a> <a id="14878" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="14886" href="Ledger.Dijkstra.Specification.Transaction.html#14855" class="Function">txOutToValue</a> <a id="14899" class="Symbol">(_</a> <a id="14902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14904" href="Ledger.Dijkstra.Specification.Transaction.html#14904" class="Bound">v</a> <a id="14906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14908" class="Symbol">_</a> <a id="14910" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14912" class="Symbol">_)</a> <a id="14915" class="Symbol">=</a> <a id="14917" href="Ledger.Dijkstra.Specification.Transaction.html#14904" class="Bound">v</a>
  <a id="14921" class="Comment">--| extract set of values from a UTxO</a>
  <a id="TransactionStructure.valuesOfUTxO"></a><a id="14961" href="Ledger.Dijkstra.Specification.Transaction.html#14961" class="Function">valuesOfUTxO</a> <a id="14974" class="Symbol">:</a> <a id="14976" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="14981" class="Symbol">→</a> <a id="14983" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14985" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="14993" href="Ledger.Dijkstra.Specification.Transaction.html#14961" class="Function">valuesOfUTxO</a> <a id="15006" class="Symbol">=</a> <a id="15008" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="15013" href="Ledger.Dijkstra.Specification.Transaction.html#14855" class="Function">txOutToValue</a> <a id="15026" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15028" href="Class.IsSet.html#959" class="Function">range</a>

  <a id="15037" class="Comment">--| Spending inputs</a>
  <a id="TransactionStructure.allSpendInputs"></a><a id="15059" href="Ledger.Dijkstra.Specification.Transaction.html#15059" class="Function">allSpendInputs</a> <a id="15074" class="Symbol">:</a> <a id="15076" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="15087" class="Symbol">→</a> <a id="15089" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15091" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
  <a id="15098" href="Ledger.Dijkstra.Specification.Transaction.html#15059" class="Function">allSpendInputs</a> <a id="15113" href="Ledger.Dijkstra.Specification.Transaction.html#15113" class="Bound">txTop</a> <a id="15119" class="Symbol">=</a> <a id="15121" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="15128" class="Symbol">(λ</a> <a id="15131" href="Ledger.Dijkstra.Specification.Transaction.html#15131" class="Bound">acc</a> <a id="15135" href="Ledger.Dijkstra.Specification.Transaction.html#15135" class="Bound">txSub</a> <a id="15141" class="Symbol">→</a> <a id="15143" href="Ledger.Dijkstra.Specification.Transaction.html#15131" class="Bound">acc</a> <a id="15147" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15149" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="15163" href="Ledger.Dijkstra.Specification.Transaction.html#15135" class="Bound">txSub</a><a id="15168" class="Symbol">)</a>
                                <a id="15202" class="Symbol">(</a><a id="15203" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="15217" href="Ledger.Dijkstra.Specification.Transaction.html#15113" class="Bound">txTop</a><a id="15222" class="Symbol">)</a>
                                <a id="15256" class="Symbol">(</a><a id="15257" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="15275" href="Ledger.Dijkstra.Specification.Transaction.html#15113" class="Bound">txTop</a><a id="15280" class="Symbol">)</a>
  <a id="TransactionStructure.allSpendInputsList"></a><a id="15284" href="Ledger.Dijkstra.Specification.Transaction.html#15284" class="Function">allSpendInputsList</a> <a id="15303" class="Symbol">:</a> <a id="15305" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="15316" class="Symbol">→</a> <a id="15318" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15323" class="Symbol">(</a><a id="15324" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15326" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a><a id="15330" class="Symbol">)</a>
  <a id="15334" href="Ledger.Dijkstra.Specification.Transaction.html#15284" class="Function">allSpendInputsList</a> <a id="15353" href="Ledger.Dijkstra.Specification.Transaction.html#15353" class="Bound">t</a> <a id="15355" class="Symbol">=</a> <a id="15357" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="15371" href="Ledger.Dijkstra.Specification.Transaction.html#15353" class="Bound">t</a> <a id="15373" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15375" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15379" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="15393" class="Symbol">(</a><a id="15394" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="15412" href="Ledger.Dijkstra.Specification.Transaction.html#15353" class="Bound">t</a><a id="15413" class="Symbol">)</a>

  <a id="15418" class="Comment">--| Reference inputs</a>
  <a id="TransactionStructure.allReferenceInputs"></a><a id="15441" href="Ledger.Dijkstra.Specification.Transaction.html#15441" class="Function">allReferenceInputs</a> <a id="15460" class="Symbol">:</a> <a id="15462" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="15473" class="Symbol">→</a> <a id="15475" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15477" href="Ledger.Dijkstra.Specification.Transaction.html#3043" class="Function">TxIn</a>
  <a id="15484" href="Ledger.Dijkstra.Specification.Transaction.html#15441" class="Function">allReferenceInputs</a> <a id="15503" href="Ledger.Dijkstra.Specification.Transaction.html#15503" class="Bound">txTop</a> <a id="15509" class="Symbol">=</a> <a id="15511" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="15518" class="Symbol">(λ</a> <a id="15521" href="Ledger.Dijkstra.Specification.Transaction.html#15521" class="Bound">acc</a> <a id="15525" href="Ledger.Dijkstra.Specification.Transaction.html#15525" class="Bound">txSub</a> <a id="15531" class="Symbol">→</a> <a id="15533" href="Ledger.Dijkstra.Specification.Transaction.html#15521" class="Bound">acc</a> <a id="15537" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="15539" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="15557" href="Ledger.Dijkstra.Specification.Transaction.html#15525" class="Bound">txSub</a><a id="15562" class="Symbol">)</a>
                                    <a id="15600" class="Symbol">(</a><a id="15601" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="15619" href="Ledger.Dijkstra.Specification.Transaction.html#15503" class="Bound">txTop</a><a id="15624" class="Symbol">)</a>
                                    <a id="15662" class="Symbol">(</a><a id="15663" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="15681" href="Ledger.Dijkstra.Specification.Transaction.html#15503" class="Bound">txTop</a><a id="15686" class="Symbol">)</a>

  <a id="15691" class="Comment">--| OUTPUTS -------------------------------------------------------------------</a>
  <a id="15773" class="Comment">--|</a>
  <a id="15779" class="Comment">--| Sets of TxOuts can come from the range of...</a>
  <a id="15830" class="Comment">--|</a>
  <a id="15836" class="Comment">--| ...a UTxO</a>
  <a id="15852" href="Ledger.Dijkstra.Specification.Transaction.html#15852" class="Function">_</a> <a id="15854" class="Symbol">:</a> <a id="15856" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="15861" class="Symbol">→</a> <a id="15863" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15865" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
  <a id="15873" class="Symbol">_</a> <a id="15875" class="Symbol">=</a> <a id="15877" href="Class.IsSet.html#959" class="Function">range</a>
  <a id="15885" class="Comment">--|</a>
  <a id="15891" class="Comment">--| ...the txOuts field of a transaction</a>
  <a id="15934" href="Ledger.Dijkstra.Specification.Transaction.html#15934" class="Function">_</a> <a id="15936" class="Symbol">:</a> <a id="15938" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="15941" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="15949" class="Symbol">→</a> <a id="15951" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15953" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
  <a id="15961" class="Symbol">_</a> <a id="15963" class="Symbol">=</a> <a id="15965" href="Class.IsSet.html#959" class="Function">range</a> <a id="15971" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="15973" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a>

  <a id="15985" class="Comment">--| TxOuts from .a UTxO restricted to spending inputs of a Tx</a>
  <a id="TransactionStructure.spendTxOuts"></a><a id="16049" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Function">spendTxOuts</a> <a id="16061" class="Symbol">:</a> <a id="16063" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="16066" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="16074" class="Symbol">→</a> <a id="16076" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="16081" class="Symbol">→</a> <a id="16083" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16085" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
  <a id="16093" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Function">spendTxOuts</a> <a id="16105" href="Ledger.Dijkstra.Specification.Transaction.html#16105" class="Bound">tx</a> <a id="16108" href="Ledger.Dijkstra.Specification.Transaction.html#16108" class="Bound">utxo</a> <a id="16113" class="Symbol">=</a> <a id="16115" href="Class.IsSet.html#959" class="Function">range</a> <a id="16121" class="Symbol">(</a><a id="16122" href="Ledger.Dijkstra.Specification.Transaction.html#16108" class="Bound">utxo</a> <a id="16127" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="16129" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="16143" href="Ledger.Dijkstra.Specification.Transaction.html#16105" class="Bound">tx</a><a id="16145" class="Symbol">)</a>

  <a id="16150" class="Comment">--| TxOuts from .a UTxO restricted to reference inputs of a Tx</a>
  <a id="TransactionStructure.referencedTxOuts"></a><a id="16215" href="Ledger.Dijkstra.Specification.Transaction.html#16215" class="Function">referencedTxOuts</a> <a id="16232" class="Symbol">:</a> <a id="16234" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="16237" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="16245" class="Symbol">→</a> <a id="16247" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="16252" class="Symbol">→</a> <a id="16254" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16256" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a>
  <a id="16264" href="Ledger.Dijkstra.Specification.Transaction.html#16215" class="Function">referencedTxOuts</a> <a id="16281" href="Ledger.Dijkstra.Specification.Transaction.html#16281" class="Bound">tx</a> <a id="16284" href="Ledger.Dijkstra.Specification.Transaction.html#16284" class="Bound">utxo</a> <a id="16289" class="Symbol">=</a> <a id="16291" href="Class.IsSet.html#959" class="Function">range</a> <a id="16297" class="Symbol">(</a><a id="16298" href="Ledger.Dijkstra.Specification.Transaction.html#16284" class="Bound">utxo</a> <a id="16303" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="16305" href="Ledger.Dijkstra.Specification.Transaction.html#7312" class="Field">ReferenceInputsOf</a> <a id="16323" href="Ledger.Dijkstra.Specification.Transaction.html#16281" class="Bound">tx</a><a id="16325" class="Symbol">)</a>

  <a id="16330" class="Comment">--| Set of scripts from outputs of a UTxO</a>
  <a id="TransactionStructure.scriptsOfUTxO"></a><a id="16374" href="Ledger.Dijkstra.Specification.Transaction.html#16374" class="Function">scriptsOfUTxO</a> <a id="16388" class="Symbol">:</a> <a id="16390" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="16395" class="Symbol">→</a> <a id="16397" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16399" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16408" href="Ledger.Dijkstra.Specification.Transaction.html#16374" class="Function">scriptsOfUTxO</a> <a id="16422" class="Symbol">=</a> <a id="16424" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16435" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="16449" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16451" href="Class.IsSet.html#959" class="Function">range</a>

  <a id="16460" class="Comment">--| Set of scripts from outputs of a Tx</a>
  <a id="TransactionStructure.scriptsOfTx"></a><a id="16502" href="Ledger.Dijkstra.Specification.Transaction.html#16502" class="Function">scriptsOfTx</a> <a id="16514" class="Symbol">:</a> <a id="16516" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="16519" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="16527" class="Symbol">→</a> <a id="16529" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16531" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16540" href="Ledger.Dijkstra.Specification.Transaction.html#16502" class="Function">scriptsOfTx</a> <a id="16552" class="Symbol">=</a> <a id="16554" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16565" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="16579" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16581" href="Class.IsSet.html#959" class="Function">range</a> <a id="16587" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="16589" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a>

  <a id="16601" class="Comment">--| Set of scripts from the spending inputs of a Tx</a>
  <a id="TransactionStructure.spendScripts"></a><a id="16655" href="Ledger.Dijkstra.Specification.Transaction.html#16655" class="Function">spendScripts</a> <a id="16668" class="Symbol">:</a> <a id="16670" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="16673" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="16681" class="Symbol">→</a> <a id="16683" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="16688" class="Symbol">→</a> <a id="16690" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16692" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16701" href="Ledger.Dijkstra.Specification.Transaction.html#16655" class="Function">spendScripts</a> <a id="16714" class="Symbol">=</a> <a id="16716" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16727" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="16741" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="16744" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Function">spendTxOuts</a>

  <a id="16759" class="Comment">--| Set of scripts from reference inputs</a>
  <a id="TransactionStructure.referenceScripts"></a><a id="16802" href="Ledger.Dijkstra.Specification.Transaction.html#16802" class="Function">referenceScripts</a> <a id="16819" class="Symbol">:</a> <a id="16821" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="16824" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="16832" class="Symbol">→</a> <a id="16834" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="16839" class="Symbol">→</a> <a id="16841" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="16843" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="16852" href="Ledger.Dijkstra.Specification.Transaction.html#16802" class="Function">referenceScripts</a> <a id="16869" class="Symbol">=</a> <a id="16871" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="16882" href="Ledger.Dijkstra.Specification.Transaction.html#14633" class="Function">txOutToScript</a> <a id="16896" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="16899" href="Ledger.Dijkstra.Specification.Transaction.html#16215" class="Function">referencedTxOuts</a>

  <a id="16919" class="Comment">--| Set of scripts from reference inputs in a batch</a>
  <a id="TransactionStructure.allReferenceScripts"></a><a id="16973" href="Ledger.Dijkstra.Specification.Transaction.html#16973" class="Function">allReferenceScripts</a> <a id="16993" class="Symbol">:</a> <a id="16995" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="17006" class="Symbol">→</a> <a id="17008" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="17013" class="Symbol">→</a> <a id="17015" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17017" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17026" href="Ledger.Dijkstra.Specification.Transaction.html#16973" class="Function">allReferenceScripts</a> <a id="17046" href="Ledger.Dijkstra.Specification.Transaction.html#17046" class="Bound">tx</a> <a id="17049" href="Ledger.Dijkstra.Specification.Transaction.html#17049" class="Bound">utxo</a> <a id="17054" class="Symbol">=</a>
    <a id="17060" href="Data.List.Base.html#4227" class="Function">foldl</a> <a id="17066" class="Symbol">(λ</a> <a id="17069" href="Ledger.Dijkstra.Specification.Transaction.html#17069" class="Bound">acc</a> <a id="17073" href="Ledger.Dijkstra.Specification.Transaction.html#17073" class="Bound">t</a> <a id="17075" class="Symbol">→</a> <a id="17077" href="Ledger.Dijkstra.Specification.Transaction.html#17069" class="Bound">acc</a> <a id="17081" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17083" href="Ledger.Dijkstra.Specification.Transaction.html#16802" class="Function">referenceScripts</a> <a id="17100" href="Ledger.Dijkstra.Specification.Transaction.html#17073" class="Bound">t</a> <a id="17102" href="Ledger.Dijkstra.Specification.Transaction.html#17049" class="Bound">utxo</a><a id="17106" class="Symbol">)</a>
          <a id="17118" class="Symbol">(</a><a id="17119" href="Ledger.Dijkstra.Specification.Transaction.html#16802" class="Function">referenceScripts</a> <a id="17136" href="Ledger.Dijkstra.Specification.Transaction.html#17046" class="Bound">tx</a> <a id="17139" href="Ledger.Dijkstra.Specification.Transaction.html#17049" class="Bound">utxo</a><a id="17143" class="Symbol">)</a> <a id="17145" class="Symbol">(</a><a id="17146" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="17164" href="Ledger.Dijkstra.Specification.Transaction.html#17046" class="Bound">tx</a><a id="17166" class="Symbol">)</a>

  <a id="17171" class="Comment">--| Set of scripts from a transactions&#39;s witness field</a>
  <a id="TransactionStructure.witnessScripts"></a><a id="17228" href="Ledger.Dijkstra.Specification.Transaction.html#17228" class="Function">witnessScripts</a> <a id="17243" class="Symbol">:</a> <a id="17245" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="17248" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="17256" class="Symbol">→</a> <a id="17258" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17260" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17269" href="Ledger.Dijkstra.Specification.Transaction.html#17228" class="Function">witnessScripts</a> <a id="17284" class="Symbol">=</a> <a id="17286" href="Ledger.Dijkstra.Specification.Transaction.html#8339" class="Field">ScriptsOf</a>

  <a id="17299" class="Comment">--| Set of all scripts from a transaction</a>
  <a id="TransactionStructure.getTxScripts"></a><a id="17343" href="Ledger.Dijkstra.Specification.Transaction.html#17343" class="Function">getTxScripts</a> <a id="17356" class="Symbol">:</a> <a id="17358" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="17361" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="17369" class="Symbol">→</a> <a id="17371" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="17376" class="Symbol">→</a> <a id="17378" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17380" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17389" href="Ledger.Dijkstra.Specification.Transaction.html#17343" class="Function">getTxScripts</a> <a id="17402" href="Ledger.Dijkstra.Specification.Transaction.html#17402" class="Bound">tx</a> <a id="17405" href="Ledger.Dijkstra.Specification.Transaction.html#17405" class="Bound">utxo</a> <a id="17410" class="Symbol">=</a>  <a id="17413" href="Ledger.Dijkstra.Specification.Transaction.html#16502" class="Function">scriptsOfTx</a> <a id="17425" href="Ledger.Dijkstra.Specification.Transaction.html#17402" class="Bound">tx</a>
                          <a id="17454" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17456" href="Ledger.Dijkstra.Specification.Transaction.html#16655" class="Function">spendScripts</a> <a id="17469" href="Ledger.Dijkstra.Specification.Transaction.html#17402" class="Bound">tx</a> <a id="17472" href="Ledger.Dijkstra.Specification.Transaction.html#17405" class="Bound">utxo</a>
                          <a id="17503" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17505" href="Ledger.Dijkstra.Specification.Transaction.html#16802" class="Function">referenceScripts</a> <a id="17522" href="Ledger.Dijkstra.Specification.Transaction.html#17402" class="Bound">tx</a> <a id="17525" href="Ledger.Dijkstra.Specification.Transaction.html#17405" class="Bound">utxo</a>
                          <a id="17556" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17558" href="Ledger.Dijkstra.Specification.Transaction.html#17228" class="Function">witnessScripts</a> <a id="17573" href="Ledger.Dijkstra.Specification.Transaction.html#17402" class="Bound">tx</a>

  <a id="17579" class="Comment">--| Set of scripts from a batch</a>
  <a id="TransactionStructure.getAllScripts"></a><a id="17613" href="Ledger.Dijkstra.Specification.Transaction.html#17613" class="Function">getAllScripts</a> <a id="17627" class="Symbol">:</a> <a id="17629" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="17640" class="Symbol">→</a> <a id="17642" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="17647" class="Symbol">→</a>  <a id="17650" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17652" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="17661" href="Ledger.Dijkstra.Specification.Transaction.html#17613" class="Function">getAllScripts</a> <a id="17675" href="Ledger.Dijkstra.Specification.Transaction.html#17675" class="Bound">txTop</a> <a id="17681" href="Ledger.Dijkstra.Specification.Transaction.html#17681" class="Bound">utxo</a> <a id="17686" class="Symbol">=</a> <a id="17688" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="17695" class="Symbol">(λ</a> <a id="17698" href="Ledger.Dijkstra.Specification.Transaction.html#17698" class="Bound">acc</a> <a id="17702" href="Ledger.Dijkstra.Specification.Transaction.html#17702" class="Bound">txSub</a> <a id="17708" class="Symbol">→</a> <a id="17710" href="Ledger.Dijkstra.Specification.Transaction.html#17698" class="Bound">acc</a> <a id="17714" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="17716" href="Ledger.Dijkstra.Specification.Transaction.html#17343" class="Function">getTxScripts</a> <a id="17729" href="Ledger.Dijkstra.Specification.Transaction.html#17702" class="Bound">txSub</a> <a id="17735" href="Ledger.Dijkstra.Specification.Transaction.html#17681" class="Bound">utxo</a><a id="17739" class="Symbol">)</a>
                                    <a id="17777" class="Symbol">(</a><a id="17778" href="Ledger.Dijkstra.Specification.Transaction.html#17343" class="Function">getTxScripts</a> <a id="17791" href="Ledger.Dijkstra.Specification.Transaction.html#17675" class="Bound">txTop</a> <a id="17797" href="Ledger.Dijkstra.Specification.Transaction.html#17681" class="Bound">utxo</a><a id="17801" class="Symbol">)</a>
                                    <a id="17839" class="Symbol">(</a><a id="17840" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="17858" href="Ledger.Dijkstra.Specification.Transaction.html#17675" class="Bound">txTop</a><a id="17863" class="Symbol">)</a>

  <a id="17868" class="Comment">--| Set of datum from a transaction</a>
  <a id="TransactionStructure.dataOfTx"></a><a id="17906" href="Ledger.Dijkstra.Specification.Transaction.html#17906" class="Function">dataOfTx</a> <a id="17915" class="Symbol">:</a> <a id="17917" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="17920" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="17928" class="Symbol">→</a> <a id="17930" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="17932" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="17940" href="Ledger.Dijkstra.Specification.Transaction.html#17906" class="Function">dataOfTx</a> <a id="17949" class="Symbol">=</a> <a id="17951" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="17962" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="17975" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="17977" href="Class.IsSet.html#959" class="Function">range</a> <a id="17983" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="17985" href="Ledger.Dijkstra.Specification.Transaction.html#8457" class="Field">TxOutsOf</a>

  <a id="17997" class="Comment">--| Set of data from a UTxO</a>
  <a id="TransactionStructure.txOutDataOfUTxO"></a><a id="18027" href="Ledger.Dijkstra.Specification.Transaction.html#18027" class="Function">txOutDataOfUTxO</a> <a id="18043" class="Symbol">:</a> <a id="18045" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="18050" class="Symbol">→</a> <a id="18052" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18054" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18062" href="Ledger.Dijkstra.Specification.Transaction.html#18027" class="Function">txOutDataOfUTxO</a> <a id="18078" class="Symbol">=</a> <a id="18080" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18091" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="18104" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="18106" href="Class.IsSet.html#959" class="Function">range</a>

  <a id="18115" class="Comment">--| Set of data from spendTxOuts</a>
  <a id="TransactionStructure.spendData"></a><a id="18150" href="Ledger.Dijkstra.Specification.Transaction.html#18150" class="Function">spendData</a> <a id="18160" class="Symbol">:</a> <a id="18162" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="18165" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="18173" class="Symbol">→</a> <a id="18175" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="18180" class="Symbol">→</a> <a id="18182" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18184" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18192" href="Ledger.Dijkstra.Specification.Transaction.html#18150" class="Function">spendData</a> <a id="18202" class="Symbol">=</a> <a id="18204" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18215" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="18228" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="18231" href="Ledger.Dijkstra.Specification.Transaction.html#16049" class="Function">spendTxOuts</a>

  <a id="18246" class="Comment">--| Set of data from referencedTxOuts</a>
  <a id="TransactionStructure.referenceData"></a><a id="18286" href="Ledger.Dijkstra.Specification.Transaction.html#18286" class="Function">referenceData</a> <a id="18300" class="Symbol">:</a> <a id="18302" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="18305" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="18313" class="Symbol">→</a> <a id="18315" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="18320" class="Symbol">→</a> <a id="18322" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18324" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18332" href="Ledger.Dijkstra.Specification.Transaction.html#18286" class="Function">referenceData</a> <a id="18346" class="Symbol">=</a> <a id="18348" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="18359" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="18372" href="Function.Base.html#1322" class="Function Operator">∘₂</a> <a id="18375" href="Ledger.Dijkstra.Specification.Transaction.html#16215" class="Function">referencedTxOuts</a>

  <a id="18395" class="Comment">--| Set of data from a transaction&#39;s witness field</a>
  <a id="TransactionStructure.witnessData"></a><a id="18448" href="Ledger.Dijkstra.Specification.Transaction.html#18448" class="Function">witnessData</a> <a id="18460" class="Symbol">:</a> <a id="18462" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="18465" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="18473" class="Symbol">→</a> <a id="18475" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18477" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18485" href="Ledger.Dijkstra.Specification.Transaction.html#18448" class="Function">witnessData</a> <a id="18497" class="Symbol">=</a> <a id="18499" href="Ledger.Dijkstra.Specification.Transaction.html#7803" class="Field">DataOf</a>

  <a id="18509" class="Comment">--| Set of data from a transaction</a>
  <a id="TransactionStructure.getTxData"></a><a id="18546" href="Ledger.Dijkstra.Specification.Transaction.html#18546" class="Function">getTxData</a> <a id="18556" class="Symbol">:</a> <a id="18558" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="18561" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="18569" class="Symbol">→</a> <a id="18571" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="18576" class="Symbol">→</a> <a id="18578" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18580" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18588" href="Ledger.Dijkstra.Specification.Transaction.html#18546" class="Function">getTxData</a> <a id="18598" href="Ledger.Dijkstra.Specification.Transaction.html#18598" class="Bound">tx</a> <a id="18601" href="Ledger.Dijkstra.Specification.Transaction.html#18601" class="Bound">utxo</a> <a id="18606" class="Symbol">=</a>  <a id="18609" href="Ledger.Dijkstra.Specification.Transaction.html#17906" class="Function">dataOfTx</a> <a id="18618" href="Ledger.Dijkstra.Specification.Transaction.html#18598" class="Bound">tx</a>
                       <a id="18644" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18646" href="Ledger.Dijkstra.Specification.Transaction.html#18150" class="Function">spendData</a> <a id="18656" href="Ledger.Dijkstra.Specification.Transaction.html#18598" class="Bound">tx</a> <a id="18659" href="Ledger.Dijkstra.Specification.Transaction.html#18601" class="Bound">utxo</a>
                       <a id="18687" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18689" href="Ledger.Dijkstra.Specification.Transaction.html#18286" class="Function">referenceData</a> <a id="18703" href="Ledger.Dijkstra.Specification.Transaction.html#18598" class="Bound">tx</a> <a id="18706" href="Ledger.Dijkstra.Specification.Transaction.html#18601" class="Bound">utxo</a>
                       <a id="18734" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18736" href="Ledger.Dijkstra.Specification.Transaction.html#18448" class="Function">witnessData</a> <a id="18748" href="Ledger.Dijkstra.Specification.Transaction.html#18598" class="Bound">tx</a>

  <a id="18754" class="Comment">--| Set of data from a batch</a>
  <a id="TransactionStructure.getAllData"></a><a id="18785" href="Ledger.Dijkstra.Specification.Transaction.html#18785" class="Function">getAllData</a> <a id="18796" class="Symbol">:</a> <a id="18798" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="18809" class="Symbol">→</a> <a id="18811" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="18816" class="Symbol">→</a> <a id="18818" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="18820" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
  <a id="18828" href="Ledger.Dijkstra.Specification.Transaction.html#18785" class="Function">getAllData</a> <a id="18839" href="Ledger.Dijkstra.Specification.Transaction.html#18839" class="Bound">txTop</a> <a id="18845" href="Ledger.Dijkstra.Specification.Transaction.html#18845" class="Bound">utxo</a> <a id="18850" class="Symbol">=</a> <a id="18852" href="Data.List.Base.html#4227" class="Function">foldl</a>  <a id="18859" class="Symbol">(λ</a> <a id="18862" href="Ledger.Dijkstra.Specification.Transaction.html#18862" class="Bound">acc</a> <a id="18866" href="Ledger.Dijkstra.Specification.Transaction.html#18866" class="Bound">txSub</a> <a id="18872" class="Symbol">→</a> <a id="18874" href="Ledger.Dijkstra.Specification.Transaction.html#18862" class="Bound">acc</a> <a id="18878" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="18880" href="Ledger.Dijkstra.Specification.Transaction.html#18546" class="Function">getTxData</a> <a id="18890" href="Ledger.Dijkstra.Specification.Transaction.html#18866" class="Bound">txSub</a> <a id="18896" href="Ledger.Dijkstra.Specification.Transaction.html#18845" class="Bound">utxo</a><a id="18900" class="Symbol">)</a>
                                 <a id="18935" class="Symbol">(</a><a id="18936" href="Ledger.Dijkstra.Specification.Transaction.html#18546" class="Function">getTxData</a> <a id="18946" href="Ledger.Dijkstra.Specification.Transaction.html#18839" class="Bound">txTop</a> <a id="18952" href="Ledger.Dijkstra.Specification.Transaction.html#18845" class="Bound">utxo</a><a id="18956" class="Symbol">)</a>
                                 <a id="18991" class="Symbol">(</a><a id="18992" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="19010" href="Ledger.Dijkstra.Specification.Transaction.html#18839" class="Bound">txTop</a><a id="19015" class="Symbol">)</a>

  <a id="TransactionStructure.NoOverlappingSpendInputs"></a><a id="19020" href="Ledger.Dijkstra.Specification.Transaction.html#19020" class="Function">NoOverlappingSpendInputs</a> <a id="19045" class="Symbol">:</a> <a id="19047" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="19058" class="Symbol">→</a> <a id="19060" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="19067" href="Ledger.Dijkstra.Specification.Transaction.html#19020" class="Function">NoOverlappingSpendInputs</a> <a id="19092" href="Ledger.Dijkstra.Specification.Transaction.html#19092" class="Bound">topTx</a> <a id="19098" class="Symbol">=</a>
    <a id="19104" href="Data.List.Relation.Unary.AllPairs.Core.html#955" class="Datatype">List.AllPairs</a> <a id="19118" href="Axiom.Set.html#3515" class="Function">disjoint</a> <a id="19127" class="Symbol">(</a><a id="19128" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="19142" href="Ledger.Dijkstra.Specification.Transaction.html#19092" class="Bound">topTx</a> <a id="19148" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19150" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19154" href="Ledger.Dijkstra.Specification.Transaction.html#7179" class="Field">SpendInputsOf</a> <a id="19168" class="Symbol">(</a><a id="19169" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="19187" href="Ledger.Dijkstra.Specification.Transaction.html#19092" class="Bound">topTx</a><a id="19192" class="Symbol">))</a>

  <a id="19198" class="Comment">-- Total Ada minted across the entire batch (top-level tx + all sub-txs).</a>
  <a id="TransactionStructure.allMintedCoin"></a><a id="19274" href="Ledger.Dijkstra.Specification.Transaction.html#19274" class="Function">allMintedCoin</a> <a id="19288" class="Symbol">:</a> <a id="19290" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="19301" class="Symbol">→</a> <a id="19303" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="19310" href="Ledger.Dijkstra.Specification.Transaction.html#19274" class="Function">allMintedCoin</a> <a id="19324" href="Ledger.Dijkstra.Specification.Transaction.html#19324" class="Bound">txTop</a> <a id="19330" class="Symbol">=</a> <a id="19332" href="Data.List.Base.html#4227" class="Function">foldl</a> <a id="19338" class="Symbol">(λ</a> <a id="19341" href="Ledger.Dijkstra.Specification.Transaction.html#19341" class="Bound">acc</a> <a id="19345" href="Ledger.Dijkstra.Specification.Transaction.html#19345" class="Bound">txSub</a> <a id="19351" class="Symbol">→</a> <a id="19353" href="Ledger.Dijkstra.Specification.Transaction.html#19341" class="Bound">acc</a> <a id="19357" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19359" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="19364" class="Symbol">(</a><a id="19365" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="19379" href="Ledger.Dijkstra.Specification.Transaction.html#19345" class="Bound">txSub</a><a id="19384" class="Symbol">))</a>
                              <a id="19417" class="Symbol">(</a><a id="19418" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="19423" class="Symbol">(</a><a id="19424" href="Ledger.Dijkstra.Specification.Transaction.html#7449" class="Field">MintedValueOf</a> <a id="19438" href="Ledger.Dijkstra.Specification.Transaction.html#19324" class="Bound">txTop</a><a id="19443" class="Symbol">))</a>
                              <a id="19476" class="Symbol">(</a><a id="19477" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="19495" href="Ledger.Dijkstra.Specification.Transaction.html#19324" class="Bound">txTop</a><a id="19500" class="Symbol">)</a>
  <a id="19504" class="Comment">-- To maintain total Ada supply invariant, this must satisfy `allMintedCoin ≡ 0`;</a>
  <a id="19588" class="Comment">-- this is a generalization of Conway&#39;s `coin mint ≡ 0`.</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="19648" href="Ledger.Dijkstra.Specification.Transaction.html#19648" class="Function">lookupScriptHash</a> <a id="19665" class="Symbol">:</a> <a id="19667" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="19678" class="Symbol">→</a> <a id="19680" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="19683" href="Ledger.Dijkstra.Specification.Transaction.html#1114" class="Generalizable">txLevel</a> <a id="19691" class="Symbol">→</a> <a id="19693" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="19698" class="Symbol">→</a> <a id="19700" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="19706" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="19715" href="Ledger.Dijkstra.Specification.Transaction.html#19648" class="Function">lookupScriptHash</a> <a id="19732" href="Ledger.Dijkstra.Specification.Transaction.html#19732" class="Bound">sh</a> <a id="19735" href="Ledger.Dijkstra.Specification.Transaction.html#19735" class="Bound">tx</a> <a id="19738" href="Ledger.Dijkstra.Specification.Transaction.html#19738" class="Bound">utxo</a> <a id="19743" class="Symbol">=</a> <a id="19745" href="Ledger.Prelude.html#2672" class="Function">lookupHash</a> <a id="19756" href="Ledger.Dijkstra.Specification.Transaction.html#19732" class="Bound">sh</a> <a id="19759" class="Symbol">(</a><a id="19760" href="Ledger.Dijkstra.Specification.Transaction.html#17343" class="Function">getTxScripts</a> <a id="19773" href="Ledger.Dijkstra.Specification.Transaction.html#19735" class="Bound">tx</a> <a id="19776" href="Ledger.Dijkstra.Specification.Transaction.html#19738" class="Bound">utxo</a><a id="19780" class="Symbol">)</a>


  <a id="TransactionStructure.TaggedTopLevelGuard"></a><a id="19786" href="Ledger.Dijkstra.Specification.Transaction.html#19786" class="Function">TaggedTopLevelGuard</a> <a id="19806" class="Symbol">:</a> <a id="19808" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="19815" href="Ledger.Dijkstra.Specification.Transaction.html#19786" class="Function">TaggedTopLevelGuard</a> <a id="19835" class="Symbol">=</a> <a id="19837" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a> <a id="19842" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="19844" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="19855" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="19857" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="19863" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
                     <a id="19890" class="Comment">-- (subTxId, guard credential, optional datum argument)</a>

  <a id="TransactionStructure.GroupedTopLevelGuards"></a><a id="19949" href="Ledger.Dijkstra.Specification.Transaction.html#19949" class="Function">GroupedTopLevelGuards</a> <a id="19971" class="Symbol">:</a> <a id="19973" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="19980" href="Ledger.Dijkstra.Specification.Transaction.html#19949" class="Function">GroupedTopLevelGuards</a> <a id="20002" class="Symbol">=</a> <a id="20004" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20009" class="Symbol">(</a><a id="20010" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="20021" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20023" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20028" class="Symbol">(</a><a id="20029" href="Ledger.Dijkstra.Specification.Transaction.html#1379" class="Field">TxId</a> <a id="20034" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="20036" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="20042" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a><a id="20047" class="Symbol">))</a>

  <a id="TransactionStructure.groupTopLevelGuards"></a><a id="20053" href="Ledger.Dijkstra.Specification.Transaction.html#20053" class="Function">groupTopLevelGuards</a> <a id="20073" class="Symbol">:</a> <a id="20075" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="20080" href="Ledger.Dijkstra.Specification.Transaction.html#19786" class="Function">TaggedTopLevelGuard</a> <a id="20100" class="Symbol">→</a> <a id="20102" href="Ledger.Dijkstra.Specification.Transaction.html#19949" class="Function">GroupedTopLevelGuards</a>
  <a id="20126" href="Ledger.Dijkstra.Specification.Transaction.html#20053" class="Function">groupTopLevelGuards</a> <a id="20146" class="Symbol">=</a> <a id="20148" href="Data.List.Base.html#4126" class="Function">foldr</a> <a id="20154" href="Ledger.Dijkstra.Specification.Transaction.html#20386" class="Function">insertGuard</a> <a id="20166" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="20173" class="Keyword">where</a>
    <a id="20183" class="Comment">-- Insert one tagged guard into an existing group:</a>
    <a id="20238" class="Comment">--   + if the credential already has a group, cons (subTxId, datum?) onto its list</a>
    <a id="20325" class="Comment">--   + otherwise create a new group for that credential.</a>
    <a id="20386" href="Ledger.Dijkstra.Specification.Transaction.html#20386" class="Function">insertGuard</a> <a id="20398" class="Symbol">:</a> <a id="20400" href="Ledger.Dijkstra.Specification.Transaction.html#19786" class="Function">TaggedTopLevelGuard</a> <a id="20420" class="Symbol">→</a> <a id="20422" href="Ledger.Dijkstra.Specification.Transaction.html#19949" class="Function">GroupedTopLevelGuards</a> <a id="20444" class="Symbol">→</a> <a id="20446" href="Ledger.Dijkstra.Specification.Transaction.html#19949" class="Function">GroupedTopLevelGuards</a>
    <a id="20472" href="Ledger.Dijkstra.Specification.Transaction.html#20386" class="Function">insertGuard</a> <a id="20484" class="Symbol">(</a><a id="20485" href="Ledger.Dijkstra.Specification.Transaction.html#20485" class="Bound">tid</a> <a id="20489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20491" href="Ledger.Dijkstra.Specification.Transaction.html#20491" class="Bound">cred</a> <a id="20496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20498" href="Ledger.Dijkstra.Specification.Transaction.html#20498" class="Bound">md</a><a id="20500" class="Symbol">)</a> <a id="20502" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20505" class="Symbol">=</a> <a id="20507" class="Symbol">(</a><a id="20508" href="Ledger.Dijkstra.Specification.Transaction.html#20491" class="Bound">cred</a> <a id="20513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20515" class="Symbol">(</a><a id="20516" href="Ledger.Dijkstra.Specification.Transaction.html#20485" class="Bound">tid</a> <a id="20520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20522" href="Ledger.Dijkstra.Specification.Transaction.html#20498" class="Bound">md</a><a id="20524" class="Symbol">)</a> <a id="20526" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20528" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="20530" class="Symbol">)</a> <a id="20532" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20534" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="20541" href="Ledger.Dijkstra.Specification.Transaction.html#20386" class="Function">insertGuard</a> <a id="20553" class="Symbol">(</a><a id="20554" href="Ledger.Dijkstra.Specification.Transaction.html#20554" class="Bound">tid</a> <a id="20558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20560" href="Ledger.Dijkstra.Specification.Transaction.html#20560" class="Bound">cred</a> <a id="20565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20567" href="Ledger.Dijkstra.Specification.Transaction.html#20567" class="Bound">md</a><a id="20569" class="Symbol">)</a> <a id="20571" class="Symbol">((</a><a id="20573" href="Ledger.Dijkstra.Specification.Transaction.html#20573" class="Bound">c</a> <a id="20575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20577" href="Ledger.Dijkstra.Specification.Transaction.html#20577" class="Bound">xs</a><a id="20579" class="Symbol">)</a> <a id="20581" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20583" href="Ledger.Dijkstra.Specification.Transaction.html#20583" class="Bound">rest</a><a id="20587" class="Symbol">)</a> <a id="20589" class="Keyword">with</a> <a id="20594" href="Ledger.Dijkstra.Specification.Transaction.html#20573" class="Bound">c</a> <a id="20596" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="20598" href="Ledger.Dijkstra.Specification.Transaction.html#20560" class="Bound">cred</a>
    <a id="20607" class="Symbol">...</a> <a id="20611" class="Symbol">|</a> <a id="20613" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="20617" class="Symbol">_</a> <a id="20619" class="Symbol">=</a> <a id="20621" class="Symbol">(</a><a id="20622" class="Bound">c</a> <a id="20624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20626" class="Symbol">(</a><a id="20627" class="Bound">tid</a> <a id="20631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20633" class="Bound">md</a><a id="20635" class="Symbol">)</a> <a id="20637" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20639" class="Bound">xs</a><a id="20641" class="Symbol">)</a> <a id="20643" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20645" class="Bound">rest</a>
    <a id="20654" class="Symbol">...</a> <a id="20658" class="Symbol">|</a> <a id="20660" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="20664" class="Symbol">_</a> <a id="20666" class="Symbol">=</a> <a id="20668" class="Symbol">(</a><a id="20669" class="Bound">c</a> <a id="20671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20673" class="Bound">xs</a><a id="20675" class="Symbol">)</a> <a id="20677" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20679" href="Ledger.Dijkstra.Specification.Transaction.html#20386" class="Function">insertGuard</a> <a id="20691" class="Symbol">(</a><a id="20692" class="Bound">tid</a> <a id="20696" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20698" class="Bound">cred</a> <a id="20703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20705" class="Bound">md</a><a id="20707" class="Symbol">)</a> <a id="20709" class="Bound">rest</a>

  <a id="TransactionStructure.subTxTaggedGuards"></a><a id="20717" href="Ledger.Dijkstra.Specification.Transaction.html#20717" class="Function">subTxTaggedGuards</a> <a id="20735" class="Symbol">:</a> <a id="20737" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="20748" class="Symbol">→</a> <a id="20750" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="20752" href="Ledger.Dijkstra.Specification.Transaction.html#19786" class="Function">TaggedTopLevelGuard</a>
  <a id="20774" href="Ledger.Dijkstra.Specification.Transaction.html#20717" class="Function">subTxTaggedGuards</a> <a id="20792" href="Ledger.Dijkstra.Specification.Transaction.html#20792" class="Bound">subtx</a> <a id="20798" class="Symbol">=</a>
    <a id="20804" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="20809" class="Symbol">(λ</a> <a id="20812" class="Symbol">(</a><a id="20813" href="Ledger.Dijkstra.Specification.Transaction.html#20813" class="Bound">cred</a> <a id="20818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20820" href="Ledger.Dijkstra.Specification.Transaction.html#20820" class="Bound">md</a><a id="20822" class="Symbol">)</a> <a id="20824" class="Symbol">→</a> <a id="20826" class="Symbol">(</a><a id="20827" href="Ledger.Dijkstra.Specification.Transaction.html#6811" class="Field">TxIdOf</a> <a id="20834" href="Ledger.Dijkstra.Specification.Transaction.html#20792" class="Bound">subtx</a> <a id="20840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20842" href="Ledger.Dijkstra.Specification.Transaction.html#20813" class="Bound">cred</a> <a id="20847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20849" href="Ledger.Dijkstra.Specification.Transaction.html#20820" class="Bound">md</a><a id="20851" class="Symbol">))</a> <a id="20854" class="Symbol">(</a><a id="20855" href="Ledger.Dijkstra.Specification.Transaction.html#6600" class="Field">TopLevelGuardsOf</a> <a id="20872" href="Ledger.Dijkstra.Specification.Transaction.html#20792" class="Bound">subtx</a><a id="20877" class="Symbol">)</a>

  <a id="20882" class="Comment">-- Turn a subTx body&#39;s `txRequiredTopLevelGuards` into a set of guard credentials.</a>
  <a id="TransactionStructure.subTxGuardCredentials"></a><a id="20967" href="Ledger.Dijkstra.Specification.Transaction.html#20967" class="Function">subTxGuardCredentials</a> <a id="20989" class="Symbol">:</a> <a id="20991" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="21002" class="Symbol">→</a> <a id="21004" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21006" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="21019" href="Ledger.Dijkstra.Specification.Transaction.html#20967" class="Function">subTxGuardCredentials</a> <a id="21041" class="Symbol">=</a> <a id="21043" class="Symbol">(</a><a id="21044" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="21049" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="21054" class="Symbol">)</a> <a id="21056" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="21058" href="Ledger.Dijkstra.Specification.Transaction.html#6600" class="Field">TopLevelGuardsOf</a>

  <a id="21078" class="Comment">-- Phase-1 condition (CIP-0118):</a>
  <a id="21113" class="Comment">-- every credential required by a subTx body must appear in the top-level txGuards set.</a>
  <a id="TransactionStructure.requiredGuardsInTopLevel"></a><a id="21203" href="Ledger.Dijkstra.Specification.Transaction.html#21203" class="Function">requiredGuardsInTopLevel</a> <a id="21228" class="Symbol">:</a> <a id="21230" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="21241" class="Symbol">→</a> <a id="21243" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21248" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="21259" class="Symbol">→</a> <a id="21261" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="21268" href="Ledger.Dijkstra.Specification.Transaction.html#21203" class="Function">requiredGuardsInTopLevel</a> <a id="21293" href="Ledger.Dijkstra.Specification.Transaction.html#21293" class="Bound">topTx</a> <a id="21299" href="Ledger.Dijkstra.Specification.Transaction.html#21299" class="Bound">subTxs</a> <a id="21306" class="Symbol">=</a> <a id="21308" href="Ledger.Dijkstra.Specification.Transaction.html#21550" class="Function">requiredCreds</a> <a id="21322" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="21324" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="21333" href="Ledger.Dijkstra.Specification.Transaction.html#21293" class="Bound">topTx</a>
    <a id="21343" class="Keyword">where</a>
    <a id="21353" class="Comment">-- union a list of sets</a>
    <a id="21381" href="Ledger.Dijkstra.Specification.Transaction.html#21381" class="Function">concatMapˡ</a> <a id="21392" class="Symbol">:</a> <a id="21394" class="Symbol">{</a><a id="21395" href="Ledger.Dijkstra.Specification.Transaction.html#21395" class="Bound">A</a> <a id="21397" href="Ledger.Dijkstra.Specification.Transaction.html#21397" class="Bound">B</a> <a id="21399" class="Symbol">:</a> <a id="21401" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="21405" class="Symbol">}</a> <a id="21407" class="Symbol">→</a> <a id="21409" class="Symbol">(</a><a id="21410" href="Ledger.Dijkstra.Specification.Transaction.html#21395" class="Bound">A</a> <a id="21412" class="Symbol">→</a> <a id="21414" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21416" href="Ledger.Dijkstra.Specification.Transaction.html#21397" class="Bound">B</a><a id="21417" class="Symbol">)</a> <a id="21419" class="Symbol">→</a> <a id="21421" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21426" href="Ledger.Dijkstra.Specification.Transaction.html#21395" class="Bound">A</a> <a id="21428" class="Symbol">→</a> <a id="21430" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21432" href="Ledger.Dijkstra.Specification.Transaction.html#21397" class="Bound">B</a>
    <a id="21438" href="Ledger.Dijkstra.Specification.Transaction.html#21381" class="Function">concatMapˡ</a> <a id="21449" href="Ledger.Dijkstra.Specification.Transaction.html#21449" class="Bound">f</a> <a id="21451" href="Ledger.Dijkstra.Specification.Transaction.html#21451" class="Bound">as</a> <a id="21454" class="Symbol">=</a> <a id="21456" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="21462" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="21464" href="Axiom.Set.html#2286" class="Function">unions</a> <a id="21471" class="Symbol">(</a><a id="21472" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="21481" class="Symbol">(</a><a id="21482" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21486" href="Ledger.Dijkstra.Specification.Transaction.html#21449" class="Bound">f</a> <a id="21488" href="Ledger.Dijkstra.Specification.Transaction.html#21451" class="Bound">as</a><a id="21490" class="Symbol">))</a>
    <a id="21497" class="Comment">-- maybe move this to agda-sets or src-lib-exts</a>

    <a id="21550" href="Ledger.Dijkstra.Specification.Transaction.html#21550" class="Function">requiredCreds</a> <a id="21564" class="Symbol">:</a> <a id="21566" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="21568" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
    <a id="21583" href="Ledger.Dijkstra.Specification.Transaction.html#21550" class="Function">requiredCreds</a> <a id="21597" class="Symbol">=</a> <a id="21599" href="Ledger.Dijkstra.Specification.Transaction.html#21381" class="Function">concatMapˡ</a> <a id="21610" href="Ledger.Dijkstra.Specification.Transaction.html#20967" class="Function">subTxGuardCredentials</a> <a id="21632" href="Ledger.Dijkstra.Specification.Transaction.html#21299" class="Bound">subTxs</a>

</pre></body></html>