<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Foreign.HSLedger.BaseTypes</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html" class="Module">Ledger.Conway.Foreign.HSLedger.BaseTypes</a> <a id="49" class="Keyword">where</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Data.Rational.html" class="Module">Data.Rational</a>

<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="Module">Ledger.Conway.Types.Numeric.UnitInterval</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Ledger.Conway.Types.Numeric.PositiveNat.html" class="Module">Ledger.Conway.Types.Numeric.PositiveNat</a>
<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="Ledger.Conway.Foreign.ExternalFunctions.html" class="Module">Ledger.Conway.Foreign.ExternalFunctions</a>
<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="Ledger.Conway.Foreign.HSLedger.Core.html" class="Module">Ledger.Conway.Foreign.HSLedger.Core</a> <a id="288" class="Keyword">public</a>
<a id="295" class="Keyword">import</a> <a id="302" href="Ledger.Conway.Foreign.HSTypes.html" class="Module">Ledger.Conway.Foreign.HSTypes</a> <a id="332" class="Symbol">as</a> <a id="335" class="Module">F</a>

<a id="338" class="Keyword">instance</a>
  <a id="iConvTop"></a><a id="349" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#349" class="Function">iConvTop</a>    <a id="361" class="Symbol">=</a> <a id="363" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="380" class="Symbol">{</a><a id="381" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="382" class="Symbol">}</a>
  <a id="iConvNat"></a><a id="386" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#386" class="Function">iConvNat</a>    <a id="398" class="Symbol">=</a> <a id="400" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="417" class="Symbol">{</a><a id="418" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="419" class="Symbol">}</a>
  <a id="iConvString"></a><a id="423" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#423" class="Function">iConvString</a> <a id="435" class="Symbol">=</a> <a id="437" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="454" class="Symbol">{</a><a id="455" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="461" class="Symbol">}</a>
  <a id="iConvBool"></a><a id="465" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#465" class="Function">iConvBool</a>   <a id="477" class="Symbol">=</a> <a id="479" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="496" class="Symbol">{</a><a id="497" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="501" class="Symbol">}</a>

<a id="504" class="Keyword">instance</a>

  <a id="516" class="Comment">-- * Unit and empty</a>

  <a id="HsTy-⊥"></a><a id="539" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#539" class="Function">HsTy-⊥</a> <a id="546" class="Symbol">=</a> <a id="548" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="557" href="Data.Empty.html#914" class="Function">⊥</a> <a id="559" href="Ledger.Conway.Foreign.HSTypes.html#453" class="Datatype">F.Empty</a>
  <a id="Conv-⊥"></a><a id="569" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#569" class="Function">Conv-⊥</a> <a id="576" class="Symbol">=</a> <a id="578" href="Foreign.Convertible.Deriving.html#6819" class="Macro">autoConvert</a> <a id="590" href="Data.Empty.html#914" class="Function">⊥</a>

  <a id="HsTy-⊤"></a><a id="595" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#595" class="Function">HsTy-⊤</a> <a id="602" class="Symbol">=</a> <a id="604" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="613" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="615" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="620" class="Comment">-- * Rational numbers</a>

  <a id="HsTy-Rational"></a><a id="645" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#645" class="Function">HsTy-Rational</a> <a id="659" class="Symbol">=</a> <a id="661" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="670" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="672" href="Ledger.Conway.Foreign.HSTypes.html#534" class="Datatype">F.Rational</a>
  <a id="Conv-Rational"></a><a id="685" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#685" class="Function">Conv-Rational</a> <a id="699" class="Symbol">:</a> <a id="701" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="715" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="719" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#685" class="Function">Conv-Rational</a> <a id="733" class="Symbol">=</a> <a id="735" class="Symbol">λ</a> <a id="737" class="Keyword">where</a>
    <a id="747" class="Symbol">.</a><a id="748" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="751" class="Symbol">(</a><a id="752" href="Data.Rational.Base.html#1625" class="InductiveConstructor">mkℚ</a> <a id="756" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#756" class="Bound">n</a> <a id="758" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#758" class="Bound">d</a> <a id="760" class="Symbol">_)</a>       <a id="769" class="Symbol">→</a> <a id="771" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#756" class="Bound">n</a> <a id="773" href="Ledger.Conway.Foreign.HSTypes.html#558" class="InductiveConstructor Operator">F.,</a> <a id="777" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="781" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#758" class="Bound">d</a>
    <a id="787" class="Symbol">.</a><a id="788" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="793" class="Symbol">(</a><a id="794" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#794" class="Bound">n</a> <a id="796" href="Ledger.Conway.Foreign.HSTypes.html#558" class="InductiveConstructor Operator">F.,</a> <a id="800" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="804" class="Symbol">)</a>    <a id="809" class="Symbol">→</a> <a id="811" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a> <a id="814" class="Comment">-- TODO is there a safer way to do this?</a>
    <a id="859" class="Symbol">.</a><a id="860" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="865" class="Symbol">(</a><a id="866" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#866" class="Bound">n</a> <a id="868" href="Ledger.Conway.Foreign.HSTypes.html#558" class="InductiveConstructor Operator">F.,</a> <a id="872" class="Symbol">(</a><a id="873" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="877" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#877" class="Bound">d</a><a id="878" class="Symbol">))</a> <a id="881" class="Symbol">→</a> <a id="883" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#866" class="Bound">n</a> <a id="885" href="Data.Rational.Base.html#3884" class="Function Operator">Data.Rational./</a> <a id="901" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="905" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#877" class="Bound">d</a>

  <a id="910" class="Comment">-- * Maps and Sets</a>

  <a id="HsTy-HSSet"></a><a id="932" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#932" class="Function">HsTy-HSSet</a> <a id="943" class="Symbol">:</a> <a id="945" class="Symbol">∀</a> <a id="947" class="Symbol">{</a><a id="948" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#948" class="Bound">A</a><a id="949" class="Symbol">}</a> <a id="951" class="Symbol">→</a> <a id="953" class="Symbol">⦃</a> <a id="955" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="965" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#948" class="Bound">A</a> <a id="967" class="Symbol">⦄</a> <a id="969" class="Symbol">→</a> <a id="971" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="981" class="Symbol">(</a><a id="982" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="984" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#948" class="Bound">A</a><a id="985" class="Symbol">)</a>
  <a id="989" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#932" class="Function">HsTy-HSSet</a> <a id="1000" class="Symbol">{</a><a id="1001" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1001" class="Bound">A</a><a id="1002" class="Symbol">}</a> <a id="1004" class="Symbol">=</a> <a id="1006" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1015" class="Symbol">_</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Ledger.Conway.Foreign.HSTypes.html#908" class="Record">F.HSSet</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1034" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1001" class="Bound">A</a><a id="1035" class="Symbol">))</a>

  <a id="Conv-HSSet"></a><a id="1041" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1041" class="Function">Conv-HSSet</a> <a id="1052" class="Symbol">:</a> <a id="1054" class="Symbol">∀</a> <a id="1056" class="Symbol">{</a><a id="1057" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1057" class="Bound">A</a><a id="1058" class="Symbol">}</a> <a id="1060" class="Symbol">⦃</a> <a id="1062" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1062" class="Bound">_</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1076" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1057" class="Bound">A</a> <a id="1078" class="Symbol">⦄</a>
             <a id="1093" class="Symbol">→</a> <a id="1095" class="Symbol">⦃</a> <a id="1097" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1111" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1057" class="Bound">A</a> <a id="1113" class="Symbol">⦄</a>
             <a id="1128" class="Symbol">→</a> <a id="1130" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1144" class="Symbol">(</a><a id="1145" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1147" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1057" class="Bound">A</a><a id="1148" class="Symbol">)</a>
  <a id="1152" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1041" class="Function">Conv-HSSet</a> <a id="1163" class="Symbol">=</a> <a id="1165" class="Symbol">λ</a> <a id="1167" class="Keyword">where</a>
    <a id="1177" class="Symbol">.</a><a id="1178" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1181" class="Symbol">→</a> <a id="1183" href="Ledger.Conway.Foreign.HSTypes.html#943" class="InductiveConstructor">F.MkHSSet</a> <a id="1193" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1195" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1198" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1200" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>
    <a id="1214" class="Symbol">.</a><a id="1215" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1220" class="Symbol">→</a> <a id="1222" href="Ledger.Conway.Foreign.HSLedger.Core.html#111" class="Function">fromListˢ</a> <a id="1232" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1234" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1239" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1241" href="Ledger.Conway.Foreign.HSTypes.html#959" class="Field">F.HSSet.elems</a>

  <a id="HsTy-Map"></a><a id="1258" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1258" class="Function">HsTy-Map</a> <a id="1267" class="Symbol">:</a> <a id="1269" class="Symbol">∀</a> <a id="1271" class="Symbol">{</a><a id="1272" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1272" class="Bound">A</a> <a id="1274" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1274" class="Bound">B</a><a id="1275" class="Symbol">}</a> <a id="1277" class="Symbol">→</a> <a id="1279" class="Symbol">⦃</a> <a id="1281" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1291" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1272" class="Bound">A</a> <a id="1293" class="Symbol">⦄</a> <a id="1295" class="Symbol">→</a> <a id="1297" class="Symbol">⦃</a> <a id="1299" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1309" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1274" class="Bound">B</a> <a id="1311" class="Symbol">⦄</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1325" class="Symbol">(</a><a id="1326" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1272" class="Bound">A</a> <a id="1328" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1330" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1274" class="Bound">B</a><a id="1331" class="Symbol">)</a>
  <a id="1335" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1258" class="Function">HsTy-Map</a> <a id="1344" class="Symbol">{</a><a id="1345" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1345" class="Bound">A</a><a id="1346" class="Symbol">}</a> <a id="1348" class="Symbol">{</a><a id="1349" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1349" class="Bound">B</a><a id="1350" class="Symbol">}</a> <a id="1352" class="Symbol">=</a> <a id="1354" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1363" class="Symbol">_</a> <a id="1365" class="Symbol">(</a><a id="1366" href="Ledger.Conway.Foreign.HSTypes.html#819" class="Record">F.HSMap</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1382" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1345" class="Bound">A</a><a id="1383" class="Symbol">)</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1393" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1349" class="Bound">B</a><a id="1394" class="Symbol">))</a>

  <a id="Conv-HSMap"></a><a id="1400" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1400" class="Function">Conv-HSMap</a> <a id="1411" class="Symbol">:</a> <a id="1413" class="Symbol">∀</a> <a id="1415" class="Symbol">{</a><a id="1416" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1416" class="Bound">A</a> <a id="1418" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1418" class="Bound">B</a><a id="1419" class="Symbol">}</a> <a id="1421" class="Symbol">⦃</a> <a id="1423" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1423" class="Bound">_</a> <a id="1425" class="Symbol">:</a> <a id="1427" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1437" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1416" class="Bound">A</a> <a id="1439" class="Symbol">⦄</a> <a id="1441" class="Symbol">⦃</a> <a id="1443" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1443" class="Bound">_</a> <a id="1445" class="Symbol">:</a> <a id="1447" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1457" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1418" class="Bound">B</a> <a id="1459" class="Symbol">⦄</a>
    <a id="1465" class="Symbol">→</a> <a id="1467" class="Symbol">⦃</a> <a id="1469" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1475" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1416" class="Bound">A</a> <a id="1477" class="Symbol">⦄</a>
    <a id="1483" class="Symbol">→</a> <a id="1485" class="Symbol">⦃</a> <a id="1487" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1501" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1416" class="Bound">A</a> <a id="1503" class="Symbol">⦄</a>
    <a id="1509" class="Symbol">→</a> <a id="1511" class="Symbol">⦃</a> <a id="1513" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1527" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1418" class="Bound">B</a> <a id="1529" class="Symbol">⦄</a>
    <a id="1535" class="Symbol">→</a> <a id="1537" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1551" class="Symbol">(</a><a id="1552" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1416" class="Bound">A</a> <a id="1554" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1556" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1418" class="Bound">B</a><a id="1557" class="Symbol">)</a>
  <a id="1561" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1400" class="Function">Conv-HSMap</a> <a id="1572" class="Symbol">=</a> <a id="1574" class="Symbol">λ</a> <a id="1576" class="Keyword">where</a>
    <a id="1586" class="Symbol">.</a><a id="1587" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1590" class="Symbol">→</a> <a id="1592" href="Ledger.Conway.Foreign.HSTypes.html#856" class="InductiveConstructor">F.MkHSMap</a> <a id="1602" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1604" href="Foreign.Convertible.html#149" class="Field">to</a>
    <a id="1611" class="Symbol">.</a><a id="1612" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1617" class="Symbol">→</a> <a id="1619" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1624" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1626" href="Ledger.Conway.Foreign.HSTypes.html#872" class="Field">F.HSMap.assocList</a>

  <a id="1647" class="Comment">-- * ComputationResult</a>

  <a id="HsTy-ComputationResult"></a><a id="1673" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1673" class="Function">HsTy-ComputationResult</a> <a id="1696" class="Symbol">:</a> <a id="1698" class="Symbol">∀</a> <a id="1700" class="Symbol">{</a><a id="1701" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1701" class="Bound">l</a><a id="1702" class="Symbol">}</a> <a id="1704" class="Symbol">{</a><a id="1705" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1705" class="Bound">Err</a><a id="1708" class="Symbol">}</a> <a id="1710" class="Symbol">{</a><a id="1711" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1711" class="Bound">A</a> <a id="1713" class="Symbol">:</a> <a id="1715" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1720" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1701" class="Bound">l</a><a id="1721" class="Symbol">}</a>
                           <a id="1750" class="Symbol">→</a> <a id="1752" class="Symbol">⦃</a> <a id="1754" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1764" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1705" class="Bound">Err</a> <a id="1768" class="Symbol">⦄</a> <a id="1770" class="Symbol">→</a> <a id="1772" class="Symbol">⦃</a> <a id="1774" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1784" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1711" class="Bound">A</a> <a id="1786" class="Symbol">⦄</a>
                           <a id="1815" class="Symbol">→</a> <a id="1817" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="1846" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1705" class="Bound">Err</a> <a id="1850" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1711" class="Bound">A</a><a id="1851" class="Symbol">)</a>
  <a id="1855" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1673" class="Function">HsTy-ComputationResult</a> <a id="1878" class="Symbol">{</a><a id="1879" class="Argument">Err</a> <a id="1883" class="Symbol">=</a> <a id="1885" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1885" class="Bound">Err</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1891" class="Bound">A</a><a id="1892" class="Symbol">}</a> <a id="1894" class="Symbol">=</a> <a id="1896" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1905" class="Symbol">_</a> <a id="1907" class="Symbol">(</a><a id="1908" href="Ledger.Conway.Foreign.HSTypes.html#1270" class="Datatype">F.ComputationResult</a> <a id="1928" class="Symbol">(</a><a id="1929" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1936" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1885" class="Bound">Err</a><a id="1939" class="Symbol">)</a> <a id="1941" class="Symbol">(</a><a id="1942" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1949" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1891" class="Bound">A</a><a id="1950" class="Symbol">))</a>

  <a id="Conv-ComputationResult"></a><a id="1956" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1956" class="Function">Conv-ComputationResult</a> <a id="1979" class="Symbol">:</a> <a id="1981" href="Foreign.Convertible.Deriving.html#6535" class="Macro">ConvertibleType</a> <a id="1997" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="2015" href="Ledger.Conway.Foreign.HSTypes.html#1270" class="Datatype">F.ComputationResult</a>
  <a id="2037" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1956" class="Function">Conv-ComputationResult</a> <a id="2060" class="Symbol">=</a> <a id="2062" href="Foreign.Convertible.Deriving.html#6704" class="Macro">autoConvertible</a>

<a id="2079" class="Keyword">open</a> <a id="2084" class="Keyword">import</a> <a id="2091" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html" class="Module">Ledger.Conway.Foreign.HSLedger.ExternalStructures</a> <a id="2141" href="Ledger.Conway.Foreign.ExternalFunctions.html#419" class="Function">dummyExternalFunctions</a>
  <a id="2166" class="Keyword">renaming</a>
    <a id="2179" class="Symbol">(</a> <a id="2181" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html#2875" class="Function">HSTransactionStructure</a> <a id="2204" class="Symbol">to</a> <a id="2207" class="Function">DummyTransactionStructure</a>
    <a id="2237" class="Symbol">;</a> <a id="2239" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html#3403" class="Function">HSAbstractFunctions</a> <a id="2259" class="Symbol">to</a> <a id="2262" class="Function">DummyAbstractFunctions</a>
    <a id="2289" class="Symbol">)</a>
  <a id="2293" class="Keyword">public</a>
<a id="2300" class="Keyword">open</a> <a id="2305" class="Keyword">import</a> <a id="2312" href="Ledger.Conway.Conformance.Certs.Properties.html" class="Module">Ledger.Conway.Conformance.Certs.Properties</a> <a id="2355" href="Ledger.Conway.Transaction.html#1868" class="Function">govStructure</a>

<a id="2369" class="Keyword">unquoteDecl</a> <a id="2381" class="Symbol">=</a> <a id="2383" class="Keyword">do</a>
  hsTypeAlias Coin
  hsTypeAlias ExUnits
  hsTypeAlias Epoch
  hsTypeAlias ScriptHash

<a id="2473" class="Keyword">instance</a>
  <a id="HsTy-UnitInterval"></a><a id="2484" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2484" class="Function">HsTy-UnitInterval</a> <a id="2502" class="Symbol">:</a> <a id="2504" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="2514" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1781" class="Function">UnitInterval</a>
  <a id="2529" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2484" class="Function">HsTy-UnitInterval</a> <a id="2547" class="Symbol">.</a><a id="2548" href="Foreign.HaskellTypes.html#579" class="Field">HasHsType.HsType</a> <a id="2565" class="Symbol">=</a> <a id="2567" href="Ledger.Conway.Foreign.HSTypes.html#534" class="Datatype">F.Rational</a>
    <a id="2582" class="Comment">-- I would like to use ℚ here, but F.Rational converts better.</a>

  <a id="Conv-UnitInterval"></a><a id="2648" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2648" class="Function">Conv-UnitInterval</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="2680" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1781" class="Function">UnitInterval</a> <a id="2693" href="Ledger.Conway.Foreign.HSTypes.html#534" class="Datatype">F.Rational</a>
  <a id="2706" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2648" class="Function">Conv-UnitInterval</a> <a id="2724" class="Symbol">.</a><a id="2725" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="2728" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2728" class="Bound">x</a> <a id="2730" class="Symbol">=</a> <a id="2732" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="2735" class="Symbol">(</a><a id="2736" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1993" class="Function">fromUnitInterval</a> <a id="2753" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2728" class="Bound">x</a><a id="2754" class="Symbol">)</a>
  <a id="2758" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2648" class="Function">Conv-UnitInterval</a> <a id="2776" class="Symbol">.</a><a id="2777" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="2782" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2782" class="Bound">x</a> <a id="2784" class="Symbol">=</a>
    <a id="2790" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2795" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2110" class="Function">toUnitInterval</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="2816" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2782" class="Bound">x</a><a id="2817" class="Symbol">)</a> <a id="2819" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2822" class="Symbol">λ</a> <a id="2824" class="Keyword">where</a>
      <a id="2836" class="Symbol">(</a><a id="2837" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2842" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2842" class="Bound">x</a><a id="2843" class="Symbol">)</a> <a id="2845" class="Symbol">→</a> <a id="2847" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2842" class="Bound">x</a>
      <a id="2855" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2863" class="Symbol">→</a> <a id="2865" href="Ledger.Conway.Foreign.Util.html#82" class="Postulate">error</a> <a id="2871" class="String">&quot;Formal Spec: rational outside of unit interval&quot;</a>

<a id="2921" class="Keyword">instance</a>
  <a id="HsTy-PosNat"></a><a id="2932" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2932" class="Function">HsTy-PosNat</a> <a id="2944" class="Symbol">:</a> <a id="2946" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="2956" href="Ledger.Conway.Types.Numeric.PositiveNat.html#378" class="Function">PosNat</a>
  <a id="2965" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2932" class="Function">HsTy-PosNat</a> <a id="2977" class="Symbol">.</a><a id="2978" href="Foreign.HaskellTypes.html#579" class="Field">HasHsType.HsType</a> <a id="2995" class="Symbol">=</a> <a id="2997" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="Conv-PosNat"></a><a id="3002" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3002" class="Function">Conv-PosNat</a> <a id="3014" class="Symbol">:</a> <a id="3016" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="3028" href="Ledger.Conway.Types.Numeric.PositiveNat.html#378" class="Function">PosNat</a> <a id="3035" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3039" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3002" class="Function">Conv-PosNat</a> <a id="3051" class="Symbol">.</a><a id="3052" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="3055" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3055" class="Bound">x</a> <a id="3057" class="Symbol">=</a> <a id="3059" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="3062" class="Symbol">(</a><a id="3063" href="Ledger.Conway.Types.Numeric.PositiveNat.html#499" class="Function">fromPosNat</a> <a id="3074" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3055" class="Bound">x</a><a id="3075" class="Symbol">)</a>
  <a id="3079" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3002" class="Function">Conv-PosNat</a> <a id="3091" class="Symbol">.</a><a id="3092" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="3097" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3097" class="Bound">x</a> <a id="3099" class="Symbol">=</a>
    <a id="3105" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3110" href="Ledger.Conway.Types.Numeric.PositiveNat.html#543" class="Function">toPosNat</a> <a id="3119" class="Symbol">(</a><a id="3120" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="3125" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3097" class="Bound">x</a><a id="3126" class="Symbol">)</a> <a id="3128" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3131" class="Symbol">λ</a> <a id="3133" class="Keyword">where</a>
      <a id="3145" class="Symbol">(</a><a id="3146" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3151" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3151" class="Bound">x</a><a id="3152" class="Symbol">)</a> <a id="3154" class="Symbol">→</a> <a id="3156" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3151" class="Bound">x</a>
      <a id="3164" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3172" class="Symbol">→</a> <a id="3174" href="Ledger.Conway.Foreign.Util.html#82" class="Postulate">error</a> <a id="3180" class="String">&quot;Formal Spec: natural number is zero (not nonZero)&quot;</a>
</pre></body></html>