<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Foreign.HSLedger.BaseTypes</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html" class="Module">Ledger.Conway.Foreign.HSLedger.BaseTypes</a> <a id="49" class="Keyword">where</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Data.Rational.html" class="Module">Data.Rational</a>

<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Ledger.Prelude.Numeric.UnitInterval.html" class="Module">Ledger.Prelude.Numeric.UnitInterval</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Ledger.Prelude.Numeric.PositiveNat.html" class="Module">Ledger.Prelude.Numeric.PositiveNat</a>
<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Ledger.Conway.Foreign.ExternalFunctions.html" class="Module">Ledger.Conway.Foreign.ExternalFunctions</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Ledger.Conway.Foreign.HSLedger.Core.html" class="Module">Ledger.Conway.Foreign.HSLedger.Core</a> <a id="278" class="Keyword">public</a>
<a id="285" class="Keyword">import</a> <a id="292" href="Ledger.Prelude.Foreign.HSTypes.html" class="Module">Ledger.Prelude.Foreign.HSTypes</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">F</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="381" class="Keyword">instance</a>
  <a id="iConvTop"></a><a id="392" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#392" class="Function">iConvTop</a>    <a id="404" class="Symbol">=</a> <a id="406" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="423" class="Symbol">{</a><a id="424" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="425" class="Symbol">}</a>
  <a id="iConvNat"></a><a id="429" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#429" class="Function">iConvNat</a>    <a id="441" class="Symbol">=</a> <a id="443" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="460" class="Symbol">{</a><a id="461" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="462" class="Symbol">}</a>
  <a id="iConvString"></a><a id="466" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#466" class="Function">iConvString</a> <a id="478" class="Symbol">=</a> <a id="480" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="497" class="Symbol">{</a><a id="498" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="504" class="Symbol">}</a>
  <a id="iConvBool"></a><a id="508" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#508" class="Function">iConvBool</a>   <a id="520" class="Symbol">=</a> <a id="522" href="Foreign.Convertible.html#308" class="Function">Convertible-Refl</a> <a id="539" class="Symbol">{</a><a id="540" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="544" class="Symbol">}</a>

<a id="547" class="Keyword">instance</a>

  <a id="559" class="Comment">-- * Unit and empty</a>

  <a id="HsTy-⊥"></a><a id="582" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#582" class="Function">HsTy-⊥</a> <a id="589" class="Symbol">=</a> <a id="591" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="600" href="Data.Empty.html#914" class="Function">⊥</a> <a id="602" href="stdlib.Foreign.Haskell.Empty.html#175" class="Datatype">F.Empty</a>
  <a id="Conv-⊥"></a><a id="612" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#612" class="Function">Conv-⊥</a> <a id="619" class="Symbol">=</a> <a id="621" href="Foreign.Convertible.Deriving.html#6814" class="Macro">autoConvert</a> <a id="633" href="Data.Empty.html#914" class="Function">⊥</a>

  <a id="HsTy-⊤"></a><a id="638" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#638" class="Function">HsTy-⊤</a> <a id="645" class="Symbol">=</a> <a id="647" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="656" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="658" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="663" class="Comment">-- * Rational numbers</a>

  <a id="HsTy-Rational"></a><a id="688" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#688" class="Function">HsTy-Rational</a> <a id="702" class="Symbol">=</a> <a id="704" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="713" href="Data.Rational.Base.html#1421" class="Record">ℚ</a> <a id="715" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">F.Rational</a>
  <a id="Conv-Rational"></a><a id="728" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#728" class="Function">Conv-Rational</a> <a id="742" class="Symbol">:</a> <a id="744" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="758" href="Data.Rational.Base.html#1421" class="Record">ℚ</a>
  <a id="762" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#728" class="Function">Conv-Rational</a> <a id="776" class="Symbol">=</a> <a id="778" class="Symbol">λ</a> <a id="780" class="Keyword">where</a>
    <a id="790" class="Symbol">.</a><a id="791" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="794" class="Symbol">(</a><a id="795" href="Data.Rational.Base.html#1704" class="InductiveConstructor">mkℚ</a> <a id="799" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#799" class="Bound">n</a> <a id="801" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#801" class="Bound">d</a> <a id="803" class="Symbol">_)</a>       <a id="812" class="Symbol">→</a> <a id="814" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#799" class="Bound">n</a> <a id="816" href="Ledger.Prelude.Foreign.HSTypes.html#459" class="InductiveConstructor Operator">F.,</a> <a id="820" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="824" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#801" class="Bound">d</a>
    <a id="830" class="Symbol">.</a><a id="831" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="836" class="Symbol">(</a><a id="837" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#837" class="Bound">n</a> <a id="839" href="Ledger.Prelude.Foreign.HSTypes.html#459" class="InductiveConstructor Operator">F.,</a> <a id="843" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="847" class="Symbol">)</a>    <a id="852" class="Symbol">→</a> <a id="854" href="Data.Rational.Base.html#4404" class="Function">0ℚ</a> <a id="857" class="Comment">-- TODO is there a safer way to do this?</a>
    <a id="902" class="Symbol">.</a><a id="903" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="908" class="Symbol">(</a><a id="909" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#909" class="Bound">n</a> <a id="911" href="Ledger.Prelude.Foreign.HSTypes.html#459" class="InductiveConstructor Operator">F.,</a> <a id="915" class="Symbol">(</a><a id="916" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="920" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#920" class="Bound">d</a><a id="921" class="Symbol">))</a> <a id="924" class="Symbol">→</a> <a id="926" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#909" class="Bound">n</a> <a id="928" href="Data.Rational.Base.html#3963" class="Function Operator">Data.Rational./</a> <a id="944" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="948" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#920" class="Bound">d</a>

  <a id="953" class="Comment">-- * Maps and Sets</a>

  <a id="HsTy-HSSet"></a><a id="975" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#975" class="Function">HsTy-HSSet</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">∀</a> <a id="990" class="Symbol">{</a><a id="991" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#991" class="Bound">A</a><a id="992" class="Symbol">}</a> <a id="994" class="Symbol">→</a> <a id="996" class="Symbol">⦃</a> <a id="998" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1008" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#991" class="Bound">A</a> <a id="1010" class="Symbol">⦄</a> <a id="1012" class="Symbol">→</a> <a id="1014" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1024" class="Symbol">(</a><a id="1025" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1027" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#991" class="Bound">A</a><a id="1028" class="Symbol">)</a>
  <a id="1032" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#975" class="Function">HsTy-HSSet</a> <a id="1043" class="Symbol">{</a><a id="1044" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1044" class="Bound">A</a><a id="1045" class="Symbol">}</a> <a id="1047" class="Symbol">=</a> <a id="1049" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1058" class="Symbol">_</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Ledger.Prelude.Foreign.HSTypes.html#809" class="Record">F.HSSet</a> <a id="1069" class="Symbol">(</a><a id="1070" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1077" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1044" class="Bound">A</a><a id="1078" class="Symbol">))</a>

  <a id="Conv-HSSet"></a><a id="1084" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1084" class="Function">Conv-HSSet</a> <a id="1095" class="Symbol">:</a> <a id="1097" class="Symbol">∀</a> <a id="1099" class="Symbol">{</a><a id="1100" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1100" class="Bound">A</a><a id="1101" class="Symbol">}</a> <a id="1103" class="Symbol">⦃</a> <a id="1105" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1105" class="Bound">_</a> <a id="1107" class="Symbol">:</a> <a id="1109" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1119" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1100" class="Bound">A</a> <a id="1121" class="Symbol">⦄</a>
             <a id="1136" class="Symbol">→</a> <a id="1138" class="Symbol">⦃</a> <a id="1140" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1154" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1100" class="Bound">A</a> <a id="1156" class="Symbol">⦄</a>
             <a id="1171" class="Symbol">→</a> <a id="1173" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1187" class="Symbol">(</a><a id="1188" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1190" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1100" class="Bound">A</a><a id="1191" class="Symbol">)</a>
  <a id="1195" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1084" class="Function">Conv-HSSet</a> <a id="1206" class="Symbol">=</a> <a id="1208" class="Symbol">λ</a> <a id="1210" class="Keyword">where</a>
    <a id="1220" class="Symbol">.</a><a id="1221" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Ledger.Prelude.Foreign.HSTypes.html#844" class="InductiveConstructor">F.MkHSSet</a> <a id="1236" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1238" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1241" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1243" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a>
    <a id="1257" class="Symbol">.</a><a id="1258" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1263" class="Symbol">→</a> <a id="1265" href="Ledger.Conway.Foreign.HSLedger.Core.html#111" class="Function">fromListˢ</a> <a id="1275" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1277" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1282" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1284" href="Ledger.Prelude.Foreign.HSTypes.html#860" class="Field">F.HSSet.elems</a>

  <a id="HsTy-Map"></a><a id="1301" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1301" class="Function">HsTy-Map</a> <a id="1310" class="Symbol">:</a> <a id="1312" class="Symbol">∀</a> <a id="1314" class="Symbol">{</a><a id="1315" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1315" class="Bound">A</a> <a id="1317" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1317" class="Bound">B</a><a id="1318" class="Symbol">}</a> <a id="1320" class="Symbol">→</a> <a id="1322" class="Symbol">⦃</a> <a id="1324" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1334" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1315" class="Bound">A</a> <a id="1336" class="Symbol">⦄</a> <a id="1338" class="Symbol">→</a> <a id="1340" class="Symbol">⦃</a> <a id="1342" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1352" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1317" class="Bound">B</a> <a id="1354" class="Symbol">⦄</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1368" class="Symbol">(</a><a id="1369" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1315" class="Bound">A</a> <a id="1371" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1373" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1317" class="Bound">B</a><a id="1374" class="Symbol">)</a>
  <a id="1378" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1301" class="Function">HsTy-Map</a> <a id="1387" class="Symbol">{</a><a id="1388" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1388" class="Bound">A</a><a id="1389" class="Symbol">}</a> <a id="1391" class="Symbol">{</a><a id="1392" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1392" class="Bound">B</a><a id="1393" class="Symbol">}</a> <a id="1395" class="Symbol">=</a> <a id="1397" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1406" class="Symbol">_</a> <a id="1408" class="Symbol">(</a><a id="1409" href="Ledger.Prelude.Foreign.HSTypes.html#720" class="Record">F.HSMap</a> <a id="1417" class="Symbol">(</a><a id="1418" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1425" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1388" class="Bound">A</a><a id="1426" class="Symbol">)</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1436" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1392" class="Bound">B</a><a id="1437" class="Symbol">))</a>

  <a id="Conv-HSMap"></a><a id="1443" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1443" class="Function">Conv-HSMap</a> <a id="1454" class="Symbol">:</a> <a id="1456" class="Symbol">∀</a> <a id="1458" class="Symbol">{</a><a id="1459" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1459" class="Bound">A</a> <a id="1461" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1461" class="Bound">B</a><a id="1462" class="Symbol">}</a> <a id="1464" class="Symbol">⦃</a> <a id="1466" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1466" class="Bound">_</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1480" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1459" class="Bound">A</a> <a id="1482" class="Symbol">⦄</a> <a id="1484" class="Symbol">⦃</a> <a id="1486" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1486" class="Bound">_</a> <a id="1488" class="Symbol">:</a> <a id="1490" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1500" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1461" class="Bound">B</a> <a id="1502" class="Symbol">⦄</a>
    <a id="1508" class="Symbol">→</a> <a id="1510" class="Symbol">⦃</a> <a id="1512" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1518" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1459" class="Bound">A</a> <a id="1520" class="Symbol">⦄</a>
    <a id="1526" class="Symbol">→</a> <a id="1528" class="Symbol">⦃</a> <a id="1530" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1544" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1459" class="Bound">A</a> <a id="1546" class="Symbol">⦄</a>
    <a id="1552" class="Symbol">→</a> <a id="1554" class="Symbol">⦃</a> <a id="1556" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1570" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1461" class="Bound">B</a> <a id="1572" class="Symbol">⦄</a>
    <a id="1578" class="Symbol">→</a> <a id="1580" href="Foreign.Convertible.html#214" class="Function">HsConvertible</a> <a id="1594" class="Symbol">(</a><a id="1595" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1459" class="Bound">A</a> <a id="1597" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1599" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1461" class="Bound">B</a><a id="1600" class="Symbol">)</a>
  <a id="1604" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1443" class="Function">Conv-HSMap</a> <a id="1615" class="Symbol">=</a> <a id="1617" class="Symbol">λ</a> <a id="1619" class="Keyword">where</a>
    <a id="1629" class="Symbol">.</a><a id="1630" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Ledger.Prelude.Foreign.HSTypes.html#757" class="InductiveConstructor">F.MkHSMap</a> <a id="1645" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1647" href="Foreign.Convertible.html#149" class="Field">to</a>
    <a id="1654" class="Symbol">.</a><a id="1655" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1660" class="Symbol">→</a> <a id="1662" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="1667" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1669" href="Ledger.Prelude.Foreign.HSTypes.html#773" class="Field">F.HSMap.assocList</a>

  <a id="1690" class="Comment">-- * ComputationResult</a>

  <a id="HsTy-ComputationResult"></a><a id="1716" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1716" class="Function">HsTy-ComputationResult</a> <a id="1739" class="Symbol">:</a> <a id="1741" class="Symbol">∀</a> <a id="1743" class="Symbol">{</a><a id="1744" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1744" class="Bound">l</a><a id="1745" class="Symbol">}</a> <a id="1747" class="Symbol">{</a><a id="1748" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1748" class="Bound">Err</a><a id="1751" class="Symbol">}</a> <a id="1753" class="Symbol">{</a><a id="1754" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1754" class="Bound">A</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1763" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1744" class="Bound">l</a><a id="1764" class="Symbol">}</a>
                           <a id="1793" class="Symbol">→</a> <a id="1795" class="Symbol">⦃</a> <a id="1797" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1807" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1748" class="Bound">Err</a> <a id="1811" class="Symbol">⦄</a> <a id="1813" class="Symbol">→</a> <a id="1815" class="Symbol">⦃</a> <a id="1817" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1827" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1754" class="Bound">A</a> <a id="1829" class="Symbol">⦄</a>
                           <a id="1858" class="Symbol">→</a> <a id="1860" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="1870" class="Symbol">(</a><a id="1871" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="1889" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1748" class="Bound">Err</a> <a id="1893" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1754" class="Bound">A</a><a id="1894" class="Symbol">)</a>
  <a id="1898" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1716" class="Function">HsTy-ComputationResult</a> <a id="1921" class="Symbol">{</a><a id="1922" class="Argument">Err</a> <a id="1926" class="Symbol">=</a> <a id="1928" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1928" class="Bound">Err</a><a id="1931" class="Symbol">}</a> <a id="1933" class="Symbol">{</a><a id="1934" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1934" class="Bound">A</a><a id="1935" class="Symbol">}</a> <a id="1937" class="Symbol">=</a> <a id="1939" href="Foreign.HaskellTypes.html#676" class="Function">MkHsType</a> <a id="1948" class="Symbol">_</a> <a id="1950" class="Symbol">(</a><a id="1951" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">F.ComputationResult</a> <a id="1971" class="Symbol">(</a><a id="1972" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1979" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1928" class="Bound">Err</a><a id="1982" class="Symbol">)</a> <a id="1984" class="Symbol">(</a><a id="1985" href="Foreign.HaskellTypes.html#593" class="Function">HsType</a> <a id="1992" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1934" class="Bound">A</a><a id="1993" class="Symbol">))</a>

  <a id="Conv-ComputationResult"></a><a id="1999" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1999" class="Function">Conv-ComputationResult</a> <a id="2022" class="Symbol">:</a> <a id="2024" href="Foreign.Convertible.Deriving.html#6530" class="Macro">ConvertibleType</a> <a id="2040" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2058" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">F.ComputationResult</a>
  <a id="2080" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#1999" class="Function">Conv-ComputationResult</a> <a id="2103" class="Symbol">=</a> <a id="2105" href="Foreign.Convertible.Deriving.html#6699" class="Macro">autoConvertible</a>

<a id="2122" class="Keyword">open</a> <a id="2127" class="Keyword">import</a> <a id="2134" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html" class="Module">Ledger.Conway.Foreign.HSLedger.ExternalStructures</a> <a id="2184" href="Ledger.Conway.Foreign.ExternalFunctions.html#419" class="Function">dummyExternalFunctions</a>
  <a id="2209" class="Keyword">renaming</a>
    <a id="2222" class="Symbol">(</a> <a id="2224" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html#2960" class="Function">HSTransactionStructure</a> <a id="2247" class="Symbol">to</a> <a id="2250" class="Function">DummyTransactionStructure</a>
    <a id="2280" class="Symbol">;</a> <a id="2282" href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html#3523" class="Function">HSAbstractFunctions</a> <a id="2302" class="Symbol">to</a> <a id="2305" class="Function">DummyAbstractFunctions</a>
    <a id="2332" class="Symbol">)</a>
  <a id="2336" class="Keyword">public</a>
<a id="2343" class="Keyword">open</a> <a id="2348" class="Keyword">import</a> <a id="2355" href="Ledger.Conway.Conformance.Certs.Properties.html" class="Module">Ledger.Conway.Conformance.Certs.Properties</a> <a id="2398" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>

<a id="2412" class="Keyword">unquoteDecl</a> <a id="2424" class="Symbol">=</a> <a id="2426" class="Keyword">do</a>
  hsTypeAlias Coin
  hsTypeAlias ExUnits
  hsTypeAlias Epoch
  hsTypeAlias ScriptHash

<a id="2516" class="Keyword">instance</a>
  <a id="HsTy-UnitInterval"></a><a id="2527" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2527" class="Function">HsTy-UnitInterval</a> <a id="2545" class="Symbol">:</a> <a id="2547" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="2557" href="Ledger.Prelude.Numeric.UnitInterval.html#1777" class="Function">UnitInterval</a>
  <a id="2572" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2527" class="Function">HsTy-UnitInterval</a> <a id="2590" class="Symbol">.</a><a id="2591" href="Foreign.HaskellTypes.html#579" class="Field">HasHsType.HsType</a> <a id="2608" class="Symbol">=</a> <a id="2610" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">F.Rational</a>
    <a id="2625" class="Comment">-- I would like to use ℚ here, but F.Rational converts better.</a>

  <a id="Conv-UnitInterval"></a><a id="2691" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2691" class="Function">Conv-UnitInterval</a> <a id="2709" class="Symbol">:</a> <a id="2711" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="2723" href="Ledger.Prelude.Numeric.UnitInterval.html#1777" class="Function">UnitInterval</a> <a id="2736" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">F.Rational</a>
  <a id="2749" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2691" class="Function">Conv-UnitInterval</a> <a id="2767" class="Symbol">.</a><a id="2768" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="2771" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2771" class="Bound">x</a> <a id="2773" class="Symbol">=</a> <a id="2775" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="2778" class="Symbol">(</a><a id="2779" href="Ledger.Prelude.Numeric.UnitInterval.html#1989" class="Function">fromUnitInterval</a> <a id="2796" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2771" class="Bound">x</a><a id="2797" class="Symbol">)</a>
  <a id="2801" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2691" class="Function">Conv-UnitInterval</a> <a id="2819" class="Symbol">.</a><a id="2820" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="2825" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2825" class="Bound">x</a> <a id="2827" class="Symbol">=</a>
    <a id="2833" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="2838" href="Ledger.Prelude.Numeric.UnitInterval.html#2106" class="Function">toUnitInterval</a> <a id="2853" class="Symbol">(</a><a id="2854" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="2859" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2825" class="Bound">x</a><a id="2860" class="Symbol">)</a> <a id="2862" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="2865" class="Symbol">λ</a> <a id="2867" class="Keyword">where</a>
      <a id="2879" class="Symbol">(</a><a id="2880" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2885" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2885" class="Bound">x</a><a id="2886" class="Symbol">)</a> <a id="2888" class="Symbol">→</a> <a id="2890" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2885" class="Bound">x</a>
      <a id="2898" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2906" class="Symbol">→</a> <a id="2908" href="Ledger.Prelude.Foreign.Util.html#83" class="Postulate">error</a> <a id="2914" class="String">&quot;Formal Spec: rational outside of unit interval&quot;</a>

<a id="2964" class="Keyword">instance</a>
  <a id="HsTy-PosNat"></a><a id="2975" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2975" class="Function">HsTy-PosNat</a> <a id="2987" class="Symbol">:</a> <a id="2989" href="Foreign.HaskellTypes.html#532" class="Record">HasHsType</a> <a id="2999" href="Ledger.Prelude.Numeric.PositiveNat.html#374" class="Function">PosNat</a>
  <a id="3008" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#2975" class="Function">HsTy-PosNat</a> <a id="3020" class="Symbol">.</a><a id="3021" href="Foreign.HaskellTypes.html#579" class="Field">HasHsType.HsType</a> <a id="3038" class="Symbol">=</a> <a id="3040" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="Conv-PosNat"></a><a id="3045" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3045" class="Function">Conv-PosNat</a> <a id="3057" class="Symbol">:</a> <a id="3059" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="3071" href="Ledger.Prelude.Numeric.PositiveNat.html#374" class="Function">PosNat</a> <a id="3078" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3082" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3045" class="Function">Conv-PosNat</a> <a id="3094" class="Symbol">.</a><a id="3095" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="3098" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3098" class="Bound">x</a> <a id="3100" class="Symbol">=</a> <a id="3102" href="Foreign.Convertible.html#149" class="Field">to</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Ledger.Prelude.Numeric.PositiveNat.html#495" class="Function">fromPosNat</a> <a id="3117" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3098" class="Bound">x</a><a id="3118" class="Symbol">)</a>
  <a id="3122" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3045" class="Function">Conv-PosNat</a> <a id="3134" class="Symbol">.</a><a id="3135" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="3140" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3140" class="Bound">x</a> <a id="3142" class="Symbol">=</a>
    <a id="3148" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3153" href="Ledger.Prelude.Numeric.PositiveNat.html#539" class="Function">toPosNat</a> <a id="3162" class="Symbol">(</a><a id="3163" href="Foreign.Convertible.html#170" class="Field">from</a> <a id="3168" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3140" class="Bound">x</a><a id="3169" class="Symbol">)</a> <a id="3171" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3174" class="Symbol">λ</a> <a id="3176" class="Keyword">where</a>
      <a id="3188" class="Symbol">(</a><a id="3189" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3194" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3194" class="Bound">x</a><a id="3195" class="Symbol">)</a> <a id="3197" class="Symbol">→</a> <a id="3199" href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html#3194" class="Bound">x</a>
      <a id="3207" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3215" class="Symbol">→</a> <a id="3217" href="Ledger.Prelude.Foreign.Util.html#83" class="Postulate">error</a> <a id="3223" class="String">&quot;Formal Spec: natural number is zero (not nonZero)&quot;</a>
</pre></body></html>