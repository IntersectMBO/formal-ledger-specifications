
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Formal ledger specification and documentation.">
      
      
        <meta name="author" content="Formal Methods Ledger Team">
      
      
        <link rel="canonical" href="https://intersectmbo.github.io/formal-ledger-specifications/Ledger.Conway.Utxo.html">
      
      
        <link rel="prev" href="Ledger.Conway.Types.Numeric.UnitInterval.html">
      
      
        <link rel="next" href="Ledger.Conway.Utxo.Properties.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Utxo - Formal Ledger Specification</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cambria:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Cambria";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
      <link rel="stylesheet" href="Agda.css">
    
      <link rel="stylesheet" href="css/custom.css">
    
      <link rel="stylesheet" href="css/Agda.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sec:utxo" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Formal Ledger Specification" class="md-header__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Formal Ledger Specification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utxo
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Formal Ledger Specification" class="md-nav__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Formal Ledger Specification
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Preliminaries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Preliminaries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Notation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prelude/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Prelude/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.Base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Conway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Abstract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5_2" id="__nav_4_4_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoVLemmas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoVLemmas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.VoteDelegsVDeleg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VoteDelegsVDeleg
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7" id="__nav_4_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7_2" id="__nav_4_4_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.CredDepsEqualDomRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CredDepsEqualDomRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.EpochStep.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EpochStep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.PParamsWellFormed.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParamsWellFormed
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Crypto.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crypto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11" id="__nav_4_4_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11_2" id="__nav_4_4_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.ConstRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConstRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.NoPropSameDReps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NoPropSameDReps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Fees.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_4_14" id="__nav_4_4_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_14">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16" id="__nav_4_4_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GovernanceActions/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16">
            <span class="md-nav__icon md-icon"></span>
            GovernanceActions/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16_2" id="__nav_4_4_16_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_16_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.ChangePPGroup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChangePPGroup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger.Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18" id="__nav_4_4_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger.Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18">
            <span class="md-nav__icon md-icon"></span>
            Ledger.Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18_2" id="__nav_4_4_18_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_18_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_22" >
        
          
          <label class="md-nav__link" for="__nav_4_4_22" id="__nav_4_4_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ratify/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_22">
            <span class="md-nav__icon md-icon"></span>
            Ratify/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Rewards.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rewards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.ScriptValidation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ScriptValidation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TokenAlgebra
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_27" >
        
          
          <label class="md-nav__link" for="__nav_4_4_27" id="__nav_4_4_27_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TokenAlgebra/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_27_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_27">
            <span class="md-nav__icon md-icon"></span>
            TokenAlgebra/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.Coin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueSet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueSet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueVector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueVector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29" id="__nav_4_4_29_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.GovStructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovStructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numeric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29_4" id="__nav_4_4_29_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Numeric/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_29_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29_4">
            <span class="md-nav__icon md-icon"></span>
            Numeric/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UnitInterval
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Ledger.Conway.Utxo.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#accounting" class="md-nav__link">
    <span class="md-ellipsis">
      Accounting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accounting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions-supporting-utxo-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Functions supporting UTxO rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxo-transition-system-types" class="md-nav__link">
    <span class="md-ellipsis">
      UTxO transition-system types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued_1" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued_2" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxos-rule" class="md-nav__link">
    <span class="md-ellipsis">
      UTXOS rule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxo-inference-rules" class="md-nav__link">
    <span class="md-ellipsis">
      UTXO inference rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31" id="__nav_4_4_31_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_31_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31_2" id="__nav_4_4_31_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_31_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.MinSpend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MinSpend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_33" >
        
          
          <label class="md-nav__link" for="__nav_4_4_33" id="__nav_4_4_33_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_33_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_33">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34" id="__nav_4_4_34_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Foreign Function Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34">
            <span class="md-nav__icon md-icon"></span>
            Foreign Function Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.ExternalFunctions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalFunctions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSLedger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3" id="__nav_4_4_34_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HSLedger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_34_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3">
            <span class="md-nav__icon md-icon"></span>
            HSLedger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Cert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalStructures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3_11" id="__nav_4_4_34_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_4_34_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3_11">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.NewEpoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewEpoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.Util.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Util
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35" id="__nav_4_4_35_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_35_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_2" id="__nav_4_4_35_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_2">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_4" id="__nav_4_4_35_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_4">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_6" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_6" id="__nav_4_4_35_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_6">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equivalence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_8" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_8" id="__nav_4_4_35_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Equivalence/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_8">
            <span class="md-nav__icon md-icon"></span>
            Equivalence/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bisimilarity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deposits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_11" id="__nav_4_4_35_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_11">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_15" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_15" id="__nav_4_4_35_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_15">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_17" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_17" id="__nav_4_4_35_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_17">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.ConwaySafe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConwaySafe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Interface.HasCoin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasCoin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PreConway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PreConway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            PreConway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1" id="__nav_4_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_2" id="__nav_4_8_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_4" id="__nav_4_8_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_3" >
        
          
          <label class="md-nav__link" for="__nav_4_8_3" id="__nav_4_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_3">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_5" >
        
          
          <label class="md-nav__link" for="__nav_4_8_5" id="__nav_4_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_5">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Foreign
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Foreign
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convertible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Convertible/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Convertible/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.DerivingTest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DerivingTest
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HaskellTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HaskellTypes/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            HaskellTypes/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ScriptVerification
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ScriptVerification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.HelloWorld.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HelloWorld
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.LedgerImplementation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LedgerImplementation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Lib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.StructuredContracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StructuredContracts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.SucceedIfNumber.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SucceedIfNumber
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EssentialAgda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EssentialAgda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agda Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type Classes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Type Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1" id="__nav_7_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.ComputationalRelation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ComputationalRelation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_3" id="__nav_7_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubset/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            HasSubset/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubtract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_5" id="__nav_7_3_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubtract/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            HasSubtract/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.Hashable.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hashable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.STS.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="MyDebugOptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MyDebugOptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="sec:utxo">UTxO<a class="headerlink" href="#sec:utxo" title="Permanent link">&para;</a></h1>
<p>, where we define types and functions needed for the UTxO transition
system.</p>
<h2 id="accounting">Accounting<a class="headerlink" href="#accounting" title="Permanent link">&para;</a></h2>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="158" class="Symbol">{-#</a> <a id="162" class="Keyword">OPTIONS</a> <a id="170" class="Pragma">--safe</a> <a id="177" class="Symbol">#-}</a>

<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Algebra.html" class="Module">Algebra</a>              <a id="215" class="Keyword">using</a> <a id="221" class="Symbol">(</a><a id="222" href="Algebra.Bundles.html#7886" class="Record">CommutativeMonoid</a><a id="239" class="Symbol">)</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>  <a id="274" class="Keyword">using</a> <a id="280" class="Symbol">(</a><a id="281" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="291" class="Symbol">)</a>
<a id="293" class="Keyword">import</a> <a id="300" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="311" class="Symbol">as</a> <a id="314" class="Module">M</a>
<a id="316" class="Keyword">import</a> <a id="323" href="Data.Sum.Relation.Unary.All.html" class="Module">Data.Sum.Relation.Unary.All</a> <a id="351" class="Symbol">as</a> <a id="354" class="Module">Sum</a>

<a id="359" class="Keyword">import</a> <a id="366" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">import</a> <a id="391" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="405" class="Symbol">as</a> <a id="408" class="Module">ℚ</a>


<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>

<a id="513" class="Keyword">module</a> <a id="520" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a>
  <a id="541" class="Symbol">(</a><a id="542" href="Ledger.Conway.Utxo.html#542" class="Bound">txs</a> <a id="546" class="Symbol">:</a> <a id="548" class="Symbol">_)</a> <a id="551" class="Symbol">(</a><a id="552" class="Keyword">open</a> <a id="557" href="Ledger.Conway.Transaction.html#2422" class="Module">TransactionStructure</a> <a id="578" href="Ledger.Conway.Utxo.html#542" class="Bound">txs</a><a id="581" class="Symbol">)</a>
  <a id="585" class="Symbol">(</a><a id="586" href="Ledger.Conway.Utxo.html#586" class="Bound">abs</a> <a id="590" class="Symbol">:</a> <a id="592" href="Ledger.Conway.Abstract.html#607" class="Record">AbstractFunctions</a> <a id="610" href="Ledger.Conway.Utxo.html#542" class="Bound">txs</a><a id="613" class="Symbol">)</a> <a id="615" class="Symbol">(</a><a id="616" class="Keyword">open</a> <a id="621" href="Ledger.Conway.Abstract.html#607" class="Module">AbstractFunctions</a> <a id="639" href="Ledger.Conway.Utxo.html#586" class="Bound">abs</a><a id="642" class="Symbol">)</a>
  <a id="646" class="Keyword">where</a>

<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Ledger.Conway.ScriptValidation.html" class="Module">Ledger.Conway.ScriptValidation</a> <a id="696" href="Ledger.Conway.Utxo.html#542" class="Bound">txs</a> <a id="700" href="Ledger.Conway.Utxo.html#586" class="Bound">abs</a>
<a id="704" class="Keyword">open</a> <a id="709" class="Keyword">import</a> <a id="716" href="Ledger.Conway.Fees.html" class="Module">Ledger.Conway.Fees</a> <a id="735" href="Ledger.Conway.Utxo.html#542" class="Bound">txs</a> <a id="739" class="Keyword">using</a> <a id="745" class="Symbol">(</a><a id="746" href="Ledger.Conway.Fees.html#2014" class="Function">scriptsCost</a><a id="757" class="Symbol">)</a>
<a id="759" class="Keyword">open</a> <a id="764" class="Keyword">import</a> <a id="771" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="791" href="Ledger.Conway.Transaction.html#3486" class="Function">govStructure</a>

<a id="805" class="Keyword">instance</a>
  <a id="816" href="Ledger.Conway.Utxo.html#816" class="Function">_</a> <a id="818" class="Symbol">=</a> <a id="820" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
</pre>
</div>

<h3 id="functions-supporting-utxo-rules">Functions supporting UTxO rules<a class="headerlink" href="#functions-supporting-utxo-rules" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="isTwoPhaseScriptAddress"></a><a id="894" href="Ledger.Conway.Utxo.html#894" class="Function">isTwoPhaseScriptAddress</a> <a id="918" class="Symbol">:</a> <a id="920" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="923" class="Symbol">→</a> <a id="925" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="930" class="Symbol">→</a> <a id="932" href="Ledger.Conway.Address.html#3370" class="Function">Addr</a> <a id="937" class="Symbol">→</a> <a id="939" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="944" href="Ledger.Conway.Utxo.html#894" class="Function">isTwoPhaseScriptAddress</a> <a id="968" href="Ledger.Conway.Utxo.html#968" class="Bound">tx</a> <a id="971" href="Ledger.Conway.Utxo.html#971" class="Bound">utxo</a> <a id="976" href="Ledger.Conway.Utxo.html#976" class="Bound">a</a> <a id="978" class="Symbol">=</a>
  <a id="982" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="985" href="Ledger.Conway.Address.html#3687" class="Function">isScriptAddr</a> <a id="998" href="Ledger.Conway.Utxo.html#976" class="Bound">a</a> <a id="1000" href="Class.ToBool.html#389" class="Function Operator">then</a>
    <a id="1009" class="Symbol">(λ</a> <a id="1012" class="Symbol">{</a><a id="1013" href="Ledger.Conway.Utxo.html#1013" class="Bound">p</a><a id="1014" class="Symbol">}</a> <a id="1016" class="Symbol">→</a> <a id="1018" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="1021" href="Ledger.Conway.Transaction.html#7843" class="Function">lookupScriptHash</a> <a id="1038" class="Symbol">(</a><a id="1039" href="Ledger.Conway.Address.html#4853" class="Function">getScriptHash</a> <a id="1053" href="Ledger.Conway.Utxo.html#976" class="Bound">a</a> <a id="1055" href="Ledger.Conway.Utxo.html#1013" class="Bound">p</a><a id="1056" class="Symbol">)</a> <a id="1058" href="Ledger.Conway.Utxo.html#968" class="Bound">tx</a> <a id="1061" href="Ledger.Conway.Utxo.html#971" class="Bound">utxo</a>
                 <a id="1083" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="1088" class="Symbol">(λ</a> <a id="1091" class="Symbol">{</a><a id="1092" href="Ledger.Conway.Utxo.html#1092" class="Bound">s</a><a id="1093" class="Symbol">}</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Ledger.Conway.Script.Base.html#3016" class="Function">isP2Script</a> <a id="1108" href="Ledger.Conway.Utxo.html#1092" class="Bound">s</a><a id="1109" class="Symbol">)</a>
                 <a id="1128" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="1133" href="Data.Empty.html#914" class="Function">⊥</a><a id="1134" class="Symbol">)</a>
  <a id="1138" href="Class.ToBool.html#389" class="Function Operator">else</a>
    <a id="1147" href="Data.Empty.html#914" class="Function">⊥</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="isTwoPhaseScriptAddress?"></a><a id="1198" href="Ledger.Conway.Utxo.html#1198" class="Function">isTwoPhaseScriptAddress?</a> <a id="1223" class="Symbol">:</a> <a id="1225" class="Symbol">∀</a> <a id="1227" class="Symbol">{</a><a id="1228" href="Ledger.Conway.Utxo.html#1228" class="Bound">tx</a> <a id="1231" href="Ledger.Conway.Utxo.html#1231" class="Bound">utxo</a> <a id="1236" href="Ledger.Conway.Utxo.html#1236" class="Bound">a</a><a id="1237" class="Symbol">}</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Ledger.Conway.Utxo.html#894" class="Function">isTwoPhaseScriptAddress</a> <a id="1265" href="Ledger.Conway.Utxo.html#1228" class="Bound">tx</a> <a id="1268" href="Ledger.Conway.Utxo.html#1231" class="Bound">utxo</a> <a id="1273" href="Ledger.Conway.Utxo.html#1236" class="Bound">a</a> <a id="1275" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
<a id="1277" href="Ledger.Conway.Utxo.html#1198" class="Function">isTwoPhaseScriptAddress?</a> <a id="1302" class="Symbol">{</a><a id="1303" href="Ledger.Conway.Utxo.html#1303" class="Bound">tx</a><a id="1305" class="Symbol">}</a> <a id="1307" class="Symbol">{</a><a id="1308" href="Ledger.Conway.Utxo.html#1308" class="Bound">utxo</a><a id="1312" class="Symbol">}</a> <a id="1314" class="Symbol">{</a><a id="1315" href="Ledger.Conway.Utxo.html#1315" class="Bound">a</a><a id="1316" class="Symbol">}</a> <a id="1318" class="Symbol">.</a><a id="1319" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="1325" class="Keyword">with</a> <a id="1330" href="Class.ToBool.html#321" class="Field">decide</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Ledger.Conway.Address.html#3687" class="Function">isScriptAddr</a> <a id="1351" href="Ledger.Conway.Utxo.html#1315" class="Bound">a</a><a id="1352" class="Symbol">)</a>
<a id="1354" class="Symbol">...</a> <a id="1358" class="Symbol">|</a> <a id="1360" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1365" class="Symbol">_</a> <a id="1367" class="Symbol">=</a> <a id="1369" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1372" class="Symbol">λ</a> <a id="1374" class="Symbol">()</a>
<a id="1377" class="Symbol">...</a> <a id="1381" class="Symbol">|</a> <a id="1383" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1388" href="Ledger.Conway.Utxo.html#1388" class="Bound">p</a>
  <a id="1392" class="Keyword">with</a> <a id="1397" href="Class.ToBool.html#321" class="Field">decide</a> <a id="1404" class="Symbol">(</a><a id="1405" href="Ledger.Conway.Transaction.html#7843" class="Function">lookupScriptHash</a> <a id="1422" class="Symbol">(</a><a id="1423" href="Ledger.Conway.Address.html#4853" class="Function">getScriptHash</a> <a id="1437" class="Bound">a</a> <a id="1439" href="Ledger.Conway.Utxo.html#1388" class="Bound">p</a><a id="1440" class="Symbol">)</a> <a id="1442" class="Bound">tx</a> <a id="1445" class="Bound">utxo</a><a id="1449" class="Symbol">)</a>
<a id="1451" class="Symbol">...</a> <a id="1455" class="Symbol">|</a> <a id="1457" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1462" class="Symbol">_</a> <a id="1464" class="Symbol">=</a> <a id="1466" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1469" class="Symbol">λ</a> <a id="1471" class="Symbol">()</a>
<a id="1474" class="Symbol">...</a> <a id="1478" class="Symbol">|</a> <a id="1480" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1485" href="Ledger.Conway.Utxo.html#1485" class="Bound">s</a> <a id="1487" class="Symbol">=</a> <a id="1489" href="Ledger.Conway.Script.Base.html#3082" class="Function">isP2Script?</a> <a id="1501" class="Symbol">{</a><a id="1502" href="Ledger.Conway.Utxo.html#1485" class="Bound">s</a><a id="1503" class="Symbol">}</a> <a id="1505" class="Symbol">.</a><a id="1506" href="Class.Decidable.Core.html#264" class="Field">dec</a>

<a id="1511" class="Keyword">record</a> <a id="isTwoPhaseScriptAddress′"></a><a id="1518" href="Ledger.Conway.Utxo.html#1518" class="Record">isTwoPhaseScriptAddress′</a> <a id="1543" class="Symbol">(</a><a id="1544" href="Ledger.Conway.Utxo.html#1544" class="Bound">tx</a> <a id="1547" class="Symbol">:</a> <a id="1549" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a><a id="1551" class="Symbol">)</a> <a id="1553" class="Symbol">(</a><a id="1554" href="Ledger.Conway.Utxo.html#1554" class="Bound">utxo</a> <a id="1559" class="Symbol">:</a> <a id="1561" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a><a id="1565" class="Symbol">)</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Ledger.Conway.Utxo.html#1568" class="Bound">a</a> <a id="1570" class="Symbol">:</a> <a id="1572" href="Ledger.Conway.Address.html#3370" class="Function">Addr</a><a id="1576" class="Symbol">)</a> <a id="1578" class="Symbol">:</a> <a id="1580" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1585" class="Keyword">where</a>
  <a id="1593" class="Keyword">constructor</a> <a id="wrap"></a><a id="1605" href="Ledger.Conway.Utxo.html#1605" class="InductiveConstructor">wrap</a>
  <a id="1612" class="Keyword">field</a> <a id="isTwoPhaseScriptAddress′.unwrap"></a><a id="1618" href="Ledger.Conway.Utxo.html#1618" class="Field">unwrap</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="Ledger.Conway.Utxo.html#894" class="Function">isTwoPhaseScriptAddress</a> <a id="1651" href="Ledger.Conway.Utxo.html#1544" class="Bound">tx</a> <a id="1654" href="Ledger.Conway.Utxo.html#1554" class="Bound">utxo</a> <a id="1659" href="Ledger.Conway.Utxo.html#1568" class="Bound">a</a>

<a id="1662" class="Keyword">instance</a>
  <a id="isTwoPhaseScriptAddress′?"></a><a id="1673" href="Ledger.Conway.Utxo.html#1673" class="Function">isTwoPhaseScriptAddress′?</a> <a id="1699" class="Symbol">:</a> <a id="1701" class="Symbol">∀</a> <a id="1703" class="Symbol">{</a><a id="1704" href="Ledger.Conway.Utxo.html#1704" class="Bound">tx</a> <a id="1707" href="Ledger.Conway.Utxo.html#1707" class="Bound">utxo</a> <a id="1712" href="Ledger.Conway.Utxo.html#1712" class="Bound">a</a><a id="1713" class="Symbol">}</a> <a id="1715" class="Symbol">→</a> <a id="1717" href="Ledger.Conway.Utxo.html#1518" class="Record">isTwoPhaseScriptAddress′</a> <a id="1742" href="Ledger.Conway.Utxo.html#1704" class="Bound">tx</a> <a id="1745" href="Ledger.Conway.Utxo.html#1707" class="Bound">utxo</a> <a id="1750" href="Ledger.Conway.Utxo.html#1712" class="Bound">a</a> <a id="1752" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="1756" href="Ledger.Conway.Utxo.html#1673" class="Function">isTwoPhaseScriptAddress′?</a> <a id="1782" class="Symbol">{</a><a id="1783" href="Ledger.Conway.Utxo.html#1783" class="Bound">tx</a><a id="1785" class="Symbol">}</a> <a id="1787" class="Symbol">{</a><a id="1788" href="Ledger.Conway.Utxo.html#1788" class="Bound">utxo</a><a id="1792" class="Symbol">}</a> <a id="1794" class="Symbol">{</a><a id="1795" href="Ledger.Conway.Utxo.html#1795" class="Bound">a</a><a id="1796" class="Symbol">}</a> <a id="1798" class="Symbol">=</a> <a id="1800" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1802" class="Symbol">(</a><a id="1803" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">map′</a> <a id="1808" href="Ledger.Conway.Utxo.html#1605" class="InductiveConstructor">wrap</a> <a id="1813" href="Ledger.Conway.Utxo.html#1618" class="Field">unwrap</a> <a id="1820" class="Symbol">(</a><a id="1821" href="Ledger.Conway.Utxo.html#1198" class="Function">isTwoPhaseScriptAddress?</a> <a id="1846" class="Symbol">{</a><a id="1847" href="Ledger.Conway.Utxo.html#1783" class="Bound">tx</a><a id="1849" class="Symbol">}</a> <a id="1851" class="Symbol">{</a><a id="1852" href="Ledger.Conway.Utxo.html#1788" class="Bound">utxo</a><a id="1856" class="Symbol">}</a> <a id="1858" class="Symbol">{</a><a id="1859" href="Ledger.Conway.Utxo.html#1795" class="Bound">a</a><a id="1860" class="Symbol">}</a> <a id="1862" class="Symbol">.</a><a id="1863" href="Class.Decidable.Core.html#264" class="Field">dec</a><a id="1866" class="Symbol">))</a>
    <a id="1873" class="Keyword">where</a> <a id="1879" class="Keyword">open</a> <a id="1884" href="Ledger.Conway.Utxo.html#1518" class="Module">isTwoPhaseScriptAddress′</a>
</pre>
</div>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="1966" class="Keyword">opaque</a>
</pre>
</div>

<pre class="Agda">
  <a id="getDataHashes"></a><a id="1998" href="Ledger.Conway.Utxo.html#1998" class="Function">getDataHashes</a> <a id="2012" class="Symbol">:</a> <a id="2014" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2016" href="Ledger.Conway.Transaction.html#4048" class="Function">TxOut</a> <a id="2022" class="Symbol">→</a> <a id="2024" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2026" href="Ledger.Conway.Script.Base.html#1701" class="Function">DataHash</a>
  <a id="2037" href="Ledger.Conway.Utxo.html#1998" class="Function">getDataHashes</a> <a id="2051" href="Ledger.Conway.Utxo.html#2051" class="Bound">txo</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="2068" href="Data.Sum.html#870" class="Function">isInj₂</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2094" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2096" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2102" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2104" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2109" class="Symbol">)</a> <a id="2111" href="Ledger.Conway.Utxo.html#2051" class="Bound">txo</a><a id="2114" class="Symbol">)</a>

  <a id="getInputHashes"></a><a id="2119" href="Ledger.Conway.Utxo.html#2119" class="Function">getInputHashes</a> <a id="2134" class="Symbol">:</a> <a id="2136" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="2139" class="Symbol">→</a> <a id="2141" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="2146" class="Symbol">→</a> <a id="2148" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2150" href="Ledger.Conway.Script.Base.html#1701" class="Function">DataHash</a>
  <a id="2161" href="Ledger.Conway.Utxo.html#2119" class="Function">getInputHashes</a> <a id="2176" href="Ledger.Conway.Utxo.html#2176" class="Bound">tx</a> <a id="2179" href="Ledger.Conway.Utxo.html#2179" class="Bound">utxo</a> <a id="2184" class="Symbol">=</a> <a id="2186" href="Ledger.Conway.Utxo.html#1998" class="Function">getDataHashes</a>
    <a id="2204" class="Symbol">(</a><a id="2205" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="2213" class="Symbol">(λ</a> <a id="2216" class="Symbol">(</a><a id="2217" href="Ledger.Conway.Utxo.html#2217" class="Bound">a</a> <a id="2219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2221" class="Symbol">_</a> <a id="2223" class="Symbol">)</a> <a id="2225" class="Symbol">→</a> <a id="2227" href="Ledger.Conway.Utxo.html#1518" class="Record">isTwoPhaseScriptAddress′</a> <a id="2252" href="Ledger.Conway.Utxo.html#2176" class="Bound">tx</a> <a id="2255" href="Ledger.Conway.Utxo.html#2179" class="Bound">utxo</a> <a id="2260" href="Ledger.Conway.Utxo.html#2217" class="Bound">a</a><a id="2261" class="Symbol">)</a>
             <a id="2276" class="Symbol">(</a><a id="2277" href="Class.IsSet.html#959" class="Function">range</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Ledger.Conway.Utxo.html#2179" class="Bound">utxo</a> <a id="2289" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="2291" href="Ledger.Conway.Transaction.html#4529" class="Function">txins</a><a id="2296" class="Symbol">)))</a>
    <a id="2304" class="Keyword">where</a> <a id="2310" class="Keyword">open</a> <a id="2315" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a><a id="2317" class="Symbol">;</a> <a id="2319" class="Keyword">open</a> <a id="2324" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="2331" class="Symbol">(</a><a id="2332" href="Ledger.Conway.Utxo.html#2176" class="Bound">tx</a> <a id="2335" class="Symbol">.</a><a id="2336" href="Ledger.Conway.Transaction.html#6141" class="Field">body</a><a id="2340" class="Symbol">)</a>

<a id="totExUnits"></a><a id="2343" href="Ledger.Conway.Utxo.html#2343" class="Function">totExUnits</a> <a id="2354" class="Symbol">:</a> <a id="2356" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="2359" class="Symbol">→</a> <a id="2361" href="Ledger.Conway.Script.Base.html#996" class="Function">ExUnits</a>
<a id="2369" href="Ledger.Conway.Utxo.html#2343" class="Function">totExUnits</a> <a id="2380" href="Ledger.Conway.Utxo.html#2380" class="Bound">tx</a> <a id="2383" class="Symbol">=</a> <a id="2385" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="2388" href="Ledger.Conway.Utxo.html#2388" class="Bound">(_</a> <a id="2391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2393" href="Ledger.Conway.Utxo.html#2393" class="Bound">eu</a><a id="2395" href="Ledger.Conway.Utxo.html#2388" class="Bound">)</a> <a id="2397" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="2399" href="Ledger.Conway.Utxo.html#2380" class="Bound">tx</a> <a id="2402" class="Symbol">.</a><a id="2403" href="Ledger.Conway.Transaction.html#6165" class="Field">wits</a> <a id="2408" class="Symbol">.</a><a id="2409" href="Ledger.Conway.Transaction.html#5984" class="Field">txrdmrs</a> <a id="2417" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="2419" href="Ledger.Conway.Utxo.html#2393" class="Bound">eu</a>
  <a id="2424" class="Keyword">where</a> <a id="2430" class="Keyword">open</a> <a id="2435" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a><a id="2437" class="Symbol">;</a> <a id="2439" class="Keyword">open</a> <a id="2444" href="Ledger.Conway.Transaction.html#5855" class="Module">TxWitnesses</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="2505" class="Comment">-- utxoEntrySizeWithoutVal = 27 words (8 bytes)</a>
<a id="utxoEntrySizeWithoutVal"></a><a id="2553" href="Ledger.Conway.Utxo.html#2553" class="Function">utxoEntrySizeWithoutVal</a> <a id="2577" class="Symbol">:</a> <a id="2579" href="Ledger.Conway.TokenAlgebra.Base.html#630" class="Function">MemoryEstimate</a>
<a id="2594" href="Ledger.Conway.Utxo.html#2553" class="Function">utxoEntrySizeWithoutVal</a> <a id="2618" class="Symbol">=</a> <a id="2620" class="Number">8</a>

<a id="utxoEntrySize"></a><a id="2623" href="Ledger.Conway.Utxo.html#2623" class="Function">utxoEntrySize</a> <a id="2637" class="Symbol">:</a> <a id="2639" href="Ledger.Conway.Transaction.html#7002" class="Function">TxOutʰ</a> <a id="2646" class="Symbol">→</a> <a id="2648" href="Ledger.Conway.TokenAlgebra.Base.html#630" class="Function">MemoryEstimate</a>
<a id="2663" href="Ledger.Conway.Utxo.html#2623" class="Function">utxoEntrySize</a> <a id="2677" href="Ledger.Conway.Utxo.html#2677" class="Bound">o</a> <a id="2679" class="Symbol">=</a> <a id="2681" href="Ledger.Conway.Utxo.html#2553" class="Function">utxoEntrySizeWithoutVal</a> <a id="2705" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2707" href="Ledger.Conway.TokenAlgebra.Base.html#1284" class="Function">size</a> <a id="2712" class="Symbol">(</a><a id="2713" href="Ledger.Conway.Transaction.html#7162" class="Function">getValueʰ</a> <a id="2723" href="Ledger.Conway.Utxo.html#2677" class="Bound">o</a><a id="2724" class="Symbol">)</a>


<a id="2728" class="Keyword">open</a> <a id="2733" href="Ledger.Conway.PParams.html#2528" class="Module">PParams</a>
</pre>
</div>

<p>define functions needed for the UTxO transition system.</p>
<details class="note">
<summary>Conway specifics</summary>
<p>define types and functions needed for the UTxO transition system.</p>
</details>
<p><a href="Ledger.Conway.Utxo.html#utxo-transition-system-types">'UTxO transition-system types'</a> defines the types
needed for the UTxO transition system. The UTxO transition system is
given in <a href="Ledger.Conway.Utxo.html#utxo-inference-rules">'UTXO inference rules'</a>.</p>
<ul>
<li>
<p>The function <span class="arithmatex">\(\fun{outs}\)</span> creates the unspent outputs generated by a
  transaction. It maps the transaction id and output index to the
  output.</p>
</li>
<li>
<p>The <span class="arithmatex">\(\fun{balance}\)</span> function calculates sum total of all the coin in a
  given UTxO.</p>
</li>
</ul>
<p>The deposits have been reworked since the original Shelley design. We
now track the amount of every deposit individually. This fixes an issue
in the original design: An increase in deposit amounts would allow an
attacker to make lots of deposits before that change and refund them
after the change. The additional funds necessary would have been
provided by the treasury. Since changes to protocol parameters were (and
still are) known publicly and guaranteed before they are enacted, this
comes at zero risk for an attacker. This means the deposit amounts could
realistically never be increased. This issue is gone with the new
design. See also .</p>
<p>Similar to <code class="AgdaDatatype">ScriptPurpose</code>,
<code class="AgdaDatatype">DepositPurpose</code> carries the information what the deposit
is being made for. The deposits are stored in the <code class="AgdaField">deposits</code>
field of <code class="AgdaRecord">UTxOState</code> (the type <code class="AgdaDatatype">Deposits</code> is
defined in
<a href="Ledger.Conway.Certs.html#deposit-types">'Deposit types'</a>).
<code class="AgdaFunction">updateDeposits</code> is responsible for updating this map,
which is split into <code class="AgdaFunction">updateCertDeposits</code> and
<code class="AgdaFunction">updateProposalDeposits</code>, responsible for certificates
and proposals respectively. Both of these functions iterate over the
relevant fields of the transaction body and insert or remove deposits
depending on the information seen. Note that some deposits can only be
refunded at the epoch boundary and are not removed by these functions.</p>
<p>There are two equivalent ways to introduce this tracking of the
deposits. One option would be to populate the <code class="AgdaField">deposits</code>
field of <code class="AgdaRecord">UTxOState</code> with the correct keys and values that
can be extracted from the state of the previous era at the transition
into the Conway era. Alternatively, we can effectively treat the old
handling of deposits as an erratum in the Shelley specification, which
we fix by implementing the new deposits logic in older eras and then
replaying the chain. (The handling of deposits in the Shelley era is
discussed in .)</p>
<h3 id="utxo-transition-system-types">UTxO transition-system types<a class="headerlink" href="#utxo-transition-system-types" title="Permanent link">&para;</a></h3>
<p><em>UTxO environment</em> </p>
<pre class="Agda">
<a id="5500" class="Keyword">record</a> <a id="UTxOEnv"></a><a id="5507" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a> <a id="5515" class="Symbol">:</a> <a id="5517" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5522" class="Keyword">where</a>
  <a id="5530" class="Keyword">field</a>
    <a id="UTxOEnv.slot"></a><a id="5540" href="Ledger.Conway.Utxo.html#5540" class="Field">slot</a>      <a id="5550" class="Symbol">:</a> <a id="5552" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a>
    <a id="UTxOEnv.pparams"></a><a id="5561" href="Ledger.Conway.Utxo.html#5561" class="Field">pparams</a>   <a id="5571" class="Symbol">:</a> <a id="5573" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a>
    <a id="UTxOEnv.treasury"></a><a id="5585" href="Ledger.Conway.Utxo.html#5585" class="Field">treasury</a>  <a id="5595" class="Symbol">:</a> <a id="5597" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="5651" class="Keyword">instance</a>
  <a id="HasPParams-UTxOEnv"></a><a id="5662" href="Ledger.Conway.Utxo.html#5662" class="Function">HasPParams-UTxOEnv</a> <a id="5681" class="Symbol">:</a> <a id="5683" href="Ledger.Conway.PParams.html#4935" class="Record">HasPParams</a> <a id="5694" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a>
  <a id="5704" href="Ledger.Conway.Utxo.html#5662" class="Function">HasPParams-UTxOEnv</a> <a id="5723" class="Symbol">.</a><a id="5724" href="Ledger.Conway.PParams.html#4986" class="Field">PParamsOf</a> <a id="5734" class="Symbol">=</a> <a id="5736" href="Ledger.Conway.Utxo.html#5561" class="Field">UTxOEnv.pparams</a>

  <a id="HasgovActionDeposit-UTxOEnv"></a><a id="5755" href="Ledger.Conway.Utxo.html#5755" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="5783" class="Symbol">:</a> <a id="5785" href="Ledger.Conway.PParams.html#5046" class="Record">HasgovActionDeposit</a> <a id="5805" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a>
  <a id="5815" href="Ledger.Conway.Utxo.html#5755" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="5843" class="Symbol">.</a><a id="5844" href="Ledger.Conway.PParams.html#5106" class="Field">govActionDepositOf</a> <a id="5863" class="Symbol">=</a> <a id="5865" href="Ledger.Conway.PParams.html#5106" class="Field">govActionDepositOf</a> <a id="5884" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5886" href="Ledger.Conway.PParams.html#4986" class="Field">PParamsOf</a>
</pre>
</div>
<p><em>UTxO states</em> </p>
<pre class="Agda">
<a id="5933" class="Keyword">record</a> <a id="UTxOState"></a><a id="5940" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="5950" class="Symbol">:</a> <a id="5952" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5957" class="Keyword">where</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
  <a id="6014" class="Keyword">constructor</a> <a id="⟦_,_,_,_⟧ᵘ"></a><a id="6026" href="Ledger.Conway.Utxo.html#6026" class="InductiveConstructor Operator">⟦_,_,_,_⟧ᵘ</a>
</pre>
</div>

<pre class="Agda">
  <a id="6062" class="Keyword">field</a>
    <a id="UTxOState.utxo"></a><a id="6072" href="Ledger.Conway.Utxo.html#6072" class="Field">utxo</a>       <a id="6083" class="Symbol">:</a> <a id="6085" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a>
    <a id="UTxOState.fees"></a><a id="6094" href="Ledger.Conway.Utxo.html#6094" class="Field">fees</a>       <a id="6105" class="Symbol">:</a> <a id="6107" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
    <a id="UTxOState.deposits"></a><a id="6116" href="Ledger.Conway.Utxo.html#6116" class="Field">deposits</a>   <a id="6127" class="Symbol">:</a> <a id="6129" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
    <a id="UTxOState.donations"></a><a id="6142" href="Ledger.Conway.Utxo.html#6142" class="Field">donations</a>  <a id="6153" class="Symbol">:</a> <a id="6155" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6209" class="Keyword">record</a> <a id="HasUTxOState"></a><a id="6216" href="Ledger.Conway.Utxo.html#6216" class="Record">HasUTxOState</a> <a id="6229" class="Symbol">{</a><a id="6230" href="Ledger.Conway.Utxo.html#6230" class="Bound">a</a><a id="6231" class="Symbol">}</a> <a id="6233" class="Symbol">(</a><a id="6234" href="Ledger.Conway.Utxo.html#6234" class="Bound">A</a> <a id="6236" class="Symbol">:</a> <a id="6238" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6243" href="Ledger.Conway.Utxo.html#6230" class="Bound">a</a><a id="6244" class="Symbol">)</a> <a id="6246" class="Symbol">:</a> <a id="6248" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6253" href="Ledger.Conway.Utxo.html#6230" class="Bound">a</a> <a id="6255" class="Keyword">where</a>
  <a id="6263" class="Keyword">field</a> <a id="HasUTxOState.UTxOStateOf"></a><a id="6269" href="Ledger.Conway.Utxo.html#6269" class="Field">UTxOStateOf</a> <a id="6281" class="Symbol">:</a> <a id="6283" href="Ledger.Conway.Utxo.html#6234" class="Bound">A</a> <a id="6285" class="Symbol">→</a> <a id="6287" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a>
<a id="6297" class="Keyword">open</a> <a id="6302" href="Ledger.Conway.Utxo.html#6216" class="Module">HasUTxOState</a> <a id="6315" class="Symbol">⦃...⦄</a> <a id="6321" class="Keyword">public</a>

<a id="6329" class="Keyword">instance</a>
  <a id="HasDeposits-UTxOState"></a><a id="6340" href="Ledger.Conway.Utxo.html#6340" class="Function">HasDeposits-UTxOState</a> <a id="6362" class="Symbol">:</a> <a id="6364" href="Ledger.Conway.Certs.html#861" class="Record">HasDeposits</a> <a id="6376" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a>
  <a id="6388" href="Ledger.Conway.Utxo.html#6340" class="Function">HasDeposits-UTxOState</a> <a id="6410" class="Symbol">.</a><a id="6411" href="Ledger.Conway.Certs.html#913" class="Field">DepositsOf</a> <a id="6422" class="Symbol">=</a> <a id="6424" href="Ledger.Conway.Utxo.html#6116" class="Field">UTxOState.deposits</a>

  <a id="HasUTxO-UTxOState"></a><a id="6446" href="Ledger.Conway.Utxo.html#6446" class="Function">HasUTxO-UTxOState</a> <a id="6464" class="Symbol">:</a> <a id="6466" href="Ledger.Conway.Transaction.html#4345" class="Record">HasUTxO</a> <a id="6474" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a>
  <a id="6486" href="Ledger.Conway.Utxo.html#6446" class="Function">HasUTxO-UTxOState</a> <a id="6504" class="Symbol">.</a><a id="6505" href="Ledger.Conway.Transaction.html#4395" class="Field">UTxOOf</a> <a id="6512" class="Symbol">=</a> <a id="6514" href="Ledger.Conway.Utxo.html#6072" class="Field">UTxOState.utxo</a>

  <a id="6532" class="Keyword">unquoteDecl</a> <a id="HasCast-UTxOEnv"></a><a id="6544" href="Ledger.Conway.Utxo.html#6544" class="Function">HasCast-UTxOEnv</a> <a id="HasCast-UTxOState"></a><a id="6560" href="Ledger.Conway.Utxo.html#6560" class="Function">HasCast-UTxOState</a> <a id="6578" class="Symbol">=</a> <a id="6580" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="6599" class="Symbol">(</a> <a id="6601" class="Symbol">(</a><a id="6602" class="Keyword">quote</a> <a id="6608" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a>   <a id="6618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6620" href="Ledger.Conway.Utxo.html#6544" class="Function">HasCast-UTxOEnv</a>  <a id="6637" class="Symbol">)</a> <a id="6639" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>
    <a id="6645" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6647" class="Symbol">(</a><a id="6648" class="Keyword">quote</a> <a id="6654" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="6664" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6666" href="Ledger.Conway.Utxo.html#6560" class="Function">HasCast-UTxOState</a><a id="6683" class="Symbol">)</a> <a id="6685" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="6686" class="Symbol">)</a>
</pre>
</div>
<p><em>UTxO transitions</em></p>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6765" class="Keyword">data</a>
</pre>
</div>

<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXO⦈_"></a><a id="6795" href="Ledger.Conway.Utxo.html#6795" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="6809" class="Symbol">:</a> <a id="6811" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a> <a id="6819" class="Symbol">→</a> <a id="6821" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="6831" class="Symbol">→</a> <a id="6833" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="6836" class="Symbol">→</a> <a id="6838" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="6848" class="Symbol">→</a> <a id="6850" href="Agda.Primitive.html#388" class="Primitive">Type</a>
</pre>

<h3 id="functions-used-in-utxo-rules">Functions used in UTxO rules<a class="headerlink" href="#functions-used-in-utxo-rules" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6940" class="Keyword">module</a> <a id="6947" href="Ledger.Conway.Utxo.html#6947" class="Module">_</a> <a id="6949" class="Symbol">(</a><a id="6950" class="Keyword">let</a> <a id="6954" class="Keyword">open</a> <a id="6959" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a><a id="6961" class="Symbol">;</a> <a id="6963" class="Keyword">open</a> <a id="6968" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a><a id="6974" class="Symbol">;</a> <a id="6976" class="Keyword">open</a> <a id="6981" href="Ledger.Conway.Transaction.html#5855" class="Module">TxWitnesses</a><a id="6992" class="Symbol">)</a> <a id="6994" class="Keyword">where</a> <a id="7000" class="Keyword">opaque</a>
</pre>
</div>

<pre class="Agda">
  <a id="7032" href="Ledger.Conway.Utxo.html#7032" class="Function">outs</a> <a id="7037" class="Symbol">:</a> <a id="7039" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="7046" class="Symbol">→</a> <a id="7048" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a>
  <a id="7055" href="Ledger.Conway.Utxo.html#7032" class="Function">outs</a> <a id="7060" href="Ledger.Conway.Utxo.html#7060" class="Bound">tx</a> <a id="7063" class="Symbol">=</a> <a id="7065" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="7073" class="Symbol">(</a><a id="7074" href="Ledger.Conway.Utxo.html#7060" class="Bound">tx</a> <a id="7077" class="Symbol">.</a><a id="7078" href="Ledger.Conway.Transaction.html#5061" class="Field">txid</a> <a id="7083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="7085" class="Symbol">)</a> <a id="7087" class="Symbol">(</a><a id="7088" href="Ledger.Conway.Utxo.html#7060" class="Bound">tx</a> <a id="7091" class="Symbol">.</a><a id="7092" href="Ledger.Conway.Transaction.html#4589" class="Field">txouts</a><a id="7098" class="Symbol">)</a>

  <a id="7103" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a> <a id="7111" class="Symbol">:</a> <a id="7113" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="7118" class="Symbol">→</a> <a id="7120" href="Ledger.Conway.TokenAlgebra.Base.html#756" class="Function">Value</a>
  <a id="7128" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a> <a id="7136" href="Ledger.Conway.Utxo.html#7136" class="Bound">utxo</a> <a id="7141" class="Symbol">=</a> <a id="7143" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7146" href="Ledger.Conway.Utxo.html#7146" class="Bound">x</a> <a id="7148" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7150" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7160" href="Ledger.Conway.Transaction.html#7073" class="Function">txOutHash</a> <a id="7170" href="Ledger.Conway.Utxo.html#7136" class="Bound">utxo</a> <a id="7175" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7177" href="Ledger.Conway.Transaction.html#7162" class="Function">getValueʰ</a> <a id="7187" href="Ledger.Conway.Utxo.html#7146" class="Bound">x</a>

  <a id="7192" href="Ledger.Conway.Utxo.html#7192" class="Function">cbalance</a> <a id="7201" class="Symbol">:</a> <a id="7203" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="7208" class="Symbol">→</a> <a id="7210" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="7217" href="Ledger.Conway.Utxo.html#7192" class="Function">cbalance</a> <a id="7226" href="Ledger.Conway.Utxo.html#7226" class="Bound">utxo</a> <a id="7231" class="Symbol">=</a> <a id="7233" href="Ledger.Conway.TokenAlgebra.Base.html#1143" class="Function">coin</a> <a id="7238" class="Symbol">(</a><a id="7239" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a> <a id="7247" href="Ledger.Conway.Utxo.html#7226" class="Bound">utxo</a><a id="7251" class="Symbol">)</a>
</pre>

<pre class="Agda">

  <a id="7271" href="Ledger.Conway.Utxo.html#7271" class="Function">refScriptsSize</a> <a id="7286" class="Symbol">:</a> <a id="7288" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="7293" class="Symbol">→</a> <a id="7295" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="7298" class="Symbol">→</a> <a id="7300" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="7304" href="Ledger.Conway.Utxo.html#7271" class="Function">refScriptsSize</a> <a id="7319" href="Ledger.Conway.Utxo.html#7319" class="Bound">utxo</a> <a id="7324" href="Ledger.Conway.Utxo.html#7324" class="Bound">tx</a> <a id="7327" class="Symbol">=</a> <a id="7329" href="Data.List.Base.html#4964" class="Function">sum</a> <a id="7333" class="Symbol">(</a><a id="7334" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="7338" href="Ledger.Conway.Abstract.html#843" class="Field">scriptSize</a> <a id="7349" class="Symbol">(</a><a id="7350" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a> <a id="7360" class="Symbol">(</a><a id="7361" href="Ledger.Conway.Transaction.html#7531" class="Function">refScripts</a> <a id="7372" href="Ledger.Conway.Utxo.html#7324" class="Bound">tx</a> <a id="7375" href="Ledger.Conway.Utxo.html#7319" class="Bound">utxo</a><a id="7379" class="Symbol">)))</a>

  <a id="7386" href="Ledger.Conway.Utxo.html#7386" class="Function">minfee</a> <a id="7393" class="Symbol">:</a> <a id="7395" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="7403" class="Symbol">→</a> <a id="7405" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="7410" class="Symbol">→</a> <a id="7412" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="7415" class="Symbol">→</a> <a id="7417" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="7424" href="Ledger.Conway.Utxo.html#7386" class="Function">minfee</a> <a id="7431" href="Ledger.Conway.Utxo.html#7431" class="Bound">pp</a> <a id="7434" href="Ledger.Conway.Utxo.html#7434" class="Bound">utxo</a> <a id="7439" href="Ledger.Conway.Utxo.html#7439" class="Bound">tx</a>  <a id="7443" class="Symbol">=</a> <a id="7445" href="Ledger.Conway.Utxo.html#7431" class="Bound">pp</a> <a id="7448" class="Symbol">.</a><a id="7449" href="Ledger.Conway.PParams.html#3064" class="Field">a</a> <a id="7451" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="7453" href="Ledger.Conway.Utxo.html#7439" class="Bound">tx</a> <a id="7456" class="Symbol">.</a><a id="7457" href="Ledger.Conway.Transaction.html#6141" class="Field">body</a> <a id="7462" class="Symbol">.</a><a id="7463" href="Ledger.Conway.Transaction.html#5036" class="Field">txsize</a> <a id="7470" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7472" href="Ledger.Conway.Utxo.html#7431" class="Bound">pp</a> <a id="7475" class="Symbol">.</a><a id="7476" href="Ledger.Conway.PParams.html#3106" class="Field">b</a>
                     <a id="7499" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7501" href="Ledger.Conway.Abstract.html#646" class="Field">txscriptfee</a> <a id="7513" class="Symbol">(</a><a id="7514" href="Ledger.Conway.Utxo.html#7431" class="Bound">pp</a> <a id="7517" class="Symbol">.</a><a id="7518" href="Ledger.Conway.PParams.html#3423" class="Field">prices</a><a id="7524" class="Symbol">)</a> <a id="7526" class="Symbol">(</a><a id="7527" href="Ledger.Conway.Utxo.html#2343" class="Function">totExUnits</a> <a id="7538" href="Ledger.Conway.Utxo.html#7439" class="Bound">tx</a><a id="7540" class="Symbol">)</a>
                     <a id="7563" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7565" href="Ledger.Conway.Fees.html#2014" class="Function">scriptsCost</a> <a id="7577" href="Ledger.Conway.Utxo.html#7431" class="Bound">pp</a> <a id="7580" class="Symbol">(</a><a id="7581" href="Ledger.Conway.Utxo.html#7271" class="Function">refScriptsSize</a> <a id="7596" href="Ledger.Conway.Utxo.html#7434" class="Bound">utxo</a> <a id="7601" href="Ledger.Conway.Utxo.html#7439" class="Bound">tx</a><a id="7603" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="7654" class="Keyword">instance</a>
  <a id="HasCoin-UTxO"></a><a id="7665" href="Ledger.Conway.Utxo.html#7665" class="Function">HasCoin-UTxO</a> <a id="7678" class="Symbol">:</a> <a id="7680" href="Ledger.Interface.HasCoin.html#132" class="Record">HasCoin</a> <a id="7688" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a>
  <a id="7695" href="Ledger.Conway.Utxo.html#7665" class="Function">HasCoin-UTxO</a> <a id="7708" class="Symbol">.</a><a id="7709" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="7717" class="Symbol">=</a> <a id="7719" href="Ledger.Conway.Utxo.html#7192" class="Function">cbalance</a>
</pre>
</div>

<pre class="Agda">
<a id="certDeposit"></a><a id="7751" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="7763" class="Symbol">:</a> <a id="7765" href="Ledger.Conway.Certs.html#1612" class="Datatype">DCert</a> <a id="7771" class="Symbol">→</a> <a id="7773" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="7781" class="Symbol">→</a> <a id="7783" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
<a id="7792" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="7804" class="Symbol">(</a><a id="7805" href="Ledger.Conway.Certs.html#1633" class="InductiveConstructor">delegate</a> <a id="7814" href="Ledger.Conway.Utxo.html#7814" class="Bound">c</a> <a id="7816" class="Symbol">_</a> <a id="7818" class="Symbol">_</a> <a id="7820" href="Ledger.Conway.Utxo.html#7820" class="Bound">v</a><a id="7821" class="Symbol">)</a> <a id="7823" class="Symbol">_</a>   <a id="7827" class="Symbol">=</a> <a id="7829" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7831" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="7849" href="Ledger.Conway.Utxo.html#7814" class="Bound">c</a> <a id="7851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7853" href="Ledger.Conway.Utxo.html#7820" class="Bound">v</a> <a id="7855" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="7857" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="7869" class="Symbol">(</a><a id="7870" href="Ledger.Conway.Certs.html#2366" class="InductiveConstructor">reg</a> <a id="7874" href="Ledger.Conway.Utxo.html#7874" class="Bound">c</a> <a id="7876" class="Symbol">_)</a>          <a id="7888" href="Ledger.Conway.Utxo.html#7888" class="Bound">pp</a>  <a id="7892" class="Symbol">=</a> <a id="7894" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7896" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="7914" href="Ledger.Conway.Utxo.html#7874" class="Bound">c</a> <a id="7916" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7918" href="Ledger.Conway.Utxo.html#7888" class="Bound">pp</a> <a id="7921" class="Symbol">.</a><a id="7922" href="Ledger.Conway.PParams.html#3148" class="Field">keyDeposit</a> <a id="7933" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="7935" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="7947" class="Symbol">(</a><a id="7948" href="Ledger.Conway.Certs.html#1754" class="InductiveConstructor">regpool</a> <a id="7956" href="Ledger.Conway.Utxo.html#7956" class="Bound">kh</a> <a id="7959" class="Symbol">_)</a>     <a id="7966" href="Ledger.Conway.Utxo.html#7966" class="Bound">pp</a>  <a id="7970" class="Symbol">=</a> <a id="7972" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7974" href="Ledger.Conway.Certs.html#552" class="InductiveConstructor">PoolDeposit</a> <a id="7986" href="Ledger.Conway.Utxo.html#7956" class="Bound">kh</a> <a id="7989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7991" href="Ledger.Conway.Utxo.html#7966" class="Bound">pp</a> <a id="7994" class="Symbol">.</a><a id="7995" href="Ledger.Conway.PParams.html#3193" class="Field">poolDeposit</a> <a id="8007" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8009" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="8021" class="Symbol">(</a><a id="8022" href="Ledger.Conway.Certs.html#1839" class="InductiveConstructor">regdrep</a> <a id="8030" href="Ledger.Conway.Utxo.html#8030" class="Bound">c</a> <a id="8032" href="Ledger.Conway.Utxo.html#8032" class="Bound">v</a> <a id="8034" class="Symbol">_)</a>    <a id="8040" class="Symbol">_</a>   <a id="8044" class="Symbol">=</a> <a id="8046" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8048" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="8060" href="Ledger.Conway.Utxo.html#8030" class="Bound">c</a> <a id="8062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8064" href="Ledger.Conway.Utxo.html#8032" class="Bound">v</a> <a id="8066" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8068" href="Ledger.Conway.Utxo.html#7751" class="CatchallClause Function">certDeposit</a><a id="8079" class="CatchallClause"> </a><a id="8080" class="CatchallClause Symbol">_</a><a id="8081" class="CatchallClause">                  </a><a id="8099" class="CatchallClause Symbol">_</a>   <a id="8103" class="Symbol">=</a> <a id="8105" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="certRefund"></a><a id="8108" href="Ledger.Conway.Utxo.html#8108" class="Function">certRefund</a> <a id="8119" class="Symbol">:</a> <a id="8121" href="Ledger.Conway.Certs.html#1612" class="Datatype">DCert</a> <a id="8127" class="Symbol">→</a> <a id="8129" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8131" href="Ledger.Conway.Certs.html#469" class="Datatype">DepositPurpose</a>
<a id="8146" href="Ledger.Conway.Utxo.html#8108" class="Function">certRefund</a> <a id="8157" class="Symbol">(</a><a id="8158" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="8164" href="Ledger.Conway.Utxo.html#8164" class="Bound">c</a> <a id="8166" class="Symbol">_)</a>      <a id="8174" class="Symbol">=</a> <a id="8176" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8178" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="8196" href="Ledger.Conway.Utxo.html#8164" class="Bound">c</a> <a id="8198" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8200" href="Ledger.Conway.Utxo.html#8108" class="Function">certRefund</a> <a id="8211" class="Symbol">(</a><a id="8212" href="Ledger.Conway.Certs.html#1890" class="InductiveConstructor">deregdrep</a> <a id="8222" href="Ledger.Conway.Utxo.html#8222" class="Bound">c</a> <a id="8224" class="Symbol">_)</a>  <a id="8228" class="Symbol">=</a> <a id="8230" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8232" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="8244" href="Ledger.Conway.Utxo.html#8222" class="Bound">c</a> <a id="8246" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8248" href="Ledger.Conway.Utxo.html#8108" class="CatchallClause Function">certRefund</a><a id="8258" class="CatchallClause"> </a><a id="8259" class="CatchallClause Symbol">_</a>                <a id="8276" class="Symbol">=</a> <a id="8278" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="8281" class="Keyword">data</a> <a id="ValidCertDeposits"></a><a id="8286" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8304" class="Symbol">(</a><a id="8305" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8308" class="Symbol">:</a> <a id="8310" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a><a id="8317" class="Symbol">)</a> <a id="8319" class="Symbol">(</a><a id="8320" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8325" class="Symbol">:</a> <a id="8327" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a><a id="8335" class="Symbol">)</a> <a id="8337" class="Symbol">:</a> <a id="8339" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8344" href="Ledger.Conway.Certs.html#1612" class="Datatype">DCert</a> <a id="8350" class="Symbol">→</a> <a id="8352" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
  <a id="8407" class="Keyword">where</a>
  <a id="ValidCertDeposits.[]"></a><a id="8415" href="Ledger.Conway.Utxo.html#8415" class="InductiveConstructor">[]</a>         <a id="8426" class="Symbol">:</a> <a id="8428" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8446" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8449" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8454" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="ValidCertDeposits.delegate"></a><a id="8459" href="Ledger.Conway.Utxo.html#8459" class="InductiveConstructor">delegate</a>   <a id="8470" class="Symbol">:</a> <a id="8472" class="Symbol">∀</a> <a id="8474" class="Symbol">{</a><a id="8475" href="Ledger.Conway.Utxo.html#8475" class="Bound">c</a> <a id="8477" href="Ledger.Conway.Utxo.html#8477" class="Bound">del</a> <a id="8481" href="Ledger.Conway.Utxo.html#8481" class="Bound">kh</a> <a id="8484" href="Ledger.Conway.Utxo.html#8484" class="Bound">v</a> <a id="8486" href="Ledger.Conway.Utxo.html#8486" class="Bound">certs</a><a id="8491" class="Symbol">}</a>
             <a id="8506" class="Symbol">→</a> <a id="8508" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8526" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8529" class="Symbol">(</a><a id="8530" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8535" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8538" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8540" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="8558" href="Ledger.Conway.Utxo.html#8475" class="Bound">c</a> <a id="8560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8562" href="Ledger.Conway.Utxo.html#8484" class="Bound">v</a> <a id="8564" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8565" class="Symbol">)</a> <a id="8567" href="Ledger.Conway.Utxo.html#8486" class="Bound">certs</a>
             <a id="8586" class="Symbol">→</a> <a id="8588" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8606" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8609" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8614" class="Symbol">(</a><a id="8615" href="Ledger.Conway.Certs.html#1633" class="InductiveConstructor">delegate</a> <a id="8624" href="Ledger.Conway.Utxo.html#8475" class="Bound">c</a> <a id="8626" href="Ledger.Conway.Utxo.html#8477" class="Bound">del</a> <a id="8630" href="Ledger.Conway.Utxo.html#8481" class="Bound">kh</a> <a id="8633" href="Ledger.Conway.Utxo.html#8484" class="Bound">v</a> <a id="8635" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8637" href="Ledger.Conway.Utxo.html#8486" class="Bound">certs</a><a id="8642" class="Symbol">)</a>
  <a id="ValidCertDeposits.regpool"></a><a id="8646" href="Ledger.Conway.Utxo.html#8646" class="InductiveConstructor">regpool</a>    <a id="8657" class="Symbol">:</a> <a id="8659" class="Symbol">∀</a> <a id="8661" class="Symbol">{</a><a id="8662" href="Ledger.Conway.Utxo.html#8662" class="Bound">kh</a> <a id="8665" href="Ledger.Conway.Utxo.html#8665" class="Bound">p</a> <a id="8667" href="Ledger.Conway.Utxo.html#8667" class="Bound">certs</a><a id="8672" class="Symbol">}</a>
             <a id="8687" class="Symbol">→</a> <a id="8689" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8707" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8710" class="Symbol">(</a><a id="8711" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8716" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8719" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8721" href="Ledger.Conway.Certs.html#552" class="InductiveConstructor">PoolDeposit</a> <a id="8733" href="Ledger.Conway.Utxo.html#8662" class="Bound">kh</a> <a id="8736" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8738" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8741" class="Symbol">.</a><a id="8742" href="Ledger.Conway.PParams.html#3193" class="Field">poolDeposit</a> <a id="8754" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8755" class="Symbol">)</a> <a id="8757" href="Ledger.Conway.Utxo.html#8667" class="Bound">certs</a>
             <a id="8776" class="Symbol">→</a> <a id="8778" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8796" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8799" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8804" class="Symbol">(</a><a id="8805" href="Ledger.Conway.Certs.html#1754" class="InductiveConstructor">regpool</a> <a id="8813" href="Ledger.Conway.Utxo.html#8662" class="Bound">kh</a> <a id="8816" href="Ledger.Conway.Utxo.html#8665" class="Bound">p</a> <a id="8818" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8820" href="Ledger.Conway.Utxo.html#8667" class="Bound">certs</a><a id="8825" class="Symbol">)</a>
  <a id="ValidCertDeposits.regdrep"></a><a id="8829" href="Ledger.Conway.Utxo.html#8829" class="InductiveConstructor">regdrep</a>    <a id="8840" class="Symbol">:</a> <a id="8842" class="Symbol">∀</a> <a id="8844" class="Symbol">{</a><a id="8845" href="Ledger.Conway.Utxo.html#8845" class="Bound">c</a> <a id="8847" href="Ledger.Conway.Utxo.html#8847" class="Bound">v</a> <a id="8849" href="Ledger.Conway.Utxo.html#8849" class="Bound">a</a> <a id="8851" href="Ledger.Conway.Utxo.html#8851" class="Bound">certs</a><a id="8856" class="Symbol">}</a>
             <a id="8871" class="Symbol">→</a> <a id="8873" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8891" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8894" class="Symbol">(</a><a id="8895" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8900" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8903" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8905" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="8917" href="Ledger.Conway.Utxo.html#8845" class="Bound">c</a> <a id="8919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8921" href="Ledger.Conway.Utxo.html#8847" class="Bound">v</a> <a id="8923" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8924" class="Symbol">)</a> <a id="8926" href="Ledger.Conway.Utxo.html#8851" class="Bound">certs</a>
             <a id="8945" class="Symbol">→</a> <a id="8947" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="8965" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="8968" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="8973" class="Symbol">(</a><a id="8974" href="Ledger.Conway.Certs.html#1839" class="InductiveConstructor">regdrep</a> <a id="8982" href="Ledger.Conway.Utxo.html#8845" class="Bound">c</a> <a id="8984" href="Ledger.Conway.Utxo.html#8847" class="Bound">v</a> <a id="8986" href="Ledger.Conway.Utxo.html#8849" class="Bound">a</a> <a id="8988" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8990" href="Ledger.Conway.Utxo.html#8851" class="Bound">certs</a><a id="8995" class="Symbol">)</a>
  <a id="ValidCertDeposits.reg"></a><a id="8999" href="Ledger.Conway.Utxo.html#8999" class="InductiveConstructor">reg</a>        <a id="9010" class="Symbol">:</a> <a id="9012" class="Symbol">∀</a> <a id="9014" class="Symbol">{</a><a id="9015" href="Ledger.Conway.Utxo.html#9015" class="Bound">c</a> <a id="9017" href="Ledger.Conway.Utxo.html#9017" class="Bound">v</a> <a id="9019" href="Ledger.Conway.Utxo.html#9019" class="Bound">certs</a><a id="9024" class="Symbol">}</a>
             <a id="9039" class="Symbol">→</a> <a id="9041" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9059" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9062" class="Symbol">(</a><a id="9063" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9068" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="9071" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9073" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="9091" href="Ledger.Conway.Utxo.html#9015" class="Bound">c</a> <a id="9093" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9095" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9098" class="Symbol">.</a><a id="9099" href="Ledger.Conway.PParams.html#3148" class="Field">keyDeposit</a> <a id="9110" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="9111" class="Symbol">)</a> <a id="9113" href="Ledger.Conway.Utxo.html#9019" class="Bound">certs</a>
             <a id="9132" class="Symbol">→</a> <a id="9134" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9152" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9155" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9160" class="Symbol">(</a><a id="9161" href="Ledger.Conway.Certs.html#2366" class="InductiveConstructor">reg</a> <a id="9165" href="Ledger.Conway.Utxo.html#9015" class="Bound">c</a> <a id="9167" href="Ledger.Conway.Utxo.html#9017" class="Bound">v</a> <a id="9169" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9171" href="Ledger.Conway.Utxo.html#9019" class="Bound">certs</a><a id="9176" class="Symbol">)</a>
  <a id="ValidCertDeposits.dereg"></a><a id="9180" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a>      <a id="9191" class="Symbol">:</a> <a id="9193" class="Symbol">∀</a> <a id="9195" class="Symbol">{</a><a id="9196" href="Ledger.Conway.Utxo.html#9196" class="Bound">c</a> <a id="9198" href="Ledger.Conway.Utxo.html#9198" class="Bound">md</a> <a id="9201" href="Ledger.Conway.Utxo.html#9201" class="Bound">d</a> <a id="9203" href="Ledger.Conway.Utxo.html#9203" class="Bound">certs</a><a id="9208" class="Symbol">}</a>
             <a id="9223" class="Symbol">→</a> <a id="9225" class="Symbol">(</a><a id="9226" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="9244" href="Ledger.Conway.Utxo.html#9196" class="Bound">c</a> <a id="9246" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9248" href="Ledger.Conway.Utxo.html#9201" class="Bound">d</a><a id="9249" class="Symbol">)</a> <a id="9251" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9253" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a>
             <a id="9271" class="Symbol">→</a> <a id="9273" href="Ledger.Conway.Utxo.html#9198" class="Bound">md</a> <a id="9276" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9278" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9286" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9288" href="Ledger.Conway.Utxo.html#9198" class="Bound">md</a> <a id="9291" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9293" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9298" href="Ledger.Conway.Utxo.html#9201" class="Bound">d</a>
             <a id="9313" class="Symbol">→</a> <a id="9315" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9333" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9336" class="Symbol">(</a><a id="9337" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9342" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9344" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9346" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="9364" href="Ledger.Conway.Utxo.html#9196" class="Bound">c</a> <a id="9366" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="9368" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9369" class="Symbol">)</a> <a id="9371" href="Ledger.Conway.Utxo.html#9203" class="Bound">certs</a>
             <a id="9390" class="Symbol">→</a> <a id="9392" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9410" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9413" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9418" class="Symbol">(</a><a id="9419" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="9425" href="Ledger.Conway.Utxo.html#9196" class="Bound">c</a> <a id="9427" href="Ledger.Conway.Utxo.html#9198" class="Bound">md</a> <a id="9430" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9432" href="Ledger.Conway.Utxo.html#9203" class="Bound">certs</a><a id="9437" class="Symbol">)</a>
  <a id="ValidCertDeposits.deregdrep"></a><a id="9441" href="Ledger.Conway.Utxo.html#9441" class="InductiveConstructor">deregdrep</a>  <a id="9452" class="Symbol">:</a> <a id="9454" class="Symbol">∀</a> <a id="9456" class="Symbol">{</a><a id="9457" href="Ledger.Conway.Utxo.html#9457" class="Bound">c</a> <a id="9459" href="Ledger.Conway.Utxo.html#9459" class="Bound">d</a> <a id="9461" href="Ledger.Conway.Utxo.html#9461" class="Bound">certs</a><a id="9466" class="Symbol">}</a>
             <a id="9481" class="Symbol">→</a> <a id="9483" class="Symbol">(</a><a id="9484" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="9496" href="Ledger.Conway.Utxo.html#9457" class="Bound">c</a> <a id="9498" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9500" href="Ledger.Conway.Utxo.html#9459" class="Bound">d</a><a id="9501" class="Symbol">)</a> <a id="9503" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9505" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a>
             <a id="9523" class="Symbol">→</a> <a id="9525" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9543" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9546" class="Symbol">(</a><a id="9547" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9552" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9554" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9556" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="9568" href="Ledger.Conway.Utxo.html#9457" class="Bound">c</a> <a id="9570" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="9572" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9573" class="Symbol">)</a> <a id="9575" href="Ledger.Conway.Utxo.html#9461" class="Bound">certs</a>
             <a id="9594" class="Symbol">→</a> <a id="9596" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9614" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9617" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9622" class="Symbol">(</a><a id="9623" href="Ledger.Conway.Certs.html#1890" class="InductiveConstructor">deregdrep</a> <a id="9633" href="Ledger.Conway.Utxo.html#9457" class="Bound">c</a> <a id="9635" href="Ledger.Conway.Utxo.html#9459" class="Bound">d</a> <a id="9637" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9639" href="Ledger.Conway.Utxo.html#9461" class="Bound">certs</a><a id="9644" class="Symbol">)</a>
  <a id="ValidCertDeposits.ccreghot"></a><a id="9648" href="Ledger.Conway.Utxo.html#9648" class="InductiveConstructor">ccreghot</a>   <a id="9659" class="Symbol">:</a> <a id="9661" class="Symbol">∀</a> <a id="9663" class="Symbol">{</a><a id="9664" href="Ledger.Conway.Utxo.html#9664" class="Bound">c</a> <a id="9666" href="Ledger.Conway.Utxo.html#9666" class="Bound">v</a> <a id="9668" href="Ledger.Conway.Utxo.html#9668" class="Bound">certs</a><a id="9673" class="Symbol">}</a>
             <a id="9688" class="Symbol">→</a> <a id="9690" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9708" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9711" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9716" href="Ledger.Conway.Utxo.html#9668" class="Bound">certs</a>
             <a id="9735" class="Symbol">→</a> <a id="9737" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9755" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9758" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9763" class="Symbol">(</a><a id="9764" href="Ledger.Conway.Certs.html#1932" class="InductiveConstructor">ccreghot</a> <a id="9773" href="Ledger.Conway.Utxo.html#9664" class="Bound">c</a> <a id="9775" href="Ledger.Conway.Utxo.html#9666" class="Bound">v</a> <a id="9777" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9779" href="Ledger.Conway.Utxo.html#9668" class="Bound">certs</a><a id="9784" class="Symbol">)</a>
  <a id="ValidCertDeposits.retirepool"></a><a id="9788" href="Ledger.Conway.Utxo.html#9788" class="InductiveConstructor">retirepool</a> <a id="9799" class="Symbol">:</a> <a id="9801" class="Symbol">∀</a> <a id="9803" class="Symbol">{</a><a id="9804" href="Ledger.Conway.Utxo.html#9804" class="Bound">kh</a> <a id="9807" href="Ledger.Conway.Utxo.html#9807" class="Bound">e</a> <a id="9809" href="Ledger.Conway.Utxo.html#9809" class="Bound">certs</a><a id="9814" class="Symbol">}</a>
             <a id="9829" class="Symbol">→</a> <a id="9831" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9849" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9852" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9857" href="Ledger.Conway.Utxo.html#9809" class="Bound">certs</a>
             <a id="9876" class="Symbol">→</a> <a id="9878" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="9896" href="Ledger.Conway.Utxo.html#8305" class="Bound">pp</a> <a id="9899" href="Ledger.Conway.Utxo.html#8320" class="Bound">deps</a> <a id="9904" class="Symbol">(</a><a id="9905" href="Ledger.Conway.Certs.html#1799" class="InductiveConstructor">retirepool</a> <a id="9916" href="Ledger.Conway.Utxo.html#9804" class="Bound">kh</a> <a id="9919" href="Ledger.Conway.Utxo.html#9807" class="Bound">e</a>  <a id="9922" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9924" href="Ledger.Conway.Utxo.html#9809" class="Bound">certs</a><a id="9929" class="Symbol">)</a>

<a id="9932" class="Keyword">private</a>
  <a id="validCertDeposits?"></a><a id="9942" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="9961" class="Symbol">:</a> <a id="9963" class="Symbol">∀</a> <a id="9965" class="Symbol">{</a><a id="9966" href="Ledger.Conway.Utxo.html#9966" class="Bound">pp</a><a id="9968" class="Symbol">}</a> <a id="9970" href="Ledger.Conway.Utxo.html#9970" class="Bound">deps</a> <a id="9975" href="Ledger.Conway.Utxo.html#9975" class="Bound">certs</a> <a id="9981" class="Symbol">→</a> <a id="9983" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9987" class="Symbol">(</a><a id="9988" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="10006" href="Ledger.Conway.Utxo.html#9966" class="Bound">pp</a> <a id="10009" href="Ledger.Conway.Utxo.html#9970" class="Bound">deps</a> <a id="10014" href="Ledger.Conway.Utxo.html#9975" class="Bound">certs</a><a id="10019" class="Symbol">)</a>
  <a id="10023" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10042" href="Ledger.Conway.Utxo.html#10042" class="Bound">deps</a> <a id="10047" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10050" class="Symbol">=</a> <a id="10052" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="10056" href="Ledger.Conway.Utxo.html#8415" class="InductiveConstructor">[]</a>
  <a id="10061" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10080" href="Ledger.Conway.Utxo.html#10080" class="Bound">deps</a> <a id="10085" class="Symbol">(</a><a id="10086" href="Ledger.Conway.Certs.html#1633" class="InductiveConstructor">delegate</a> <a id="10095" class="Symbol">_</a> <a id="10097" class="Symbol">_</a> <a id="10099" class="Symbol">_</a> <a id="10101" class="Symbol">_</a> <a id="10103" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10105" href="Ledger.Conway.Utxo.html#10105" class="Bound">certs</a><a id="10110" class="Symbol">)</a> <a id="10112" class="Symbol">=</a>
    <a id="10118" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10125" href="Ledger.Conway.Utxo.html#8459" class="InductiveConstructor">delegate</a> <a id="10134" class="Symbol">(λ</a> <a id="10137" class="Keyword">where</a> <a id="10143" class="Symbol">(</a><a id="10144" href="Ledger.Conway.Utxo.html#8459" class="InductiveConstructor">delegate</a> <a id="10153" href="Ledger.Conway.Utxo.html#10153" class="Bound">p</a><a id="10154" class="Symbol">)</a> <a id="10156" class="Symbol">→</a> <a id="10158" href="Ledger.Conway.Utxo.html#10153" class="Bound">p</a><a id="10159" class="Symbol">)</a> <a id="10161" class="Symbol">(</a><a id="10162" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10181" class="Symbol">_</a> <a id="10183" class="Symbol">_)</a>
  <a id="10188" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10207" href="Ledger.Conway.Utxo.html#10207" class="Bound">deps</a> <a id="10212" class="Symbol">(</a><a id="10213" href="Ledger.Conway.Certs.html#1754" class="InductiveConstructor">regpool</a> <a id="10221" class="Symbol">_</a> <a id="10223" class="Symbol">_</a> <a id="10225" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10227" href="Ledger.Conway.Utxo.html#10227" class="Bound">certs</a><a id="10232" class="Symbol">)</a> <a id="10234" class="Symbol">=</a>
    <a id="10240" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10247" href="Ledger.Conway.Utxo.html#8646" class="InductiveConstructor">regpool</a> <a id="10255" class="Symbol">(λ</a> <a id="10258" class="Keyword">where</a> <a id="10264" class="Symbol">(</a><a id="10265" href="Ledger.Conway.Utxo.html#8646" class="InductiveConstructor">regpool</a> <a id="10273" href="Ledger.Conway.Utxo.html#10273" class="Bound">p</a><a id="10274" class="Symbol">)</a> <a id="10276" class="Symbol">→</a> <a id="10278" href="Ledger.Conway.Utxo.html#10273" class="Bound">p</a><a id="10279" class="Symbol">)</a> <a id="10281" class="Symbol">(</a><a id="10282" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10301" class="Symbol">_</a> <a id="10303" class="Symbol">_)</a>
  <a id="10308" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10327" href="Ledger.Conway.Utxo.html#10327" class="Bound">deps</a> <a id="10332" class="Symbol">(</a><a id="10333" href="Ledger.Conway.Certs.html#1839" class="InductiveConstructor">regdrep</a> <a id="10341" class="Symbol">_</a> <a id="10343" class="Symbol">_</a> <a id="10345" class="Symbol">_</a> <a id="10347" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10349" href="Ledger.Conway.Utxo.html#10349" class="Bound">certs</a><a id="10354" class="Symbol">)</a> <a id="10356" class="Symbol">=</a>
    <a id="10362" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10369" href="Ledger.Conway.Utxo.html#8829" class="InductiveConstructor">regdrep</a> <a id="10377" class="Symbol">(λ</a> <a id="10380" class="Keyword">where</a> <a id="10386" class="Symbol">(</a><a id="10387" href="Ledger.Conway.Utxo.html#8829" class="InductiveConstructor">regdrep</a> <a id="10395" href="Ledger.Conway.Utxo.html#10395" class="Bound">p</a><a id="10396" class="Symbol">)</a> <a id="10398" class="Symbol">→</a> <a id="10400" href="Ledger.Conway.Utxo.html#10395" class="Bound">p</a><a id="10401" class="Symbol">)</a> <a id="10403" class="Symbol">(</a><a id="10404" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10423" class="Symbol">_</a> <a id="10425" class="Symbol">_)</a>
  <a id="10430" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10449" href="Ledger.Conway.Utxo.html#10449" class="Bound">deps</a> <a id="10454" class="Symbol">(</a><a id="10455" href="Ledger.Conway.Certs.html#1799" class="InductiveConstructor">retirepool</a> <a id="10466" class="Symbol">_</a> <a id="10468" class="Symbol">_</a> <a id="10470" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10472" href="Ledger.Conway.Utxo.html#10472" class="Bound">certs</a><a id="10477" class="Symbol">)</a> <a id="10479" class="Symbol">=</a>
    <a id="10485" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10492" href="Ledger.Conway.Utxo.html#9788" class="InductiveConstructor">retirepool</a> <a id="10503" class="Symbol">(λ</a> <a id="10506" class="Keyword">where</a> <a id="10512" class="Symbol">(</a><a id="10513" href="Ledger.Conway.Utxo.html#9788" class="InductiveConstructor">retirepool</a> <a id="10524" href="Ledger.Conway.Utxo.html#10524" class="Bound">p</a><a id="10525" class="Symbol">)</a> <a id="10527" class="Symbol">→</a> <a id="10529" href="Ledger.Conway.Utxo.html#10524" class="Bound">p</a><a id="10530" class="Symbol">)</a> <a id="10532" class="Symbol">(</a><a id="10533" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10552" class="Symbol">_</a> <a id="10554" class="Symbol">_)</a>
  <a id="10559" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10578" href="Ledger.Conway.Utxo.html#10578" class="Bound">deps</a> <a id="10583" class="Symbol">(</a><a id="10584" href="Ledger.Conway.Certs.html#1932" class="InductiveConstructor">ccreghot</a> <a id="10593" class="Symbol">_</a> <a id="10595" class="Symbol">_</a> <a id="10597" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10599" href="Ledger.Conway.Utxo.html#10599" class="Bound">certs</a><a id="10604" class="Symbol">)</a> <a id="10606" class="Symbol">=</a>
    <a id="10612" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10619" href="Ledger.Conway.Utxo.html#9648" class="InductiveConstructor">ccreghot</a> <a id="10628" class="Symbol">(λ</a> <a id="10631" class="Keyword">where</a> <a id="10637" class="Symbol">(</a><a id="10638" href="Ledger.Conway.Utxo.html#9648" class="InductiveConstructor">ccreghot</a> <a id="10647" href="Ledger.Conway.Utxo.html#10647" class="Bound">p</a><a id="10648" class="Symbol">)</a> <a id="10650" class="Symbol">→</a> <a id="10652" href="Ledger.Conway.Utxo.html#10647" class="Bound">p</a><a id="10653" class="Symbol">)</a> <a id="10655" class="Symbol">(</a><a id="10656" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10675" class="Symbol">_</a> <a id="10677" class="Symbol">_)</a>
  <a id="10682" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10701" href="Ledger.Conway.Utxo.html#10701" class="Bound">deps</a> <a id="10706" class="Symbol">(</a><a id="10707" href="Ledger.Conway.Certs.html#2366" class="InductiveConstructor">reg</a> <a id="10711" class="Symbol">_</a> <a id="10713" class="Symbol">_</a> <a id="10715" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10717" href="Ledger.Conway.Utxo.html#10717" class="Bound">certs</a><a id="10722" class="Symbol">)</a> <a id="10724" class="Symbol">=</a>
    <a id="10730" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10737" href="Ledger.Conway.Utxo.html#8999" class="InductiveConstructor">reg</a> <a id="10741" class="Symbol">(λ</a> <a id="10744" class="Keyword">where</a> <a id="10750" class="Symbol">(</a><a id="10751" href="Ledger.Conway.Utxo.html#8999" class="InductiveConstructor">reg</a> <a id="10755" href="Ledger.Conway.Utxo.html#10755" class="Bound">p</a><a id="10756" class="Symbol">)</a> <a id="10758" class="Symbol">→</a> <a id="10760" href="Ledger.Conway.Utxo.html#10755" class="Bound">p</a><a id="10761" class="Symbol">)</a> <a id="10763" class="Symbol">(</a><a id="10764" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10783" class="Symbol">_</a> <a id="10785" class="Symbol">_)</a>
  <a id="10790" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="10809" href="Ledger.Conway.Utxo.html#10809" class="Bound">deps</a> <a id="10814" class="Symbol">(</a><a id="10815" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="10821" href="Ledger.Conway.Utxo.html#10821" class="Bound">c</a> <a id="10823" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="10831" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10833" href="Ledger.Conway.Utxo.html#10833" class="Bound">certs</a><a id="10838" class="Symbol">)</a> <a id="10840" class="Keyword">with</a> <a id="10845" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="10847" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="10865" href="Ledger.Conway.Utxo.html#10821" class="Bound">c</a> <a id="10867" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="10869" href="Class.IsSet.html#916" class="Function">dom</a> <a id="10873" href="Ledger.Conway.Utxo.html#10809" class="Bound">deps</a> <a id="10878" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="10883" class="Symbol">...</a> <a id="10887" class="Symbol">|</a> <a id="10889" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="10893" href="Ledger.Conway.Utxo.html#10893" class="Bound">p</a> <a id="10895" class="Symbol">=</a> <a id="10897" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10904" class="Symbol">(</a><a id="10905" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="10911" class="Symbol">(</a><a id="10912" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10918" class="Symbol">(</a><a id="10919" href="Function.Bundles.html#4834" class="Field">Equivalence.from</a> <a id="10936" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="10941" href="Ledger.Conway.Utxo.html#10893" class="Bound">p</a><a id="10942" class="Symbol">))</a> <a id="10945" class="Symbol">(</a><a id="10946" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="10951" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10955" class="Symbol">))</a> <a id="10958" class="Symbol">(λ</a> <a id="10961" class="Symbol">{</a> <a id="10963" class="Symbol">(</a><a id="10964" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="10970" class="Symbol">_</a> <a id="10972" class="Symbol">_</a> <a id="10974" href="Ledger.Conway.Utxo.html#10974" class="Bound">p</a><a id="10975" class="Symbol">)</a> <a id="10977" class="Symbol">→</a> <a id="10979" href="Ledger.Conway.Utxo.html#10974" class="Bound">p</a> <a id="10981" class="Symbol">})</a> <a id="10984" class="Symbol">(</a><a id="10985" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11004" class="Symbol">_</a> <a id="11006" class="Symbol">_)</a>
  <a id="11011" class="Symbol">...</a> <a id="11015" class="Symbol">|</a> <a id="11017" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11020" href="Ledger.Conway.Utxo.html#11020" class="Bound">¬p</a> <a id="11023" class="Symbol">=</a> <a id="11025" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11028" class="Symbol">λ</a> <a id="11030" class="Symbol">{</a> <a id="11032" class="Symbol">(</a><a id="11033" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="11039" href="Ledger.Conway.Utxo.html#11039" class="Bound">x</a> <a id="11041" class="Symbol">_</a> <a id="11043" class="Symbol">_)</a> <a id="11046" class="Symbol">→</a> <a id="11048" href="Ledger.Conway.Utxo.html#11020" class="Bound">¬p</a> <a id="11051" class="Symbol">(</a><a id="11052" href="Function.Bundles.html#4810" class="Field">Equivalence.to</a> <a id="11067" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="11072" class="Symbol">(_</a> <a id="11075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11077" href="Ledger.Conway.Utxo.html#11039" class="Bound">x</a><a id="11078" class="Symbol">))</a> <a id="11081" class="Symbol">}</a>
  <a id="11085" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11104" href="Ledger.Conway.Utxo.html#11104" class="Bound">deps</a> <a id="11109" class="Symbol">(</a><a id="11110" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="11116" href="Ledger.Conway.Utxo.html#11116" class="Bound">c</a> <a id="11118" class="Symbol">(</a><a id="11119" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11124" href="Ledger.Conway.Utxo.html#11124" class="Bound">d</a><a id="11125" class="Symbol">)</a> <a id="11127" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11129" href="Ledger.Conway.Utxo.html#11129" class="Bound">certs</a><a id="11134" class="Symbol">)</a> <a id="11136" class="Keyword">with</a> <a id="11141" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="11143" class="Symbol">(</a><a id="11144" href="Ledger.Conway.Certs.html#499" class="InductiveConstructor">CredentialDeposit</a> <a id="11162" href="Ledger.Conway.Utxo.html#11116" class="Bound">c</a> <a id="11164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11166" href="Ledger.Conway.Utxo.html#11124" class="Bound">d</a><a id="11167" class="Symbol">)</a> <a id="11169" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="11171" href="Ledger.Conway.Utxo.html#11104" class="Bound">deps</a> <a id="11176" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="11181" class="Symbol">...</a> <a id="11185" class="Symbol">|</a> <a id="11187" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="11191" href="Ledger.Conway.Utxo.html#11191" class="Bound">p</a> <a id="11193" class="Symbol">=</a> <a id="11195" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="11202" class="Symbol">(</a><a id="11203" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="11209" href="Ledger.Conway.Utxo.html#11191" class="Bound">p</a> <a id="11211" class="Symbol">(</a><a id="11212" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11217" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11221" class="Symbol">))</a> <a id="11224" class="Symbol">(λ</a> <a id="11227" class="Symbol">{</a> <a id="11229" class="Symbol">(</a><a id="11230" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="11236" class="Symbol">_</a> <a id="11238" class="Symbol">_</a> <a id="11240" href="Ledger.Conway.Utxo.html#11240" class="Bound">p</a><a id="11241" class="Symbol">)</a> <a id="11243" class="Symbol">→</a> <a id="11245" href="Ledger.Conway.Utxo.html#11240" class="Bound">p</a> <a id="11247" class="Symbol">})</a> <a id="11250" class="Symbol">(</a><a id="11251" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11270" class="Symbol">_</a> <a id="11272" class="Symbol">_)</a>
  <a id="11277" class="Symbol">...</a> <a id="11281" class="Symbol">|</a> <a id="11283" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11286" href="Ledger.Conway.Utxo.html#11286" class="Bound">¬p</a> <a id="11289" class="Symbol">=</a> <a id="11291" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11294" class="Symbol">λ</a> <a id="11296" class="Symbol">{</a> <a id="11298" class="Symbol">(</a><a id="11299" href="Ledger.Conway.Utxo.html#9180" class="InductiveConstructor">dereg</a> <a id="11305" href="Ledger.Conway.Utxo.html#11305" class="Bound">x</a> <a id="11307" class="Symbol">(</a><a id="11308" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11313" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11317" class="Symbol">)</a> <a id="11319" class="Symbol">_)</a> <a id="11322" class="Symbol">→</a> <a id="11324" href="Ledger.Conway.Utxo.html#11286" class="Bound">¬p</a> <a id="11327" href="Ledger.Conway.Utxo.html#11305" class="Bound">x</a> <a id="11329" class="Symbol">}</a>
  <a id="11333" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11352" href="Ledger.Conway.Utxo.html#11352" class="Bound">deps</a> <a id="11357" class="Symbol">(</a><a id="11358" href="Ledger.Conway.Certs.html#1890" class="InductiveConstructor">deregdrep</a> <a id="11368" href="Ledger.Conway.Utxo.html#11368" class="Bound">c</a> <a id="11370" href="Ledger.Conway.Utxo.html#11370" class="Bound">d</a> <a id="11372" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11374" href="Ledger.Conway.Utxo.html#11374" class="Bound">certs</a><a id="11379" class="Symbol">)</a> <a id="11381" class="Keyword">with</a> <a id="11386" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="11388" class="Symbol">(</a><a id="11389" href="Ledger.Conway.Certs.html#605" class="InductiveConstructor">DRepDeposit</a> <a id="11401" href="Ledger.Conway.Utxo.html#11368" class="Bound">c</a> <a id="11403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11405" href="Ledger.Conway.Utxo.html#11370" class="Bound">d</a><a id="11406" class="Symbol">)</a> <a id="11408" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="11410" href="Ledger.Conway.Utxo.html#11352" class="Bound">deps</a> <a id="11415" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>
  <a id="11419" class="Symbol">...</a> <a id="11423" class="Symbol">|</a> <a id="11425" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="11429" href="Ledger.Conway.Utxo.html#11429" class="Bound">p</a> <a id="11431" class="Symbol">=</a> <a id="11433" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="11440" class="Symbol">(</a><a id="11441" href="Ledger.Conway.Utxo.html#9441" class="InductiveConstructor">deregdrep</a> <a id="11451" href="Ledger.Conway.Utxo.html#11429" class="Bound">p</a><a id="11452" class="Symbol">)</a>  <a id="11455" class="Symbol">(λ</a> <a id="11458" class="Keyword">where</a> <a id="11464" class="Symbol">(</a><a id="11465" href="Ledger.Conway.Utxo.html#9441" class="InductiveConstructor">deregdrep</a> <a id="11475" class="Symbol">_</a> <a id="11477" href="Ledger.Conway.Utxo.html#11477" class="Bound">v</a><a id="11478" class="Symbol">)</a> <a id="11480" class="Symbol">→</a> <a id="11482" href="Ledger.Conway.Utxo.html#11477" class="Bound">v</a><a id="11483" class="Symbol">)</a> <a id="11485" class="Symbol">(</a><a id="11486" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11505" class="Symbol">_</a> <a id="11507" class="Symbol">_)</a>
  <a id="11512" class="Symbol">...</a> <a id="11516" class="Symbol">|</a> <a id="11518" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11521" href="Ledger.Conway.Utxo.html#11521" class="Bound">¬p</a> <a id="11524" class="Symbol">=</a> <a id="11526" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11529" class="Symbol">(λ</a> <a id="11532" class="Keyword">where</a> <a id="11538" class="Symbol">(</a><a id="11539" href="Ledger.Conway.Utxo.html#9441" class="InductiveConstructor">deregdrep</a> <a id="11549" href="Ledger.Conway.Utxo.html#11549" class="Bound">p</a> <a id="11551" class="Symbol">_)</a> <a id="11554" class="Symbol">→</a> <a id="11556" href="Ledger.Conway.Utxo.html#11521" class="Bound">¬p</a> <a id="11559" href="Ledger.Conway.Utxo.html#11549" class="Bound">p</a><a id="11560" class="Symbol">)</a>

<a id="11563" class="Keyword">instance</a>
  <a id="Dec-ValidCertDeposits"></a><a id="11574" href="Ledger.Conway.Utxo.html#11574" class="Function">Dec-ValidCertDeposits</a> <a id="11596" class="Symbol">:</a> <a id="11598" class="Symbol">∀</a> <a id="11600" class="Symbol">{</a><a id="11601" href="Ledger.Conway.Utxo.html#11601" class="Bound">pp</a> <a id="11604" href="Ledger.Conway.Utxo.html#11604" class="Bound">deps</a> <a id="11609" href="Ledger.Conway.Utxo.html#11609" class="Bound">certs</a><a id="11614" class="Symbol">}</a> <a id="11616" class="Symbol">→</a> <a id="11618" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="11636" href="Ledger.Conway.Utxo.html#11601" class="Bound">pp</a> <a id="11639" href="Ledger.Conway.Utxo.html#11604" class="Bound">deps</a> <a id="11644" href="Ledger.Conway.Utxo.html#11609" class="Bound">certs</a> <a id="11650" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="11654" href="Ledger.Conway.Utxo.html#11574" class="Function">Dec-ValidCertDeposits</a> <a id="11676" class="Symbol">=</a> <a id="11678" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="11680" class="Symbol">(</a><a id="11681" href="Ledger.Conway.Utxo.html#9942" class="Function">validCertDeposits?</a> <a id="11700" class="Symbol">_</a> <a id="11702" class="Symbol">_)</a>
</pre>
</div>

<h3 id="functions-used-in-utxo-rules-continued">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="updateCertDeposits"></a><a id="11776" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a>  <a id="11796" class="Symbol">:</a> <a id="11798" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="11806" class="Symbol">→</a> <a id="11808" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11813" href="Ledger.Conway.Certs.html#1612" class="Datatype">DCert</a> <a id="11819" class="Symbol">→</a> <a id="11821" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a> <a id="11830" class="Symbol">→</a> <a id="11832" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
<a id="11841" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="11860" href="Ledger.Conway.Utxo.html#11860" class="Bound">pp</a> <a id="11863" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11866" href="Ledger.Conway.Utxo.html#11866" class="Bound">deposits</a> <a id="11875" class="Symbol">=</a> <a id="11877" href="Ledger.Conway.Utxo.html#11866" class="Bound">deposits</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="11935" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="11954" href="Ledger.Conway.Utxo.html#11954" class="Bound">pp</a> <a id="11957" class="Symbol">(</a><a id="11958" href="Ledger.Conway.Certs.html#2366" class="InductiveConstructor">reg</a> <a id="11962" href="Ledger.Conway.Utxo.html#11962" class="Bound">c</a> <a id="11964" href="Ledger.Conway.Utxo.html#11964" class="Bound">v</a> <a id="11966" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11968" href="Ledger.Conway.Utxo.html#11968" class="Bound">certs</a><a id="11973" class="Symbol">)</a> <a id="11975" href="Ledger.Conway.Utxo.html#11975" class="Bound">deposits</a>
  <a id="11986" class="Symbol">=</a> <a id="11988" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12007" href="Ledger.Conway.Utxo.html#11954" class="Bound">pp</a> <a id="12010" href="Ledger.Conway.Utxo.html#11968" class="Bound">certs</a> <a id="12016" class="Symbol">(</a><a id="12017" href="Ledger.Conway.Utxo.html#11975" class="Bound">deposits</a> <a id="12026" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12029" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="12041" class="Symbol">(</a><a id="12042" href="Ledger.Conway.Certs.html#2366" class="InductiveConstructor">reg</a> <a id="12046" href="Ledger.Conway.Utxo.html#11962" class="Bound">c</a> <a id="12048" href="Ledger.Conway.Utxo.html#11964" class="Bound">v</a><a id="12049" class="Symbol">)</a> <a id="12051" href="Ledger.Conway.Utxo.html#11954" class="Bound">pp</a><a id="12053" class="Symbol">)</a>
</pre>
</div>

<pre class="Agda">
<a id="12078" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12097" href="Ledger.Conway.Utxo.html#12097" class="Bound">pp</a> <a id="12100" class="Symbol">(</a><a id="12101" href="Ledger.Conway.Certs.html#1633" class="InductiveConstructor">delegate</a> <a id="12110" href="Ledger.Conway.Utxo.html#12110" class="Bound">c</a> <a id="12112" href="Ledger.Conway.Utxo.html#12112" class="Bound">vd</a> <a id="12115" href="Ledger.Conway.Utxo.html#12115" class="Bound">khs</a> <a id="12119" href="Ledger.Conway.Utxo.html#12119" class="Bound">v</a> <a id="12121" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12123" href="Ledger.Conway.Utxo.html#12123" class="Bound">certs</a><a id="12128" class="Symbol">)</a> <a id="12130" href="Ledger.Conway.Utxo.html#12130" class="Bound">deposits</a>
  <a id="12141" class="Symbol">=</a> <a id="12143" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12162" href="Ledger.Conway.Utxo.html#12097" class="Bound">pp</a> <a id="12165" href="Ledger.Conway.Utxo.html#12123" class="Bound">certs</a> <a id="12171" class="Symbol">(</a><a id="12172" href="Ledger.Conway.Utxo.html#12130" class="Bound">deposits</a> <a id="12181" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12184" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="12196" class="Symbol">(</a><a id="12197" href="Ledger.Conway.Certs.html#1633" class="InductiveConstructor">delegate</a> <a id="12206" href="Ledger.Conway.Utxo.html#12110" class="Bound">c</a> <a id="12208" href="Ledger.Conway.Utxo.html#12112" class="Bound">vd</a> <a id="12211" href="Ledger.Conway.Utxo.html#12115" class="Bound">khs</a> <a id="12215" href="Ledger.Conway.Utxo.html#12119" class="Bound">v</a><a id="12216" class="Symbol">)</a> <a id="12218" href="Ledger.Conway.Utxo.html#12097" class="Bound">pp</a><a id="12220" class="Symbol">)</a>
<a id="12222" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12241" href="Ledger.Conway.Utxo.html#12241" class="Bound">pp</a> <a id="12244" class="Symbol">(</a><a id="12245" href="Ledger.Conway.Certs.html#1754" class="InductiveConstructor">regpool</a> <a id="12253" href="Ledger.Conway.Utxo.html#12253" class="Bound">kh</a> <a id="12256" href="Ledger.Conway.Utxo.html#12256" class="Bound">p</a> <a id="12258" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12260" href="Ledger.Conway.Utxo.html#12260" class="Bound">certs</a><a id="12265" class="Symbol">)</a> <a id="12267" href="Ledger.Conway.Utxo.html#12267" class="Bound">deposits</a>
  <a id="12278" class="Symbol">=</a> <a id="12280" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12299" href="Ledger.Conway.Utxo.html#12241" class="Bound">pp</a> <a id="12302" href="Ledger.Conway.Utxo.html#12260" class="Bound">certs</a> <a id="12308" class="Symbol">(</a><a id="12309" href="Ledger.Conway.Utxo.html#12267" class="Bound">deposits</a> <a id="12318" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12321" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="12333" class="Symbol">(</a><a id="12334" href="Ledger.Conway.Certs.html#1754" class="InductiveConstructor">regpool</a> <a id="12342" href="Ledger.Conway.Utxo.html#12253" class="Bound">kh</a> <a id="12345" href="Ledger.Conway.Utxo.html#12256" class="Bound">p</a><a id="12346" class="Symbol">)</a> <a id="12348" href="Ledger.Conway.Utxo.html#12241" class="Bound">pp</a><a id="12350" class="Symbol">)</a>
<a id="12352" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12371" href="Ledger.Conway.Utxo.html#12371" class="Bound">pp</a> <a id="12374" class="Symbol">(</a><a id="12375" href="Ledger.Conway.Certs.html#1839" class="InductiveConstructor">regdrep</a> <a id="12383" href="Ledger.Conway.Utxo.html#12383" class="Bound">c</a> <a id="12385" href="Ledger.Conway.Utxo.html#12385" class="Bound">v</a> <a id="12387" href="Ledger.Conway.Utxo.html#12387" class="Bound">a</a> <a id="12389" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12391" href="Ledger.Conway.Utxo.html#12391" class="Bound">certs</a><a id="12396" class="Symbol">)</a> <a id="12398" href="Ledger.Conway.Utxo.html#12398" class="Bound">deposits</a>
  <a id="12409" class="Symbol">=</a> <a id="12411" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12430" href="Ledger.Conway.Utxo.html#12371" class="Bound">pp</a> <a id="12433" href="Ledger.Conway.Utxo.html#12391" class="Bound">certs</a> <a id="12439" class="Symbol">(</a><a id="12440" href="Ledger.Conway.Utxo.html#12398" class="Bound">deposits</a> <a id="12449" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12452" href="Ledger.Conway.Utxo.html#7751" class="Function">certDeposit</a> <a id="12464" class="Symbol">(</a><a id="12465" href="Ledger.Conway.Certs.html#1839" class="InductiveConstructor">regdrep</a> <a id="12473" href="Ledger.Conway.Utxo.html#12383" class="Bound">c</a> <a id="12475" href="Ledger.Conway.Utxo.html#12385" class="Bound">v</a> <a id="12477" href="Ledger.Conway.Utxo.html#12387" class="Bound">a</a><a id="12478" class="Symbol">)</a> <a id="12480" href="Ledger.Conway.Utxo.html#12371" class="Bound">pp</a><a id="12482" class="Symbol">)</a>
<a id="12484" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12503" href="Ledger.Conway.Utxo.html#12503" class="Bound">pp</a> <a id="12506" class="Symbol">(</a><a id="12507" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="12513" href="Ledger.Conway.Utxo.html#12513" class="Bound">c</a> <a id="12515" href="Ledger.Conway.Utxo.html#12515" class="Bound">v</a> <a id="12517" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12519" href="Ledger.Conway.Utxo.html#12519" class="Bound">certs</a><a id="12524" class="Symbol">)</a> <a id="12526" href="Ledger.Conway.Utxo.html#12526" class="Bound">deposits</a>
  <a id="12537" class="Symbol">=</a> <a id="12539" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12558" href="Ledger.Conway.Utxo.html#12503" class="Bound">pp</a> <a id="12561" href="Ledger.Conway.Utxo.html#12519" class="Bound">certs</a> <a id="12567" class="Symbol">(</a><a id="12568" href="Ledger.Conway.Utxo.html#12526" class="Bound">deposits</a> <a id="12577" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12579" href="Ledger.Conway.Utxo.html#8108" class="Function">certRefund</a> <a id="12590" class="Symbol">(</a><a id="12591" href="Ledger.Conway.Certs.html#1706" class="InductiveConstructor">dereg</a> <a id="12597" href="Ledger.Conway.Utxo.html#12513" class="Bound">c</a> <a id="12599" href="Ledger.Conway.Utxo.html#12515" class="Bound">v</a><a id="12600" class="Symbol">)</a><a id="12601" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12602" class="Symbol">)</a>
<a id="12604" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12623" href="Ledger.Conway.Utxo.html#12623" class="Bound">pp</a> <a id="12626" class="Symbol">(</a><a id="12627" href="Ledger.Conway.Certs.html#1890" class="InductiveConstructor">deregdrep</a> <a id="12637" href="Ledger.Conway.Utxo.html#12637" class="Bound">c</a> <a id="12639" href="Ledger.Conway.Utxo.html#12639" class="Bound">v</a> <a id="12641" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12643" href="Ledger.Conway.Utxo.html#12643" class="Bound">certs</a><a id="12648" class="Symbol">)</a> <a id="12650" href="Ledger.Conway.Utxo.html#12650" class="Bound">deposits</a>
  <a id="12661" class="Symbol">=</a> <a id="12663" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12682" href="Ledger.Conway.Utxo.html#12623" class="Bound">pp</a> <a id="12685" href="Ledger.Conway.Utxo.html#12643" class="Bound">certs</a> <a id="12691" class="Symbol">(</a><a id="12692" href="Ledger.Conway.Utxo.html#12650" class="Bound">deposits</a> <a id="12701" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12703" href="Ledger.Conway.Utxo.html#8108" class="Function">certRefund</a> <a id="12714" class="Symbol">(</a><a id="12715" href="Ledger.Conway.Certs.html#1890" class="InductiveConstructor">deregdrep</a> <a id="12725" href="Ledger.Conway.Utxo.html#12637" class="Bound">c</a> <a id="12727" href="Ledger.Conway.Utxo.html#12639" class="Bound">v</a><a id="12728" class="Symbol">)</a><a id="12729" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12730" class="Symbol">)</a>
<a id="12732" href="Ledger.Conway.Utxo.html#11776" class="CatchallClause Function">updateCertDeposits</a><a id="12750" class="CatchallClause"> </a><a id="12751" href="Ledger.Conway.Utxo.html#12751" class="CatchallClause Bound">pp</a><a id="12753" class="CatchallClause"> </a><a id="12754" class="CatchallClause Symbol">(_</a><a id="12756" class="CatchallClause"> </a><a id="12757" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="12758" class="CatchallClause"> </a><a id="12759" href="Ledger.Conway.Utxo.html#12759" class="CatchallClause Bound">certs</a><a id="12764" class="CatchallClause Symbol">)</a><a id="12765" class="CatchallClause"> </a><a id="12766" href="Ledger.Conway.Utxo.html#12766" class="CatchallClause Bound">deposits</a>
  <a id="12777" class="Symbol">=</a> <a id="12779" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="12798" href="Ledger.Conway.Utxo.html#12751" class="Bound">pp</a> <a id="12801" href="Ledger.Conway.Utxo.html#12759" class="Bound">certs</a> <a id="12807" href="Ledger.Conway.Utxo.html#12766" class="Bound">deposits</a>

<a id="updateProposalDeposits"></a><a id="12817" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="12840" class="Symbol">:</a> <a id="12842" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12847" href="Ledger.Conway.GovernanceActions.html#8031" class="Record">GovProposal</a> <a id="12859" class="Symbol">→</a> <a id="12861" href="Ledger.Conway.Transaction.html#2512" class="Field">TxId</a> <a id="12866" class="Symbol">→</a> <a id="12868" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="12873" class="Symbol">→</a> <a id="12875" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a> <a id="12884" class="Symbol">→</a> <a id="12886" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
<a id="12895" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="12918" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="12928" class="Symbol">_</a>     <a id="12934" class="Symbol">_</a>      <a id="12941" href="Ledger.Conway.Utxo.html#12941" class="Bound">deposits</a>  <a id="12951" class="Symbol">=</a> <a id="12953" href="Ledger.Conway.Utxo.html#12941" class="Bound">deposits</a>
<a id="12962" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="12985" class="Symbol">(_</a> <a id="12988" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12990" href="Ledger.Conway.Utxo.html#12990" class="Bound">ps</a><a id="12992" class="Symbol">)</a>  <a id="12995" href="Ledger.Conway.Utxo.html#12995" class="Bound">txid</a>  <a id="13001" href="Ledger.Conway.Utxo.html#13001" class="Bound">gaDep</a>  <a id="13008" href="Ledger.Conway.Utxo.html#13008" class="Bound">deposits</a>  <a id="13018" class="Symbol">=</a>
  <a id="13022" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="13045" href="Ledger.Conway.Utxo.html#12990" class="Bound">ps</a> <a id="13048" href="Ledger.Conway.Utxo.html#12995" class="Bound">txid</a> <a id="13053" href="Ledger.Conway.Utxo.html#13001" class="Bound">gaDep</a> <a id="13059" href="Ledger.Conway.Utxo.html#13008" class="Bound">deposits</a>
  <a id="13070" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="13073" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13075" href="Ledger.Conway.Certs.html#658" class="InductiveConstructor">GovActionDeposit</a> <a id="13092" class="Symbol">(</a><a id="13093" href="Ledger.Conway.Utxo.html#12995" class="Bound">txid</a> <a id="13098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13100" href="Data.List.Base.html#5044" class="Function">length</a> <a id="13107" href="Ledger.Conway.Utxo.html#12990" class="Bound">ps</a><a id="13109" class="Symbol">)</a> <a id="13111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13113" href="Ledger.Conway.Utxo.html#13001" class="Bound">gaDep</a> <a id="13119" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

<a id="updateDeposits"></a><a id="13122" href="Ledger.Conway.Utxo.html#13122" class="Function">updateDeposits</a> <a id="13137" class="Symbol">:</a> <a id="13139" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="13147" class="Symbol">→</a> <a id="13149" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="13156" class="Symbol">→</a> <a id="13158" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a> <a id="13167" class="Symbol">→</a> <a id="13169" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
<a id="13178" href="Ledger.Conway.Utxo.html#13122" class="Function">updateDeposits</a> <a id="13193" href="Ledger.Conway.Utxo.html#13193" class="Bound">pp</a> <a id="13196" href="Ledger.Conway.Utxo.html#13196" class="Bound">txb</a> <a id="13200" class="Symbol">=</a> <a id="13202" href="Ledger.Conway.Utxo.html#11776" class="Function">updateCertDeposits</a> <a id="13221" href="Ledger.Conway.Utxo.html#13193" class="Bound">pp</a> <a id="13224" href="Ledger.Conway.Transaction.html#4727" class="Field">txcerts</a>
                        <a id="13256" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13258" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="13281" href="Ledger.Conway.Transaction.html#4825" class="Field">txprop</a> <a id="13288" href="Ledger.Conway.Transaction.html#5061" class="Field">txid</a> <a id="13293" class="Symbol">(</a><a id="13294" href="Ledger.Conway.Utxo.html#13193" class="Bound">pp</a> <a id="13297" class="Symbol">.</a><a id="13298" href="Ledger.Conway.PParams.html#4495" class="Field">govActionDeposit</a><a id="13314" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
  <a id="13367" class="Keyword">where</a> <a id="13373" class="Keyword">open</a> <a id="13378" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="13385" href="Ledger.Conway.Utxo.html#13196" class="Bound">txb</a>

<a id="proposalDepositsΔ"></a><a id="13390" href="Ledger.Conway.Utxo.html#13390" class="Function">proposalDepositsΔ</a> <a id="13408" class="Symbol">:</a> <a id="13410" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13415" href="Ledger.Conway.GovernanceActions.html#8031" class="Record">GovProposal</a> <a id="13427" class="Symbol">→</a> <a id="13429" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="13437" class="Symbol">→</a> <a id="13439" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="13446" class="Symbol">→</a> <a id="13448" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>
<a id="13457" href="Ledger.Conway.Utxo.html#13390" class="Function">proposalDepositsΔ</a> <a id="13475" href="Ledger.Conway.Utxo.html#13475" class="Bound">props</a> <a id="13481" href="Ledger.Conway.Utxo.html#13481" class="Bound">pp</a> <a id="13484" href="Ledger.Conway.Utxo.html#13484" class="Bound">txb</a> <a id="13488" class="Symbol">=</a> <a id="13490" href="Ledger.Conway.Utxo.html#12817" class="Function">updateProposalDeposits</a> <a id="13513" href="Ledger.Conway.Utxo.html#13475" class="Bound">props</a> <a id="13519" href="Ledger.Conway.Transaction.html#5061" class="Field">txid</a> <a id="13524" class="Symbol">(</a><a id="13525" href="Ledger.Conway.Utxo.html#13481" class="Bound">pp</a> <a id="13528" class="Symbol">.</a><a id="13529" href="Ledger.Conway.PParams.html#4495" class="Field">govActionDeposit</a><a id="13545" class="Symbol">)</a> <a id="13547" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="13551" class="Keyword">where</a> <a id="13557" class="Keyword">open</a> <a id="13562" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="13569" href="Ledger.Conway.Utxo.html#13484" class="Bound">txb</a>
</pre>
</div>

<pre class="Agda">

<a id="depositsChange"></a><a id="13597" href="Ledger.Conway.Utxo.html#13597" class="Function">depositsChange</a> <a id="13612" class="Symbol">:</a> <a id="13614" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="13622" class="Symbol">→</a> <a id="13624" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="13631" class="Symbol">→</a> <a id="13633" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a> <a id="13642" class="Symbol">→</a> <a id="13644" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="13646" href="Ledger.Conway.Utxo.html#13597" class="Function">depositsChange</a> <a id="13661" href="Ledger.Conway.Utxo.html#13661" class="Bound">pp</a> <a id="13664" href="Ledger.Conway.Utxo.html#13664" class="Bound">txb</a> <a id="13668" href="Ledger.Conway.Utxo.html#13668" class="Bound">deposits</a> <a id="13677" class="Symbol">=</a>
  <a id="13681" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="13689" class="Symbol">(</a><a id="13690" href="Ledger.Conway.Utxo.html#13122" class="Function">updateDeposits</a> <a id="13705" href="Ledger.Conway.Utxo.html#13661" class="Bound">pp</a> <a id="13708" href="Ledger.Conway.Utxo.html#13664" class="Bound">txb</a> <a id="13712" href="Ledger.Conway.Utxo.html#13668" class="Bound">deposits</a><a id="13720" class="Symbol">)</a> <a id="13722" href="Interface.HasSubtract.html#217" class="Field Operator">-</a> <a id="13724" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="13732" href="Ledger.Conway.Utxo.html#13668" class="Bound">deposits</a>
</pre>

<h3 id="functions-used-in-utxo-rules-continued_1">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued_1" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="13803" class="Keyword">data</a> <a id="inInterval"></a><a id="13808" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="13819" class="Symbol">(</a><a id="13820" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="13825" class="Symbol">:</a> <a id="13827" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a><a id="13831" class="Symbol">)</a> <a id="13833" class="Symbol">:</a> <a id="13835" class="Symbol">(</a><a id="13836" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13842" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a> <a id="13847" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13849" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13855" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a><a id="13859" class="Symbol">)</a> <a id="13861" class="Symbol">→</a> <a id="13863" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="13868" class="Keyword">where</a>
  <a id="inInterval.both"></a><a id="13876" href="Ledger.Conway.Utxo.html#13876" class="InductiveConstructor">both</a>   <a id="13883" class="Symbol">:</a> <a id="13885" class="Symbol">∀</a> <a id="13887" class="Symbol">{</a><a id="13888" href="Ledger.Conway.Utxo.html#13888" class="Bound">l</a> <a id="13890" href="Ledger.Conway.Utxo.html#13890" class="Bound">r</a><a id="13891" class="Symbol">}</a>  <a id="13894" class="Symbol">→</a> <a id="13896" href="Ledger.Conway.Utxo.html#13888" class="Bound">l</a> <a id="13898" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13900" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="13905" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13907" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="13912" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13914" href="Ledger.Conway.Utxo.html#13890" class="Bound">r</a>  <a id="13917" class="Symbol">→</a>  <a id="13920" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="13931" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="13936" class="Symbol">(</a><a id="13937" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13942" href="Ledger.Conway.Utxo.html#13888" class="Bound">l</a>   <a id="13946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13948" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13953" href="Ledger.Conway.Utxo.html#13890" class="Bound">r</a><a id="13954" class="Symbol">)</a>
  <a id="inInterval.lower"></a><a id="13958" href="Ledger.Conway.Utxo.html#13958" class="InductiveConstructor">lower</a>  <a id="13965" class="Symbol">:</a> <a id="13967" class="Symbol">∀</a> <a id="13969" class="Symbol">{</a><a id="13970" href="Ledger.Conway.Utxo.html#13970" class="Bound">l</a><a id="13971" class="Symbol">}</a>    <a id="13976" class="Symbol">→</a> <a id="13978" href="Ledger.Conway.Utxo.html#13970" class="Bound">l</a> <a id="13980" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13982" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a>             <a id="13999" class="Symbol">→</a>  <a id="14002" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="14013" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="14018" class="Symbol">(</a><a id="14019" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14024" href="Ledger.Conway.Utxo.html#13970" class="Bound">l</a>   <a id="14028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14030" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14037" class="Symbol">)</a>
  <a id="inInterval.upper"></a><a id="14041" href="Ledger.Conway.Utxo.html#14041" class="InductiveConstructor">upper</a>  <a id="14048" class="Symbol">:</a> <a id="14050" class="Symbol">∀</a> <a id="14052" class="Symbol">{</a><a id="14053" href="Ledger.Conway.Utxo.html#14053" class="Bound">r</a><a id="14054" class="Symbol">}</a>    <a id="14059" class="Symbol">→</a> <a id="14061" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="14066" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="14068" href="Ledger.Conway.Utxo.html#14053" class="Bound">r</a>             <a id="14082" class="Symbol">→</a>  <a id="14085" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="14096" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="14101" class="Symbol">(</a><a id="14102" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="14111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14113" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14118" href="Ledger.Conway.Utxo.html#14053" class="Bound">r</a><a id="14119" class="Symbol">)</a>
  <a id="inInterval.none"></a><a id="14123" href="Ledger.Conway.Utxo.html#14123" class="InductiveConstructor">none</a>   <a id="14130" class="Symbol">:</a>                                    <a id="14167" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="14178" href="Ledger.Conway.Utxo.html#13820" class="Bound">slot</a> <a id="14183" class="Symbol">(</a><a id="14184" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="14193" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14195" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14202" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="14253" class="Comment">-- Note: inInterval has to be a type definition for inference to work</a>
<a id="14323" class="Keyword">instance</a>
  <a id="Dec-inInterval"></a><a id="14334" href="Ledger.Conway.Utxo.html#14334" class="Function">Dec-inInterval</a> <a id="14349" class="Symbol">:</a> <a id="14351" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="14362" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a>
  <a id="14367" href="Ledger.Conway.Utxo.html#14334" class="Function">Dec-inInterval</a> <a id="14382" class="Symbol">{</a><a id="14383" href="Ledger.Conway.Utxo.html#14383" class="Bound">slot</a><a id="14387" class="Symbol">}</a> <a id="14389" class="Symbol">{</a><a id="14390" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14395" href="Ledger.Conway.Utxo.html#14395" class="Bound">x</a>  <a id="14398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14400" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14405" href="Ledger.Conway.Utxo.html#14405" class="Bound">y</a> <a id="14407" class="Symbol">}</a> <a id="14409" class="Symbol">.</a><a id="14410" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14414" class="Keyword">with</a> <a id="14419" href="Ledger.Conway.Utxo.html#14395" class="Bound">x</a> <a id="14421" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14424" href="Ledger.Conway.Utxo.html#14383" class="Bound">slot</a> <a id="14429" class="Symbol">|</a> <a id="14431" href="Ledger.Conway.Utxo.html#14383" class="Bound">slot</a> <a id="14436" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14439" href="Ledger.Conway.Utxo.html#14405" class="Bound">y</a>
  <a id="14443" class="Symbol">...</a> <a id="14447" class="Symbol">|</a> <a id="14449" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14452" href="Ledger.Conway.Utxo.html#14452" class="Bound">¬p₁</a> <a id="14456" class="Symbol">|</a> <a id="14458" class="Symbol">_</a>      <a id="14465" class="Symbol">=</a> <a id="14467" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14470" class="Symbol">λ</a> <a id="14472" class="Keyword">where</a> <a id="14478" class="Symbol">(</a><a id="14479" href="Ledger.Conway.Utxo.html#13876" class="InductiveConstructor">both</a> <a id="14484" class="Symbol">(</a><a id="14485" href="Ledger.Conway.Utxo.html#14485" class="Bound">h₁</a> <a id="14488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14490" href="Ledger.Conway.Utxo.html#14490" class="Bound">h₂</a><a id="14492" class="Symbol">))</a> <a id="14495" class="Symbol">→</a> <a id="14497" href="Ledger.Conway.Utxo.html#14452" class="Bound">¬p₁</a> <a id="14501" href="Ledger.Conway.Utxo.html#14485" class="Bound">h₁</a>
  <a id="14506" class="Symbol">...</a> <a id="14510" class="Symbol">|</a> <a id="14512" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14516" href="Ledger.Conway.Utxo.html#14516" class="Bound">p₁</a> <a id="14519" class="Symbol">|</a> <a id="14521" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14524" href="Ledger.Conway.Utxo.html#14524" class="Bound">¬p₂</a> <a id="14528" class="Symbol">=</a> <a id="14530" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14533" class="Symbol">λ</a> <a id="14535" class="Keyword">where</a> <a id="14541" class="Symbol">(</a><a id="14542" href="Ledger.Conway.Utxo.html#13876" class="InductiveConstructor">both</a> <a id="14547" class="Symbol">(</a><a id="14548" href="Ledger.Conway.Utxo.html#14548" class="Bound">h₁</a> <a id="14551" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14553" href="Ledger.Conway.Utxo.html#14553" class="Bound">h₂</a><a id="14555" class="Symbol">))</a> <a id="14558" class="Symbol">→</a> <a id="14560" href="Ledger.Conway.Utxo.html#14524" class="Bound">¬p₂</a> <a id="14564" href="Ledger.Conway.Utxo.html#14553" class="Bound">h₂</a>
  <a id="14569" class="Symbol">...</a> <a id="14573" class="Symbol">|</a> <a id="14575" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14579" href="Ledger.Conway.Utxo.html#14579" class="Bound">p₁</a> <a id="14582" class="Symbol">|</a> <a id="14584" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14588" href="Ledger.Conway.Utxo.html#14588" class="Bound">p₂</a> <a id="14591" class="Symbol">=</a> <a id="14593" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14597" class="Symbol">(</a><a id="14598" href="Ledger.Conway.Utxo.html#13876" class="InductiveConstructor">both</a> <a id="14603" class="Symbol">(</a><a id="14604" href="Ledger.Conway.Utxo.html#14579" class="Bound">p₁</a> <a id="14607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14609" href="Ledger.Conway.Utxo.html#14588" class="Bound">p₂</a><a id="14611" class="Symbol">))</a>
  <a id="14616" href="Ledger.Conway.Utxo.html#14334" class="Function">Dec-inInterval</a> <a id="14631" class="Symbol">{</a><a id="14632" href="Ledger.Conway.Utxo.html#14632" class="Bound">slot</a><a id="14636" class="Symbol">}</a> <a id="14638" class="Symbol">{</a><a id="14639" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14644" href="Ledger.Conway.Utxo.html#14644" class="Bound">x</a>  <a id="14647" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14649" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14656" class="Symbol">}</a> <a id="14658" class="Symbol">.</a><a id="14659" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14663" class="Keyword">with</a> <a id="14668" href="Ledger.Conway.Utxo.html#14644" class="Bound">x</a> <a id="14670" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14673" href="Ledger.Conway.Utxo.html#14632" class="Bound">slot</a>
  <a id="14680" class="Symbol">...</a> <a id="14684" class="Symbol">|</a> <a id="14686" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14689" href="Ledger.Conway.Utxo.html#14689" class="Bound">¬p</a> <a id="14692" class="Symbol">=</a> <a id="14694" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="14698" class="Symbol">(λ</a> <a id="14701" class="Keyword">where</a> <a id="14707" class="Symbol">(</a><a id="14708" href="Ledger.Conway.Utxo.html#13958" class="InductiveConstructor">lower</a> <a id="14714" href="Ledger.Conway.Utxo.html#14714" class="Bound">h</a><a id="14715" class="Symbol">)</a> <a id="14717" class="Symbol">→</a> <a id="14719" href="Ledger.Conway.Utxo.html#14689" class="Bound">¬p</a> <a id="14722" href="Ledger.Conway.Utxo.html#14714" class="Bound">h</a><a id="14723" class="Symbol">)</a>
  <a id="14727" class="Symbol">...</a> <a id="14731" class="Symbol">|</a> <a id="14733" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14737" href="Ledger.Conway.Utxo.html#14737" class="Bound">p</a> <a id="14739" class="Symbol">=</a> <a id="14741" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14745" class="Symbol">(</a><a id="14746" href="Ledger.Conway.Utxo.html#13958" class="InductiveConstructor">lower</a> <a id="14752" href="Ledger.Conway.Utxo.html#14737" class="Bound">p</a><a id="14753" class="Symbol">)</a>
  <a id="14757" href="Ledger.Conway.Utxo.html#14334" class="Function">Dec-inInterval</a> <a id="14772" class="Symbol">{</a><a id="14773" href="Ledger.Conway.Utxo.html#14773" class="Bound">slot</a><a id="14777" class="Symbol">}</a> <a id="14779" class="Symbol">{</a><a id="14780" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="14788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14790" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14795" href="Ledger.Conway.Utxo.html#14795" class="Bound">x</a> <a id="14797" class="Symbol">}</a> <a id="14799" class="Symbol">.</a><a id="14800" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14804" class="Keyword">with</a> <a id="14809" href="Ledger.Conway.Utxo.html#14773" class="Bound">slot</a> <a id="14814" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14817" href="Ledger.Conway.Utxo.html#14795" class="Bound">x</a>
  <a id="14821" class="Symbol">...</a> <a id="14825" class="Symbol">|</a> <a id="14827" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14830" href="Ledger.Conway.Utxo.html#14830" class="Bound">¬p</a> <a id="14833" class="Symbol">=</a> <a id="14835" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="14839" class="Symbol">(λ</a> <a id="14842" class="Keyword">where</a> <a id="14848" class="Symbol">(</a><a id="14849" href="Ledger.Conway.Utxo.html#14041" class="InductiveConstructor">upper</a> <a id="14855" href="Ledger.Conway.Utxo.html#14855" class="Bound">h</a><a id="14856" class="Symbol">)</a> <a id="14858" class="Symbol">→</a> <a id="14860" href="Ledger.Conway.Utxo.html#14830" class="Bound">¬p</a> <a id="14863" href="Ledger.Conway.Utxo.html#14855" class="Bound">h</a><a id="14864" class="Symbol">)</a>
  <a id="14868" class="Symbol">...</a> <a id="14872" class="Symbol">|</a> <a id="14874" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14878" href="Ledger.Conway.Utxo.html#14878" class="Bound">p</a> <a id="14880" class="Symbol">=</a> <a id="14882" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14886" class="Symbol">(</a><a id="14887" href="Ledger.Conway.Utxo.html#14041" class="InductiveConstructor">upper</a> <a id="14893" href="Ledger.Conway.Utxo.html#14878" class="Bound">p</a><a id="14894" class="Symbol">)</a>
  <a id="14898" href="Ledger.Conway.Utxo.html#14334" class="Function">Dec-inInterval</a> <a id="14913" class="Symbol">{</a><a id="14914" href="Ledger.Conway.Utxo.html#14914" class="Bound">slot</a><a id="14918" class="Symbol">}</a> <a id="14920" class="Symbol">{</a><a id="14921" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="14929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14931" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14938" class="Symbol">}</a> <a id="14940" class="Symbol">.</a><a id="14941" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14945" class="Symbol">=</a> <a id="14947" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14951" href="Ledger.Conway.Utxo.html#14123" class="InductiveConstructor">none</a>

  <a id="HasCoin-UTxOState"></a><a id="14959" href="Ledger.Conway.Utxo.html#14959" class="Function">HasCoin-UTxOState</a> <a id="14977" class="Symbol">:</a> <a id="14979" href="Ledger.Interface.HasCoin.html#132" class="Record">HasCoin</a> <a id="14987" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a>
  <a id="14999" href="Ledger.Conway.Utxo.html#14959" class="Function">HasCoin-UTxOState</a> <a id="15017" class="Symbol">.</a><a id="15018" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15026" href="Ledger.Conway.Utxo.html#15026" class="Bound">s</a> <a id="15028" class="Symbol">=</a> <a id="15030" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15038" class="Symbol">(</a><a id="15039" href="Ledger.Conway.Utxo.html#6072" class="Field">UTxOState.utxo</a> <a id="15054" href="Ledger.Conway.Utxo.html#15026" class="Bound">s</a><a id="15055" class="Symbol">)</a>
                               <a id="15088" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15090" class="Symbol">(</a><a id="15091" href="Ledger.Conway.Utxo.html#6094" class="Field">UTxOState.fees</a> <a id="15106" href="Ledger.Conway.Utxo.html#15026" class="Bound">s</a><a id="15107" class="Symbol">)</a>
                               <a id="15140" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15142" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15150" class="Symbol">(</a><a id="15151" href="Ledger.Conway.Utxo.html#6116" class="Field">UTxOState.deposits</a> <a id="15170" href="Ledger.Conway.Utxo.html#15026" class="Bound">s</a><a id="15171" class="Symbol">)</a>
                               <a id="15204" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15206" href="Ledger.Conway.Utxo.html#6142" class="Field">UTxOState.donations</a> <a id="15226" href="Ledger.Conway.Utxo.html#15026" class="Bound">s</a>

<a id="coinPolicies"></a><a id="15229" href="Ledger.Conway.Utxo.html#15229" class="Function">coinPolicies</a> <a id="15242" class="Symbol">:</a> <a id="15244" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15246" href="Ledger.Conway.Crypto.html#1840" class="Function">ScriptHash</a>
<a id="15257" href="Ledger.Conway.Utxo.html#15229" class="Function">coinPolicies</a> <a id="15270" class="Symbol">=</a> <a id="15272" href="Ledger.Conway.TokenAlgebra.Base.html#1233" class="Function">policies</a> <a id="15281" class="Symbol">(</a><a id="15282" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="15289" class="Number">1</a><a id="15290" class="Symbol">)</a>

<a id="isAdaOnly"></a><a id="15293" href="Ledger.Conway.Utxo.html#15293" class="Function">isAdaOnly</a> <a id="15303" class="Symbol">:</a> <a id="15305" href="Ledger.Conway.TokenAlgebra.Base.html#756" class="Function">Value</a> <a id="15311" class="Symbol">→</a> <a id="15313" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="15318" href="Ledger.Conway.Utxo.html#15293" class="Function">isAdaOnly</a> <a id="15328" href="Ledger.Conway.Utxo.html#15328" class="Bound">v</a> <a id="15330" class="Symbol">=</a> <a id="15332" href="Ledger.Conway.TokenAlgebra.Base.html#1233" class="Function">policies</a> <a id="15341" href="Ledger.Conway.Utxo.html#15328" class="Bound">v</a> <a id="15343" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15346" href="Ledger.Conway.Utxo.html#15229" class="Function">coinPolicies</a>
</pre>
</div>

<pre class="Agda">
<a id="feesOK"></a><a id="15382" href="Ledger.Conway.Utxo.html#15382" class="Function">feesOK</a> <a id="15389" class="Symbol">:</a> <a id="15391" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="15399" class="Symbol">→</a> <a id="15401" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="15404" class="Symbol">→</a> <a id="15406" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="15411" class="Symbol">→</a> <a id="15413" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="15418" href="Ledger.Conway.Utxo.html#15382" class="Function">feesOK</a> <a id="15425" href="Ledger.Conway.Utxo.html#15425" class="Bound">pp</a> <a id="15428" href="Ledger.Conway.Utxo.html#15428" class="Bound">tx</a> <a id="15431" href="Ledger.Conway.Utxo.html#15431" class="Bound">utxo</a> <a id="15436" class="Symbol">=</a> <a id="15438" class="Symbol">(</a> <a id="15440" href="Ledger.Conway.Utxo.html#7386" class="Function">minfee</a> <a id="15447" href="Ledger.Conway.Utxo.html#15425" class="Bound">pp</a> <a id="15450" href="Ledger.Conway.Utxo.html#15431" class="Bound">utxo</a> <a id="15455" href="Ledger.Conway.Utxo.html#15428" class="Bound">tx</a> <a id="15458" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="15460" href="Ledger.Conway.Transaction.html#4623" class="Function">txfee</a> <a id="15466" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15468" class="Symbol">(</a><a id="15469" href="Ledger.Conway.Transaction.html#5984" class="Function">txrdmrs</a> <a id="15477" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="15479" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15481" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                      <a id="15505" class="Symbol">→</a> <a id="15507" class="Symbol">(</a> <a id="15509" href="Axiom.Set.html#9724" class="Function">All</a> <a id="15513" class="Symbol">(λ</a> <a id="15516" class="Symbol">(</a><a id="15517" href="Ledger.Conway.Utxo.html#15517" class="Bound">addr</a> <a id="15522" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15524" class="Symbol">_)</a> <a id="15527" class="Symbol">→</a> <a id="15529" href="Ledger.Conway.Address.html#3659" class="Function">isVKeyAddr</a> <a id="15540" href="Ledger.Conway.Utxo.html#15517" class="Bound">addr</a><a id="15544" class="Symbol">)</a> <a id="15546" href="Ledger.Conway.Utxo.html#15876" class="Function">collateralRange</a>
                        <a id="15586" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15588" href="Ledger.Conway.Utxo.html#15293" class="Function">isAdaOnly</a> <a id="15598" href="Ledger.Conway.Utxo.html#15950" class="Function">bal</a>
                        <a id="15626" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15628" href="Ledger.Conway.TokenAlgebra.Base.html#1143" class="Function">coin</a> <a id="15633" href="Ledger.Conway.Utxo.html#15950" class="Function">bal</a> <a id="15637" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="15639" class="Number">100</a> <a id="15643" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="15645" href="Ledger.Conway.Transaction.html#4623" class="Function">txfee</a> <a id="15651" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="15653" href="Ledger.Conway.Utxo.html#15425" class="Bound">pp</a> <a id="15656" class="Symbol">.</a><a id="15657" href="Ledger.Conway.PParams.html#3971" class="Field">collateralPercentage</a>
                        <a id="15702" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15704" href="Ledger.Conway.Transaction.html#5089" class="Function">collateral</a> <a id="15715" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15717" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                        <a id="15743" class="Symbol">)</a>
                      <a id="15767" class="Symbol">)</a>
                    <a id="15789" class="Symbol">)</a>
  <a id="15793" class="Keyword">where</a>
    <a id="15803" class="Keyword">open</a> <a id="15808" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a> <a id="15811" href="Ledger.Conway.Utxo.html#15428" class="Bound">tx</a><a id="15813" class="Symbol">;</a> <a id="15815" class="Keyword">open</a> <a id="15820" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="15827" href="Ledger.Conway.Transaction.html#6141" class="Function">body</a><a id="15831" class="Symbol">;</a> <a id="15833" class="Keyword">open</a> <a id="15838" href="Ledger.Conway.Transaction.html#5855" class="Module">TxWitnesses</a> <a id="15850" href="Ledger.Conway.Transaction.html#6165" class="Function">wits</a><a id="15854" class="Symbol">;</a> <a id="15856" class="Keyword">open</a> <a id="15861" href="Ledger.Conway.PParams.html#2528" class="Module">PParams</a> <a id="15869" href="Ledger.Conway.Utxo.html#15425" class="Bound">pp</a>
    <a id="15876" href="Ledger.Conway.Utxo.html#15876" class="Function">collateralRange</a>  <a id="15893" class="Symbol">=</a> <a id="15895" href="Class.IsSet.html#959" class="Function">range</a>    <a id="15904" class="Symbol">((</a><a id="15906" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="15916" href="Ledger.Conway.Transaction.html#7073" class="Function">txOutHash</a> <a id="15926" href="Ledger.Conway.Utxo.html#15431" class="Bound">utxo</a><a id="15930" class="Symbol">)</a> <a id="15932" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="15934" href="Ledger.Conway.Transaction.html#5089" class="Function">collateral</a><a id="15944" class="Symbol">)</a>
    <a id="15950" href="Ledger.Conway.Utxo.html#15950" class="Function">bal</a>              <a id="15967" class="Symbol">=</a> <a id="15969" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a>  <a id="15978" class="Symbol">(</a><a id="15979" href="Ledger.Conway.Utxo.html#15431" class="Bound">utxo</a> <a id="15984" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="15986" href="Ledger.Conway.Transaction.html#5089" class="Function">collateral</a><a id="15996" class="Symbol">)</a>
</pre>

<h3 id="functions-used-in-utxo-rules-continued_2">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued_2" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="16095" class="Keyword">module</a> <a id="16102" href="Ledger.Conway.Utxo.html#16102" class="Module">_</a> <a id="16104" class="Symbol">(</a><a id="16105" class="Keyword">let</a> <a id="16109" class="Keyword">open</a> <a id="16114" href="Ledger.Conway.Utxo.html#5940" class="Module">UTxOState</a><a id="16123" class="Symbol">;</a> <a id="16125" class="Keyword">open</a> <a id="16130" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a><a id="16136" class="Symbol">)</a> <a id="16138" class="Keyword">where</a>
</pre>
</div>

<pre class="Agda">
  <a id="16169" href="Ledger.Conway.Utxo.html#16169" class="Function">depositRefunds</a> <a id="16184" class="Symbol">:</a> <a id="16186" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="16194" class="Symbol">→</a> <a id="16196" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="16206" class="Symbol">→</a> <a id="16208" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="16215" class="Symbol">→</a> <a id="16217" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="16224" href="Ledger.Conway.Utxo.html#16169" class="Function">depositRefunds</a> <a id="16239" href="Ledger.Conway.Utxo.html#16239" class="Bound">pp</a> <a id="16242" href="Ledger.Conway.Utxo.html#16242" class="Bound">st</a> <a id="16245" href="Ledger.Conway.Utxo.html#16245" class="Bound">txb</a> <a id="16249" class="Symbol">=</a> <a id="16251" href="Prelude.html#3252" class="Function">negPart</a> <a id="16259" class="Symbol">(</a><a id="16260" href="Ledger.Conway.Utxo.html#13597" class="Function">depositsChange</a> <a id="16275" href="Ledger.Conway.Utxo.html#16239" class="Bound">pp</a> <a id="16278" href="Ledger.Conway.Utxo.html#16245" class="Bound">txb</a> <a id="16282" class="Symbol">(</a><a id="16283" href="Ledger.Conway.Utxo.html#16242" class="Bound">st</a> <a id="16286" class="Symbol">.</a><a id="16287" href="Ledger.Conway.Utxo.html#6116" class="Field">deposits</a><a id="16295" class="Symbol">))</a>

  <a id="16301" href="Ledger.Conway.Utxo.html#16301" class="Function">newDeposits</a> <a id="16313" class="Symbol">:</a> <a id="16315" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="16323" class="Symbol">→</a> <a id="16325" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="16335" class="Symbol">→</a> <a id="16337" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="16344" class="Symbol">→</a> <a id="16346" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="16353" href="Ledger.Conway.Utxo.html#16301" class="Function">newDeposits</a> <a id="16365" href="Ledger.Conway.Utxo.html#16365" class="Bound">pp</a> <a id="16368" href="Ledger.Conway.Utxo.html#16368" class="Bound">st</a> <a id="16371" href="Ledger.Conway.Utxo.html#16371" class="Bound">txb</a> <a id="16375" class="Symbol">=</a> <a id="16377" href="Prelude.html#3175" class="Function">posPart</a> <a id="16385" class="Symbol">(</a><a id="16386" href="Ledger.Conway.Utxo.html#13597" class="Function">depositsChange</a> <a id="16401" href="Ledger.Conway.Utxo.html#16365" class="Bound">pp</a> <a id="16404" href="Ledger.Conway.Utxo.html#16371" class="Bound">txb</a> <a id="16408" class="Symbol">(</a><a id="16409" href="Ledger.Conway.Utxo.html#16368" class="Bound">st</a> <a id="16412" class="Symbol">.</a><a id="16413" href="Ledger.Conway.Utxo.html#6116" class="Field">deposits</a><a id="16421" class="Symbol">))</a>

  <a id="16427" href="Ledger.Conway.Utxo.html#16427" class="Function">consumed</a> <a id="16436" class="Symbol">:</a> <a id="16438" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="16446" class="Symbol">→</a> <a id="16448" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="16458" class="Symbol">→</a> <a id="16460" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="16467" class="Symbol">→</a> <a id="16469" href="Ledger.Conway.TokenAlgebra.Base.html#756" class="Function">Value</a>
  <a id="16477" href="Ledger.Conway.Utxo.html#16427" class="Function">consumed</a> <a id="16486" href="Ledger.Conway.Utxo.html#16486" class="Bound">pp</a> <a id="16489" href="Ledger.Conway.Utxo.html#16489" class="Bound">st</a> <a id="16492" href="Ledger.Conway.Utxo.html#16492" class="Bound">txb</a>
    <a id="16500" class="Symbol">=</a>  <a id="16503" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a> <a id="16511" class="Symbol">(</a><a id="16512" href="Ledger.Conway.Utxo.html#16489" class="Bound">st</a> <a id="16515" class="Symbol">.</a><a id="16516" href="Ledger.Conway.Utxo.html#6072" class="Field">utxo</a> <a id="16521" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="16523" href="Ledger.Conway.Utxo.html#16492" class="Bound">txb</a> <a id="16527" class="Symbol">.</a><a id="16528" href="Ledger.Conway.Transaction.html#4529" class="Field">txins</a><a id="16533" class="Symbol">)</a>
    <a id="16539" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16542" href="Ledger.Conway.Utxo.html#16492" class="Bound">txb</a> <a id="16546" class="Symbol">.</a><a id="16547" href="Ledger.Conway.Transaction.html#4651" class="Field">mint</a>
    <a id="16556" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16559" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="16566" class="Symbol">(</a><a id="16567" href="Ledger.Conway.Utxo.html#16169" class="Function">depositRefunds</a> <a id="16582" href="Ledger.Conway.Utxo.html#16486" class="Bound">pp</a> <a id="16585" href="Ledger.Conway.Utxo.html#16489" class="Bound">st</a> <a id="16588" href="Ledger.Conway.Utxo.html#16492" class="Bound">txb</a><a id="16591" class="Symbol">)</a>
    <a id="16597" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16600" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="16607" class="Symbol">(</a><a id="16608" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="16616" class="Symbol">(</a><a id="16617" href="Ledger.Conway.Utxo.html#16492" class="Bound">txb</a> <a id="16621" class="Symbol">.</a><a id="16622" href="Ledger.Conway.Transaction.html#4761" class="Field">txwdrls</a><a id="16629" class="Symbol">))</a>

  <a id="16635" href="Ledger.Conway.Utxo.html#16635" class="Function">produced</a> <a id="16644" class="Symbol">:</a> <a id="16646" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="16654" class="Symbol">→</a> <a id="16656" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="16666" class="Symbol">→</a> <a id="16668" href="Ledger.Conway.Transaction.html#4493" class="Record">TxBody</a> <a id="16675" class="Symbol">→</a> <a id="16677" href="Ledger.Conway.TokenAlgebra.Base.html#756" class="Function">Value</a>
  <a id="16685" href="Ledger.Conway.Utxo.html#16635" class="Function">produced</a> <a id="16694" href="Ledger.Conway.Utxo.html#16694" class="Bound">pp</a> <a id="16697" href="Ledger.Conway.Utxo.html#16697" class="Bound">st</a> <a id="16700" href="Ledger.Conway.Utxo.html#16700" class="Bound">txb</a> <a id="16704" class="Symbol">=</a> <a id="16706" href="Ledger.Conway.Utxo.html#7103" class="Function">balance</a> <a id="16714" class="Symbol">(</a><a id="16715" href="Ledger.Conway.Utxo.html#7032" class="Function">outs</a> <a id="16720" href="Ledger.Conway.Utxo.html#16700" class="Bound">txb</a><a id="16723" class="Symbol">)</a>
                     <a id="16746" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16748" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="16755" class="Symbol">(</a><a id="16756" href="Ledger.Conway.Utxo.html#16700" class="Bound">txb</a> <a id="16760" class="Symbol">.</a><a id="16761" href="Ledger.Conway.Transaction.html#4623" class="Field">txfee</a><a id="16766" class="Symbol">)</a>
                     <a id="16789" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16791" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="16798" class="Symbol">(</a><a id="16799" href="Ledger.Conway.Utxo.html#16301" class="Function">newDeposits</a> <a id="16811" href="Ledger.Conway.Utxo.html#16694" class="Bound">pp</a> <a id="16814" href="Ledger.Conway.Utxo.html#16697" class="Bound">st</a> <a id="16817" href="Ledger.Conway.Utxo.html#16700" class="Bound">txb</a><a id="16820" class="Symbol">)</a>
                     <a id="16843" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16845" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="16852" class="Symbol">(</a><a id="16853" href="Ledger.Conway.Utxo.html#16700" class="Bound">txb</a> <a id="16857" class="Symbol">.</a><a id="16858" href="Ledger.Conway.Transaction.html#4865" class="Field">txdonation</a><a id="16868" class="Symbol">)</a>
</pre>
<p>As seen in
<a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules-continued">'Functions used in UTxO rules, continued'</a>, we
redefine <code class="AgdaFunction">depositRefunds</code> and
<code class="AgdaFunction">newDeposits</code> via <code class="AgdaFunction">depositsChange</code>, which
computes the difference between the total deposits before and after
their application. This simplifies their definitions and some
correctness proofs. We then add the absolute value of
<code class="AgdaFunction">depositsChange</code> to <code class="AgdaFunction">consumed</code> or
<code class="AgdaFunction">produced</code> depending on its sign. This is done via
<code class="AgdaFunction">negPart</code> and <code class="AgdaFunction">posPart</code>, which satisfy the
key property that their difference is the identity function.</p>
<p><a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules">'Functions used in UTxO rules'</a> defines the
function <code class="AgdaFunction">minfee</code>. In Conway, <code class="AgdaFunction">minfee</code>
includes the cost for reference scripts. This is calculated using
<code class="AgdaFunction">scriptsCost</code> (see
<em>cref 'fig:scriptsCost' (unresolved reference)</em>).</p>
<p><a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules">'Functions used in UTxO rules'</a> also shows the
signature of <code class="AgdaDatatype">ValidCertDeposits</code>. Inhabitants of this
type are constructed in one of eight ways, corresponding to seven
certificate types plus one for an empty list of certificates. Suffice it
to say that <code class="AgdaDatatype">ValidCertDeposits</code> is used to check the
validity of the deposits in a transaction so that the function
<code class="AgdaFunction">updateCertDeposits</code> can correctly register and
deregister deposits in the UTxO state based on the certificates in the
transaction.</p>
<h3 id="utxos-rule">UTXOS rule<a class="headerlink" href="#utxos-rule" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="18528" class="Keyword">open</a> <a id="18533" href="Ledger.Conway.PParams.html#2528" class="Module">PParams</a>

<a id="18542" class="Keyword">private</a> <a id="18550" class="Keyword">variable</a>
  <a id="18561" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="18563" class="Symbol">:</a> <a id="18565" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a>
  <a id="18575" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="18577" href="Ledger.Conway.Utxo.html#18577" class="Generalizable">s&#39;</a> <a id="18580" class="Symbol">:</a> <a id="18582" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a>
  <a id="18594" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="18597" class="Symbol">:</a> <a id="18599" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a>
  <a id="18604" href="Ledger.Conway.Utxo.html#18604" class="Generalizable">utxo</a> <a id="18609" class="Symbol">:</a> <a id="18611" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a>
  <a id="18618" href="Ledger.Conway.Utxo.html#18618" class="Generalizable">fees</a> <a id="18623" href="Ledger.Conway.Utxo.html#18623" class="Generalizable">donations</a> <a id="18633" class="Symbol">:</a> <a id="18635" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="18642" href="Ledger.Conway.Utxo.html#18642" class="Generalizable">deposits</a> <a id="18651" class="Symbol">:</a> <a id="18653" href="Ledger.Conway.Certs.html#710" class="Function">Deposits</a>

<a id="18663" class="Keyword">open</a> <a id="18668" href="Ledger.Conway.Utxo.html#5507" class="Module">UTxOEnv</a>

<a id="18677" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXOS⦈_"></a><a id="18682" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="18697" class="Symbol">:</a> <a id="18699" href="Ledger.Conway.Utxo.html#5507" class="Record">UTxOEnv</a> <a id="18707" class="Symbol">→</a> <a id="18709" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="18719" class="Symbol">→</a> <a id="18721" href="Ledger.Conway.Transaction.html#6109" class="Record">Tx</a> <a id="18724" class="Symbol">→</a> <a id="18726" href="Ledger.Conway.Utxo.html#5940" class="Record">UTxOState</a> <a id="18736" class="Symbol">→</a> <a id="18738" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="18743" class="Keyword">where</a>
</pre>
</div>

<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-Yes"></a><a id="18774" href="Ledger.Conway.Utxo.html#18774" class="InductiveConstructor">Scripts-Yes</a> <a id="18786" class="Symbol">:</a>
    <a id="18792" class="Keyword">let</a>  <a id="18797" href="Ledger.Conway.Utxo.html#18797" class="Bound">pp</a>         <a id="18808" class="Symbol">=</a> <a id="18810" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="18812" class="Symbol">.</a><a id="18813" href="Ledger.Conway.Utxo.html#5561" class="Field">pparams</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
         <a id="18879" class="Keyword">open</a> <a id="18884" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a> <a id="18887" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="18890" class="Keyword">renaming</a> <a id="18899" class="Symbol">(</a><a id="18900" href="Ledger.Conway.Transaction.html#6141" class="Field">body</a> <a id="18905" class="Symbol">to</a> <a id="18908" class="Field">txb</a><a id="18911" class="Symbol">);</a> <a id="18914" class="Keyword">open</a> <a id="18919" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="18926" href="Ledger.Conway.Utxo.html#18908" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
         <a id="18962" href="Ledger.Conway.Utxo.html#18962" class="Bound">sLst</a>       <a id="18973" class="Symbol">=</a> <a id="18975" href="Ledger.Conway.ScriptValidation.html#5905" class="Function">collectPhaseTwoScriptInputs</a> <a id="19003" href="Ledger.Conway.Utxo.html#18797" class="Bound">pp</a> <a id="19006" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19009" href="Ledger.Conway.Utxo.html#18604" class="Generalizable">utxo</a>
      <a id="19020" class="Keyword">in</a>
        <a id="19031" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="19033" href="Ledger.Conway.Utxo.html#8286" class="Datatype">ValidCertDeposits</a> <a id="19051" href="Ledger.Conway.Utxo.html#18797" class="Bound">pp</a> <a id="19054" href="Ledger.Conway.Utxo.html#18642" class="Generalizable">deposits</a> <a id="19063" href="Ledger.Conway.Transaction.html#4727" class="Function">txcerts</a>
        <a id="19079" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19081" href="Ledger.Conway.ScriptValidation.html#6293" class="Function">evalScripts</a> <a id="19093" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19096" href="Ledger.Conway.Utxo.html#18962" class="Bound">sLst</a> <a id="19101" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19103" href="Ledger.Conway.Transaction.html#6194" class="Function">isValid</a>
        <a id="19119" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19121" href="Ledger.Conway.Transaction.html#6194" class="Function">isValid</a> <a id="19129" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19131" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
          <a id="19146" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="19189" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="19191" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18604}{\htmlId{19195}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18618}{\htmlId{19202}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18642}{\htmlId{19209}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18623}{\htmlId{19220}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="19232" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⇀⦇</a> <a id="19235" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19238" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} (\,\href{Ledger.Conway.Utxo.html#18604}{\htmlId{19249}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19254}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#4529}{\htmlId{19256}{\htmlClass{Function}{\text{txins}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19262}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,) \,\href{Axiom.Set.Map.html#6320}{\htmlId{19265}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, (\,\href{Ledger.Conway.Utxo.html#7032}{\htmlId{19269}{\htmlClass{Function}{\text{outs}}}}\, \,\href{Ledger.Conway.Utxo.html#18908}{\htmlId{19274}{\htmlClass{Function}{\text{txb}}}}\,) \\ \,\href{Ledger.Conway.Utxo.html#18618}{\htmlId{19281}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19286}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Transaction.html#4623}{\htmlId{19288}{\htmlClass{Function}{\text{txfee}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#13122}{\htmlId{19296}{\htmlClass{Function}{\text{updateDeposits}}}}\, \,\href{Ledger.Conway.Utxo.html#18797}{\htmlId{19311}{\htmlClass{Bound}{\text{pp}}}}\, \,\href{Ledger.Conway.Utxo.html#18908}{\htmlId{19314}{\htmlClass{Function}{\text{txb}}}}\, \,\href{Ledger.Conway.Utxo.html#18642}{\htmlId{19318}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18623}{\htmlId{19329}{\htmlClass{Generalizable}{\text{donations}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19339}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Transaction.html#4865}{\htmlId{19341}{\htmlClass{Function}{\text{txdonation}}}}\, \end{pmatrix}$</a>
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-No"></a><a id="19356" href="Ledger.Conway.Utxo.html#19356" class="InductiveConstructor">Scripts-No</a> <a id="19367" class="Symbol">:</a>
    <a id="19373" class="Keyword">let</a>  <a id="19378" href="Ledger.Conway.Utxo.html#19378" class="Bound">pp</a>         <a id="19389" class="Symbol">=</a> <a id="19391" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="19393" class="Symbol">.</a><a id="19394" href="Ledger.Conway.Utxo.html#5561" class="Field">pparams</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
         <a id="19460" class="Keyword">open</a> <a id="19465" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a> <a id="19468" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19471" class="Keyword">renaming</a> <a id="19480" class="Symbol">(</a><a id="19481" href="Ledger.Conway.Transaction.html#6141" class="Field">body</a> <a id="19486" class="Symbol">to</a> <a id="19489" class="Field">txb</a><a id="19492" class="Symbol">);</a> <a id="19495" class="Keyword">open</a> <a id="19500" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="19507" href="Ledger.Conway.Utxo.html#19489" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
         <a id="19543" href="Ledger.Conway.Utxo.html#19543" class="Bound">sLst</a>       <a id="19554" class="Symbol">=</a> <a id="19556" href="Ledger.Conway.ScriptValidation.html#5905" class="Function">collectPhaseTwoScriptInputs</a> <a id="19584" href="Ledger.Conway.Utxo.html#19378" class="Bound">pp</a> <a id="19587" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19590" href="Ledger.Conway.Utxo.html#18604" class="Generalizable">utxo</a>
      <a id="19601" class="Keyword">in</a>
        <a id="19612" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="19614" href="Ledger.Conway.ScriptValidation.html#6293" class="Function">evalScripts</a> <a id="19626" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19629" href="Ledger.Conway.Utxo.html#19543" class="Bound">sLst</a> <a id="19634" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19636" href="Ledger.Conway.Transaction.html#6194" class="Function">isValid</a>
        <a id="19652" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19654" href="Ledger.Conway.Transaction.html#6194" class="Function">isValid</a> <a id="19662" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19664" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
          <a id="19680" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="19723" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="19725" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18604}{\htmlId{19729}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18618}{\htmlId{19736}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18642}{\htmlId{19743}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18623}{\htmlId{19754}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="19766" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⇀⦇</a> <a id="19769" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="19772" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18604}{\htmlId{19782}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19787}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#5089}{\htmlId{19789}{\htmlClass{Function}{\text{collateral}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19800}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18618}{\htmlId{19804}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19809}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Utxo.html#7192}{\htmlId{19811}{\htmlClass{Function}{\text{cbalance}}}}\, (\,\href{Ledger.Conway.Utxo.html#18604}{\htmlId{19821}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10678}{\htmlId{19826}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#5089}{\htmlId{19828}{\htmlClass{Function}{\text{collateral}}}}\,) \\ \,\href{Ledger.Conway.Utxo.html#18642}{\htmlId{19842}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18623}{\htmlId{19853}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="19914" class="Keyword">unquoteDecl</a> <a id="Scripts-Yes-premises"></a><a id="19926" href="Ledger.Conway.Utxo.html#19926" class="Function">Scripts-Yes-premises</a> <a id="19947" class="Symbol">=</a> <a id="19949" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="19961" href="Ledger.Conway.Utxo.html#19926" class="Function">Scripts-Yes-premises</a> <a id="19982" class="Symbol">(</a><a id="19983" class="Keyword">quote</a> <a id="19989" href="Ledger.Conway.Utxo.html#18774" class="InductiveConstructor">Scripts-Yes</a><a id="20000" class="Symbol">)</a>
<a id="20002" class="Keyword">unquoteDecl</a> <a id="Scripts-No-premises"></a><a id="20014" href="Ledger.Conway.Utxo.html#20014" class="Function">Scripts-No-premises</a>  <a id="20035" class="Symbol">=</a> <a id="20037" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="20049" href="Ledger.Conway.Utxo.html#20014" class="Function">Scripts-No-premises</a>  <a id="20070" class="Symbol">(</a><a id="20071" class="Keyword">quote</a> <a id="20077" href="Ledger.Conway.Utxo.html#19356" class="InductiveConstructor">Scripts-No</a><a id="20087" class="Symbol">)</a>

<a id="20090" class="Keyword">data</a> <a id="20095" href="Ledger.Conway.Utxo.html#6795" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="20109" class="Keyword">where</a>
</pre>
</div>

<h3 id="utxo-inference-rules">UTXO inference rules<a class="headerlink" href="#utxo-inference-rules" title="Permanent link">&para;</a></h3>
<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXO⦈_.UTXO-inductive"></a><a id="20169" href="Ledger.Conway.Utxo.html#20169" class="InductiveConstructor">UTXO-inductive</a> <a id="20184" class="Symbol">:</a>
    <a id="20190" class="Keyword">let</a> <a id="20194" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a>        <a id="20204" class="Symbol">=</a> <a id="20206" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="20208" class="Symbol">.</a><a id="20209" href="Ledger.Conway.Utxo.html#5561" class="Field">pparams</a>
        <a id="20225" href="Ledger.Conway.Utxo.html#20225" class="Bound">slot</a>      <a id="20235" class="Symbol">=</a> <a id="20237" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="20239" class="Symbol">.</a><a id="20240" href="Ledger.Conway.Utxo.html#5540" class="Field">slot</a>
        <a id="20253" href="Ledger.Conway.Utxo.html#20253" class="Bound">treasury</a>  <a id="20263" class="Symbol">=</a> <a id="20265" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="20267" class="Symbol">.</a><a id="20268" href="Ledger.Conway.Utxo.html#5585" class="Field">treasury</a>
        <a id="20285" href="Ledger.Conway.Utxo.html#20285" class="Bound">utxo</a>      <a id="20295" class="Symbol">=</a> <a id="20297" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="20299" class="Symbol">.</a><a id="20300" href="Ledger.Conway.Utxo.html#6072" class="Field">UTxOState.utxo</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
        <a id="20372" class="Keyword">open</a> <a id="20377" href="Ledger.Conway.Transaction.html#6109" class="Module">Tx</a> <a id="20380" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="20383" class="Keyword">renaming</a> <a id="20392" class="Symbol">(</a><a id="20393" href="Ledger.Conway.Transaction.html#6141" class="Field">body</a> <a id="20398" class="Symbol">to</a> <a id="20401" class="Field">txb</a><a id="20404" class="Symbol">);</a> <a id="20407" class="Keyword">open</a> <a id="20412" href="Ledger.Conway.Transaction.html#4493" class="Module">TxBody</a> <a id="20419" href="Ledger.Conway.Utxo.html#20401" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
        <a id="20454" href="Ledger.Conway.Utxo.html#20454" class="Bound">txoutsʰ</a>   <a id="20464" class="Symbol">=</a> <a id="20466" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="20476" href="Ledger.Conway.Transaction.html#7073" class="Function">txOutHash</a> <a id="20486" href="Ledger.Conway.Transaction.html#4589" class="Function">txouts</a>
        <a id="20501" href="Ledger.Conway.Utxo.html#20501" class="Bound">overhead</a>  <a id="20511" class="Symbol">=</a> <a id="20513" class="Number">160</a>
    <a id="20521" class="Keyword">in</a>
    <a id="20528" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="20530" href="Ledger.Conway.Transaction.html#4529" class="Function">txins</a> <a id="20536" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="20538" href="Class.HasEmptySet.html#287" class="Field">∅</a>                              <a id="20569" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20571" href="Ledger.Conway.Transaction.html#4529" class="Function">txins</a> <a id="20577" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20579" href="Ledger.Conway.Transaction.html#4559" class="Function">refInputs</a> <a id="20589" href="Interface.HasSubset.html#166" class="Field Operator">⊆</a> <a id="20591" href="Class.IsSet.html#916" class="Function">dom</a> <a id="20595" href="Ledger.Conway.Utxo.html#20285" class="Bound">utxo</a>
    <a id="20604" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20606" href="Ledger.Conway.Transaction.html#4529" class="Function">txins</a> <a id="20612" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="20614" href="Ledger.Conway.Transaction.html#4559" class="Function">refInputs</a> <a id="20624" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20626" href="Class.HasEmptySet.html#287" class="Field">∅</a>                  <a id="20645" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20647" href="Ledger.Conway.Utxo.html#13808" class="Datatype">inInterval</a> <a id="20658" href="Ledger.Conway.Utxo.html#20225" class="Bound">slot</a> <a id="20663" href="Ledger.Conway.Transaction.html#4680" class="Function">txvldt</a>
    <a id="20674" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20676" href="Ledger.Conway.Utxo.html#15382" class="Function">feesOK</a> <a id="20683" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a> <a id="20686" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="20689" href="Ledger.Conway.Utxo.html#20285" class="Bound">utxo</a>                      <a id="20715" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20717" href="Ledger.Conway.Utxo.html#16427" class="Function">consumed</a> <a id="20726" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a> <a id="20729" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="20731" href="Ledger.Conway.Utxo.html#20401" class="Function">txb</a> <a id="20735" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20737" href="Ledger.Conway.Utxo.html#16635" class="Function">produced</a> <a id="20746" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a> <a id="20749" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="20751" href="Ledger.Conway.Utxo.html#20401" class="Function">txb</a>
    <a id="20759" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20761" href="Ledger.Conway.TokenAlgebra.Base.html#1143" class="Function">coin</a> <a id="20766" href="Ledger.Conway.Transaction.html#4651" class="Function">mint</a> <a id="20771" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20773" class="Number">0</a>                          <a id="20800" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20802" href="Ledger.Conway.Transaction.html#5036" class="Function">txsize</a> <a id="20809" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="20811" href="Ledger.Conway.PParams.html#2638" class="Field">maxTxSize</a> <a id="20821" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a>
    <a id="20828" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20830" href="Ledger.Conway.Utxo.html#7271" class="Function">refScriptsSize</a> <a id="20845" href="Ledger.Conway.Utxo.html#20285" class="Bound">utxo</a> <a id="20850" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="20853" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="20855" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a> <a id="20858" class="Symbol">.</a><a id="20859" href="Ledger.Conway.PParams.html#3512" class="Field">maxRefScriptSizePerTx</a>
    <a id="20885" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20887" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="20890" href="Ledger.Conway.Utxo.html#20890" class="Bound">(_</a> <a id="20893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20895" href="Ledger.Conway.Utxo.html#20895" class="Bound">txout</a><a id="20900" href="Ledger.Conway.Utxo.html#20890" class="Bound">)</a> <a id="20902" href="Class.IsSet.html#576" class="Function">∈</a> <a id="20904" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a> <a id="20906" href="Ledger.Conway.Utxo.html#20454" class="Bound">txoutsʰ</a> <a id="20914" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a> <a id="20916" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="20926" href="Ledger.Conway.TokenAlgebra.Base.html#1188" class="Function">inject</a> <a id="20933" class="Symbol">((</a><a id="20935" href="Ledger.Conway.Utxo.html#20501" class="Bound">overhead</a> <a id="20944" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20946" href="Ledger.Conway.Utxo.html#2623" class="Function">utxoEntrySize</a> <a id="20960" href="Ledger.Conway.Utxo.html#20895" class="Bound">txout</a><a id="20965" class="Symbol">)</a> <a id="20967" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="20969" href="Ledger.Conway.PParams.html#3378" class="Field">coinsPerUTxOByte</a> <a id="20986" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a><a id="20988" class="Symbol">)</a> <a id="20990" href="Ledger.Conway.TokenAlgebra.Base.html#1339" class="Function Operator">≤ᵗ</a> <a id="20993" href="Ledger.Conway.Transaction.html#7162" class="Function">getValueʰ</a> <a id="21003" href="Ledger.Conway.Utxo.html#20895" class="Bound">txout</a>
    <a id="21013" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21015" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21018" href="Ledger.Conway.Utxo.html#21018" class="Bound">(_</a> <a id="21021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21023" href="Ledger.Conway.Utxo.html#21023" class="Bound">txout</a><a id="21028" href="Ledger.Conway.Utxo.html#21018" class="Bound">)</a> <a id="21030" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21032" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a> <a id="21034" href="Ledger.Conway.Utxo.html#20454" class="Bound">txoutsʰ</a> <a id="21042" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a> <a id="21044" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="21054" href="Ledger.Conway.Abstract.html#693" class="Field">serSize</a> <a id="21062" class="Symbol">(</a><a id="21063" href="Ledger.Conway.Transaction.html#7162" class="Function">getValueʰ</a> <a id="21073" href="Ledger.Conway.Utxo.html#21023" class="Bound">txout</a><a id="21078" class="Symbol">)</a> <a id="21080" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="21082" href="Ledger.Conway.PParams.html#2818" class="Field">maxValSize</a> <a id="21093" href="Ledger.Conway.Utxo.html#20194" class="Bound">pp</a>
    <a id="21100" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21102" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21105" href="Ledger.Conway.Utxo.html#21105" class="Bound">(</a><a id="21106" href="Ledger.Conway.Utxo.html#21106" class="Bound">a</a> <a id="21108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21110" href="Ledger.Conway.Utxo.html#21105" class="Bound">_)</a> <a id="21113" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21115" href="Class.IsSet.html#959" class="Function">range</a> <a id="21121" href="Ledger.Conway.Utxo.html#20454" class="Bound">txoutsʰ</a> <a id="21129" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="21139" href="Data.Sum.Relation.Unary.All.html#626" class="Datatype">Sum.All</a> <a id="21147" class="Symbol">(</a><a id="21148" href="Function.Base.html#725" class="Function">const</a> <a id="21154" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="21155" class="Symbol">)</a> <a id="21157" class="Symbol">(λ</a> <a id="21160" href="Ledger.Conway.Utxo.html#21160" class="Bound">a</a> <a id="21162" class="Symbol">→</a> <a id="21164" href="Ledger.Conway.Utxo.html#21160" class="Bound">a</a> <a id="21166" class="Symbol">.</a><a id="21167" href="Ledger.Conway.Address.html#2291" class="Field">BootstrapAddr.attrsSize</a> <a id="21191" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="21193" class="Number">64</a><a id="21195" class="Symbol">)</a> <a id="21197" href="Ledger.Conway.Utxo.html#21106" class="Bound">a</a>
    <a id="21203" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21205" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21208" href="Ledger.Conway.Utxo.html#21208" class="Bound">(</a><a id="21209" href="Ledger.Conway.Utxo.html#21209" class="Bound">a</a> <a id="21211" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21213" href="Ledger.Conway.Utxo.html#21208" class="Bound">_)</a> <a id="21216" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21218" href="Class.IsSet.html#959" class="Function">range</a> <a id="21224" href="Ledger.Conway.Utxo.html#20454" class="Bound">txoutsʰ</a> <a id="21232" href="Class.IsSet.html#576" class="Function">]</a>  <a id="21235" href="Ledger.Conway.Address.html#3628" class="Function">netId</a> <a id="21241" href="Ledger.Conway.Utxo.html#21209" class="Bound">a</a>         <a id="21251" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21253" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21267" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21269" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21272" href="Ledger.Conway.Utxo.html#21272" class="Bound">a</a> <a id="21274" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21276" href="Class.IsSet.html#916" class="Function">dom</a> <a id="21280" href="Ledger.Conway.Transaction.html#4761" class="Function">txwdrls</a> <a id="21288" href="Class.IsSet.html#576" class="Function">]</a>          <a id="21299" href="Ledger.Conway.Address.html#2567" class="Field">NetworkIdOf</a> <a id="21311" href="Ledger.Conway.Utxo.html#21272" class="Bound">a</a> <a id="21313" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21315" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21329" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21331" href="Ledger.Conway.Transaction.html#4965" class="Function">txNetworkId</a>  <a id="21344" href="Prelude.html#2788" class="Function Operator">~</a> <a id="21346" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="21351" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21365" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21367" href="Ledger.Conway.Transaction.html#5002" class="Function">curTreasury</a>  <a id="21380" href="Prelude.html#2788" class="Function Operator">~</a> <a id="21382" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="21387" href="Ledger.Conway.Utxo.html#20253" class="Bound">treasury</a>
    <a id="21400" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21402" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="21404" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⊢</a> <a id="21406" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="21408" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">⇀⦇</a> <a id="21411" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="21414" href="Ledger.Conway.Utxo.html#18682" class="Datatype Operator">,UTXOS⦈</a> <a id="21422" href="Ledger.Conway.Utxo.html#18577" class="Generalizable">s&#39;</a>
      <a id="21431" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
      <a id="21470" href="Ledger.Conway.Utxo.html#18561" class="Generalizable">Γ</a> <a id="21472" href="Ledger.Conway.Utxo.html#6795" class="Datatype Operator">⊢</a> <a id="21474" href="Ledger.Conway.Utxo.html#18575" class="Generalizable">s</a> <a id="21476" href="Ledger.Conway.Utxo.html#6795" class="Datatype Operator">⇀⦇</a> <a id="21479" href="Ledger.Conway.Utxo.html#18594" class="Generalizable">tx</a> <a id="21482" href="Ledger.Conway.Utxo.html#6795" class="Datatype Operator">,UTXO⦈</a> <a id="21489" href="Ledger.Conway.Utxo.html#18577" class="Generalizable">s&#39;</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="21541" class="Keyword">pattern</a> <a id="UTXO-inductive⋯"></a><a id="21549" href="Ledger.Conway.Utxo.html#21549" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="21565" href="Ledger.Conway.Utxo.html#21647" class="Bound">tx</a> <a id="21568" href="Ledger.Conway.Utxo.html#21630" class="Bound">Γ</a> <a id="21570" href="Ledger.Conway.Utxo.html#21638" class="Bound">s</a> <a id="21572" href="Ledger.Conway.Utxo.html#21652" class="Bound">x</a> <a id="21574" href="Ledger.Conway.Utxo.html#21656" class="Bound">y</a> <a id="21576" href="Ledger.Conway.Utxo.html#21660" class="Bound">z</a> <a id="21578" href="Ledger.Conway.Utxo.html#21664" class="Bound">w</a> <a id="21580" href="Ledger.Conway.Utxo.html#21668" class="Bound">k</a> <a id="21582" href="Ledger.Conway.Utxo.html#21672" class="Bound">l</a> <a id="21584" href="Ledger.Conway.Utxo.html#21676" class="Bound">m</a> <a id="21586" href="Ledger.Conway.Utxo.html#21680" class="Bound">v</a> <a id="21588" href="Ledger.Conway.Utxo.html#21684" class="Bound">j</a> <a id="21590" href="Ledger.Conway.Utxo.html#21688" class="Bound">n</a> <a id="21592" href="Ledger.Conway.Utxo.html#21692" class="Bound">o</a> <a id="21594" href="Ledger.Conway.Utxo.html#21696" class="Bound">p</a> <a id="21596" href="Ledger.Conway.Utxo.html#21700" class="Bound">q</a> <a id="21598" href="Ledger.Conway.Utxo.html#21704" class="Bound">r</a> <a id="21600" href="Ledger.Conway.Utxo.html#21708" class="Bound">t</a> <a id="21602" href="Ledger.Conway.Utxo.html#21712" class="Bound">u</a> <a id="21604" href="Ledger.Conway.Utxo.html#21716" class="Bound">h</a>
  <a id="21608" class="Symbol">=</a> <a id="21610" href="Ledger.Conway.Utxo.html#20169" class="InductiveConstructor">UTXO-inductive</a> <a id="21625" class="Symbol">{</a><a id="21626" class="Argument">Γ</a> <a id="21628" class="Symbol">=</a> <a id="21630" href="Ledger.Conway.Utxo.html#21630" class="Bound">Γ</a><a id="21631" class="Symbol">}</a> <a id="21633" class="Symbol">{</a><a id="21634" class="Argument">s</a> <a id="21636" class="Symbol">=</a> <a id="21638" href="Ledger.Conway.Utxo.html#21638" class="Bound">s</a><a id="21639" class="Symbol">}</a> <a id="21641" class="Symbol">{</a><a id="21642" class="Argument">tx</a> <a id="21645" class="Symbol">=</a> <a id="21647" href="Ledger.Conway.Utxo.html#21647" class="Bound">tx</a><a id="21649" class="Symbol">}</a> <a id="21651" class="Symbol">(</a><a id="21652" href="Ledger.Conway.Utxo.html#21652" class="Bound">x</a> <a id="21654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21656" href="Ledger.Conway.Utxo.html#21656" class="Bound">y</a> <a id="21658" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21660" href="Ledger.Conway.Utxo.html#21660" class="Bound">z</a> <a id="21662" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21664" href="Ledger.Conway.Utxo.html#21664" class="Bound">w</a> <a id="21666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21668" href="Ledger.Conway.Utxo.html#21668" class="Bound">k</a> <a id="21670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21672" href="Ledger.Conway.Utxo.html#21672" class="Bound">l</a> <a id="21674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21676" href="Ledger.Conway.Utxo.html#21676" class="Bound">m</a> <a id="21678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21680" href="Ledger.Conway.Utxo.html#21680" class="Bound">v</a> <a id="21682" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21684" href="Ledger.Conway.Utxo.html#21684" class="Bound">j</a> <a id="21686" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21688" href="Ledger.Conway.Utxo.html#21688" class="Bound">n</a> <a id="21690" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21692" href="Ledger.Conway.Utxo.html#21692" class="Bound">o</a> <a id="21694" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21696" href="Ledger.Conway.Utxo.html#21696" class="Bound">p</a> <a id="21698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21700" href="Ledger.Conway.Utxo.html#21700" class="Bound">q</a> <a id="21702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21704" href="Ledger.Conway.Utxo.html#21704" class="Bound">r</a> <a id="21706" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21708" href="Ledger.Conway.Utxo.html#21708" class="Bound">t</a> <a id="21710" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21712" href="Ledger.Conway.Utxo.html#21712" class="Bound">u</a> <a id="21714" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21716" href="Ledger.Conway.Utxo.html#21716" class="Bound">h</a><a id="21717" class="Symbol">)</a>
<a id="21719" class="Keyword">unquoteDecl</a> <a id="UTXO-premises"></a><a id="21731" href="Ledger.Conway.Utxo.html#21731" class="Function">UTXO-premises</a> <a id="21745" class="Symbol">=</a> <a id="21747" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="21759" href="Ledger.Conway.Utxo.html#21731" class="Function">UTXO-premises</a> <a id="21773" class="Symbol">(</a><a id="21774" class="Keyword">quote</a> <a id="21780" href="Ledger.Conway.Utxo.html#20169" class="InductiveConstructor">UTXO-inductive</a><a id="21794" class="Symbol">)</a>
</pre>
</div>

<p><a href="Ledger.Conway.Utxo.html#utxo-inference-rules">'UTXO inference rules'</a> ties all the
pieces of the UTXO rule together. The symbol  is explained in
<em>cref 'sec:notation' (unresolved reference)</em>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: UnitInterval">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                UnitInterval
              </div>
            </div>
          </a>
        
        
          
          <a href="Ledger.Conway.Utxo.Properties.html" class="md-footer__link md-footer__link--next" aria-label="Next: Properties">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Properties
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections", "toc.integrate", "content.tooltips", "navigation.footer"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="js/custom.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
      
        <script src="js/katex-config.js"></script>
      
        <script src="AgdaKaTeX.js"></script>
      
    
  </body>
</html>