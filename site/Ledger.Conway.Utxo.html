
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Formal ledger specification and documentation.">
      
      
        <meta name="author" content="Formal Methods Ledger Team">
      
      
        <link rel="canonical" href="https://intersectmbo.github.io/formal-ledger-specifications/Ledger.Conway.Utxo.html">
      
      
        <link rel="prev" href="Ledger.Conway.Types.Numeric.UnitInterval.html">
      
      
        <link rel="next" href="Ledger.Conway.Utxo.Properties.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Utxo - Formal Ledger Specification</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cambria:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Cambria";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
      <link rel="stylesheet" href="Agda.css">
    
      <link rel="stylesheet" href="css/custom.css">
    
      <link rel="stylesheet" href="css/Agda.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sec:utxo" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Formal Ledger Specification" class="md-header__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Formal Ledger Specification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utxo
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Formal Ledger Specification" class="md-nav__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Formal Ledger Specification
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Preliminaries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Preliminaries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Notation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prelude/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Prelude/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.Base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Conway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Abstract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5_2" id="__nav_4_4_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoVLemmas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoVLemmas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.VoteDelegsVDeleg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VoteDelegsVDeleg
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7" id="__nav_4_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7_2" id="__nav_4_4_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.CredDepsEqualDomRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CredDepsEqualDomRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.EpochStep.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EpochStep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.PParamsWellFormed.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParamsWellFormed
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Crypto.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crypto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11" id="__nav_4_4_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11_2" id="__nav_4_4_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.ConstRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConstRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.NoPropSameDReps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NoPropSameDReps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Fees.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_4_14" id="__nav_4_4_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_14">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16" id="__nav_4_4_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GovernanceActions/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16">
            <span class="md-nav__icon md-icon"></span>
            GovernanceActions/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16_2" id="__nav_4_4_16_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_16_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.ChangePPGroup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChangePPGroup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger.Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18" id="__nav_4_4_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger.Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18">
            <span class="md-nav__icon md-icon"></span>
            Ledger.Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18_2" id="__nav_4_4_18_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_18_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_22" >
        
          
          <label class="md-nav__link" for="__nav_4_4_22" id="__nav_4_4_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ratify/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_22">
            <span class="md-nav__icon md-icon"></span>
            Ratify/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Rewards.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rewards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.ScriptValidation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ScriptValidation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TokenAlgebra
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_27" >
        
          
          <label class="md-nav__link" for="__nav_4_4_27" id="__nav_4_4_27_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TokenAlgebra/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_27_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_27">
            <span class="md-nav__icon md-icon"></span>
            TokenAlgebra/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.Coin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueSet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueSet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueVector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueVector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29" id="__nav_4_4_29_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.GovStructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovStructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numeric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29_4" id="__nav_4_4_29_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Numeric/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_29_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29_4">
            <span class="md-nav__icon md-icon"></span>
            Numeric/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UnitInterval
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Ledger.Conway.Utxo.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#accounting" class="md-nav__link">
    <span class="md-ellipsis">
      Accounting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accounting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions-supporting-utxo-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Functions supporting UTxO rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxo-transition-system-types" class="md-nav__link">
    <span class="md-ellipsis">
      UTxO transition-system types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued_1" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-used-in-utxo-rules-continued_2" class="md-nav__link">
    <span class="md-ellipsis">
      Functions used in UTxO rules, continued
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxos-rule" class="md-nav__link">
    <span class="md-ellipsis">
      UTXOS rule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utxo-inference-rules" class="md-nav__link">
    <span class="md-ellipsis">
      UTXO inference rules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31" id="__nav_4_4_31_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_31_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31_2" id="__nav_4_4_31_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_31_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.MinSpend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MinSpend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_33" >
        
          
          <label class="md-nav__link" for="__nav_4_4_33" id="__nav_4_4_33_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_33_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_33">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34" id="__nav_4_4_34_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Foreign Function Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34">
            <span class="md-nav__icon md-icon"></span>
            Foreign Function Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.ExternalFunctions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalFunctions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSLedger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3" id="__nav_4_4_34_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HSLedger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_34_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3">
            <span class="md-nav__icon md-icon"></span>
            HSLedger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Cert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalStructures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3_11" id="__nav_4_4_34_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_4_34_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3_11">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.NewEpoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewEpoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.Util.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Util
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35" id="__nav_4_4_35_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_35_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_2" id="__nav_4_4_35_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_2">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_4" id="__nav_4_4_35_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_4">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_6" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_6" id="__nav_4_4_35_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_6">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equivalence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_8" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_8" id="__nav_4_4_35_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Equivalence/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_8">
            <span class="md-nav__icon md-icon"></span>
            Equivalence/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bisimilarity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deposits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_11" id="__nav_4_4_35_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_11">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_15" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_15" id="__nav_4_4_35_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_15">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_17" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_17" id="__nav_4_4_35_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_17">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.ConwaySafe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConwaySafe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Interface.HasCoin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasCoin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PreConway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PreConway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            PreConway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1" id="__nav_4_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_2" id="__nav_4_8_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_4" id="__nav_4_8_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_3" >
        
          
          <label class="md-nav__link" for="__nav_4_8_3" id="__nav_4_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_3">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_5" >
        
          
          <label class="md-nav__link" for="__nav_4_8_5" id="__nav_4_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_5">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Foreign
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Foreign
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convertible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Convertible/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Convertible/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.DerivingTest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DerivingTest
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HaskellTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HaskellTypes/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            HaskellTypes/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ScriptVerification
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ScriptVerification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.HelloWorld.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HelloWorld
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.LedgerImplementation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LedgerImplementation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Lib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.StructuredContracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StructuredContracts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.SucceedIfNumber.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SucceedIfNumber
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EssentialAgda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EssentialAgda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agda Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type Classes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Type Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1" id="__nav_7_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.ComputationalRelation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ComputationalRelation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_3" id="__nav_7_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubset/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            HasSubset/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubtract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_5" id="__nav_7_3_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubtract/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            HasSubtract/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.Hashable.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hashable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.STS.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="MyDebugOptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MyDebugOptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="sec:utxo">UTxO<a class="headerlink" href="#sec:utxo" title="Permanent link">&para;</a></h1>
<p>, where we define types and functions needed for the UTxO transition
system.</p>
<h2 id="accounting">Accounting<a class="headerlink" href="#accounting" title="Permanent link">&para;</a></h2>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="158" class="Symbol">{-#</a> <a id="162" class="Keyword">OPTIONS</a> <a id="170" class="Pragma">--safe</a> <a id="177" class="Symbol">#-}</a>

<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Algebra.html" class="Module">Algebra</a>              <a id="215" class="Keyword">using</a> <a id="221" class="Symbol">(</a><a id="222" href="Algebra.Bundles.html#7886" class="Record">CommutativeMonoid</a><a id="239" class="Symbol">)</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>  <a id="274" class="Keyword">using</a> <a id="280" class="Symbol">(</a><a id="281" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="291" class="Symbol">)</a>
<a id="293" class="Keyword">import</a> <a id="300" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="311" class="Symbol">as</a> <a id="314" class="Module">M</a>
<a id="316" class="Keyword">import</a> <a id="323" href="Data.Sum.Relation.Unary.All.html" class="Module">Data.Sum.Relation.Unary.All</a> <a id="351" class="Symbol">as</a> <a id="354" class="Module">Sum</a>

<a id="359" class="Keyword">import</a> <a id="366" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">import</a> <a id="391" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="405" class="Symbol">as</a> <a id="408" class="Module">ℚ</a>

<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>

<a id="545" class="Keyword">module</a> <a id="552" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a>
  <a id="573" class="Symbol">(</a><a id="574" href="Ledger.Conway.Utxo.html#574" class="Bound">txs</a> <a id="578" class="Symbol">:</a> <a id="580" class="Symbol">_)</a> <a id="583" class="Symbol">(</a><a id="584" class="Keyword">open</a> <a id="589" href="Ledger.Conway.Transaction.html#2444" class="Module">TransactionStructure</a> <a id="610" href="Ledger.Conway.Utxo.html#574" class="Bound">txs</a><a id="613" class="Symbol">)</a>
  <a id="617" class="Symbol">(</a><a id="618" href="Ledger.Conway.Utxo.html#618" class="Bound">abs</a> <a id="622" class="Symbol">:</a> <a id="624" href="Ledger.Conway.Abstract.html#607" class="Record">AbstractFunctions</a> <a id="642" href="Ledger.Conway.Utxo.html#574" class="Bound">txs</a><a id="645" class="Symbol">)</a> <a id="647" class="Symbol">(</a><a id="648" class="Keyword">open</a> <a id="653" href="Ledger.Conway.Abstract.html#607" class="Module">AbstractFunctions</a> <a id="671" href="Ledger.Conway.Utxo.html#618" class="Bound">abs</a><a id="674" class="Symbol">)</a>
  <a id="678" class="Keyword">where</a>

<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Ledger.Conway.ScriptValidation.html" class="Module">Ledger.Conway.ScriptValidation</a> <a id="728" href="Ledger.Conway.Utxo.html#574" class="Bound">txs</a> <a id="732" href="Ledger.Conway.Utxo.html#618" class="Bound">abs</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Ledger.Conway.Fees.html" class="Module">Ledger.Conway.Fees</a> <a id="767" href="Ledger.Conway.Utxo.html#574" class="Bound">txs</a> <a id="771" class="Keyword">using</a> <a id="777" class="Symbol">(</a><a id="778" href="Ledger.Conway.Fees.html#2014" class="Function">scriptsCost</a><a id="789" class="Symbol">)</a>
<a id="791" class="Keyword">open</a> <a id="796" class="Keyword">import</a> <a id="803" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="823" href="Ledger.Conway.Transaction.html#3498" class="Function">govStructure</a>

<a id="837" class="Keyword">instance</a>
  <a id="848" href="Ledger.Conway.Utxo.html#848" class="Function">_</a> <a id="850" class="Symbol">=</a> <a id="852" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
</pre>
</div>

<h3 id="functions-supporting-utxo-rules">Functions supporting UTxO rules<a class="headerlink" href="#functions-supporting-utxo-rules" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="isTwoPhaseScriptAddress"></a><a id="926" href="Ledger.Conway.Utxo.html#926" class="Function">isTwoPhaseScriptAddress</a> <a id="950" class="Symbol">:</a> <a id="952" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="955" class="Symbol">→</a> <a id="957" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="962" class="Symbol">→</a> <a id="964" href="Ledger.Conway.Address.html#3402" class="Function">Addr</a> <a id="969" class="Symbol">→</a> <a id="971" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="976" href="Ledger.Conway.Utxo.html#926" class="Function">isTwoPhaseScriptAddress</a> <a id="1000" href="Ledger.Conway.Utxo.html#1000" class="Bound">tx</a> <a id="1003" href="Ledger.Conway.Utxo.html#1003" class="Bound">utxo</a> <a id="1008" href="Ledger.Conway.Utxo.html#1008" class="Bound">a</a> <a id="1010" class="Symbol">=</a>
  <a id="1014" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="1017" href="Ledger.Conway.Address.html#3719" class="Function">isScriptAddr</a> <a id="1030" href="Ledger.Conway.Utxo.html#1008" class="Bound">a</a> <a id="1032" href="Class.ToBool.html#389" class="Function Operator">then</a>
    <a id="1041" class="Symbol">(λ</a> <a id="1044" class="Symbol">{</a><a id="1045" href="Ledger.Conway.Utxo.html#1045" class="Bound">p</a><a id="1046" class="Symbol">}</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="1053" href="Ledger.Conway.Transaction.html#7875" class="Function">lookupScriptHash</a> <a id="1070" class="Symbol">(</a><a id="1071" href="Ledger.Conway.Address.html#4885" class="Function">getScriptHash</a> <a id="1085" href="Ledger.Conway.Utxo.html#1008" class="Bound">a</a> <a id="1087" href="Ledger.Conway.Utxo.html#1045" class="Bound">p</a><a id="1088" class="Symbol">)</a> <a id="1090" href="Ledger.Conway.Utxo.html#1000" class="Bound">tx</a> <a id="1093" href="Ledger.Conway.Utxo.html#1003" class="Bound">utxo</a>
                 <a id="1115" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="1120" class="Symbol">(λ</a> <a id="1123" class="Symbol">{</a><a id="1124" href="Ledger.Conway.Utxo.html#1124" class="Bound">s</a><a id="1125" class="Symbol">}</a> <a id="1127" class="Symbol">→</a> <a id="1129" href="Ledger.Conway.Transaction.html#8163" class="Function">isP2Script</a> <a id="1140" href="Ledger.Conway.Utxo.html#1124" class="Bound">s</a><a id="1141" class="Symbol">)</a>
                 <a id="1160" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="1165" href="Data.Empty.html#914" class="Function">⊥</a><a id="1166" class="Symbol">)</a>
  <a id="1170" href="Class.ToBool.html#389" class="Function Operator">else</a>
    <a id="1179" href="Data.Empty.html#914" class="Function">⊥</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="isTwoPhaseScriptAddress?"></a><a id="1230" href="Ledger.Conway.Utxo.html#1230" class="Function">isTwoPhaseScriptAddress?</a> <a id="1255" class="Symbol">:</a> <a id="1257" class="Symbol">∀</a> <a id="1259" class="Symbol">{</a><a id="1260" href="Ledger.Conway.Utxo.html#1260" class="Bound">tx</a> <a id="1263" href="Ledger.Conway.Utxo.html#1263" class="Bound">utxo</a> <a id="1268" href="Ledger.Conway.Utxo.html#1268" class="Bound">a</a><a id="1269" class="Symbol">}</a> <a id="1271" class="Symbol">→</a> <a id="1273" href="Ledger.Conway.Utxo.html#926" class="Function">isTwoPhaseScriptAddress</a> <a id="1297" href="Ledger.Conway.Utxo.html#1260" class="Bound">tx</a> <a id="1300" href="Ledger.Conway.Utxo.html#1263" class="Bound">utxo</a> <a id="1305" href="Ledger.Conway.Utxo.html#1268" class="Bound">a</a> <a id="1307" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
<a id="1309" href="Ledger.Conway.Utxo.html#1230" class="Function">isTwoPhaseScriptAddress?</a> <a id="1334" class="Symbol">{</a><a id="1335" href="Ledger.Conway.Utxo.html#1335" class="Bound">tx</a><a id="1337" class="Symbol">}</a> <a id="1339" class="Symbol">{</a><a id="1340" href="Ledger.Conway.Utxo.html#1340" class="Bound">utxo</a><a id="1344" class="Symbol">}</a> <a id="1346" class="Symbol">{</a><a id="1347" href="Ledger.Conway.Utxo.html#1347" class="Bound">a</a><a id="1348" class="Symbol">}</a> <a id="1350" class="Symbol">.</a><a id="1351" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="1357" class="Keyword">with</a> <a id="1362" href="Class.ToBool.html#321" class="Field">decide</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Ledger.Conway.Address.html#3719" class="Function">isScriptAddr</a> <a id="1383" href="Ledger.Conway.Utxo.html#1347" class="Bound">a</a><a id="1384" class="Symbol">)</a>
<a id="1386" class="Symbol">...</a> <a id="1390" class="Symbol">|</a> <a id="1392" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1397" class="Symbol">_</a> <a id="1399" class="Symbol">=</a> <a id="1401" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1404" class="Symbol">λ</a> <a id="1406" class="Symbol">()</a>
<a id="1409" class="Symbol">...</a> <a id="1413" class="Symbol">|</a> <a id="1415" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1420" href="Ledger.Conway.Utxo.html#1420" class="Bound">p</a>
  <a id="1424" class="Keyword">with</a> <a id="1429" href="Class.ToBool.html#321" class="Field">decide</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Ledger.Conway.Transaction.html#7875" class="Function">lookupScriptHash</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Ledger.Conway.Address.html#4885" class="Function">getScriptHash</a> <a id="1469" class="Bound">a</a> <a id="1471" href="Ledger.Conway.Utxo.html#1420" class="Bound">p</a><a id="1472" class="Symbol">)</a> <a id="1474" class="Bound">tx</a> <a id="1477" class="Bound">utxo</a><a id="1481" class="Symbol">)</a>
<a id="1483" class="Symbol">...</a> <a id="1487" class="Symbol">|</a> <a id="1489" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1494" class="Symbol">_</a> <a id="1496" class="Symbol">=</a> <a id="1498" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1501" class="Symbol">λ</a> <a id="1503" class="Symbol">()</a>
<a id="1506" class="Symbol">...</a> <a id="1510" class="Symbol">|</a> <a id="1512" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1517" href="Ledger.Conway.Utxo.html#1517" class="Bound">s</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="Ledger.Conway.Transaction.html#8229" class="Function">isP2Script?</a> <a id="1533" class="Symbol">{</a><a id="1534" href="Ledger.Conway.Utxo.html#1517" class="Bound">s</a><a id="1535" class="Symbol">}</a> <a id="1537" class="Symbol">.</a><a id="1538" href="Class.Decidable.Core.html#264" class="Field">dec</a>

<a id="1543" class="Keyword">record</a> <a id="isTwoPhaseScriptAddress′"></a><a id="1550" href="Ledger.Conway.Utxo.html#1550" class="Record">isTwoPhaseScriptAddress′</a> <a id="1575" class="Symbol">(</a><a id="1576" href="Ledger.Conway.Utxo.html#1576" class="Bound">tx</a> <a id="1579" class="Symbol">:</a> <a id="1581" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a><a id="1583" class="Symbol">)</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Ledger.Conway.Utxo.html#1586" class="Bound">utxo</a> <a id="1591" class="Symbol">:</a> <a id="1593" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a><a id="1597" class="Symbol">)</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Ledger.Conway.Utxo.html#1600" class="Bound">a</a> <a id="1602" class="Symbol">:</a> <a id="1604" href="Ledger.Conway.Address.html#3402" class="Function">Addr</a><a id="1608" class="Symbol">)</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1617" class="Keyword">where</a>
  <a id="1625" class="Keyword">constructor</a> <a id="wrap"></a><a id="1637" href="Ledger.Conway.Utxo.html#1637" class="InductiveConstructor">wrap</a>
  <a id="1644" class="Keyword">field</a> <a id="isTwoPhaseScriptAddress′.unwrap"></a><a id="1650" href="Ledger.Conway.Utxo.html#1650" class="Field">unwrap</a> <a id="1657" class="Symbol">:</a> <a id="1659" href="Ledger.Conway.Utxo.html#926" class="Function">isTwoPhaseScriptAddress</a> <a id="1683" href="Ledger.Conway.Utxo.html#1576" class="Bound">tx</a> <a id="1686" href="Ledger.Conway.Utxo.html#1586" class="Bound">utxo</a> <a id="1691" href="Ledger.Conway.Utxo.html#1600" class="Bound">a</a>

<a id="1694" class="Keyword">instance</a>
  <a id="isTwoPhaseScriptAddress′?"></a><a id="1705" href="Ledger.Conway.Utxo.html#1705" class="Function">isTwoPhaseScriptAddress′?</a> <a id="1731" class="Symbol">:</a> <a id="1733" class="Symbol">∀</a> <a id="1735" class="Symbol">{</a><a id="1736" href="Ledger.Conway.Utxo.html#1736" class="Bound">tx</a> <a id="1739" href="Ledger.Conway.Utxo.html#1739" class="Bound">utxo</a> <a id="1744" href="Ledger.Conway.Utxo.html#1744" class="Bound">a</a><a id="1745" class="Symbol">}</a> <a id="1747" class="Symbol">→</a> <a id="1749" href="Ledger.Conway.Utxo.html#1550" class="Record">isTwoPhaseScriptAddress′</a> <a id="1774" href="Ledger.Conway.Utxo.html#1736" class="Bound">tx</a> <a id="1777" href="Ledger.Conway.Utxo.html#1739" class="Bound">utxo</a> <a id="1782" href="Ledger.Conway.Utxo.html#1744" class="Bound">a</a> <a id="1784" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="1788" href="Ledger.Conway.Utxo.html#1705" class="Function">isTwoPhaseScriptAddress′?</a> <a id="1814" class="Symbol">{</a><a id="1815" href="Ledger.Conway.Utxo.html#1815" class="Bound">tx</a><a id="1817" class="Symbol">}</a> <a id="1819" class="Symbol">{</a><a id="1820" href="Ledger.Conway.Utxo.html#1820" class="Bound">utxo</a><a id="1824" class="Symbol">}</a> <a id="1826" class="Symbol">{</a><a id="1827" href="Ledger.Conway.Utxo.html#1827" class="Bound">a</a><a id="1828" class="Symbol">}</a> <a id="1830" class="Symbol">=</a> <a id="1832" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1834" class="Symbol">(</a><a id="1835" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">map′</a> <a id="1840" href="Ledger.Conway.Utxo.html#1637" class="InductiveConstructor">wrap</a> <a id="1845" href="Ledger.Conway.Utxo.html#1650" class="Field">unwrap</a> <a id="1852" class="Symbol">(</a><a id="1853" href="Ledger.Conway.Utxo.html#1230" class="Function">isTwoPhaseScriptAddress?</a> <a id="1878" class="Symbol">{</a><a id="1879" href="Ledger.Conway.Utxo.html#1815" class="Bound">tx</a><a id="1881" class="Symbol">}</a> <a id="1883" class="Symbol">{</a><a id="1884" href="Ledger.Conway.Utxo.html#1820" class="Bound">utxo</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Ledger.Conway.Utxo.html#1827" class="Bound">a</a><a id="1892" class="Symbol">}</a> <a id="1894" class="Symbol">.</a><a id="1895" href="Class.Decidable.Core.html#264" class="Field">dec</a><a id="1898" class="Symbol">))</a>
    <a id="1905" class="Keyword">where</a> <a id="1911" class="Keyword">open</a> <a id="1916" href="Ledger.Conway.Utxo.html#1550" class="Module">isTwoPhaseScriptAddress′</a>
</pre>
</div>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="1998" class="Keyword">opaque</a>
</pre>
</div>

<pre class="Agda">
  <a id="getDataHashes"></a><a id="2030" href="Ledger.Conway.Utxo.html#2030" class="Function">getDataHashes</a> <a id="2044" class="Symbol">:</a> <a id="2046" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2048" href="Ledger.Conway.Transaction.html#4060" class="Function">TxOut</a> <a id="2054" class="Symbol">→</a> <a id="2056" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2058" href="Ledger.Conway.Script.html#2062" class="Function">DataHash</a>
  <a id="2069" href="Ledger.Conway.Utxo.html#2030" class="Function">getDataHashes</a> <a id="2083" href="Ledger.Conway.Utxo.html#2083" class="Bound">txo</a> <a id="2087" class="Symbol">=</a> <a id="2089" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="2100" href="Data.Sum.html#870" class="Function">isInj₂</a> <a id="2107" class="Symbol">(</a><a id="2108" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="2119" class="Symbol">(</a><a id="2120" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2126" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2128" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2134" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2136" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2141" class="Symbol">)</a> <a id="2143" href="Ledger.Conway.Utxo.html#2083" class="Bound">txo</a><a id="2146" class="Symbol">)</a>

  <a id="getInputHashes"></a><a id="2151" href="Ledger.Conway.Utxo.html#2151" class="Function">getInputHashes</a> <a id="2166" class="Symbol">:</a> <a id="2168" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2182" href="Ledger.Conway.Script.html#2062" class="Function">DataHash</a>
  <a id="2193" href="Ledger.Conway.Utxo.html#2151" class="Function">getInputHashes</a> <a id="2208" href="Ledger.Conway.Utxo.html#2208" class="Bound">tx</a> <a id="2211" href="Ledger.Conway.Utxo.html#2211" class="Bound">utxo</a> <a id="2216" class="Symbol">=</a> <a id="2218" href="Ledger.Conway.Utxo.html#2030" class="Function">getDataHashes</a>
    <a id="2236" class="Symbol">(</a><a id="2237" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="2245" class="Symbol">(λ</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Ledger.Conway.Utxo.html#2249" class="Bound">a</a> <a id="2251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2253" class="Symbol">_</a> <a id="2255" class="Symbol">)</a> <a id="2257" class="Symbol">→</a> <a id="2259" href="Ledger.Conway.Utxo.html#1550" class="Record">isTwoPhaseScriptAddress′</a> <a id="2284" href="Ledger.Conway.Utxo.html#2208" class="Bound">tx</a> <a id="2287" href="Ledger.Conway.Utxo.html#2211" class="Bound">utxo</a> <a id="2292" href="Ledger.Conway.Utxo.html#2249" class="Bound">a</a><a id="2293" class="Symbol">)</a>
             <a id="2308" class="Symbol">(</a><a id="2309" href="Class.IsSet.html#959" class="Function">range</a> <a id="2315" class="Symbol">(</a><a id="2316" href="Ledger.Conway.Utxo.html#2211" class="Bound">utxo</a> <a id="2321" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="2323" href="Ledger.Conway.Transaction.html#4541" class="Function">txins</a><a id="2328" class="Symbol">)))</a>
    <a id="2336" class="Keyword">where</a> <a id="2342" class="Keyword">open</a> <a id="2347" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a><a id="2349" class="Symbol">;</a> <a id="2351" class="Keyword">open</a> <a id="2356" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Ledger.Conway.Utxo.html#2208" class="Bound">tx</a> <a id="2367" class="Symbol">.</a><a id="2368" href="Ledger.Conway.Transaction.html#6149" class="Field">body</a><a id="2372" class="Symbol">)</a>

<a id="totExUnits"></a><a id="2375" href="Ledger.Conway.Utxo.html#2375" class="Function">totExUnits</a> <a id="2386" class="Symbol">:</a> <a id="2388" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="2391" class="Symbol">→</a> <a id="2393" href="Ledger.Conway.Script.html#1357" class="Function">ExUnits</a>
<a id="2401" href="Ledger.Conway.Utxo.html#2375" class="Function">totExUnits</a> <a id="2412" href="Ledger.Conway.Utxo.html#2412" class="Bound">tx</a> <a id="2415" class="Symbol">=</a> <a id="2417" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="2420" href="Ledger.Conway.Utxo.html#2420" class="Bound">(_</a> <a id="2423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2425" href="Ledger.Conway.Utxo.html#2425" class="Bound">eu</a><a id="2427" href="Ledger.Conway.Utxo.html#2420" class="Bound">)</a> <a id="2429" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="2431" href="Ledger.Conway.Utxo.html#2412" class="Bound">tx</a> <a id="2434" class="Symbol">.</a><a id="2435" href="Ledger.Conway.Transaction.html#6173" class="Field">wits</a> <a id="2440" class="Symbol">.</a><a id="2441" href="Ledger.Conway.Transaction.html#5996" class="Field">txrdmrs</a> <a id="2449" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="2451" href="Ledger.Conway.Utxo.html#2425" class="Bound">eu</a>
  <a id="2456" class="Keyword">where</a> <a id="2462" class="Keyword">open</a> <a id="2467" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a><a id="2469" class="Symbol">;</a> <a id="2471" class="Keyword">open</a> <a id="2476" href="Ledger.Conway.Transaction.html#5867" class="Module">TxWitnesses</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="2537" class="Comment">-- utxoEntrySizeWithoutVal = 27 words (8 bytes)</a>
<a id="utxoEntrySizeWithoutVal"></a><a id="2585" href="Ledger.Conway.Utxo.html#2585" class="Function">utxoEntrySizeWithoutVal</a> <a id="2609" class="Symbol">:</a> <a id="2611" href="Ledger.Conway.TokenAlgebra.html#625" class="Function">MemoryEstimate</a>
<a id="2626" href="Ledger.Conway.Utxo.html#2585" class="Function">utxoEntrySizeWithoutVal</a> <a id="2650" class="Symbol">=</a> <a id="2652" class="Number">8</a>

<a id="utxoEntrySize"></a><a id="2655" href="Ledger.Conway.Utxo.html#2655" class="Function">utxoEntrySize</a> <a id="2669" class="Symbol">:</a> <a id="2671" href="Ledger.Conway.Transaction.html#7010" class="Function">TxOutʰ</a> <a id="2678" class="Symbol">→</a> <a id="2680" href="Ledger.Conway.TokenAlgebra.html#625" class="Function">MemoryEstimate</a>
<a id="2695" href="Ledger.Conway.Utxo.html#2655" class="Function">utxoEntrySize</a> <a id="2709" href="Ledger.Conway.Utxo.html#2709" class="Bound">o</a> <a id="2711" class="Symbol">=</a> <a id="2713" href="Ledger.Conway.Utxo.html#2585" class="Function">utxoEntrySizeWithoutVal</a> <a id="2737" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2739" href="Ledger.Conway.TokenAlgebra.html#1279" class="Function">size</a> <a id="2744" class="Symbol">(</a><a id="2745" href="Ledger.Conway.Transaction.html#7170" class="Function">getValueʰ</a> <a id="2755" href="Ledger.Conway.Utxo.html#2709" class="Bound">o</a><a id="2756" class="Symbol">)</a>


<a id="2760" class="Keyword">open</a> <a id="2765" href="Ledger.Conway.PParams.html#2555" class="Module">PParams</a>
</pre>
</div>

<p>define functions needed for the UTxO transition system.</p>
<details class="note">
<summary>Conway specifics</summary>
<p>define types and functions needed for the UTxO transition system.</p>
</details>
<p><a href="Ledger.Conway.Utxo.html#utxo-transition-system-types">'UTxO transition-system types'</a> defines the types
needed for the UTxO transition system. The UTxO transition system is
given in <a href="Ledger.Conway.Utxo.html#utxo-inference-rules">'UTXO inference rules'</a>.</p>
<ul>
<li>
<p>The function <span class="arithmatex">\(\fun{outs}\)</span> creates the unspent outputs generated by a
  transaction. It maps the transaction id and output index to the
  output.</p>
</li>
<li>
<p>The <span class="arithmatex">\(\fun{balance}\)</span> function calculates sum total of all the coin in a
  given UTxO.</p>
</li>
</ul>
<p>The deposits have been reworked since the original Shelley design. We
now track the amount of every deposit individually. This fixes an issue
in the original design: An increase in deposit amounts would allow an
attacker to make lots of deposits before that change and refund them
after the change. The additional funds necessary would have been
provided by the treasury. Since changes to protocol parameters were (and
still are) known publicly and guaranteed before they are enacted, this
comes at zero risk for an attacker. This means the deposit amounts could
realistically never be increased. This issue is gone with the new
design. See also .</p>
<p>Similar to <code class="AgdaDatatype">ScriptPurpose</code>,
<code class="AgdaDatatype">DepositPurpose</code> carries the information what the deposit
is being made for. The deposits are stored in the <code class="AgdaField">deposits</code>
field of <code class="AgdaRecord">UTxOState</code> (the type <code class="AgdaDatatype">Deposits</code> is
defined in
<a href="Ledger.Conway.Certs.html#deposit-types">'Deposit types'</a>).
<code class="AgdaFunction">updateDeposits</code> is responsible for updating this map,
which is split into <code class="AgdaFunction">updateCertDeposits</code> and
<code class="AgdaFunction">updateProposalDeposits</code>, responsible for certificates
and proposals respectively. Both of these functions iterate over the
relevant fields of the transaction body and insert or remove deposits
depending on the information seen. Note that some deposits can only be
refunded at the epoch boundary and are not removed by these functions.</p>
<p>There are two equivalent ways to introduce this tracking of the
deposits. One option would be to populate the <code class="AgdaField">deposits</code>
field of <code class="AgdaRecord">UTxOState</code> with the correct keys and values that
can be extracted from the state of the previous era at the transition
into the Conway era. Alternatively, we can effectively treat the old
handling of deposits as an erratum in the Shelley specification, which
we fix by implementing the new deposits logic in older eras and then
replaying the chain. (The handling of deposits in the Shelley era is
discussed in .)</p>
<h3 id="utxo-transition-system-types">UTxO transition-system types<a class="headerlink" href="#utxo-transition-system-types" title="Permanent link">&para;</a></h3>
<p><em>UTxO environment</em> </p>
<pre class="Agda">
<a id="5532" class="Keyword">record</a> <a id="UTxOEnv"></a><a id="5539" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a> <a id="5547" class="Symbol">:</a> <a id="5549" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5554" class="Keyword">where</a>
  <a id="5562" class="Keyword">field</a>
    <a id="UTxOEnv.slot"></a><a id="5572" href="Ledger.Conway.Utxo.html#5572" class="Field">slot</a>      <a id="5582" class="Symbol">:</a> <a id="5584" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a>
    <a id="UTxOEnv.pparams"></a><a id="5593" href="Ledger.Conway.Utxo.html#5593" class="Field">pparams</a>   <a id="5603" class="Symbol">:</a> <a id="5605" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a>
    <a id="UTxOEnv.treasury"></a><a id="5617" href="Ledger.Conway.Utxo.html#5617" class="Field">treasury</a>  <a id="5627" class="Symbol">:</a> <a id="5629" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="5683" class="Keyword">instance</a>
  <a id="HasPParams-UTxOEnv"></a><a id="5694" href="Ledger.Conway.Utxo.html#5694" class="Function">HasPParams-UTxOEnv</a> <a id="5713" class="Symbol">:</a> <a id="5715" href="Ledger.Conway.PParams.html#4962" class="Record">HasPParams</a> <a id="5726" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a>
  <a id="5736" href="Ledger.Conway.Utxo.html#5694" class="Function">HasPParams-UTxOEnv</a> <a id="5755" class="Symbol">.</a><a id="5756" href="Ledger.Conway.PParams.html#5013" class="Field">PParamsOf</a> <a id="5766" class="Symbol">=</a> <a id="5768" href="Ledger.Conway.Utxo.html#5593" class="Field">UTxOEnv.pparams</a>

  <a id="HasgovActionDeposit-UTxOEnv"></a><a id="5787" href="Ledger.Conway.Utxo.html#5787" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="5815" class="Symbol">:</a> <a id="5817" href="Ledger.Conway.PParams.html#5073" class="Record">HasgovActionDeposit</a> <a id="5837" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a>
  <a id="5847" href="Ledger.Conway.Utxo.html#5787" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="5875" class="Symbol">.</a><a id="5876" href="Ledger.Conway.PParams.html#5133" class="Field">govActionDepositOf</a> <a id="5895" class="Symbol">=</a> <a id="5897" href="Ledger.Conway.PParams.html#5133" class="Field">govActionDepositOf</a> <a id="5916" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5918" href="Ledger.Conway.PParams.html#5013" class="Field">PParamsOf</a>
</pre>
</div>
<p><em>UTxO states</em> </p>
<pre class="Agda">
<a id="5965" class="Keyword">record</a> <a id="UTxOState"></a><a id="5972" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="5982" class="Symbol">:</a> <a id="5984" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5989" class="Keyword">where</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
  <a id="6046" class="Keyword">constructor</a> <a id="⟦_,_,_,_⟧ᵘ"></a><a id="6058" href="Ledger.Conway.Utxo.html#6058" class="InductiveConstructor Operator">⟦_,_,_,_⟧ᵘ</a>
</pre>
</div>

<pre class="Agda">
  <a id="6094" class="Keyword">field</a>
    <a id="UTxOState.utxo"></a><a id="6104" href="Ledger.Conway.Utxo.html#6104" class="Field">utxo</a>       <a id="6115" class="Symbol">:</a> <a id="6117" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a>
    <a id="UTxOState.fees"></a><a id="6126" href="Ledger.Conway.Utxo.html#6126" class="Field">fees</a>       <a id="6137" class="Symbol">:</a> <a id="6139" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
    <a id="UTxOState.deposits"></a><a id="6148" href="Ledger.Conway.Utxo.html#6148" class="Field">deposits</a>   <a id="6159" class="Symbol">:</a> <a id="6161" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
    <a id="UTxOState.donations"></a><a id="6174" href="Ledger.Conway.Utxo.html#6174" class="Field">donations</a>  <a id="6185" class="Symbol">:</a> <a id="6187" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6241" class="Keyword">record</a> <a id="HasUTxOState"></a><a id="6248" href="Ledger.Conway.Utxo.html#6248" class="Record">HasUTxOState</a> <a id="6261" class="Symbol">{</a><a id="6262" href="Ledger.Conway.Utxo.html#6262" class="Bound">a</a><a id="6263" class="Symbol">}</a> <a id="6265" class="Symbol">(</a><a id="6266" href="Ledger.Conway.Utxo.html#6266" class="Bound">A</a> <a id="6268" class="Symbol">:</a> <a id="6270" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6275" href="Ledger.Conway.Utxo.html#6262" class="Bound">a</a><a id="6276" class="Symbol">)</a> <a id="6278" class="Symbol">:</a> <a id="6280" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6285" href="Ledger.Conway.Utxo.html#6262" class="Bound">a</a> <a id="6287" class="Keyword">where</a>
  <a id="6295" class="Keyword">field</a> <a id="HasUTxOState.UTxOStateOf"></a><a id="6301" href="Ledger.Conway.Utxo.html#6301" class="Field">UTxOStateOf</a> <a id="6313" class="Symbol">:</a> <a id="6315" href="Ledger.Conway.Utxo.html#6266" class="Bound">A</a> <a id="6317" class="Symbol">→</a> <a id="6319" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a>
<a id="6329" class="Keyword">open</a> <a id="6334" href="Ledger.Conway.Utxo.html#6248" class="Module">HasUTxOState</a> <a id="6347" class="Symbol">⦃...⦄</a> <a id="6353" class="Keyword">public</a>

<a id="6361" class="Keyword">instance</a>
  <a id="HasDeposits-UTxOState"></a><a id="6372" href="Ledger.Conway.Utxo.html#6372" class="Function">HasDeposits-UTxOState</a> <a id="6394" class="Symbol">:</a> <a id="6396" href="Ledger.Conway.Certs.html#893" class="Record">HasDeposits</a> <a id="6408" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a>
  <a id="6420" href="Ledger.Conway.Utxo.html#6372" class="Function">HasDeposits-UTxOState</a> <a id="6442" class="Symbol">.</a><a id="6443" href="Ledger.Conway.Certs.html#945" class="Field">DepositsOf</a> <a id="6454" class="Symbol">=</a> <a id="6456" href="Ledger.Conway.Utxo.html#6148" class="Field">UTxOState.deposits</a>

  <a id="HasUTxO-UTxOState"></a><a id="6478" href="Ledger.Conway.Utxo.html#6478" class="Function">HasUTxO-UTxOState</a> <a id="6496" class="Symbol">:</a> <a id="6498" href="Ledger.Conway.Transaction.html#4357" class="Record">HasUTxO</a> <a id="6506" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a>
  <a id="6518" href="Ledger.Conway.Utxo.html#6478" class="Function">HasUTxO-UTxOState</a> <a id="6536" class="Symbol">.</a><a id="6537" href="Ledger.Conway.Transaction.html#4407" class="Field">UTxOOf</a> <a id="6544" class="Symbol">=</a> <a id="6546" href="Ledger.Conway.Utxo.html#6104" class="Field">UTxOState.utxo</a>

  <a id="6564" class="Keyword">unquoteDecl</a> <a id="HasCast-UTxOEnv"></a><a id="6576" href="Ledger.Conway.Utxo.html#6576" class="Function">HasCast-UTxOEnv</a> <a id="HasCast-UTxOState"></a><a id="6592" href="Ledger.Conway.Utxo.html#6592" class="Function">HasCast-UTxOState</a> <a id="6610" class="Symbol">=</a> <a id="6612" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="6631" class="Symbol">(</a> <a id="6633" class="Symbol">(</a><a id="6634" class="Keyword">quote</a> <a id="6640" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a>   <a id="6650" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6652" href="Ledger.Conway.Utxo.html#6576" class="Function">HasCast-UTxOEnv</a>  <a id="6669" class="Symbol">)</a> <a id="6671" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>
    <a id="6677" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="6679" class="Symbol">(</a><a id="6680" class="Keyword">quote</a> <a id="6686" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="6696" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6698" href="Ledger.Conway.Utxo.html#6592" class="Function">HasCast-UTxOState</a><a id="6715" class="Symbol">)</a> <a id="6717" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="6718" class="Symbol">)</a>
</pre>
</div>
<p><em>UTxO transitions</em></p>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6797" class="Keyword">data</a>
</pre>
</div>

<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXO⦈_"></a><a id="6827" href="Ledger.Conway.Utxo.html#6827" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="6841" class="Symbol">:</a> <a id="6843" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a> <a id="6851" class="Symbol">→</a> <a id="6853" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="6863" class="Symbol">→</a> <a id="6865" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="6868" class="Symbol">→</a> <a id="6870" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="6880" class="Symbol">→</a> <a id="6882" href="Agda.Primitive.html#388" class="Primitive">Type</a>
</pre>

<h3 id="functions-used-in-utxo-rules">Functions used in UTxO rules<a class="headerlink" href="#functions-used-in-utxo-rules" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="6972" class="Keyword">module</a> <a id="6979" href="Ledger.Conway.Utxo.html#6979" class="Module">_</a> <a id="6981" class="Symbol">(</a><a id="6982" class="Keyword">let</a> <a id="6986" class="Keyword">open</a> <a id="6991" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a><a id="6993" class="Symbol">;</a> <a id="6995" class="Keyword">open</a> <a id="7000" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a><a id="7006" class="Symbol">;</a> <a id="7008" class="Keyword">open</a> <a id="7013" href="Ledger.Conway.Transaction.html#5867" class="Module">TxWitnesses</a><a id="7024" class="Symbol">)</a> <a id="7026" class="Keyword">where</a> <a id="7032" class="Keyword">opaque</a>
</pre>
</div>

<pre class="Agda">
  <a id="7064" href="Ledger.Conway.Utxo.html#7064" class="Function">outs</a> <a id="7069" class="Symbol">:</a> <a id="7071" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="7078" class="Symbol">→</a> <a id="7080" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a>
  <a id="7087" href="Ledger.Conway.Utxo.html#7064" class="Function">outs</a> <a id="7092" href="Ledger.Conway.Utxo.html#7092" class="Bound">tx</a> <a id="7095" class="Symbol">=</a> <a id="7097" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="7105" class="Symbol">(</a><a id="7106" href="Ledger.Conway.Utxo.html#7092" class="Bound">tx</a> <a id="7109" class="Symbol">.</a><a id="7110" href="Ledger.Conway.Transaction.html#5073" class="Field">txid</a> <a id="7115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="7117" class="Symbol">)</a> <a id="7119" class="Symbol">(</a><a id="7120" href="Ledger.Conway.Utxo.html#7092" class="Bound">tx</a> <a id="7123" class="Symbol">.</a><a id="7124" href="Ledger.Conway.Transaction.html#4601" class="Field">txouts</a><a id="7130" class="Symbol">)</a>

  <a id="7135" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a> <a id="7143" class="Symbol">:</a> <a id="7145" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="7150" class="Symbol">→</a> <a id="7152" href="Ledger.Conway.TokenAlgebra.html#751" class="Function">Value</a>
  <a id="7160" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a> <a id="7168" href="Ledger.Conway.Utxo.html#7168" class="Bound">utxo</a> <a id="7173" class="Symbol">=</a> <a id="7175" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7178" href="Ledger.Conway.Utxo.html#7178" class="Bound">x</a> <a id="7180" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7182" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7192" href="Ledger.Conway.Transaction.html#7081" class="Function">txOutHash</a> <a id="7202" href="Ledger.Conway.Utxo.html#7168" class="Bound">utxo</a> <a id="7207" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7209" href="Ledger.Conway.Transaction.html#7170" class="Function">getValueʰ</a> <a id="7219" href="Ledger.Conway.Utxo.html#7178" class="Bound">x</a>

  <a id="7224" href="Ledger.Conway.Utxo.html#7224" class="Function">cbalance</a> <a id="7233" class="Symbol">:</a> <a id="7235" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="7240" class="Symbol">→</a> <a id="7242" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="7249" href="Ledger.Conway.Utxo.html#7224" class="Function">cbalance</a> <a id="7258" href="Ledger.Conway.Utxo.html#7258" class="Bound">utxo</a> <a id="7263" class="Symbol">=</a> <a id="7265" href="Ledger.Conway.TokenAlgebra.html#1138" class="Function">coin</a> <a id="7270" class="Symbol">(</a><a id="7271" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a> <a id="7279" href="Ledger.Conway.Utxo.html#7258" class="Bound">utxo</a><a id="7283" class="Symbol">)</a>
</pre>

<pre class="Agda">

  <a id="7303" href="Ledger.Conway.Utxo.html#7303" class="Function">refScriptsSize</a> <a id="7318" class="Symbol">:</a> <a id="7320" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="7325" class="Symbol">→</a> <a id="7327" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="7330" class="Symbol">→</a> <a id="7332" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="7336" href="Ledger.Conway.Utxo.html#7303" class="Function">refScriptsSize</a> <a id="7351" href="Ledger.Conway.Utxo.html#7351" class="Bound">utxo</a> <a id="7356" href="Ledger.Conway.Utxo.html#7356" class="Bound">tx</a> <a id="7359" class="Symbol">=</a> <a id="7361" href="Data.List.Base.html#4964" class="Function">sum</a> <a id="7365" class="Symbol">(</a><a id="7366" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="7370" href="Ledger.Conway.Abstract.html#843" class="Field">scriptSize</a> <a id="7381" class="Symbol">(</a><a id="7382" href="Ledger.Conway.Transaction.html#7539" class="Function">refScripts</a> <a id="7393" href="Ledger.Conway.Utxo.html#7356" class="Bound">tx</a> <a id="7396" href="Ledger.Conway.Utxo.html#7351" class="Bound">utxo</a><a id="7400" class="Symbol">))</a>

  <a id="7406" href="Ledger.Conway.Utxo.html#7406" class="Function">minfee</a> <a id="7413" class="Symbol">:</a> <a id="7415" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="7423" class="Symbol">→</a> <a id="7425" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="7430" class="Symbol">→</a> <a id="7432" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="7435" class="Symbol">→</a> <a id="7437" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="7444" href="Ledger.Conway.Utxo.html#7406" class="Function">minfee</a> <a id="7451" href="Ledger.Conway.Utxo.html#7451" class="Bound">pp</a> <a id="7454" href="Ledger.Conway.Utxo.html#7454" class="Bound">utxo</a> <a id="7459" href="Ledger.Conway.Utxo.html#7459" class="Bound">tx</a>  <a id="7463" class="Symbol">=</a> <a id="7465" href="Ledger.Conway.Utxo.html#7451" class="Bound">pp</a> <a id="7468" class="Symbol">.</a><a id="7469" href="Ledger.Conway.PParams.html#3091" class="Field">a</a> <a id="7471" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="7473" href="Ledger.Conway.Utxo.html#7459" class="Bound">tx</a> <a id="7476" class="Symbol">.</a><a id="7477" href="Ledger.Conway.Transaction.html#6149" class="Field">body</a> <a id="7482" class="Symbol">.</a><a id="7483" href="Ledger.Conway.Transaction.html#5048" class="Field">txsize</a> <a id="7490" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7492" href="Ledger.Conway.Utxo.html#7451" class="Bound">pp</a> <a id="7495" class="Symbol">.</a><a id="7496" href="Ledger.Conway.PParams.html#3133" class="Field">b</a>
                     <a id="7519" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7521" href="Ledger.Conway.Abstract.html#646" class="Field">txscriptfee</a> <a id="7533" class="Symbol">(</a><a id="7534" href="Ledger.Conway.Utxo.html#7451" class="Bound">pp</a> <a id="7537" class="Symbol">.</a><a id="7538" href="Ledger.Conway.PParams.html#3450" class="Field">prices</a><a id="7544" class="Symbol">)</a> <a id="7546" class="Symbol">(</a><a id="7547" href="Ledger.Conway.Utxo.html#2375" class="Function">totExUnits</a> <a id="7558" href="Ledger.Conway.Utxo.html#7459" class="Bound">tx</a><a id="7560" class="Symbol">)</a>
                     <a id="7583" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7585" href="Ledger.Conway.Fees.html#2014" class="Function">scriptsCost</a> <a id="7597" href="Ledger.Conway.Utxo.html#7451" class="Bound">pp</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Ledger.Conway.Utxo.html#7303" class="Function">refScriptsSize</a> <a id="7616" href="Ledger.Conway.Utxo.html#7454" class="Bound">utxo</a> <a id="7621" href="Ledger.Conway.Utxo.html#7459" class="Bound">tx</a><a id="7623" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="7674" class="Keyword">instance</a>
  <a id="HasCoin-UTxO"></a><a id="7685" href="Ledger.Conway.Utxo.html#7685" class="Function">HasCoin-UTxO</a> <a id="7698" class="Symbol">:</a> <a id="7700" href="Ledger.Interface.HasCoin.html#132" class="Record">HasCoin</a> <a id="7708" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a>
  <a id="7715" href="Ledger.Conway.Utxo.html#7685" class="Function">HasCoin-UTxO</a> <a id="7728" class="Symbol">.</a><a id="7729" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="7737" class="Symbol">=</a> <a id="7739" href="Ledger.Conway.Utxo.html#7224" class="Function">cbalance</a>
</pre>
</div>

<pre class="Agda">
<a id="certDeposit"></a><a id="7771" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="7783" class="Symbol">:</a> <a id="7785" href="Ledger.Conway.Certs.html#1644" class="Datatype">DCert</a> <a id="7791" class="Symbol">→</a> <a id="7793" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="7801" class="Symbol">→</a> <a id="7803" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
<a id="7812" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="7824" class="Symbol">(</a><a id="7825" href="Ledger.Conway.Certs.html#1665" class="InductiveConstructor">delegate</a> <a id="7834" href="Ledger.Conway.Utxo.html#7834" class="Bound">c</a> <a id="7836" class="Symbol">_</a> <a id="7838" class="Symbol">_</a> <a id="7840" href="Ledger.Conway.Utxo.html#7840" class="Bound">v</a><a id="7841" class="Symbol">)</a> <a id="7843" class="Symbol">_</a>   <a id="7847" class="Symbol">=</a> <a id="7849" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7851" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="7869" href="Ledger.Conway.Utxo.html#7834" class="Bound">c</a> <a id="7871" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7873" href="Ledger.Conway.Utxo.html#7840" class="Bound">v</a> <a id="7875" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="7877" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="7889" class="Symbol">(</a><a id="7890" href="Ledger.Conway.Certs.html#2398" class="InductiveConstructor">reg</a> <a id="7894" href="Ledger.Conway.Utxo.html#7894" class="Bound">c</a> <a id="7896" class="Symbol">_)</a>          <a id="7908" href="Ledger.Conway.Utxo.html#7908" class="Bound">pp</a>  <a id="7912" class="Symbol">=</a> <a id="7914" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7916" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="7934" href="Ledger.Conway.Utxo.html#7894" class="Bound">c</a> <a id="7936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7938" href="Ledger.Conway.Utxo.html#7908" class="Bound">pp</a> <a id="7941" class="Symbol">.</a><a id="7942" href="Ledger.Conway.PParams.html#3175" class="Field">keyDeposit</a> <a id="7953" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="7955" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="7967" class="Symbol">(</a><a id="7968" href="Ledger.Conway.Certs.html#1786" class="InductiveConstructor">regpool</a> <a id="7976" href="Ledger.Conway.Utxo.html#7976" class="Bound">kh</a> <a id="7979" class="Symbol">_)</a>     <a id="7986" href="Ledger.Conway.Utxo.html#7986" class="Bound">pp</a>  <a id="7990" class="Symbol">=</a> <a id="7992" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7994" href="Ledger.Conway.Certs.html#584" class="InductiveConstructor">PoolDeposit</a> <a id="8006" href="Ledger.Conway.Utxo.html#7976" class="Bound">kh</a> <a id="8009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8011" href="Ledger.Conway.Utxo.html#7986" class="Bound">pp</a> <a id="8014" class="Symbol">.</a><a id="8015" href="Ledger.Conway.PParams.html#3220" class="Field">poolDeposit</a> <a id="8027" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8029" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="8041" class="Symbol">(</a><a id="8042" href="Ledger.Conway.Certs.html#1871" class="InductiveConstructor">regdrep</a> <a id="8050" href="Ledger.Conway.Utxo.html#8050" class="Bound">c</a> <a id="8052" href="Ledger.Conway.Utxo.html#8052" class="Bound">v</a> <a id="8054" class="Symbol">_)</a>    <a id="8060" class="Symbol">_</a>   <a id="8064" class="Symbol">=</a> <a id="8066" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8068" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="8080" href="Ledger.Conway.Utxo.html#8050" class="Bound">c</a> <a id="8082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8084" href="Ledger.Conway.Utxo.html#8052" class="Bound">v</a> <a id="8086" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8088" href="Ledger.Conway.Utxo.html#7771" class="CatchallClause Function">certDeposit</a><a id="8099" class="CatchallClause"> </a><a id="8100" class="CatchallClause Symbol">_</a><a id="8101" class="CatchallClause">                  </a><a id="8119" class="CatchallClause Symbol">_</a>   <a id="8123" class="Symbol">=</a> <a id="8125" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="certRefund"></a><a id="8128" href="Ledger.Conway.Utxo.html#8128" class="Function">certRefund</a> <a id="8139" class="Symbol">:</a> <a id="8141" href="Ledger.Conway.Certs.html#1644" class="Datatype">DCert</a> <a id="8147" class="Symbol">→</a> <a id="8149" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8151" href="Ledger.Conway.Certs.html#501" class="Datatype">DepositPurpose</a>
<a id="8166" href="Ledger.Conway.Utxo.html#8128" class="Function">certRefund</a> <a id="8177" class="Symbol">(</a><a id="8178" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="8184" href="Ledger.Conway.Utxo.html#8184" class="Bound">c</a> <a id="8186" class="Symbol">_)</a>      <a id="8194" class="Symbol">=</a> <a id="8196" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8198" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="8216" href="Ledger.Conway.Utxo.html#8184" class="Bound">c</a> <a id="8218" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8220" href="Ledger.Conway.Utxo.html#8128" class="Function">certRefund</a> <a id="8231" class="Symbol">(</a><a id="8232" href="Ledger.Conway.Certs.html#1922" class="InductiveConstructor">deregdrep</a> <a id="8242" href="Ledger.Conway.Utxo.html#8242" class="Bound">c</a> <a id="8244" class="Symbol">_)</a>  <a id="8248" class="Symbol">=</a> <a id="8250" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8252" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="8264" href="Ledger.Conway.Utxo.html#8242" class="Bound">c</a> <a id="8266" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8268" href="Ledger.Conway.Utxo.html#8128" class="CatchallClause Function">certRefund</a><a id="8278" class="CatchallClause"> </a><a id="8279" class="CatchallClause Symbol">_</a>                <a id="8296" class="Symbol">=</a> <a id="8298" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="8301" class="Keyword">data</a> <a id="ValidCertDeposits"></a><a id="8306" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8324" class="Symbol">(</a><a id="8325" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8328" class="Symbol">:</a> <a id="8330" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a><a id="8337" class="Symbol">)</a> <a id="8339" class="Symbol">(</a><a id="8340" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8345" class="Symbol">:</a> <a id="8347" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a><a id="8355" class="Symbol">)</a> <a id="8357" class="Symbol">:</a> <a id="8359" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8364" href="Ledger.Conway.Certs.html#1644" class="Datatype">DCert</a> <a id="8370" class="Symbol">→</a> <a id="8372" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
  <a id="8427" class="Keyword">where</a>
  <a id="ValidCertDeposits.[]"></a><a id="8435" href="Ledger.Conway.Utxo.html#8435" class="InductiveConstructor">[]</a>         <a id="8446" class="Symbol">:</a> <a id="8448" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8466" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8469" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8474" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="ValidCertDeposits.delegate"></a><a id="8479" href="Ledger.Conway.Utxo.html#8479" class="InductiveConstructor">delegate</a>   <a id="8490" class="Symbol">:</a> <a id="8492" class="Symbol">∀</a> <a id="8494" class="Symbol">{</a><a id="8495" href="Ledger.Conway.Utxo.html#8495" class="Bound">c</a> <a id="8497" href="Ledger.Conway.Utxo.html#8497" class="Bound">del</a> <a id="8501" href="Ledger.Conway.Utxo.html#8501" class="Bound">kh</a> <a id="8504" href="Ledger.Conway.Utxo.html#8504" class="Bound">v</a> <a id="8506" href="Ledger.Conway.Utxo.html#8506" class="Bound">certs</a><a id="8511" class="Symbol">}</a>
             <a id="8526" class="Symbol">→</a> <a id="8528" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8546" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8549" class="Symbol">(</a><a id="8550" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8555" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8558" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8560" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="8578" href="Ledger.Conway.Utxo.html#8495" class="Bound">c</a> <a id="8580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8582" href="Ledger.Conway.Utxo.html#8504" class="Bound">v</a> <a id="8584" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8585" class="Symbol">)</a> <a id="8587" href="Ledger.Conway.Utxo.html#8506" class="Bound">certs</a>
             <a id="8606" class="Symbol">→</a> <a id="8608" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8626" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8629" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8634" class="Symbol">(</a><a id="8635" href="Ledger.Conway.Certs.html#1665" class="InductiveConstructor">delegate</a> <a id="8644" href="Ledger.Conway.Utxo.html#8495" class="Bound">c</a> <a id="8646" href="Ledger.Conway.Utxo.html#8497" class="Bound">del</a> <a id="8650" href="Ledger.Conway.Utxo.html#8501" class="Bound">kh</a> <a id="8653" href="Ledger.Conway.Utxo.html#8504" class="Bound">v</a> <a id="8655" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8657" href="Ledger.Conway.Utxo.html#8506" class="Bound">certs</a><a id="8662" class="Symbol">)</a>
  <a id="ValidCertDeposits.regpool"></a><a id="8666" href="Ledger.Conway.Utxo.html#8666" class="InductiveConstructor">regpool</a>    <a id="8677" class="Symbol">:</a> <a id="8679" class="Symbol">∀</a> <a id="8681" class="Symbol">{</a><a id="8682" href="Ledger.Conway.Utxo.html#8682" class="Bound">kh</a> <a id="8685" href="Ledger.Conway.Utxo.html#8685" class="Bound">p</a> <a id="8687" href="Ledger.Conway.Utxo.html#8687" class="Bound">certs</a><a id="8692" class="Symbol">}</a>
             <a id="8707" class="Symbol">→</a> <a id="8709" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8727" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8730" class="Symbol">(</a><a id="8731" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8736" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8739" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8741" href="Ledger.Conway.Certs.html#584" class="InductiveConstructor">PoolDeposit</a> <a id="8753" href="Ledger.Conway.Utxo.html#8682" class="Bound">kh</a> <a id="8756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8758" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8761" class="Symbol">.</a><a id="8762" href="Ledger.Conway.PParams.html#3220" class="Field">poolDeposit</a> <a id="8774" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8775" class="Symbol">)</a> <a id="8777" href="Ledger.Conway.Utxo.html#8687" class="Bound">certs</a>
             <a id="8796" class="Symbol">→</a> <a id="8798" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8816" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8819" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8824" class="Symbol">(</a><a id="8825" href="Ledger.Conway.Certs.html#1786" class="InductiveConstructor">regpool</a> <a id="8833" href="Ledger.Conway.Utxo.html#8682" class="Bound">kh</a> <a id="8836" href="Ledger.Conway.Utxo.html#8685" class="Bound">p</a> <a id="8838" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8840" href="Ledger.Conway.Utxo.html#8687" class="Bound">certs</a><a id="8845" class="Symbol">)</a>
  <a id="ValidCertDeposits.regdrep"></a><a id="8849" href="Ledger.Conway.Utxo.html#8849" class="InductiveConstructor">regdrep</a>    <a id="8860" class="Symbol">:</a> <a id="8862" class="Symbol">∀</a> <a id="8864" class="Symbol">{</a><a id="8865" href="Ledger.Conway.Utxo.html#8865" class="Bound">c</a> <a id="8867" href="Ledger.Conway.Utxo.html#8867" class="Bound">v</a> <a id="8869" href="Ledger.Conway.Utxo.html#8869" class="Bound">a</a> <a id="8871" href="Ledger.Conway.Utxo.html#8871" class="Bound">certs</a><a id="8876" class="Symbol">}</a>
             <a id="8891" class="Symbol">→</a> <a id="8893" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8911" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8914" class="Symbol">(</a><a id="8915" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8920" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8923" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8925" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="8937" href="Ledger.Conway.Utxo.html#8865" class="Bound">c</a> <a id="8939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8941" href="Ledger.Conway.Utxo.html#8867" class="Bound">v</a> <a id="8943" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="8944" class="Symbol">)</a> <a id="8946" href="Ledger.Conway.Utxo.html#8871" class="Bound">certs</a>
             <a id="8965" class="Symbol">→</a> <a id="8967" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="8985" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="8988" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="8993" class="Symbol">(</a><a id="8994" href="Ledger.Conway.Certs.html#1871" class="InductiveConstructor">regdrep</a> <a id="9002" href="Ledger.Conway.Utxo.html#8865" class="Bound">c</a> <a id="9004" href="Ledger.Conway.Utxo.html#8867" class="Bound">v</a> <a id="9006" href="Ledger.Conway.Utxo.html#8869" class="Bound">a</a> <a id="9008" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9010" href="Ledger.Conway.Utxo.html#8871" class="Bound">certs</a><a id="9015" class="Symbol">)</a>
  <a id="ValidCertDeposits.reg"></a><a id="9019" href="Ledger.Conway.Utxo.html#9019" class="InductiveConstructor">reg</a>        <a id="9030" class="Symbol">:</a> <a id="9032" class="Symbol">∀</a> <a id="9034" class="Symbol">{</a><a id="9035" href="Ledger.Conway.Utxo.html#9035" class="Bound">c</a> <a id="9037" href="Ledger.Conway.Utxo.html#9037" class="Bound">v</a> <a id="9039" href="Ledger.Conway.Utxo.html#9039" class="Bound">certs</a><a id="9044" class="Symbol">}</a>
             <a id="9059" class="Symbol">→</a> <a id="9061" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9079" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9082" class="Symbol">(</a><a id="9083" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9088" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="9091" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9093" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="9111" href="Ledger.Conway.Utxo.html#9035" class="Bound">c</a> <a id="9113" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9115" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9118" class="Symbol">.</a><a id="9119" href="Ledger.Conway.PParams.html#3175" class="Field">keyDeposit</a> <a id="9130" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="9131" class="Symbol">)</a> <a id="9133" href="Ledger.Conway.Utxo.html#9039" class="Bound">certs</a>
             <a id="9152" class="Symbol">→</a> <a id="9154" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9172" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9175" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9180" class="Symbol">(</a><a id="9181" href="Ledger.Conway.Certs.html#2398" class="InductiveConstructor">reg</a> <a id="9185" href="Ledger.Conway.Utxo.html#9035" class="Bound">c</a> <a id="9187" href="Ledger.Conway.Utxo.html#9037" class="Bound">v</a> <a id="9189" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9191" href="Ledger.Conway.Utxo.html#9039" class="Bound">certs</a><a id="9196" class="Symbol">)</a>
  <a id="ValidCertDeposits.dereg"></a><a id="9200" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a>      <a id="9211" class="Symbol">:</a> <a id="9213" class="Symbol">∀</a> <a id="9215" class="Symbol">{</a><a id="9216" href="Ledger.Conway.Utxo.html#9216" class="Bound">c</a> <a id="9218" href="Ledger.Conway.Utxo.html#9218" class="Bound">md</a> <a id="9221" href="Ledger.Conway.Utxo.html#9221" class="Bound">d</a> <a id="9223" href="Ledger.Conway.Utxo.html#9223" class="Bound">certs</a><a id="9228" class="Symbol">}</a>
             <a id="9243" class="Symbol">→</a> <a id="9245" class="Symbol">(</a><a id="9246" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="9264" href="Ledger.Conway.Utxo.html#9216" class="Bound">c</a> <a id="9266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9268" href="Ledger.Conway.Utxo.html#9221" class="Bound">d</a><a id="9269" class="Symbol">)</a> <a id="9271" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9273" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a>
             <a id="9291" class="Symbol">→</a> <a id="9293" href="Ledger.Conway.Utxo.html#9218" class="Bound">md</a> <a id="9296" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9298" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9306" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9308" href="Ledger.Conway.Utxo.html#9218" class="Bound">md</a> <a id="9311" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9313" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9318" href="Ledger.Conway.Utxo.html#9221" class="Bound">d</a>
             <a id="9333" class="Symbol">→</a> <a id="9335" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9353" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9356" class="Symbol">(</a><a id="9357" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9362" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9364" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9366" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="9384" href="Ledger.Conway.Utxo.html#9216" class="Bound">c</a> <a id="9386" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="9388" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9389" class="Symbol">)</a> <a id="9391" href="Ledger.Conway.Utxo.html#9223" class="Bound">certs</a>
             <a id="9410" class="Symbol">→</a> <a id="9412" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9430" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9433" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9438" class="Symbol">(</a><a id="9439" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="9445" href="Ledger.Conway.Utxo.html#9216" class="Bound">c</a> <a id="9447" href="Ledger.Conway.Utxo.html#9218" class="Bound">md</a> <a id="9450" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9452" href="Ledger.Conway.Utxo.html#9223" class="Bound">certs</a><a id="9457" class="Symbol">)</a>
  <a id="ValidCertDeposits.deregdrep"></a><a id="9461" href="Ledger.Conway.Utxo.html#9461" class="InductiveConstructor">deregdrep</a>  <a id="9472" class="Symbol">:</a> <a id="9474" class="Symbol">∀</a> <a id="9476" class="Symbol">{</a><a id="9477" href="Ledger.Conway.Utxo.html#9477" class="Bound">c</a> <a id="9479" href="Ledger.Conway.Utxo.html#9479" class="Bound">d</a> <a id="9481" href="Ledger.Conway.Utxo.html#9481" class="Bound">certs</a><a id="9486" class="Symbol">}</a>
             <a id="9501" class="Symbol">→</a> <a id="9503" class="Symbol">(</a><a id="9504" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="9516" href="Ledger.Conway.Utxo.html#9477" class="Bound">c</a> <a id="9518" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9520" href="Ledger.Conway.Utxo.html#9479" class="Bound">d</a><a id="9521" class="Symbol">)</a> <a id="9523" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9525" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a>
             <a id="9543" class="Symbol">→</a> <a id="9545" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9563" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9566" class="Symbol">(</a><a id="9567" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9572" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9574" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9576" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="9588" href="Ledger.Conway.Utxo.html#9477" class="Bound">c</a> <a id="9590" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="9592" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9593" class="Symbol">)</a> <a id="9595" href="Ledger.Conway.Utxo.html#9481" class="Bound">certs</a>
             <a id="9614" class="Symbol">→</a> <a id="9616" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9634" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9637" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9642" class="Symbol">(</a><a id="9643" href="Ledger.Conway.Certs.html#1922" class="InductiveConstructor">deregdrep</a> <a id="9653" href="Ledger.Conway.Utxo.html#9477" class="Bound">c</a> <a id="9655" href="Ledger.Conway.Utxo.html#9479" class="Bound">d</a> <a id="9657" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9659" href="Ledger.Conway.Utxo.html#9481" class="Bound">certs</a><a id="9664" class="Symbol">)</a>
  <a id="ValidCertDeposits.ccreghot"></a><a id="9668" href="Ledger.Conway.Utxo.html#9668" class="InductiveConstructor">ccreghot</a>   <a id="9679" class="Symbol">:</a> <a id="9681" class="Symbol">∀</a> <a id="9683" class="Symbol">{</a><a id="9684" href="Ledger.Conway.Utxo.html#9684" class="Bound">c</a> <a id="9686" href="Ledger.Conway.Utxo.html#9686" class="Bound">v</a> <a id="9688" href="Ledger.Conway.Utxo.html#9688" class="Bound">certs</a><a id="9693" class="Symbol">}</a>
             <a id="9708" class="Symbol">→</a> <a id="9710" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9728" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9731" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9736" href="Ledger.Conway.Utxo.html#9688" class="Bound">certs</a>
             <a id="9755" class="Symbol">→</a> <a id="9757" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9775" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9778" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9783" class="Symbol">(</a><a id="9784" href="Ledger.Conway.Certs.html#1964" class="InductiveConstructor">ccreghot</a> <a id="9793" href="Ledger.Conway.Utxo.html#9684" class="Bound">c</a> <a id="9795" href="Ledger.Conway.Utxo.html#9686" class="Bound">v</a> <a id="9797" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9799" href="Ledger.Conway.Utxo.html#9688" class="Bound">certs</a><a id="9804" class="Symbol">)</a>
  <a id="ValidCertDeposits.retirepool"></a><a id="9808" href="Ledger.Conway.Utxo.html#9808" class="InductiveConstructor">retirepool</a> <a id="9819" class="Symbol">:</a> <a id="9821" class="Symbol">∀</a> <a id="9823" class="Symbol">{</a><a id="9824" href="Ledger.Conway.Utxo.html#9824" class="Bound">kh</a> <a id="9827" href="Ledger.Conway.Utxo.html#9827" class="Bound">e</a> <a id="9829" href="Ledger.Conway.Utxo.html#9829" class="Bound">certs</a><a id="9834" class="Symbol">}</a>
             <a id="9849" class="Symbol">→</a> <a id="9851" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9869" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9872" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9877" href="Ledger.Conway.Utxo.html#9829" class="Bound">certs</a>
             <a id="9896" class="Symbol">→</a> <a id="9898" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="9916" href="Ledger.Conway.Utxo.html#8325" class="Bound">pp</a> <a id="9919" href="Ledger.Conway.Utxo.html#8340" class="Bound">deps</a> <a id="9924" class="Symbol">(</a><a id="9925" href="Ledger.Conway.Certs.html#1831" class="InductiveConstructor">retirepool</a> <a id="9936" href="Ledger.Conway.Utxo.html#9824" class="Bound">kh</a> <a id="9939" href="Ledger.Conway.Utxo.html#9827" class="Bound">e</a>  <a id="9942" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9944" href="Ledger.Conway.Utxo.html#9829" class="Bound">certs</a><a id="9949" class="Symbol">)</a>

<a id="9952" class="Keyword">private</a>
  <a id="validCertDeposits?"></a><a id="9962" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="9981" class="Symbol">:</a> <a id="9983" class="Symbol">∀</a> <a id="9985" class="Symbol">{</a><a id="9986" href="Ledger.Conway.Utxo.html#9986" class="Bound">pp</a><a id="9988" class="Symbol">}</a> <a id="9990" href="Ledger.Conway.Utxo.html#9990" class="Bound">deps</a> <a id="9995" href="Ledger.Conway.Utxo.html#9995" class="Bound">certs</a> <a id="10001" class="Symbol">→</a> <a id="10003" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10007" class="Symbol">(</a><a id="10008" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="10026" href="Ledger.Conway.Utxo.html#9986" class="Bound">pp</a> <a id="10029" href="Ledger.Conway.Utxo.html#9990" class="Bound">deps</a> <a id="10034" href="Ledger.Conway.Utxo.html#9995" class="Bound">certs</a><a id="10039" class="Symbol">)</a>
  <a id="10043" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10062" href="Ledger.Conway.Utxo.html#10062" class="Bound">deps</a> <a id="10067" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10070" class="Symbol">=</a> <a id="10072" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="10076" href="Ledger.Conway.Utxo.html#8435" class="InductiveConstructor">[]</a>
  <a id="10081" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10100" href="Ledger.Conway.Utxo.html#10100" class="Bound">deps</a> <a id="10105" class="Symbol">(</a><a id="10106" href="Ledger.Conway.Certs.html#1665" class="InductiveConstructor">delegate</a> <a id="10115" class="Symbol">_</a> <a id="10117" class="Symbol">_</a> <a id="10119" class="Symbol">_</a> <a id="10121" class="Symbol">_</a> <a id="10123" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10125" href="Ledger.Conway.Utxo.html#10125" class="Bound">certs</a><a id="10130" class="Symbol">)</a> <a id="10132" class="Symbol">=</a>
    <a id="10138" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10145" href="Ledger.Conway.Utxo.html#8479" class="InductiveConstructor">delegate</a> <a id="10154" class="Symbol">(λ</a> <a id="10157" class="Keyword">where</a> <a id="10163" class="Symbol">(</a><a id="10164" href="Ledger.Conway.Utxo.html#8479" class="InductiveConstructor">delegate</a> <a id="10173" href="Ledger.Conway.Utxo.html#10173" class="Bound">p</a><a id="10174" class="Symbol">)</a> <a id="10176" class="Symbol">→</a> <a id="10178" href="Ledger.Conway.Utxo.html#10173" class="Bound">p</a><a id="10179" class="Symbol">)</a> <a id="10181" class="Symbol">(</a><a id="10182" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10201" class="Symbol">_</a> <a id="10203" class="Symbol">_)</a>
  <a id="10208" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10227" href="Ledger.Conway.Utxo.html#10227" class="Bound">deps</a> <a id="10232" class="Symbol">(</a><a id="10233" href="Ledger.Conway.Certs.html#1786" class="InductiveConstructor">regpool</a> <a id="10241" class="Symbol">_</a> <a id="10243" class="Symbol">_</a> <a id="10245" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10247" href="Ledger.Conway.Utxo.html#10247" class="Bound">certs</a><a id="10252" class="Symbol">)</a> <a id="10254" class="Symbol">=</a>
    <a id="10260" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10267" href="Ledger.Conway.Utxo.html#8666" class="InductiveConstructor">regpool</a> <a id="10275" class="Symbol">(λ</a> <a id="10278" class="Keyword">where</a> <a id="10284" class="Symbol">(</a><a id="10285" href="Ledger.Conway.Utxo.html#8666" class="InductiveConstructor">regpool</a> <a id="10293" href="Ledger.Conway.Utxo.html#10293" class="Bound">p</a><a id="10294" class="Symbol">)</a> <a id="10296" class="Symbol">→</a> <a id="10298" href="Ledger.Conway.Utxo.html#10293" class="Bound">p</a><a id="10299" class="Symbol">)</a> <a id="10301" class="Symbol">(</a><a id="10302" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10321" class="Symbol">_</a> <a id="10323" class="Symbol">_)</a>
  <a id="10328" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10347" href="Ledger.Conway.Utxo.html#10347" class="Bound">deps</a> <a id="10352" class="Symbol">(</a><a id="10353" href="Ledger.Conway.Certs.html#1871" class="InductiveConstructor">regdrep</a> <a id="10361" class="Symbol">_</a> <a id="10363" class="Symbol">_</a> <a id="10365" class="Symbol">_</a> <a id="10367" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10369" href="Ledger.Conway.Utxo.html#10369" class="Bound">certs</a><a id="10374" class="Symbol">)</a> <a id="10376" class="Symbol">=</a>
    <a id="10382" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10389" href="Ledger.Conway.Utxo.html#8849" class="InductiveConstructor">regdrep</a> <a id="10397" class="Symbol">(λ</a> <a id="10400" class="Keyword">where</a> <a id="10406" class="Symbol">(</a><a id="10407" href="Ledger.Conway.Utxo.html#8849" class="InductiveConstructor">regdrep</a> <a id="10415" href="Ledger.Conway.Utxo.html#10415" class="Bound">p</a><a id="10416" class="Symbol">)</a> <a id="10418" class="Symbol">→</a> <a id="10420" href="Ledger.Conway.Utxo.html#10415" class="Bound">p</a><a id="10421" class="Symbol">)</a> <a id="10423" class="Symbol">(</a><a id="10424" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10443" class="Symbol">_</a> <a id="10445" class="Symbol">_)</a>
  <a id="10450" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10469" href="Ledger.Conway.Utxo.html#10469" class="Bound">deps</a> <a id="10474" class="Symbol">(</a><a id="10475" href="Ledger.Conway.Certs.html#1831" class="InductiveConstructor">retirepool</a> <a id="10486" class="Symbol">_</a> <a id="10488" class="Symbol">_</a> <a id="10490" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10492" href="Ledger.Conway.Utxo.html#10492" class="Bound">certs</a><a id="10497" class="Symbol">)</a> <a id="10499" class="Symbol">=</a>
    <a id="10505" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10512" href="Ledger.Conway.Utxo.html#9808" class="InductiveConstructor">retirepool</a> <a id="10523" class="Symbol">(λ</a> <a id="10526" class="Keyword">where</a> <a id="10532" class="Symbol">(</a><a id="10533" href="Ledger.Conway.Utxo.html#9808" class="InductiveConstructor">retirepool</a> <a id="10544" href="Ledger.Conway.Utxo.html#10544" class="Bound">p</a><a id="10545" class="Symbol">)</a> <a id="10547" class="Symbol">→</a> <a id="10549" href="Ledger.Conway.Utxo.html#10544" class="Bound">p</a><a id="10550" class="Symbol">)</a> <a id="10552" class="Symbol">(</a><a id="10553" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10572" class="Symbol">_</a> <a id="10574" class="Symbol">_)</a>
  <a id="10579" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10598" href="Ledger.Conway.Utxo.html#10598" class="Bound">deps</a> <a id="10603" class="Symbol">(</a><a id="10604" href="Ledger.Conway.Certs.html#1964" class="InductiveConstructor">ccreghot</a> <a id="10613" class="Symbol">_</a> <a id="10615" class="Symbol">_</a> <a id="10617" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10619" href="Ledger.Conway.Utxo.html#10619" class="Bound">certs</a><a id="10624" class="Symbol">)</a> <a id="10626" class="Symbol">=</a>
    <a id="10632" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10639" href="Ledger.Conway.Utxo.html#9668" class="InductiveConstructor">ccreghot</a> <a id="10648" class="Symbol">(λ</a> <a id="10651" class="Keyword">where</a> <a id="10657" class="Symbol">(</a><a id="10658" href="Ledger.Conway.Utxo.html#9668" class="InductiveConstructor">ccreghot</a> <a id="10667" href="Ledger.Conway.Utxo.html#10667" class="Bound">p</a><a id="10668" class="Symbol">)</a> <a id="10670" class="Symbol">→</a> <a id="10672" href="Ledger.Conway.Utxo.html#10667" class="Bound">p</a><a id="10673" class="Symbol">)</a> <a id="10675" class="Symbol">(</a><a id="10676" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10695" class="Symbol">_</a> <a id="10697" class="Symbol">_)</a>
  <a id="10702" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10721" href="Ledger.Conway.Utxo.html#10721" class="Bound">deps</a> <a id="10726" class="Symbol">(</a><a id="10727" href="Ledger.Conway.Certs.html#2398" class="InductiveConstructor">reg</a> <a id="10731" class="Symbol">_</a> <a id="10733" class="Symbol">_</a> <a id="10735" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10737" href="Ledger.Conway.Utxo.html#10737" class="Bound">certs</a><a id="10742" class="Symbol">)</a> <a id="10744" class="Symbol">=</a>
    <a id="10750" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10757" href="Ledger.Conway.Utxo.html#9019" class="InductiveConstructor">reg</a> <a id="10761" class="Symbol">(λ</a> <a id="10764" class="Keyword">where</a> <a id="10770" class="Symbol">(</a><a id="10771" href="Ledger.Conway.Utxo.html#9019" class="InductiveConstructor">reg</a> <a id="10775" href="Ledger.Conway.Utxo.html#10775" class="Bound">p</a><a id="10776" class="Symbol">)</a> <a id="10778" class="Symbol">→</a> <a id="10780" href="Ledger.Conway.Utxo.html#10775" class="Bound">p</a><a id="10781" class="Symbol">)</a> <a id="10783" class="Symbol">(</a><a id="10784" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10803" class="Symbol">_</a> <a id="10805" class="Symbol">_)</a>
  <a id="10810" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="10829" href="Ledger.Conway.Utxo.html#10829" class="Bound">deps</a> <a id="10834" class="Symbol">(</a><a id="10835" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="10841" href="Ledger.Conway.Utxo.html#10841" class="Bound">c</a> <a id="10843" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="10851" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10853" href="Ledger.Conway.Utxo.html#10853" class="Bound">certs</a><a id="10858" class="Symbol">)</a> <a id="10860" class="Keyword">with</a> <a id="10865" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="10867" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="10885" href="Ledger.Conway.Utxo.html#10841" class="Bound">c</a> <a id="10887" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="10889" href="Class.IsSet.html#916" class="Function">dom</a> <a id="10893" href="Ledger.Conway.Utxo.html#10829" class="Bound">deps</a> <a id="10898" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="10903" class="Symbol">...</a> <a id="10907" class="Symbol">|</a> <a id="10909" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="10913" href="Ledger.Conway.Utxo.html#10913" class="Bound">p</a> <a id="10915" class="Symbol">=</a> <a id="10917" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="10924" class="Symbol">(</a><a id="10925" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="10931" class="Symbol">(</a><a id="10932" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10938" class="Symbol">(</a><a id="10939" href="Function.Bundles.html#4834" class="Field">Equivalence.from</a> <a id="10956" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="10961" href="Ledger.Conway.Utxo.html#10913" class="Bound">p</a><a id="10962" class="Symbol">))</a> <a id="10965" class="Symbol">(</a><a id="10966" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="10971" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10975" class="Symbol">))</a> <a id="10978" class="Symbol">(λ</a> <a id="10981" class="Symbol">{</a> <a id="10983" class="Symbol">(</a><a id="10984" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="10990" class="Symbol">_</a> <a id="10992" class="Symbol">_</a> <a id="10994" href="Ledger.Conway.Utxo.html#10994" class="Bound">p</a><a id="10995" class="Symbol">)</a> <a id="10997" class="Symbol">→</a> <a id="10999" href="Ledger.Conway.Utxo.html#10994" class="Bound">p</a> <a id="11001" class="Symbol">})</a> <a id="11004" class="Symbol">(</a><a id="11005" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11024" class="Symbol">_</a> <a id="11026" class="Symbol">_)</a>
  <a id="11031" class="Symbol">...</a> <a id="11035" class="Symbol">|</a> <a id="11037" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11040" href="Ledger.Conway.Utxo.html#11040" class="Bound">¬p</a> <a id="11043" class="Symbol">=</a> <a id="11045" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11048" class="Symbol">λ</a> <a id="11050" class="Symbol">{</a> <a id="11052" class="Symbol">(</a><a id="11053" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="11059" href="Ledger.Conway.Utxo.html#11059" class="Bound">x</a> <a id="11061" class="Symbol">_</a> <a id="11063" class="Symbol">_)</a> <a id="11066" class="Symbol">→</a> <a id="11068" href="Ledger.Conway.Utxo.html#11040" class="Bound">¬p</a> <a id="11071" class="Symbol">(</a><a id="11072" href="Function.Bundles.html#4810" class="Field">Equivalence.to</a> <a id="11087" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="11092" class="Symbol">(_</a> <a id="11095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11097" href="Ledger.Conway.Utxo.html#11059" class="Bound">x</a><a id="11098" class="Symbol">))</a> <a id="11101" class="Symbol">}</a>
  <a id="11105" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11124" href="Ledger.Conway.Utxo.html#11124" class="Bound">deps</a> <a id="11129" class="Symbol">(</a><a id="11130" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="11136" href="Ledger.Conway.Utxo.html#11136" class="Bound">c</a> <a id="11138" class="Symbol">(</a><a id="11139" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11144" href="Ledger.Conway.Utxo.html#11144" class="Bound">d</a><a id="11145" class="Symbol">)</a> <a id="11147" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11149" href="Ledger.Conway.Utxo.html#11149" class="Bound">certs</a><a id="11154" class="Symbol">)</a> <a id="11156" class="Keyword">with</a> <a id="11161" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="11163" class="Symbol">(</a><a id="11164" href="Ledger.Conway.Certs.html#531" class="InductiveConstructor">CredentialDeposit</a> <a id="11182" href="Ledger.Conway.Utxo.html#11136" class="Bound">c</a> <a id="11184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11186" href="Ledger.Conway.Utxo.html#11144" class="Bound">d</a><a id="11187" class="Symbol">)</a> <a id="11189" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="11191" href="Ledger.Conway.Utxo.html#11124" class="Bound">deps</a> <a id="11196" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="11201" class="Symbol">...</a> <a id="11205" class="Symbol">|</a> <a id="11207" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="11211" href="Ledger.Conway.Utxo.html#11211" class="Bound">p</a> <a id="11213" class="Symbol">=</a> <a id="11215" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="11222" class="Symbol">(</a><a id="11223" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="11229" href="Ledger.Conway.Utxo.html#11211" class="Bound">p</a> <a id="11231" class="Symbol">(</a><a id="11232" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11237" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11241" class="Symbol">))</a> <a id="11244" class="Symbol">(λ</a> <a id="11247" class="Symbol">{</a> <a id="11249" class="Symbol">(</a><a id="11250" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="11256" class="Symbol">_</a> <a id="11258" class="Symbol">_</a> <a id="11260" href="Ledger.Conway.Utxo.html#11260" class="Bound">p</a><a id="11261" class="Symbol">)</a> <a id="11263" class="Symbol">→</a> <a id="11265" href="Ledger.Conway.Utxo.html#11260" class="Bound">p</a> <a id="11267" class="Symbol">})</a> <a id="11270" class="Symbol">(</a><a id="11271" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11290" class="Symbol">_</a> <a id="11292" class="Symbol">_)</a>
  <a id="11297" class="Symbol">...</a> <a id="11301" class="Symbol">|</a> <a id="11303" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11306" href="Ledger.Conway.Utxo.html#11306" class="Bound">¬p</a> <a id="11309" class="Symbol">=</a> <a id="11311" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11314" class="Symbol">λ</a> <a id="11316" class="Symbol">{</a> <a id="11318" class="Symbol">(</a><a id="11319" href="Ledger.Conway.Utxo.html#9200" class="InductiveConstructor">dereg</a> <a id="11325" href="Ledger.Conway.Utxo.html#11325" class="Bound">x</a> <a id="11327" class="Symbol">(</a><a id="11328" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11333" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11337" class="Symbol">)</a> <a id="11339" class="Symbol">_)</a> <a id="11342" class="Symbol">→</a> <a id="11344" href="Ledger.Conway.Utxo.html#11306" class="Bound">¬p</a> <a id="11347" href="Ledger.Conway.Utxo.html#11325" class="Bound">x</a> <a id="11349" class="Symbol">}</a>
  <a id="11353" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11372" href="Ledger.Conway.Utxo.html#11372" class="Bound">deps</a> <a id="11377" class="Symbol">(</a><a id="11378" href="Ledger.Conway.Certs.html#1922" class="InductiveConstructor">deregdrep</a> <a id="11388" href="Ledger.Conway.Utxo.html#11388" class="Bound">c</a> <a id="11390" href="Ledger.Conway.Utxo.html#11390" class="Bound">d</a> <a id="11392" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11394" href="Ledger.Conway.Utxo.html#11394" class="Bound">certs</a><a id="11399" class="Symbol">)</a> <a id="11401" class="Keyword">with</a> <a id="11406" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="11408" class="Symbol">(</a><a id="11409" href="Ledger.Conway.Certs.html#637" class="InductiveConstructor">DRepDeposit</a> <a id="11421" href="Ledger.Conway.Utxo.html#11388" class="Bound">c</a> <a id="11423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11425" href="Ledger.Conway.Utxo.html#11390" class="Bound">d</a><a id="11426" class="Symbol">)</a> <a id="11428" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="11430" href="Ledger.Conway.Utxo.html#11372" class="Bound">deps</a> <a id="11435" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>
  <a id="11439" class="Symbol">...</a> <a id="11443" class="Symbol">|</a> <a id="11445" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="11449" href="Ledger.Conway.Utxo.html#11449" class="Bound">p</a> <a id="11451" class="Symbol">=</a> <a id="11453" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="11460" class="Symbol">(</a><a id="11461" href="Ledger.Conway.Utxo.html#9461" class="InductiveConstructor">deregdrep</a> <a id="11471" href="Ledger.Conway.Utxo.html#11449" class="Bound">p</a><a id="11472" class="Symbol">)</a>  <a id="11475" class="Symbol">(λ</a> <a id="11478" class="Keyword">where</a> <a id="11484" class="Symbol">(</a><a id="11485" href="Ledger.Conway.Utxo.html#9461" class="InductiveConstructor">deregdrep</a> <a id="11495" class="Symbol">_</a> <a id="11497" href="Ledger.Conway.Utxo.html#11497" class="Bound">v</a><a id="11498" class="Symbol">)</a> <a id="11500" class="Symbol">→</a> <a id="11502" href="Ledger.Conway.Utxo.html#11497" class="Bound">v</a><a id="11503" class="Symbol">)</a> <a id="11505" class="Symbol">(</a><a id="11506" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11525" class="Symbol">_</a> <a id="11527" class="Symbol">_)</a>
  <a id="11532" class="Symbol">...</a> <a id="11536" class="Symbol">|</a> <a id="11538" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11541" href="Ledger.Conway.Utxo.html#11541" class="Bound">¬p</a> <a id="11544" class="Symbol">=</a> <a id="11546" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="11549" class="Symbol">(λ</a> <a id="11552" class="Keyword">where</a> <a id="11558" class="Symbol">(</a><a id="11559" href="Ledger.Conway.Utxo.html#9461" class="InductiveConstructor">deregdrep</a> <a id="11569" href="Ledger.Conway.Utxo.html#11569" class="Bound">p</a> <a id="11571" class="Symbol">_)</a> <a id="11574" class="Symbol">→</a> <a id="11576" href="Ledger.Conway.Utxo.html#11541" class="Bound">¬p</a> <a id="11579" href="Ledger.Conway.Utxo.html#11569" class="Bound">p</a><a id="11580" class="Symbol">)</a>

<a id="11583" class="Keyword">instance</a>
  <a id="Dec-ValidCertDeposits"></a><a id="11594" href="Ledger.Conway.Utxo.html#11594" class="Function">Dec-ValidCertDeposits</a> <a id="11616" class="Symbol">:</a> <a id="11618" class="Symbol">∀</a> <a id="11620" class="Symbol">{</a><a id="11621" href="Ledger.Conway.Utxo.html#11621" class="Bound">pp</a> <a id="11624" href="Ledger.Conway.Utxo.html#11624" class="Bound">deps</a> <a id="11629" href="Ledger.Conway.Utxo.html#11629" class="Bound">certs</a><a id="11634" class="Symbol">}</a> <a id="11636" class="Symbol">→</a> <a id="11638" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="11656" href="Ledger.Conway.Utxo.html#11621" class="Bound">pp</a> <a id="11659" href="Ledger.Conway.Utxo.html#11624" class="Bound">deps</a> <a id="11664" href="Ledger.Conway.Utxo.html#11629" class="Bound">certs</a> <a id="11670" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="11674" href="Ledger.Conway.Utxo.html#11594" class="Function">Dec-ValidCertDeposits</a> <a id="11696" class="Symbol">=</a> <a id="11698" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="11700" class="Symbol">(</a><a id="11701" href="Ledger.Conway.Utxo.html#9962" class="Function">validCertDeposits?</a> <a id="11720" class="Symbol">_</a> <a id="11722" class="Symbol">_)</a>
</pre>
</div>

<h3 id="functions-used-in-utxo-rules-continued">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="updateCertDeposits"></a><a id="11796" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a>  <a id="11816" class="Symbol">:</a> <a id="11818" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="11826" class="Symbol">→</a> <a id="11828" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11833" href="Ledger.Conway.Certs.html#1644" class="Datatype">DCert</a> <a id="11839" class="Symbol">→</a> <a id="11841" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a> <a id="11850" class="Symbol">→</a> <a id="11852" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
<a id="11861" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="11880" href="Ledger.Conway.Utxo.html#11880" class="Bound">pp</a> <a id="11883" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11886" href="Ledger.Conway.Utxo.html#11886" class="Bound">deposits</a> <a id="11895" class="Symbol">=</a> <a id="11897" href="Ledger.Conway.Utxo.html#11886" class="Bound">deposits</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="11955" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="11974" href="Ledger.Conway.Utxo.html#11974" class="Bound">pp</a> <a id="11977" class="Symbol">(</a><a id="11978" href="Ledger.Conway.Certs.html#2398" class="InductiveConstructor">reg</a> <a id="11982" href="Ledger.Conway.Utxo.html#11982" class="Bound">c</a> <a id="11984" href="Ledger.Conway.Utxo.html#11984" class="Bound">v</a> <a id="11986" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11988" href="Ledger.Conway.Utxo.html#11988" class="Bound">certs</a><a id="11993" class="Symbol">)</a> <a id="11995" href="Ledger.Conway.Utxo.html#11995" class="Bound">deposits</a>
  <a id="12006" class="Symbol">=</a> <a id="12008" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12027" href="Ledger.Conway.Utxo.html#11974" class="Bound">pp</a> <a id="12030" href="Ledger.Conway.Utxo.html#11988" class="Bound">certs</a> <a id="12036" class="Symbol">(</a><a id="12037" href="Ledger.Conway.Utxo.html#11995" class="Bound">deposits</a> <a id="12046" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12049" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="12061" class="Symbol">(</a><a id="12062" href="Ledger.Conway.Certs.html#2398" class="InductiveConstructor">reg</a> <a id="12066" href="Ledger.Conway.Utxo.html#11982" class="Bound">c</a> <a id="12068" href="Ledger.Conway.Utxo.html#11984" class="Bound">v</a><a id="12069" class="Symbol">)</a> <a id="12071" href="Ledger.Conway.Utxo.html#11974" class="Bound">pp</a><a id="12073" class="Symbol">)</a>
</pre>
</div>

<pre class="Agda">
<a id="12098" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12117" href="Ledger.Conway.Utxo.html#12117" class="Bound">pp</a> <a id="12120" class="Symbol">(</a><a id="12121" href="Ledger.Conway.Certs.html#1665" class="InductiveConstructor">delegate</a> <a id="12130" href="Ledger.Conway.Utxo.html#12130" class="Bound">c</a> <a id="12132" href="Ledger.Conway.Utxo.html#12132" class="Bound">vd</a> <a id="12135" href="Ledger.Conway.Utxo.html#12135" class="Bound">khs</a> <a id="12139" href="Ledger.Conway.Utxo.html#12139" class="Bound">v</a> <a id="12141" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12143" href="Ledger.Conway.Utxo.html#12143" class="Bound">certs</a><a id="12148" class="Symbol">)</a> <a id="12150" href="Ledger.Conway.Utxo.html#12150" class="Bound">deposits</a>
  <a id="12161" class="Symbol">=</a> <a id="12163" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12182" href="Ledger.Conway.Utxo.html#12117" class="Bound">pp</a> <a id="12185" href="Ledger.Conway.Utxo.html#12143" class="Bound">certs</a> <a id="12191" class="Symbol">(</a><a id="12192" href="Ledger.Conway.Utxo.html#12150" class="Bound">deposits</a> <a id="12201" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12204" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="12216" class="Symbol">(</a><a id="12217" href="Ledger.Conway.Certs.html#1665" class="InductiveConstructor">delegate</a> <a id="12226" href="Ledger.Conway.Utxo.html#12130" class="Bound">c</a> <a id="12228" href="Ledger.Conway.Utxo.html#12132" class="Bound">vd</a> <a id="12231" href="Ledger.Conway.Utxo.html#12135" class="Bound">khs</a> <a id="12235" href="Ledger.Conway.Utxo.html#12139" class="Bound">v</a><a id="12236" class="Symbol">)</a> <a id="12238" href="Ledger.Conway.Utxo.html#12117" class="Bound">pp</a><a id="12240" class="Symbol">)</a>
<a id="12242" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12261" href="Ledger.Conway.Utxo.html#12261" class="Bound">pp</a> <a id="12264" class="Symbol">(</a><a id="12265" href="Ledger.Conway.Certs.html#1786" class="InductiveConstructor">regpool</a> <a id="12273" href="Ledger.Conway.Utxo.html#12273" class="Bound">kh</a> <a id="12276" href="Ledger.Conway.Utxo.html#12276" class="Bound">p</a> <a id="12278" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12280" href="Ledger.Conway.Utxo.html#12280" class="Bound">certs</a><a id="12285" class="Symbol">)</a> <a id="12287" href="Ledger.Conway.Utxo.html#12287" class="Bound">deposits</a>
  <a id="12298" class="Symbol">=</a> <a id="12300" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12319" href="Ledger.Conway.Utxo.html#12261" class="Bound">pp</a> <a id="12322" href="Ledger.Conway.Utxo.html#12280" class="Bound">certs</a> <a id="12328" class="Symbol">(</a><a id="12329" href="Ledger.Conway.Utxo.html#12287" class="Bound">deposits</a> <a id="12338" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12341" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="12353" class="Symbol">(</a><a id="12354" href="Ledger.Conway.Certs.html#1786" class="InductiveConstructor">regpool</a> <a id="12362" href="Ledger.Conway.Utxo.html#12273" class="Bound">kh</a> <a id="12365" href="Ledger.Conway.Utxo.html#12276" class="Bound">p</a><a id="12366" class="Symbol">)</a> <a id="12368" href="Ledger.Conway.Utxo.html#12261" class="Bound">pp</a><a id="12370" class="Symbol">)</a>
<a id="12372" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12391" href="Ledger.Conway.Utxo.html#12391" class="Bound">pp</a> <a id="12394" class="Symbol">(</a><a id="12395" href="Ledger.Conway.Certs.html#1871" class="InductiveConstructor">regdrep</a> <a id="12403" href="Ledger.Conway.Utxo.html#12403" class="Bound">c</a> <a id="12405" href="Ledger.Conway.Utxo.html#12405" class="Bound">v</a> <a id="12407" href="Ledger.Conway.Utxo.html#12407" class="Bound">a</a> <a id="12409" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12411" href="Ledger.Conway.Utxo.html#12411" class="Bound">certs</a><a id="12416" class="Symbol">)</a> <a id="12418" href="Ledger.Conway.Utxo.html#12418" class="Bound">deposits</a>
  <a id="12429" class="Symbol">=</a> <a id="12431" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12450" href="Ledger.Conway.Utxo.html#12391" class="Bound">pp</a> <a id="12453" href="Ledger.Conway.Utxo.html#12411" class="Bound">certs</a> <a id="12459" class="Symbol">(</a><a id="12460" href="Ledger.Conway.Utxo.html#12418" class="Bound">deposits</a> <a id="12469" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12472" href="Ledger.Conway.Utxo.html#7771" class="Function">certDeposit</a> <a id="12484" class="Symbol">(</a><a id="12485" href="Ledger.Conway.Certs.html#1871" class="InductiveConstructor">regdrep</a> <a id="12493" href="Ledger.Conway.Utxo.html#12403" class="Bound">c</a> <a id="12495" href="Ledger.Conway.Utxo.html#12405" class="Bound">v</a> <a id="12497" href="Ledger.Conway.Utxo.html#12407" class="Bound">a</a><a id="12498" class="Symbol">)</a> <a id="12500" href="Ledger.Conway.Utxo.html#12391" class="Bound">pp</a><a id="12502" class="Symbol">)</a>
<a id="12504" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12523" href="Ledger.Conway.Utxo.html#12523" class="Bound">pp</a> <a id="12526" class="Symbol">(</a><a id="12527" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="12533" href="Ledger.Conway.Utxo.html#12533" class="Bound">c</a> <a id="12535" href="Ledger.Conway.Utxo.html#12535" class="Bound">v</a> <a id="12537" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12539" href="Ledger.Conway.Utxo.html#12539" class="Bound">certs</a><a id="12544" class="Symbol">)</a> <a id="12546" href="Ledger.Conway.Utxo.html#12546" class="Bound">deposits</a>
  <a id="12557" class="Symbol">=</a> <a id="12559" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12578" href="Ledger.Conway.Utxo.html#12523" class="Bound">pp</a> <a id="12581" href="Ledger.Conway.Utxo.html#12539" class="Bound">certs</a> <a id="12587" class="Symbol">(</a><a id="12588" href="Ledger.Conway.Utxo.html#12546" class="Bound">deposits</a> <a id="12597" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12599" href="Ledger.Conway.Utxo.html#8128" class="Function">certRefund</a> <a id="12610" class="Symbol">(</a><a id="12611" href="Ledger.Conway.Certs.html#1738" class="InductiveConstructor">dereg</a> <a id="12617" href="Ledger.Conway.Utxo.html#12533" class="Bound">c</a> <a id="12619" href="Ledger.Conway.Utxo.html#12535" class="Bound">v</a><a id="12620" class="Symbol">)</a><a id="12621" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12622" class="Symbol">)</a>
<a id="12624" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12643" href="Ledger.Conway.Utxo.html#12643" class="Bound">pp</a> <a id="12646" class="Symbol">(</a><a id="12647" href="Ledger.Conway.Certs.html#1922" class="InductiveConstructor">deregdrep</a> <a id="12657" href="Ledger.Conway.Utxo.html#12657" class="Bound">c</a> <a id="12659" href="Ledger.Conway.Utxo.html#12659" class="Bound">v</a> <a id="12661" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12663" href="Ledger.Conway.Utxo.html#12663" class="Bound">certs</a><a id="12668" class="Symbol">)</a> <a id="12670" href="Ledger.Conway.Utxo.html#12670" class="Bound">deposits</a>
  <a id="12681" class="Symbol">=</a> <a id="12683" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12702" href="Ledger.Conway.Utxo.html#12643" class="Bound">pp</a> <a id="12705" href="Ledger.Conway.Utxo.html#12663" class="Bound">certs</a> <a id="12711" class="Symbol">(</a><a id="12712" href="Ledger.Conway.Utxo.html#12670" class="Bound">deposits</a> <a id="12721" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12723" href="Ledger.Conway.Utxo.html#8128" class="Function">certRefund</a> <a id="12734" class="Symbol">(</a><a id="12735" href="Ledger.Conway.Certs.html#1922" class="InductiveConstructor">deregdrep</a> <a id="12745" href="Ledger.Conway.Utxo.html#12657" class="Bound">c</a> <a id="12747" href="Ledger.Conway.Utxo.html#12659" class="Bound">v</a><a id="12748" class="Symbol">)</a><a id="12749" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12750" class="Symbol">)</a>
<a id="12752" href="Ledger.Conway.Utxo.html#11796" class="CatchallClause Function">updateCertDeposits</a><a id="12770" class="CatchallClause"> </a><a id="12771" href="Ledger.Conway.Utxo.html#12771" class="CatchallClause Bound">pp</a><a id="12773" class="CatchallClause"> </a><a id="12774" class="CatchallClause Symbol">(_</a><a id="12776" class="CatchallClause"> </a><a id="12777" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="12778" class="CatchallClause"> </a><a id="12779" href="Ledger.Conway.Utxo.html#12779" class="CatchallClause Bound">certs</a><a id="12784" class="CatchallClause Symbol">)</a><a id="12785" class="CatchallClause"> </a><a id="12786" href="Ledger.Conway.Utxo.html#12786" class="CatchallClause Bound">deposits</a>
  <a id="12797" class="Symbol">=</a> <a id="12799" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="12818" href="Ledger.Conway.Utxo.html#12771" class="Bound">pp</a> <a id="12821" href="Ledger.Conway.Utxo.html#12779" class="Bound">certs</a> <a id="12827" href="Ledger.Conway.Utxo.html#12786" class="Bound">deposits</a>

<a id="updateProposalDeposits"></a><a id="12837" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="12860" class="Symbol">:</a> <a id="12862" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12867" href="Ledger.Conway.GovernanceActions.html#8063" class="Record">GovProposal</a> <a id="12879" class="Symbol">→</a> <a id="12881" href="Ledger.Conway.Transaction.html#2534" class="Field">TxId</a> <a id="12886" class="Symbol">→</a> <a id="12888" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="12893" class="Symbol">→</a> <a id="12895" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a> <a id="12904" class="Symbol">→</a> <a id="12906" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
<a id="12915" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="12938" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="12948" class="Symbol">_</a>     <a id="12954" class="Symbol">_</a>      <a id="12961" href="Ledger.Conway.Utxo.html#12961" class="Bound">deposits</a>  <a id="12971" class="Symbol">=</a> <a id="12973" href="Ledger.Conway.Utxo.html#12961" class="Bound">deposits</a>
<a id="12982" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="13005" class="Symbol">(_</a> <a id="13008" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="13010" href="Ledger.Conway.Utxo.html#13010" class="Bound">ps</a><a id="13012" class="Symbol">)</a>  <a id="13015" href="Ledger.Conway.Utxo.html#13015" class="Bound">txid</a>  <a id="13021" href="Ledger.Conway.Utxo.html#13021" class="Bound">gaDep</a>  <a id="13028" href="Ledger.Conway.Utxo.html#13028" class="Bound">deposits</a>  <a id="13038" class="Symbol">=</a>
  <a id="13042" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="13065" href="Ledger.Conway.Utxo.html#13010" class="Bound">ps</a> <a id="13068" href="Ledger.Conway.Utxo.html#13015" class="Bound">txid</a> <a id="13073" href="Ledger.Conway.Utxo.html#13021" class="Bound">gaDep</a> <a id="13079" href="Ledger.Conway.Utxo.html#13028" class="Bound">deposits</a>
  <a id="13090" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="13093" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13095" href="Ledger.Conway.Certs.html#690" class="InductiveConstructor">GovActionDeposit</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Ledger.Conway.Utxo.html#13015" class="Bound">txid</a> <a id="13118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13120" href="Data.List.Base.html#5044" class="Function">length</a> <a id="13127" href="Ledger.Conway.Utxo.html#13010" class="Bound">ps</a><a id="13129" class="Symbol">)</a> <a id="13131" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13133" href="Ledger.Conway.Utxo.html#13021" class="Bound">gaDep</a> <a id="13139" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

<a id="updateDeposits"></a><a id="13142" href="Ledger.Conway.Utxo.html#13142" class="Function">updateDeposits</a> <a id="13157" class="Symbol">:</a> <a id="13159" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="13167" class="Symbol">→</a> <a id="13169" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="13176" class="Symbol">→</a> <a id="13178" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a> <a id="13187" class="Symbol">→</a> <a id="13189" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
<a id="13198" href="Ledger.Conway.Utxo.html#13142" class="Function">updateDeposits</a> <a id="13213" href="Ledger.Conway.Utxo.html#13213" class="Bound">pp</a> <a id="13216" href="Ledger.Conway.Utxo.html#13216" class="Bound">txb</a> <a id="13220" class="Symbol">=</a> <a id="13222" href="Ledger.Conway.Utxo.html#11796" class="Function">updateCertDeposits</a> <a id="13241" href="Ledger.Conway.Utxo.html#13213" class="Bound">pp</a> <a id="13244" href="Ledger.Conway.Transaction.html#4739" class="Field">txcerts</a>
                        <a id="13276" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13278" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="13301" href="Ledger.Conway.Transaction.html#4837" class="Field">txprop</a> <a id="13308" href="Ledger.Conway.Transaction.html#5073" class="Field">txid</a> <a id="13313" class="Symbol">(</a><a id="13314" href="Ledger.Conway.Utxo.html#13213" class="Bound">pp</a> <a id="13317" class="Symbol">.</a><a id="13318" href="Ledger.Conway.PParams.html#4522" class="Field">govActionDeposit</a><a id="13334" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
  <a id="13387" class="Keyword">where</a> <a id="13393" class="Keyword">open</a> <a id="13398" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="13405" href="Ledger.Conway.Utxo.html#13216" class="Bound">txb</a>

<a id="proposalDepositsΔ"></a><a id="13410" href="Ledger.Conway.Utxo.html#13410" class="Function">proposalDepositsΔ</a> <a id="13428" class="Symbol">:</a> <a id="13430" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13435" href="Ledger.Conway.GovernanceActions.html#8063" class="Record">GovProposal</a> <a id="13447" class="Symbol">→</a> <a id="13449" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="13457" class="Symbol">→</a> <a id="13459" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="13466" class="Symbol">→</a> <a id="13468" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>
<a id="13477" href="Ledger.Conway.Utxo.html#13410" class="Function">proposalDepositsΔ</a> <a id="13495" href="Ledger.Conway.Utxo.html#13495" class="Bound">props</a> <a id="13501" href="Ledger.Conway.Utxo.html#13501" class="Bound">pp</a> <a id="13504" href="Ledger.Conway.Utxo.html#13504" class="Bound">txb</a> <a id="13508" class="Symbol">=</a> <a id="13510" href="Ledger.Conway.Utxo.html#12837" class="Function">updateProposalDeposits</a> <a id="13533" href="Ledger.Conway.Utxo.html#13495" class="Bound">props</a> <a id="13539" href="Ledger.Conway.Transaction.html#5073" class="Field">txid</a> <a id="13544" class="Symbol">(</a><a id="13545" href="Ledger.Conway.Utxo.html#13501" class="Bound">pp</a> <a id="13548" class="Symbol">.</a><a id="13549" href="Ledger.Conway.PParams.html#4522" class="Field">govActionDeposit</a><a id="13565" class="Symbol">)</a> <a id="13567" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="13571" class="Keyword">where</a> <a id="13577" class="Keyword">open</a> <a id="13582" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="13589" href="Ledger.Conway.Utxo.html#13504" class="Bound">txb</a>
</pre>
</div>

<pre class="Agda">

<a id="depositsChange"></a><a id="13617" href="Ledger.Conway.Utxo.html#13617" class="Function">depositsChange</a> <a id="13632" class="Symbol">:</a> <a id="13634" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="13642" class="Symbol">→</a> <a id="13644" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="13651" class="Symbol">→</a> <a id="13653" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a> <a id="13662" class="Symbol">→</a> <a id="13664" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="13666" href="Ledger.Conway.Utxo.html#13617" class="Function">depositsChange</a> <a id="13681" href="Ledger.Conway.Utxo.html#13681" class="Bound">pp</a> <a id="13684" href="Ledger.Conway.Utxo.html#13684" class="Bound">txb</a> <a id="13688" href="Ledger.Conway.Utxo.html#13688" class="Bound">deposits</a> <a id="13697" class="Symbol">=</a>
  <a id="13701" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="13709" class="Symbol">(</a><a id="13710" href="Ledger.Conway.Utxo.html#13142" class="Function">updateDeposits</a> <a id="13725" href="Ledger.Conway.Utxo.html#13681" class="Bound">pp</a> <a id="13728" href="Ledger.Conway.Utxo.html#13684" class="Bound">txb</a> <a id="13732" href="Ledger.Conway.Utxo.html#13688" class="Bound">deposits</a><a id="13740" class="Symbol">)</a> <a id="13742" href="Interface.HasSubtract.html#217" class="Field Operator">-</a> <a id="13744" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="13752" href="Ledger.Conway.Utxo.html#13688" class="Bound">deposits</a>
</pre>

<h3 id="functions-used-in-utxo-rules-continued_1">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued_1" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="13823" class="Keyword">data</a> <a id="inInterval"></a><a id="13828" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="13839" class="Symbol">(</a><a id="13840" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="13845" class="Symbol">:</a> <a id="13847" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a><a id="13851" class="Symbol">)</a> <a id="13853" class="Symbol">:</a> <a id="13855" class="Symbol">(</a><a id="13856" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13862" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a> <a id="13867" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13869" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13875" href="Ledger.Conway.Types.Epoch.html#676" class="Function">Slot</a><a id="13879" class="Symbol">)</a> <a id="13881" class="Symbol">→</a> <a id="13883" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="13888" class="Keyword">where</a>
  <a id="inInterval.both"></a><a id="13896" href="Ledger.Conway.Utxo.html#13896" class="InductiveConstructor">both</a>   <a id="13903" class="Symbol">:</a> <a id="13905" class="Symbol">∀</a> <a id="13907" class="Symbol">{</a><a id="13908" href="Ledger.Conway.Utxo.html#13908" class="Bound">l</a> <a id="13910" href="Ledger.Conway.Utxo.html#13910" class="Bound">r</a><a id="13911" class="Symbol">}</a>  <a id="13914" class="Symbol">→</a> <a id="13916" href="Ledger.Conway.Utxo.html#13908" class="Bound">l</a> <a id="13918" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13920" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="13925" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13927" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="13932" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13934" href="Ledger.Conway.Utxo.html#13910" class="Bound">r</a>  <a id="13937" class="Symbol">→</a>  <a id="13940" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="13951" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="13956" class="Symbol">(</a><a id="13957" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13962" href="Ledger.Conway.Utxo.html#13908" class="Bound">l</a>   <a id="13966" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13968" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13973" href="Ledger.Conway.Utxo.html#13910" class="Bound">r</a><a id="13974" class="Symbol">)</a>
  <a id="inInterval.lower"></a><a id="13978" href="Ledger.Conway.Utxo.html#13978" class="InductiveConstructor">lower</a>  <a id="13985" class="Symbol">:</a> <a id="13987" class="Symbol">∀</a> <a id="13989" class="Symbol">{</a><a id="13990" href="Ledger.Conway.Utxo.html#13990" class="Bound">l</a><a id="13991" class="Symbol">}</a>    <a id="13996" class="Symbol">→</a> <a id="13998" href="Ledger.Conway.Utxo.html#13990" class="Bound">l</a> <a id="14000" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="14002" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a>             <a id="14019" class="Symbol">→</a>  <a id="14022" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="14033" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="14038" class="Symbol">(</a><a id="14039" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14044" href="Ledger.Conway.Utxo.html#13990" class="Bound">l</a>   <a id="14048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14050" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14057" class="Symbol">)</a>
  <a id="inInterval.upper"></a><a id="14061" href="Ledger.Conway.Utxo.html#14061" class="InductiveConstructor">upper</a>  <a id="14068" class="Symbol">:</a> <a id="14070" class="Symbol">∀</a> <a id="14072" class="Symbol">{</a><a id="14073" href="Ledger.Conway.Utxo.html#14073" class="Bound">r</a><a id="14074" class="Symbol">}</a>    <a id="14079" class="Symbol">→</a> <a id="14081" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="14086" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="14088" href="Ledger.Conway.Utxo.html#14073" class="Bound">r</a>             <a id="14102" class="Symbol">→</a>  <a id="14105" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="14116" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="14121" class="Symbol">(</a><a id="14122" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="14131" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14133" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14138" href="Ledger.Conway.Utxo.html#14073" class="Bound">r</a><a id="14139" class="Symbol">)</a>
  <a id="inInterval.none"></a><a id="14143" href="Ledger.Conway.Utxo.html#14143" class="InductiveConstructor">none</a>   <a id="14150" class="Symbol">:</a>                                    <a id="14187" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="14198" href="Ledger.Conway.Utxo.html#13840" class="Bound">slot</a> <a id="14203" class="Symbol">(</a><a id="14204" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="14213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14215" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14222" class="Symbol">)</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="14273" class="Comment">-- Note: inInterval has to be a type definition for inference to work</a>
<a id="14343" class="Keyword">instance</a>
  <a id="Dec-inInterval"></a><a id="14354" href="Ledger.Conway.Utxo.html#14354" class="Function">Dec-inInterval</a> <a id="14369" class="Symbol">:</a> <a id="14371" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="14382" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a>
  <a id="14387" href="Ledger.Conway.Utxo.html#14354" class="Function">Dec-inInterval</a> <a id="14402" class="Symbol">{</a><a id="14403" href="Ledger.Conway.Utxo.html#14403" class="Bound">slot</a><a id="14407" class="Symbol">}</a> <a id="14409" class="Symbol">{</a><a id="14410" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14415" href="Ledger.Conway.Utxo.html#14415" class="Bound">x</a>  <a id="14418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14420" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14425" href="Ledger.Conway.Utxo.html#14425" class="Bound">y</a> <a id="14427" class="Symbol">}</a> <a id="14429" class="Symbol">.</a><a id="14430" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14434" class="Keyword">with</a> <a id="14439" href="Ledger.Conway.Utxo.html#14415" class="Bound">x</a> <a id="14441" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14444" href="Ledger.Conway.Utxo.html#14403" class="Bound">slot</a> <a id="14449" class="Symbol">|</a> <a id="14451" href="Ledger.Conway.Utxo.html#14403" class="Bound">slot</a> <a id="14456" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14459" href="Ledger.Conway.Utxo.html#14425" class="Bound">y</a>
  <a id="14463" class="Symbol">...</a> <a id="14467" class="Symbol">|</a> <a id="14469" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14472" href="Ledger.Conway.Utxo.html#14472" class="Bound">¬p₁</a> <a id="14476" class="Symbol">|</a> <a id="14478" class="Symbol">_</a>      <a id="14485" class="Symbol">=</a> <a id="14487" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14490" class="Symbol">λ</a> <a id="14492" class="Keyword">where</a> <a id="14498" class="Symbol">(</a><a id="14499" href="Ledger.Conway.Utxo.html#13896" class="InductiveConstructor">both</a> <a id="14504" class="Symbol">(</a><a id="14505" href="Ledger.Conway.Utxo.html#14505" class="Bound">h₁</a> <a id="14508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14510" href="Ledger.Conway.Utxo.html#14510" class="Bound">h₂</a><a id="14512" class="Symbol">))</a> <a id="14515" class="Symbol">→</a> <a id="14517" href="Ledger.Conway.Utxo.html#14472" class="Bound">¬p₁</a> <a id="14521" href="Ledger.Conway.Utxo.html#14505" class="Bound">h₁</a>
  <a id="14526" class="Symbol">...</a> <a id="14530" class="Symbol">|</a> <a id="14532" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14536" href="Ledger.Conway.Utxo.html#14536" class="Bound">p₁</a> <a id="14539" class="Symbol">|</a> <a id="14541" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14544" href="Ledger.Conway.Utxo.html#14544" class="Bound">¬p₂</a> <a id="14548" class="Symbol">=</a> <a id="14550" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14553" class="Symbol">λ</a> <a id="14555" class="Keyword">where</a> <a id="14561" class="Symbol">(</a><a id="14562" href="Ledger.Conway.Utxo.html#13896" class="InductiveConstructor">both</a> <a id="14567" class="Symbol">(</a><a id="14568" href="Ledger.Conway.Utxo.html#14568" class="Bound">h₁</a> <a id="14571" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14573" href="Ledger.Conway.Utxo.html#14573" class="Bound">h₂</a><a id="14575" class="Symbol">))</a> <a id="14578" class="Symbol">→</a> <a id="14580" href="Ledger.Conway.Utxo.html#14544" class="Bound">¬p₂</a> <a id="14584" href="Ledger.Conway.Utxo.html#14573" class="Bound">h₂</a>
  <a id="14589" class="Symbol">...</a> <a id="14593" class="Symbol">|</a> <a id="14595" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14599" href="Ledger.Conway.Utxo.html#14599" class="Bound">p₁</a> <a id="14602" class="Symbol">|</a> <a id="14604" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14608" href="Ledger.Conway.Utxo.html#14608" class="Bound">p₂</a> <a id="14611" class="Symbol">=</a> <a id="14613" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14617" class="Symbol">(</a><a id="14618" href="Ledger.Conway.Utxo.html#13896" class="InductiveConstructor">both</a> <a id="14623" class="Symbol">(</a><a id="14624" href="Ledger.Conway.Utxo.html#14599" class="Bound">p₁</a> <a id="14627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14629" href="Ledger.Conway.Utxo.html#14608" class="Bound">p₂</a><a id="14631" class="Symbol">))</a>
  <a id="14636" href="Ledger.Conway.Utxo.html#14354" class="Function">Dec-inInterval</a> <a id="14651" class="Symbol">{</a><a id="14652" href="Ledger.Conway.Utxo.html#14652" class="Bound">slot</a><a id="14656" class="Symbol">}</a> <a id="14658" class="Symbol">{</a><a id="14659" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14664" href="Ledger.Conway.Utxo.html#14664" class="Bound">x</a>  <a id="14667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14669" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14676" class="Symbol">}</a> <a id="14678" class="Symbol">.</a><a id="14679" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14683" class="Keyword">with</a> <a id="14688" href="Ledger.Conway.Utxo.html#14664" class="Bound">x</a> <a id="14690" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14693" href="Ledger.Conway.Utxo.html#14652" class="Bound">slot</a>
  <a id="14700" class="Symbol">...</a> <a id="14704" class="Symbol">|</a> <a id="14706" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14709" href="Ledger.Conway.Utxo.html#14709" class="Bound">¬p</a> <a id="14712" class="Symbol">=</a> <a id="14714" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="14718" class="Symbol">(λ</a> <a id="14721" class="Keyword">where</a> <a id="14727" class="Symbol">(</a><a id="14728" href="Ledger.Conway.Utxo.html#13978" class="InductiveConstructor">lower</a> <a id="14734" href="Ledger.Conway.Utxo.html#14734" class="Bound">h</a><a id="14735" class="Symbol">)</a> <a id="14737" class="Symbol">→</a> <a id="14739" href="Ledger.Conway.Utxo.html#14709" class="Bound">¬p</a> <a id="14742" href="Ledger.Conway.Utxo.html#14734" class="Bound">h</a><a id="14743" class="Symbol">)</a>
  <a id="14747" class="Symbol">...</a> <a id="14751" class="Symbol">|</a> <a id="14753" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14757" href="Ledger.Conway.Utxo.html#14757" class="Bound">p</a> <a id="14759" class="Symbol">=</a> <a id="14761" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14765" class="Symbol">(</a><a id="14766" href="Ledger.Conway.Utxo.html#13978" class="InductiveConstructor">lower</a> <a id="14772" href="Ledger.Conway.Utxo.html#14757" class="Bound">p</a><a id="14773" class="Symbol">)</a>
  <a id="14777" href="Ledger.Conway.Utxo.html#14354" class="Function">Dec-inInterval</a> <a id="14792" class="Symbol">{</a><a id="14793" href="Ledger.Conway.Utxo.html#14793" class="Bound">slot</a><a id="14797" class="Symbol">}</a> <a id="14799" class="Symbol">{</a><a id="14800" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="14808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14810" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="14815" href="Ledger.Conway.Utxo.html#14815" class="Bound">x</a> <a id="14817" class="Symbol">}</a> <a id="14819" class="Symbol">.</a><a id="14820" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14824" class="Keyword">with</a> <a id="14829" href="Ledger.Conway.Utxo.html#14793" class="Bound">slot</a> <a id="14834" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="14837" href="Ledger.Conway.Utxo.html#14815" class="Bound">x</a>
  <a id="14841" class="Symbol">...</a> <a id="14845" class="Symbol">|</a> <a id="14847" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14850" href="Ledger.Conway.Utxo.html#14850" class="Bound">¬p</a> <a id="14853" class="Symbol">=</a> <a id="14855" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="14859" class="Symbol">(λ</a> <a id="14862" class="Keyword">where</a> <a id="14868" class="Symbol">(</a><a id="14869" href="Ledger.Conway.Utxo.html#14061" class="InductiveConstructor">upper</a> <a id="14875" href="Ledger.Conway.Utxo.html#14875" class="Bound">h</a><a id="14876" class="Symbol">)</a> <a id="14878" class="Symbol">→</a> <a id="14880" href="Ledger.Conway.Utxo.html#14850" class="Bound">¬p</a> <a id="14883" href="Ledger.Conway.Utxo.html#14875" class="Bound">h</a><a id="14884" class="Symbol">)</a>
  <a id="14888" class="Symbol">...</a> <a id="14892" class="Symbol">|</a> <a id="14894" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14898" href="Ledger.Conway.Utxo.html#14898" class="Bound">p</a> <a id="14900" class="Symbol">=</a> <a id="14902" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14906" class="Symbol">(</a><a id="14907" href="Ledger.Conway.Utxo.html#14061" class="InductiveConstructor">upper</a> <a id="14913" href="Ledger.Conway.Utxo.html#14898" class="Bound">p</a><a id="14914" class="Symbol">)</a>
  <a id="14918" href="Ledger.Conway.Utxo.html#14354" class="Function">Dec-inInterval</a> <a id="14933" class="Symbol">{</a><a id="14934" href="Ledger.Conway.Utxo.html#14934" class="Bound">slot</a><a id="14938" class="Symbol">}</a> <a id="14940" class="Symbol">{</a><a id="14941" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="14949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14951" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="14958" class="Symbol">}</a> <a id="14960" class="Symbol">.</a><a id="14961" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="14965" class="Symbol">=</a> <a id="14967" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14971" href="Ledger.Conway.Utxo.html#14143" class="InductiveConstructor">none</a>

  <a id="HasCoin-UTxOState"></a><a id="14979" href="Ledger.Conway.Utxo.html#14979" class="Function">HasCoin-UTxOState</a> <a id="14997" class="Symbol">:</a> <a id="14999" href="Ledger.Interface.HasCoin.html#132" class="Record">HasCoin</a> <a id="15007" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a>
  <a id="15019" href="Ledger.Conway.Utxo.html#14979" class="Function">HasCoin-UTxOState</a> <a id="15037" class="Symbol">.</a><a id="15038" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15046" href="Ledger.Conway.Utxo.html#15046" class="Bound">s</a> <a id="15048" class="Symbol">=</a> <a id="15050" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15058" class="Symbol">(</a><a id="15059" href="Ledger.Conway.Utxo.html#6104" class="Field">UTxOState.utxo</a> <a id="15074" href="Ledger.Conway.Utxo.html#15046" class="Bound">s</a><a id="15075" class="Symbol">)</a>
                               <a id="15108" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15110" class="Symbol">(</a><a id="15111" href="Ledger.Conway.Utxo.html#6126" class="Field">UTxOState.fees</a> <a id="15126" href="Ledger.Conway.Utxo.html#15046" class="Bound">s</a><a id="15127" class="Symbol">)</a>
                               <a id="15160" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15162" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="15170" class="Symbol">(</a><a id="15171" href="Ledger.Conway.Utxo.html#6148" class="Field">UTxOState.deposits</a> <a id="15190" href="Ledger.Conway.Utxo.html#15046" class="Bound">s</a><a id="15191" class="Symbol">)</a>
                               <a id="15224" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15226" href="Ledger.Conway.Utxo.html#6174" class="Field">UTxOState.donations</a> <a id="15246" href="Ledger.Conway.Utxo.html#15046" class="Bound">s</a>

<a id="coinPolicies"></a><a id="15249" href="Ledger.Conway.Utxo.html#15249" class="Function">coinPolicies</a> <a id="15262" class="Symbol">:</a> <a id="15264" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="15266" href="Ledger.Conway.Crypto.html#1840" class="Function">ScriptHash</a>
<a id="15277" href="Ledger.Conway.Utxo.html#15249" class="Function">coinPolicies</a> <a id="15290" class="Symbol">=</a> <a id="15292" href="Ledger.Conway.TokenAlgebra.html#1228" class="Function">policies</a> <a id="15301" class="Symbol">(</a><a id="15302" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="15309" class="Number">1</a><a id="15310" class="Symbol">)</a>

<a id="isAdaOnly"></a><a id="15313" href="Ledger.Conway.Utxo.html#15313" class="Function">isAdaOnly</a> <a id="15323" class="Symbol">:</a> <a id="15325" href="Ledger.Conway.TokenAlgebra.html#751" class="Function">Value</a> <a id="15331" class="Symbol">→</a> <a id="15333" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="15338" href="Ledger.Conway.Utxo.html#15313" class="Function">isAdaOnly</a> <a id="15348" href="Ledger.Conway.Utxo.html#15348" class="Bound">v</a> <a id="15350" class="Symbol">=</a> <a id="15352" href="Ledger.Conway.TokenAlgebra.html#1228" class="Function">policies</a> <a id="15361" href="Ledger.Conway.Utxo.html#15348" class="Bound">v</a> <a id="15363" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15366" href="Ledger.Conway.Utxo.html#15249" class="Function">coinPolicies</a>
</pre>
</div>

<pre class="Agda">
<a id="feesOK"></a><a id="15402" href="Ledger.Conway.Utxo.html#15402" class="Function">feesOK</a> <a id="15409" class="Symbol">:</a> <a id="15411" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="15419" class="Symbol">→</a> <a id="15421" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="15424" class="Symbol">→</a> <a id="15426" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a> <a id="15431" class="Symbol">→</a> <a id="15433" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="15438" href="Ledger.Conway.Utxo.html#15402" class="Function">feesOK</a> <a id="15445" href="Ledger.Conway.Utxo.html#15445" class="Bound">pp</a> <a id="15448" href="Ledger.Conway.Utxo.html#15448" class="Bound">tx</a> <a id="15451" href="Ledger.Conway.Utxo.html#15451" class="Bound">utxo</a> <a id="15456" class="Symbol">=</a> <a id="15458" class="Symbol">(</a> <a id="15460" href="Ledger.Conway.Utxo.html#7406" class="Function">minfee</a> <a id="15467" href="Ledger.Conway.Utxo.html#15445" class="Bound">pp</a> <a id="15470" href="Ledger.Conway.Utxo.html#15451" class="Bound">utxo</a> <a id="15475" href="Ledger.Conway.Utxo.html#15448" class="Bound">tx</a> <a id="15478" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="15480" href="Ledger.Conway.Transaction.html#4635" class="Function">txfee</a> <a id="15486" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15488" class="Symbol">(</a><a id="15489" href="Ledger.Conway.Transaction.html#5996" class="Function">txrdmrs</a> <a id="15497" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="15499" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15501" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                      <a id="15525" class="Symbol">→</a> <a id="15527" class="Symbol">(</a> <a id="15529" href="Axiom.Set.html#9724" class="Function">All</a> <a id="15533" class="Symbol">(λ</a> <a id="15536" class="Symbol">(</a><a id="15537" href="Ledger.Conway.Utxo.html#15537" class="Bound">addr</a> <a id="15542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15544" class="Symbol">_)</a> <a id="15547" class="Symbol">→</a> <a id="15549" href="Ledger.Conway.Address.html#3691" class="Function">isVKeyAddr</a> <a id="15560" href="Ledger.Conway.Utxo.html#15537" class="Bound">addr</a><a id="15564" class="Symbol">)</a> <a id="15566" href="Ledger.Conway.Utxo.html#15896" class="Function">collateralRange</a>
                        <a id="15606" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15608" href="Ledger.Conway.Utxo.html#15313" class="Function">isAdaOnly</a> <a id="15618" href="Ledger.Conway.Utxo.html#15970" class="Function">bal</a>
                        <a id="15646" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15648" href="Ledger.Conway.TokenAlgebra.html#1138" class="Function">coin</a> <a id="15653" href="Ledger.Conway.Utxo.html#15970" class="Function">bal</a> <a id="15657" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="15659" class="Number">100</a> <a id="15663" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="15665" href="Ledger.Conway.Transaction.html#4635" class="Function">txfee</a> <a id="15671" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="15673" href="Ledger.Conway.Utxo.html#15445" class="Bound">pp</a> <a id="15676" class="Symbol">.</a><a id="15677" href="Ledger.Conway.PParams.html#3998" class="Field">collateralPercentage</a>
                        <a id="15722" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15724" href="Ledger.Conway.Transaction.html#5101" class="Function">collateral</a> <a id="15735" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15737" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                        <a id="15763" class="Symbol">)</a>
                      <a id="15787" class="Symbol">)</a>
                    <a id="15809" class="Symbol">)</a>
  <a id="15813" class="Keyword">where</a>
    <a id="15823" class="Keyword">open</a> <a id="15828" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a> <a id="15831" href="Ledger.Conway.Utxo.html#15448" class="Bound">tx</a><a id="15833" class="Symbol">;</a> <a id="15835" class="Keyword">open</a> <a id="15840" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="15847" href="Ledger.Conway.Transaction.html#6149" class="Function">body</a><a id="15851" class="Symbol">;</a> <a id="15853" class="Keyword">open</a> <a id="15858" href="Ledger.Conway.Transaction.html#5867" class="Module">TxWitnesses</a> <a id="15870" href="Ledger.Conway.Transaction.html#6173" class="Function">wits</a><a id="15874" class="Symbol">;</a> <a id="15876" class="Keyword">open</a> <a id="15881" href="Ledger.Conway.PParams.html#2555" class="Module">PParams</a> <a id="15889" href="Ledger.Conway.Utxo.html#15445" class="Bound">pp</a>
    <a id="15896" href="Ledger.Conway.Utxo.html#15896" class="Function">collateralRange</a>  <a id="15913" class="Symbol">=</a> <a id="15915" href="Class.IsSet.html#959" class="Function">range</a>    <a id="15924" class="Symbol">((</a><a id="15926" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="15936" href="Ledger.Conway.Transaction.html#7081" class="Function">txOutHash</a> <a id="15946" href="Ledger.Conway.Utxo.html#15451" class="Bound">utxo</a><a id="15950" class="Symbol">)</a> <a id="15952" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="15954" href="Ledger.Conway.Transaction.html#5101" class="Function">collateral</a><a id="15964" class="Symbol">)</a>
    <a id="15970" href="Ledger.Conway.Utxo.html#15970" class="Function">bal</a>              <a id="15987" class="Symbol">=</a> <a id="15989" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a>  <a id="15998" class="Symbol">(</a><a id="15999" href="Ledger.Conway.Utxo.html#15451" class="Bound">utxo</a> <a id="16004" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="16006" href="Ledger.Conway.Transaction.html#5101" class="Function">collateral</a><a id="16016" class="Symbol">)</a>
</pre>

<h3 id="functions-used-in-utxo-rules-continued_2">Functions used in UTxO rules, continued<a class="headerlink" href="#functions-used-in-utxo-rules-continued_2" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="16115" class="Keyword">module</a> <a id="16122" href="Ledger.Conway.Utxo.html#16122" class="Module">_</a> <a id="16124" class="Symbol">(</a><a id="16125" class="Keyword">let</a> <a id="16129" class="Keyword">open</a> <a id="16134" href="Ledger.Conway.Utxo.html#5972" class="Module">UTxOState</a><a id="16143" class="Symbol">;</a> <a id="16145" class="Keyword">open</a> <a id="16150" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a><a id="16156" class="Symbol">)</a> <a id="16158" class="Keyword">where</a>
</pre>
</div>

<pre class="Agda">
  <a id="16189" href="Ledger.Conway.Utxo.html#16189" class="Function">depositRefunds</a> <a id="16204" class="Symbol">:</a> <a id="16206" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="16214" class="Symbol">→</a> <a id="16216" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="16226" class="Symbol">→</a> <a id="16228" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="16235" class="Symbol">→</a> <a id="16237" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="16244" href="Ledger.Conway.Utxo.html#16189" class="Function">depositRefunds</a> <a id="16259" href="Ledger.Conway.Utxo.html#16259" class="Bound">pp</a> <a id="16262" href="Ledger.Conway.Utxo.html#16262" class="Bound">st</a> <a id="16265" href="Ledger.Conway.Utxo.html#16265" class="Bound">txb</a> <a id="16269" class="Symbol">=</a> <a id="16271" href="Prelude.html#3252" class="Function">negPart</a> <a id="16279" class="Symbol">(</a><a id="16280" href="Ledger.Conway.Utxo.html#13617" class="Function">depositsChange</a> <a id="16295" href="Ledger.Conway.Utxo.html#16259" class="Bound">pp</a> <a id="16298" href="Ledger.Conway.Utxo.html#16265" class="Bound">txb</a> <a id="16302" class="Symbol">(</a><a id="16303" href="Ledger.Conway.Utxo.html#16262" class="Bound">st</a> <a id="16306" class="Symbol">.</a><a id="16307" href="Ledger.Conway.Utxo.html#6148" class="Field">deposits</a><a id="16315" class="Symbol">))</a>

  <a id="16321" href="Ledger.Conway.Utxo.html#16321" class="Function">newDeposits</a> <a id="16333" class="Symbol">:</a> <a id="16335" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="16343" class="Symbol">→</a> <a id="16345" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="16355" class="Symbol">→</a> <a id="16357" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="16364" class="Symbol">→</a> <a id="16366" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="16373" href="Ledger.Conway.Utxo.html#16321" class="Function">newDeposits</a> <a id="16385" href="Ledger.Conway.Utxo.html#16385" class="Bound">pp</a> <a id="16388" href="Ledger.Conway.Utxo.html#16388" class="Bound">st</a> <a id="16391" href="Ledger.Conway.Utxo.html#16391" class="Bound">txb</a> <a id="16395" class="Symbol">=</a> <a id="16397" href="Prelude.html#3175" class="Function">posPart</a> <a id="16405" class="Symbol">(</a><a id="16406" href="Ledger.Conway.Utxo.html#13617" class="Function">depositsChange</a> <a id="16421" href="Ledger.Conway.Utxo.html#16385" class="Bound">pp</a> <a id="16424" href="Ledger.Conway.Utxo.html#16391" class="Bound">txb</a> <a id="16428" class="Symbol">(</a><a id="16429" href="Ledger.Conway.Utxo.html#16388" class="Bound">st</a> <a id="16432" class="Symbol">.</a><a id="16433" href="Ledger.Conway.Utxo.html#6148" class="Field">deposits</a><a id="16441" class="Symbol">))</a>

  <a id="16447" href="Ledger.Conway.Utxo.html#16447" class="Function">consumed</a> <a id="16456" class="Symbol">:</a> <a id="16458" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="16466" class="Symbol">→</a> <a id="16468" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="16478" class="Symbol">→</a> <a id="16480" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="16487" class="Symbol">→</a> <a id="16489" href="Ledger.Conway.TokenAlgebra.html#751" class="Function">Value</a>
  <a id="16497" href="Ledger.Conway.Utxo.html#16447" class="Function">consumed</a> <a id="16506" href="Ledger.Conway.Utxo.html#16506" class="Bound">pp</a> <a id="16509" href="Ledger.Conway.Utxo.html#16509" class="Bound">st</a> <a id="16512" href="Ledger.Conway.Utxo.html#16512" class="Bound">txb</a>
    <a id="16520" class="Symbol">=</a>  <a id="16523" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a> <a id="16531" class="Symbol">(</a><a id="16532" href="Ledger.Conway.Utxo.html#16509" class="Bound">st</a> <a id="16535" class="Symbol">.</a><a id="16536" href="Ledger.Conway.Utxo.html#6104" class="Field">utxo</a> <a id="16541" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="16543" href="Ledger.Conway.Utxo.html#16512" class="Bound">txb</a> <a id="16547" class="Symbol">.</a><a id="16548" href="Ledger.Conway.Transaction.html#4541" class="Field">txins</a><a id="16553" class="Symbol">)</a>
    <a id="16559" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16562" href="Ledger.Conway.Utxo.html#16512" class="Bound">txb</a> <a id="16566" class="Symbol">.</a><a id="16567" href="Ledger.Conway.Transaction.html#4663" class="Field">mint</a>
    <a id="16576" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16579" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="16586" class="Symbol">(</a><a id="16587" href="Ledger.Conway.Utxo.html#16189" class="Function">depositRefunds</a> <a id="16602" href="Ledger.Conway.Utxo.html#16506" class="Bound">pp</a> <a id="16605" href="Ledger.Conway.Utxo.html#16509" class="Bound">st</a> <a id="16608" href="Ledger.Conway.Utxo.html#16512" class="Bound">txb</a><a id="16611" class="Symbol">)</a>
    <a id="16617" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="16620" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="16627" class="Symbol">(</a><a id="16628" href="Ledger.Interface.HasCoin.html#180" class="Field">getCoin</a> <a id="16636" class="Symbol">(</a><a id="16637" href="Ledger.Conway.Utxo.html#16512" class="Bound">txb</a> <a id="16641" class="Symbol">.</a><a id="16642" href="Ledger.Conway.Transaction.html#4773" class="Field">txwdrls</a><a id="16649" class="Symbol">))</a>

  <a id="16655" href="Ledger.Conway.Utxo.html#16655" class="Function">produced</a> <a id="16664" class="Symbol">:</a> <a id="16666" href="Ledger.Conway.PParams.html#2555" class="Record">PParams</a> <a id="16674" class="Symbol">→</a> <a id="16676" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="16686" class="Symbol">→</a> <a id="16688" href="Ledger.Conway.Transaction.html#4505" class="Record">TxBody</a> <a id="16695" class="Symbol">→</a> <a id="16697" href="Ledger.Conway.TokenAlgebra.html#751" class="Function">Value</a>
  <a id="16705" href="Ledger.Conway.Utxo.html#16655" class="Function">produced</a> <a id="16714" href="Ledger.Conway.Utxo.html#16714" class="Bound">pp</a> <a id="16717" href="Ledger.Conway.Utxo.html#16717" class="Bound">st</a> <a id="16720" href="Ledger.Conway.Utxo.html#16720" class="Bound">txb</a> <a id="16724" class="Symbol">=</a> <a id="16726" href="Ledger.Conway.Utxo.html#7135" class="Function">balance</a> <a id="16734" class="Symbol">(</a><a id="16735" href="Ledger.Conway.Utxo.html#7064" class="Function">outs</a> <a id="16740" href="Ledger.Conway.Utxo.html#16720" class="Bound">txb</a><a id="16743" class="Symbol">)</a>
                     <a id="16766" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16768" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="16775" class="Symbol">(</a><a id="16776" href="Ledger.Conway.Utxo.html#16720" class="Bound">txb</a> <a id="16780" class="Symbol">.</a><a id="16781" href="Ledger.Conway.Transaction.html#4635" class="Field">txfee</a><a id="16786" class="Symbol">)</a>
                     <a id="16809" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16811" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="16818" class="Symbol">(</a><a id="16819" href="Ledger.Conway.Utxo.html#16321" class="Function">newDeposits</a> <a id="16831" href="Ledger.Conway.Utxo.html#16714" class="Bound">pp</a> <a id="16834" href="Ledger.Conway.Utxo.html#16717" class="Bound">st</a> <a id="16837" href="Ledger.Conway.Utxo.html#16720" class="Bound">txb</a><a id="16840" class="Symbol">)</a>
                     <a id="16863" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16865" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="16872" class="Symbol">(</a><a id="16873" href="Ledger.Conway.Utxo.html#16720" class="Bound">txb</a> <a id="16877" class="Symbol">.</a><a id="16878" href="Ledger.Conway.Transaction.html#4877" class="Field">txdonation</a><a id="16888" class="Symbol">)</a>
</pre>
<p>As seen in
<a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules-continued">'Functions used in UTxO rules, continued'</a>, we
redefine <code class="AgdaFunction">depositRefunds</code> and
<code class="AgdaFunction">newDeposits</code> via <code class="AgdaFunction">depositsChange</code>, which
computes the difference between the total deposits before and after
their application. This simplifies their definitions and some
correctness proofs. We then add the absolute value of
<code class="AgdaFunction">depositsChange</code> to <code class="AgdaFunction">consumed</code> or
<code class="AgdaFunction">produced</code> depending on its sign. This is done via
<code class="AgdaFunction">negPart</code> and <code class="AgdaFunction">posPart</code>, which satisfy the
key property that their difference is the identity function.</p>
<p><a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules">'Functions used in UTxO rules'</a> defines the
function <code class="AgdaFunction">minfee</code>. In Conway, <code class="AgdaFunction">minfee</code>
includes the cost for reference scripts. This is calculated using
<code class="AgdaFunction">scriptsCost</code> (see
<em>cref 'fig:scriptsCost' (unresolved reference)</em>).</p>
<p><a href="Ledger.Conway.Utxo.html#functions-used-in-utxo-rules">'Functions used in UTxO rules'</a> also shows the
signature of <code class="AgdaDatatype">ValidCertDeposits</code>. Inhabitants of this
type are constructed in one of eight ways, corresponding to seven
certificate types plus one for an empty list of certificates. Suffice it
to say that <code class="AgdaDatatype">ValidCertDeposits</code> is used to check the
validity of the deposits in a transaction so that the function
<code class="AgdaFunction">updateCertDeposits</code> can correctly register and
deregister deposits in the UTxO state based on the certificates in the
transaction.</p>
<h3 id="utxos-rule">UTXOS rule<a class="headerlink" href="#utxos-rule" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="18548" class="Keyword">open</a> <a id="18553" href="Ledger.Conway.PParams.html#2555" class="Module">PParams</a>

<a id="18562" class="Keyword">private</a> <a id="18570" class="Keyword">variable</a>
  <a id="18581" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="18583" class="Symbol">:</a> <a id="18585" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a>
  <a id="18595" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="18597" href="Ledger.Conway.Utxo.html#18597" class="Generalizable">s&#39;</a> <a id="18600" class="Symbol">:</a> <a id="18602" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a>
  <a id="18614" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="18617" class="Symbol">:</a> <a id="18619" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a>
  <a id="18624" href="Ledger.Conway.Utxo.html#18624" class="Generalizable">utxo</a> <a id="18629" class="Symbol">:</a> <a id="18631" href="Ledger.Conway.Transaction.html#4128" class="Function">UTxO</a>
  <a id="18638" href="Ledger.Conway.Utxo.html#18638" class="Generalizable">fees</a> <a id="18643" href="Ledger.Conway.Utxo.html#18643" class="Generalizable">donations</a> <a id="18653" class="Symbol">:</a> <a id="18655" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
  <a id="18662" href="Ledger.Conway.Utxo.html#18662" class="Generalizable">deposits</a> <a id="18671" class="Symbol">:</a> <a id="18673" href="Ledger.Conway.Certs.html#742" class="Function">Deposits</a>

<a id="18683" class="Keyword">open</a> <a id="18688" href="Ledger.Conway.Utxo.html#5539" class="Module">UTxOEnv</a>

<a id="18697" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXOS⦈_"></a><a id="18702" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="18717" class="Symbol">:</a> <a id="18719" href="Ledger.Conway.Utxo.html#5539" class="Record">UTxOEnv</a> <a id="18727" class="Symbol">→</a> <a id="18729" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="18739" class="Symbol">→</a> <a id="18741" href="Ledger.Conway.Transaction.html#6117" class="Record">Tx</a> <a id="18744" class="Symbol">→</a> <a id="18746" href="Ledger.Conway.Utxo.html#5972" class="Record">UTxOState</a> <a id="18756" class="Symbol">→</a> <a id="18758" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="18763" class="Keyword">where</a>
</pre>
</div>

<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-Yes"></a><a id="18794" href="Ledger.Conway.Utxo.html#18794" class="InductiveConstructor">Scripts-Yes</a> <a id="18806" class="Symbol">:</a>
    <a id="18812" class="Keyword">let</a>  <a id="18817" href="Ledger.Conway.Utxo.html#18817" class="Bound">pp</a>         <a id="18828" class="Symbol">=</a> <a id="18830" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="18832" class="Symbol">.</a><a id="18833" href="Ledger.Conway.Utxo.html#5593" class="Field">pparams</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
         <a id="18899" class="Keyword">open</a> <a id="18904" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a> <a id="18907" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="18910" class="Keyword">renaming</a> <a id="18919" class="Symbol">(</a><a id="18920" href="Ledger.Conway.Transaction.html#6149" class="Field">body</a> <a id="18925" class="Symbol">to</a> <a id="18928" class="Field">txb</a><a id="18931" class="Symbol">);</a> <a id="18934" class="Keyword">open</a> <a id="18939" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="18946" href="Ledger.Conway.Utxo.html#18928" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
         <a id="18982" href="Ledger.Conway.Utxo.html#18982" class="Bound">sLst</a>       <a id="18993" class="Symbol">=</a> <a id="18995" href="Ledger.Conway.ScriptValidation.html#5901" class="Function">collectPhaseTwoScriptInputs</a> <a id="19023" href="Ledger.Conway.Utxo.html#18817" class="Bound">pp</a> <a id="19026" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19029" href="Ledger.Conway.Utxo.html#18624" class="Generalizable">utxo</a>
      <a id="19040" class="Keyword">in</a>
        <a id="19051" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="19053" href="Ledger.Conway.Utxo.html#8306" class="Datatype">ValidCertDeposits</a> <a id="19071" href="Ledger.Conway.Utxo.html#18817" class="Bound">pp</a> <a id="19074" href="Ledger.Conway.Utxo.html#18662" class="Generalizable">deposits</a> <a id="19083" href="Ledger.Conway.Transaction.html#4739" class="Function">txcerts</a>
        <a id="19099" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19101" href="Ledger.Conway.ScriptValidation.html#6289" class="Function">evalScripts</a> <a id="19113" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19116" href="Ledger.Conway.Utxo.html#18982" class="Bound">sLst</a> <a id="19121" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19123" href="Ledger.Conway.Transaction.html#6202" class="Function">isValid</a>
        <a id="19139" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19141" href="Ledger.Conway.Transaction.html#6202" class="Function">isValid</a> <a id="19149" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19151" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
          <a id="19166" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="19209" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="19211" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18624}{\htmlId{19215}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18638}{\htmlId{19222}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18662}{\htmlId{19229}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18643}{\htmlId{19240}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="19252" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⇀⦇</a> <a id="19255" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19258" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} (\,\href{Ledger.Conway.Utxo.html#18624}{\htmlId{19269}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19274}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#4541}{\htmlId{19276}{\htmlClass{Function}{\text{txins}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19282}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,) \,\href{Axiom.Set.Map.html#6320}{\htmlId{19285}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, (\,\href{Ledger.Conway.Utxo.html#7064}{\htmlId{19289}{\htmlClass{Function}{\text{outs}}}}\, \,\href{Ledger.Conway.Utxo.html#18928}{\htmlId{19294}{\htmlClass{Function}{\text{txb}}}}\,) \\ \,\href{Ledger.Conway.Utxo.html#18638}{\htmlId{19301}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19306}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Transaction.html#4635}{\htmlId{19308}{\htmlClass{Function}{\text{txfee}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#13142}{\htmlId{19316}{\htmlClass{Function}{\text{updateDeposits}}}}\, \,\href{Ledger.Conway.Utxo.html#18817}{\htmlId{19331}{\htmlClass{Bound}{\text{pp}}}}\, \,\href{Ledger.Conway.Utxo.html#18928}{\htmlId{19334}{\htmlClass{Function}{\text{txb}}}}\, \,\href{Ledger.Conway.Utxo.html#18662}{\htmlId{19338}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18643}{\htmlId{19349}{\htmlClass{Generalizable}{\text{donations}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19359}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Transaction.html#4877}{\htmlId{19361}{\htmlClass{Function}{\text{txdonation}}}}\, \end{pmatrix}$</a>
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-No"></a><a id="19376" href="Ledger.Conway.Utxo.html#19376" class="InductiveConstructor">Scripts-No</a> <a id="19387" class="Symbol">:</a>
    <a id="19393" class="Keyword">let</a>  <a id="19398" href="Ledger.Conway.Utxo.html#19398" class="Bound">pp</a>         <a id="19409" class="Symbol">=</a> <a id="19411" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="19413" class="Symbol">.</a><a id="19414" href="Ledger.Conway.Utxo.html#5593" class="Field">pparams</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
         <a id="19480" class="Keyword">open</a> <a id="19485" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a> <a id="19488" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19491" class="Keyword">renaming</a> <a id="19500" class="Symbol">(</a><a id="19501" href="Ledger.Conway.Transaction.html#6149" class="Field">body</a> <a id="19506" class="Symbol">to</a> <a id="19509" class="Field">txb</a><a id="19512" class="Symbol">);</a> <a id="19515" class="Keyword">open</a> <a id="19520" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="19527" href="Ledger.Conway.Utxo.html#19509" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
         <a id="19563" href="Ledger.Conway.Utxo.html#19563" class="Bound">sLst</a>       <a id="19574" class="Symbol">=</a> <a id="19576" href="Ledger.Conway.ScriptValidation.html#5901" class="Function">collectPhaseTwoScriptInputs</a> <a id="19604" href="Ledger.Conway.Utxo.html#19398" class="Bound">pp</a> <a id="19607" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19610" href="Ledger.Conway.Utxo.html#18624" class="Generalizable">utxo</a>
      <a id="19621" class="Keyword">in</a>
        <a id="19632" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="19634" href="Ledger.Conway.ScriptValidation.html#6289" class="Function">evalScripts</a> <a id="19646" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19649" href="Ledger.Conway.Utxo.html#19563" class="Bound">sLst</a> <a id="19654" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19656" href="Ledger.Conway.Transaction.html#6202" class="Function">isValid</a>
        <a id="19672" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="19674" href="Ledger.Conway.Transaction.html#6202" class="Function">isValid</a> <a id="19682" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19684" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
          <a id="19700" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="19743" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="19745" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18624}{\htmlId{19749}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18638}{\htmlId{19756}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18662}{\htmlId{19763}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18643}{\htmlId{19774}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="19786" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⇀⦇</a> <a id="19789" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="19792" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.html#18624}{\htmlId{19802}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19807}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#5101}{\htmlId{19809}{\htmlClass{Function}{\text{collateral}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{19820}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18638}{\htmlId{19824}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{19829}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Utxo.html#7224}{\htmlId{19831}{\htmlClass{Function}{\text{cbalance}}}}\, (\,\href{Ledger.Conway.Utxo.html#18624}{\htmlId{19841}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10678}{\htmlId{19846}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Transaction.html#5101}{\htmlId{19848}{\htmlClass{Function}{\text{collateral}}}}\,) \\ \,\href{Ledger.Conway.Utxo.html#18662}{\htmlId{19862}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#18643}{\htmlId{19873}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
<a id="19934" class="Keyword">unquoteDecl</a> <a id="Scripts-Yes-premises"></a><a id="19946" href="Ledger.Conway.Utxo.html#19946" class="Function">Scripts-Yes-premises</a> <a id="19967" class="Symbol">=</a> <a id="19969" href="iog-prelude.Tactic.Premises.html#2289" class="Function">genPremises</a> <a id="19981" href="Ledger.Conway.Utxo.html#19946" class="Function">Scripts-Yes-premises</a> <a id="20002" class="Symbol">(</a><a id="20003" class="Keyword">quote</a> <a id="20009" href="Ledger.Conway.Utxo.html#18794" class="InductiveConstructor">Scripts-Yes</a><a id="20020" class="Symbol">)</a>
<a id="20022" class="Keyword">unquoteDecl</a> <a id="Scripts-No-premises"></a><a id="20034" href="Ledger.Conway.Utxo.html#20034" class="Function">Scripts-No-premises</a>  <a id="20055" class="Symbol">=</a> <a id="20057" href="iog-prelude.Tactic.Premises.html#2289" class="Function">genPremises</a> <a id="20069" href="Ledger.Conway.Utxo.html#20034" class="Function">Scripts-No-premises</a>  <a id="20090" class="Symbol">(</a><a id="20091" class="Keyword">quote</a> <a id="20097" href="Ledger.Conway.Utxo.html#19376" class="InductiveConstructor">Scripts-No</a><a id="20107" class="Symbol">)</a>

<a id="20110" class="Keyword">data</a> <a id="20115" href="Ledger.Conway.Utxo.html#6827" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="20129" class="Keyword">where</a>
</pre>
</div>

<h3 id="utxo-inference-rules">UTXO inference rules<a class="headerlink" href="#utxo-inference-rules" title="Permanent link">&para;</a></h3>
<pre class="Agda">
  <a id="_⊢_⇀⦇_,UTXO⦈_.UTXO-inductive"></a><a id="20189" href="Ledger.Conway.Utxo.html#20189" class="InductiveConstructor">UTXO-inductive</a> <a id="20204" class="Symbol">:</a>
    <a id="20210" class="Keyword">let</a> <a id="20214" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a>        <a id="20224" class="Symbol">=</a> <a id="20226" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="20228" class="Symbol">.</a><a id="20229" href="Ledger.Conway.Utxo.html#5593" class="Field">pparams</a>
        <a id="20245" href="Ledger.Conway.Utxo.html#20245" class="Bound">slot</a>      <a id="20255" class="Symbol">=</a> <a id="20257" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="20259" class="Symbol">.</a><a id="20260" href="Ledger.Conway.Utxo.html#5572" class="Field">slot</a>
        <a id="20273" href="Ledger.Conway.Utxo.html#20273" class="Bound">treasury</a>  <a id="20283" class="Symbol">=</a> <a id="20285" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="20287" class="Symbol">.</a><a id="20288" href="Ledger.Conway.Utxo.html#5617" class="Field">treasury</a>
        <a id="20305" href="Ledger.Conway.Utxo.html#20305" class="Bound">utxo</a>      <a id="20315" class="Symbol">=</a> <a id="20317" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="20319" class="Symbol">.</a><a id="20320" href="Ledger.Conway.Utxo.html#6104" class="Field">UTxOState.utxo</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
        <a id="20392" class="Keyword">open</a> <a id="20397" href="Ledger.Conway.Transaction.html#6117" class="Module">Tx</a> <a id="20400" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="20403" class="Keyword">renaming</a> <a id="20412" class="Symbol">(</a><a id="20413" href="Ledger.Conway.Transaction.html#6149" class="Field">body</a> <a id="20418" class="Symbol">to</a> <a id="20421" class="Field">txb</a><a id="20424" class="Symbol">);</a> <a id="20427" class="Keyword">open</a> <a id="20432" href="Ledger.Conway.Transaction.html#4505" class="Module">TxBody</a> <a id="20439" href="Ledger.Conway.Utxo.html#20421" class="Function">txb</a>
</pre>
</div>

<pre class="Agda">
        <a id="20474" href="Ledger.Conway.Utxo.html#20474" class="Bound">txoutsʰ</a>   <a id="20484" class="Symbol">=</a> <a id="20486" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="20496" href="Ledger.Conway.Transaction.html#7081" class="Function">txOutHash</a> <a id="20506" href="Ledger.Conway.Transaction.html#4601" class="Function">txouts</a>
        <a id="20521" href="Ledger.Conway.Utxo.html#20521" class="Bound">overhead</a>  <a id="20531" class="Symbol">=</a> <a id="20533" class="Number">160</a>
    <a id="20541" class="Keyword">in</a>
    <a id="20548" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="20550" href="Ledger.Conway.Transaction.html#4541" class="Function">txins</a> <a id="20556" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="20558" href="Class.HasEmptySet.html#287" class="Field">∅</a>                              <a id="20589" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20591" href="Ledger.Conway.Transaction.html#4541" class="Function">txins</a> <a id="20597" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20599" href="Ledger.Conway.Transaction.html#4571" class="Function">refInputs</a> <a id="20609" href="Interface.HasSubset.html#166" class="Field Operator">⊆</a> <a id="20611" href="Class.IsSet.html#916" class="Function">dom</a> <a id="20615" href="Ledger.Conway.Utxo.html#20305" class="Bound">utxo</a>
    <a id="20624" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20626" href="Ledger.Conway.Transaction.html#4541" class="Function">txins</a> <a id="20632" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="20634" href="Ledger.Conway.Transaction.html#4571" class="Function">refInputs</a> <a id="20644" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20646" href="Class.HasEmptySet.html#287" class="Field">∅</a>                  <a id="20665" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20667" href="Ledger.Conway.Utxo.html#13828" class="Datatype">inInterval</a> <a id="20678" href="Ledger.Conway.Utxo.html#20245" class="Bound">slot</a> <a id="20683" href="Ledger.Conway.Transaction.html#4692" class="Function">txvldt</a>
    <a id="20694" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20696" href="Ledger.Conway.Utxo.html#15402" class="Function">feesOK</a> <a id="20703" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a> <a id="20706" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="20709" href="Ledger.Conway.Utxo.html#20305" class="Bound">utxo</a>                      <a id="20735" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20737" href="Ledger.Conway.Utxo.html#16447" class="Function">consumed</a> <a id="20746" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a> <a id="20749" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="20751" href="Ledger.Conway.Utxo.html#20421" class="Function">txb</a> <a id="20755" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20757" href="Ledger.Conway.Utxo.html#16655" class="Function">produced</a> <a id="20766" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a> <a id="20769" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="20771" href="Ledger.Conway.Utxo.html#20421" class="Function">txb</a>
    <a id="20779" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20781" href="Ledger.Conway.TokenAlgebra.html#1138" class="Function">coin</a> <a id="20786" href="Ledger.Conway.Transaction.html#4663" class="Function">mint</a> <a id="20791" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20793" class="Number">0</a>                          <a id="20820" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20822" href="Ledger.Conway.Transaction.html#5048" class="Function">txsize</a> <a id="20829" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="20831" href="Ledger.Conway.PParams.html#2665" class="Field">maxTxSize</a> <a id="20841" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a>
    <a id="20848" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20850" href="Ledger.Conway.Utxo.html#7303" class="Function">refScriptsSize</a> <a id="20865" href="Ledger.Conway.Utxo.html#20305" class="Bound">utxo</a> <a id="20870" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="20873" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="20875" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a> <a id="20878" class="Symbol">.</a><a id="20879" href="Ledger.Conway.PParams.html#3539" class="Field">maxRefScriptSizePerTx</a>
    <a id="20905" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="20907" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="20910" href="Ledger.Conway.Utxo.html#20910" class="Bound">(_</a> <a id="20913" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20915" href="Ledger.Conway.Utxo.html#20915" class="Bound">txout</a><a id="20920" href="Ledger.Conway.Utxo.html#20910" class="Bound">)</a> <a id="20922" href="Class.IsSet.html#576" class="Function">∈</a> <a id="20924" href="Ledger.Prelude.html#2551" class="Function Operator">∣</a> <a id="20926" href="Ledger.Conway.Utxo.html#20474" class="Bound">txoutsʰ</a> <a id="20934" href="Ledger.Prelude.html#2551" class="Function Operator">∣</a> <a id="20936" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="20946" href="Ledger.Conway.TokenAlgebra.html#1183" class="Function">inject</a> <a id="20953" class="Symbol">((</a><a id="20955" href="Ledger.Conway.Utxo.html#20521" class="Bound">overhead</a> <a id="20964" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20966" href="Ledger.Conway.Utxo.html#2655" class="Function">utxoEntrySize</a> <a id="20980" href="Ledger.Conway.Utxo.html#20915" class="Bound">txout</a><a id="20985" class="Symbol">)</a> <a id="20987" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="20989" href="Ledger.Conway.PParams.html#3405" class="Field">coinsPerUTxOByte</a> <a id="21006" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a><a id="21008" class="Symbol">)</a> <a id="21010" href="Ledger.Conway.TokenAlgebra.html#1334" class="Function Operator">≤ᵗ</a> <a id="21013" href="Ledger.Conway.Transaction.html#7170" class="Function">getValueʰ</a> <a id="21023" href="Ledger.Conway.Utxo.html#20915" class="Bound">txout</a>
    <a id="21033" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21035" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21038" href="Ledger.Conway.Utxo.html#21038" class="Bound">(_</a> <a id="21041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21043" href="Ledger.Conway.Utxo.html#21043" class="Bound">txout</a><a id="21048" href="Ledger.Conway.Utxo.html#21038" class="Bound">)</a> <a id="21050" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21052" href="Ledger.Prelude.html#2551" class="Function Operator">∣</a> <a id="21054" href="Ledger.Conway.Utxo.html#20474" class="Bound">txoutsʰ</a> <a id="21062" href="Ledger.Prelude.html#2551" class="Function Operator">∣</a> <a id="21064" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="21074" href="Ledger.Conway.Abstract.html#693" class="Field">serSize</a> <a id="21082" class="Symbol">(</a><a id="21083" href="Ledger.Conway.Transaction.html#7170" class="Function">getValueʰ</a> <a id="21093" href="Ledger.Conway.Utxo.html#21043" class="Bound">txout</a><a id="21098" class="Symbol">)</a> <a id="21100" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="21102" href="Ledger.Conway.PParams.html#2845" class="Field">maxValSize</a> <a id="21113" href="Ledger.Conway.Utxo.html#20214" class="Bound">pp</a>
    <a id="21120" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21122" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21125" href="Ledger.Conway.Utxo.html#21125" class="Bound">(</a><a id="21126" href="Ledger.Conway.Utxo.html#21126" class="Bound">a</a> <a id="21128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21130" href="Ledger.Conway.Utxo.html#21125" class="Bound">_)</a> <a id="21133" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21135" href="Class.IsSet.html#959" class="Function">range</a> <a id="21141" href="Ledger.Conway.Utxo.html#20474" class="Bound">txoutsʰ</a> <a id="21149" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="21159" href="Data.Sum.Relation.Unary.All.html#626" class="Datatype">Sum.All</a> <a id="21167" class="Symbol">(</a><a id="21168" href="Function.Base.html#725" class="Function">const</a> <a id="21174" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="21175" class="Symbol">)</a> <a id="21177" class="Symbol">(λ</a> <a id="21180" href="Ledger.Conway.Utxo.html#21180" class="Bound">a</a> <a id="21182" class="Symbol">→</a> <a id="21184" href="Ledger.Conway.Utxo.html#21180" class="Bound">a</a> <a id="21186" class="Symbol">.</a><a id="21187" href="Ledger.Conway.Address.html#2323" class="Field">BootstrapAddr.attrsSize</a> <a id="21211" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="21213" class="Number">64</a><a id="21215" class="Symbol">)</a> <a id="21217" href="Ledger.Conway.Utxo.html#21126" class="Bound">a</a>
    <a id="21223" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21225" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21228" href="Ledger.Conway.Utxo.html#21228" class="Bound">(</a><a id="21229" href="Ledger.Conway.Utxo.html#21229" class="Bound">a</a> <a id="21231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21233" href="Ledger.Conway.Utxo.html#21228" class="Bound">_)</a> <a id="21236" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21238" href="Class.IsSet.html#959" class="Function">range</a> <a id="21244" href="Ledger.Conway.Utxo.html#20474" class="Bound">txoutsʰ</a> <a id="21252" href="Class.IsSet.html#576" class="Function">]</a>  <a id="21255" href="Ledger.Conway.Address.html#3660" class="Function">netId</a> <a id="21261" href="Ledger.Conway.Utxo.html#21229" class="Bound">a</a>         <a id="21271" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21273" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21287" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21289" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="21292" href="Ledger.Conway.Utxo.html#21292" class="Bound">a</a> <a id="21294" href="Class.IsSet.html#576" class="Function">∈</a> <a id="21296" href="Class.IsSet.html#916" class="Function">dom</a> <a id="21300" href="Ledger.Conway.Transaction.html#4773" class="Function">txwdrls</a> <a id="21308" href="Class.IsSet.html#576" class="Function">]</a>          <a id="21319" href="Ledger.Conway.Address.html#2599" class="Field">NetworkIdOf</a> <a id="21331" href="Ledger.Conway.Utxo.html#21292" class="Bound">a</a> <a id="21333" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21335" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21349" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21351" href="Ledger.Conway.Transaction.html#4977" class="Function">txNetworkId</a>  <a id="21364" href="Prelude.html#2788" class="Function Operator">~</a> <a id="21366" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="21371" href="Ledger.Conway.Types.Epoch.html#2369" class="Function">NetworkId</a>
    <a id="21385" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21387" href="Ledger.Conway.Transaction.html#5014" class="Function">curTreasury</a>  <a id="21400" href="Prelude.html#2788" class="Function Operator">~</a> <a id="21402" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="21407" href="Ledger.Conway.Utxo.html#20273" class="Bound">treasury</a>
    <a id="21420" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="21422" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="21424" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⊢</a> <a id="21426" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="21428" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">⇀⦇</a> <a id="21431" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="21434" href="Ledger.Conway.Utxo.html#18702" class="Datatype Operator">,UTXOS⦈</a> <a id="21442" href="Ledger.Conway.Utxo.html#18597" class="Generalizable">s&#39;</a>
      <a id="21451" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
      <a id="21490" href="Ledger.Conway.Utxo.html#18581" class="Generalizable">Γ</a> <a id="21492" href="Ledger.Conway.Utxo.html#6827" class="Datatype Operator">⊢</a> <a id="21494" href="Ledger.Conway.Utxo.html#18595" class="Generalizable">s</a> <a id="21496" href="Ledger.Conway.Utxo.html#6827" class="Datatype Operator">⇀⦇</a> <a id="21499" href="Ledger.Conway.Utxo.html#18614" class="Generalizable">tx</a> <a id="21502" href="Ledger.Conway.Utxo.html#6827" class="Datatype Operator">,UTXO⦈</a> <a id="21509" href="Ledger.Conway.Utxo.html#18597" class="Generalizable">s&#39;</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="21561" class="Keyword">pattern</a> <a id="UTXO-inductive⋯"></a><a id="21569" href="Ledger.Conway.Utxo.html#21569" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="21585" href="Ledger.Conway.Utxo.html#21667" class="Bound">tx</a> <a id="21588" href="Ledger.Conway.Utxo.html#21650" class="Bound">Γ</a> <a id="21590" href="Ledger.Conway.Utxo.html#21658" class="Bound">s</a> <a id="21592" href="Ledger.Conway.Utxo.html#21672" class="Bound">x</a> <a id="21594" href="Ledger.Conway.Utxo.html#21676" class="Bound">y</a> <a id="21596" href="Ledger.Conway.Utxo.html#21680" class="Bound">z</a> <a id="21598" href="Ledger.Conway.Utxo.html#21684" class="Bound">w</a> <a id="21600" href="Ledger.Conway.Utxo.html#21688" class="Bound">k</a> <a id="21602" href="Ledger.Conway.Utxo.html#21692" class="Bound">l</a> <a id="21604" href="Ledger.Conway.Utxo.html#21696" class="Bound">m</a> <a id="21606" href="Ledger.Conway.Utxo.html#21700" class="Bound">v</a> <a id="21608" href="Ledger.Conway.Utxo.html#21704" class="Bound">j</a> <a id="21610" href="Ledger.Conway.Utxo.html#21708" class="Bound">n</a> <a id="21612" href="Ledger.Conway.Utxo.html#21712" class="Bound">o</a> <a id="21614" href="Ledger.Conway.Utxo.html#21716" class="Bound">p</a> <a id="21616" href="Ledger.Conway.Utxo.html#21720" class="Bound">q</a> <a id="21618" href="Ledger.Conway.Utxo.html#21724" class="Bound">r</a> <a id="21620" href="Ledger.Conway.Utxo.html#21728" class="Bound">t</a> <a id="21622" href="Ledger.Conway.Utxo.html#21732" class="Bound">u</a> <a id="21624" href="Ledger.Conway.Utxo.html#21736" class="Bound">h</a>
  <a id="21628" class="Symbol">=</a> <a id="21630" href="Ledger.Conway.Utxo.html#20189" class="InductiveConstructor">UTXO-inductive</a> <a id="21645" class="Symbol">{</a><a id="21646" class="Argument">Γ</a> <a id="21648" class="Symbol">=</a> <a id="21650" href="Ledger.Conway.Utxo.html#21650" class="Bound">Γ</a><a id="21651" class="Symbol">}</a> <a id="21653" class="Symbol">{</a><a id="21654" class="Argument">s</a> <a id="21656" class="Symbol">=</a> <a id="21658" href="Ledger.Conway.Utxo.html#21658" class="Bound">s</a><a id="21659" class="Symbol">}</a> <a id="21661" class="Symbol">{</a><a id="21662" class="Argument">tx</a> <a id="21665" class="Symbol">=</a> <a id="21667" href="Ledger.Conway.Utxo.html#21667" class="Bound">tx</a><a id="21669" class="Symbol">}</a> <a id="21671" class="Symbol">(</a><a id="21672" href="Ledger.Conway.Utxo.html#21672" class="Bound">x</a> <a id="21674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21676" href="Ledger.Conway.Utxo.html#21676" class="Bound">y</a> <a id="21678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21680" href="Ledger.Conway.Utxo.html#21680" class="Bound">z</a> <a id="21682" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21684" href="Ledger.Conway.Utxo.html#21684" class="Bound">w</a> <a id="21686" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21688" href="Ledger.Conway.Utxo.html#21688" class="Bound">k</a> <a id="21690" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21692" href="Ledger.Conway.Utxo.html#21692" class="Bound">l</a> <a id="21694" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21696" href="Ledger.Conway.Utxo.html#21696" class="Bound">m</a> <a id="21698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21700" href="Ledger.Conway.Utxo.html#21700" class="Bound">v</a> <a id="21702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21704" href="Ledger.Conway.Utxo.html#21704" class="Bound">j</a> <a id="21706" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21708" href="Ledger.Conway.Utxo.html#21708" class="Bound">n</a> <a id="21710" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21712" href="Ledger.Conway.Utxo.html#21712" class="Bound">o</a> <a id="21714" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21716" href="Ledger.Conway.Utxo.html#21716" class="Bound">p</a> <a id="21718" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21720" href="Ledger.Conway.Utxo.html#21720" class="Bound">q</a> <a id="21722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21724" href="Ledger.Conway.Utxo.html#21724" class="Bound">r</a> <a id="21726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21728" href="Ledger.Conway.Utxo.html#21728" class="Bound">t</a> <a id="21730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21732" href="Ledger.Conway.Utxo.html#21732" class="Bound">u</a> <a id="21734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21736" href="Ledger.Conway.Utxo.html#21736" class="Bound">h</a><a id="21737" class="Symbol">)</a>
<a id="21739" class="Keyword">unquoteDecl</a> <a id="UTXO-premises"></a><a id="21751" href="Ledger.Conway.Utxo.html#21751" class="Function">UTXO-premises</a> <a id="21765" class="Symbol">=</a> <a id="21767" href="iog-prelude.Tactic.Premises.html#2289" class="Function">genPremises</a> <a id="21779" href="Ledger.Conway.Utxo.html#21751" class="Function">UTXO-premises</a> <a id="21793" class="Symbol">(</a><a id="21794" class="Keyword">quote</a> <a id="21800" href="Ledger.Conway.Utxo.html#20189" class="InductiveConstructor">UTXO-inductive</a><a id="21814" class="Symbol">)</a>
</pre>
</div>

<p><a href="Ledger.Conway.Utxo.html#utxo-inference-rules">'UTXO inference rules'</a> ties all the
pieces of the UTXO rule together. The symbol  is explained in
<em>cref 'sec:notation' (unresolved reference)</em>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: UnitInterval">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                UnitInterval
              </div>
            </div>
          </a>
        
        
          
          <a href="Ledger.Conway.Utxo.Properties.html" class="md-footer__link md-footer__link--next" aria-label="Next: Properties">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Properties
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections", "toc.integrate", "content.tooltips", "navigation.footer"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="js/custom.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
      
        <script src="js/katex-config.js"></script>
      
        <script src="AgdaKaTeX.js"></script>
      
    
  </body>
</html>