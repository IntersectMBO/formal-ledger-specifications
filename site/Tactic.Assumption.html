<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.Assumption</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Comment">--------------------------------------------------------------------------------</a>
<a id="117" class="Comment">-- assumption: try to solve the goal with one of the available assumptions</a>
<a id="192" class="Comment">--------------------------------------------------------------------------------</a>

<a id="274" class="Keyword">module</a> <a id="281" href="Tactic.Assumption.html" class="Module">Tactic.Assumption</a> <a id="299" class="Keyword">where</a>

<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Meta.Init.html" class="Module">Meta.Init</a>

<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Class.MonadError.Instances.html" class="Module">Class.MonadError.Instances</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Class.MonadReader.Instances.html" class="Module">Class.MonadReader.Instances</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Class.MonadTC.Instances.html" class="Module">Class.MonadTC.Instances</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Reflection.Tactic.html" class="Module">Reflection.Tactic</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Reflection.Utils.html" class="Module">Reflection.Utils</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Reflection.Utils.TCI.html" class="Module">Reflection.Utils.TCI</a>

<a id="613" class="Keyword">instance</a> <a id="622" href="Tactic.Assumption.html#622" class="Function">_</a> <a id="624" class="Symbol">=</a> <a id="626" href="Class.Monad.Core.html#699" class="Function">Functor-M</a>

<a id="assumption&#39;"></a><a id="637" href="Tactic.Assumption.html#637" class="Function">assumption&#39;</a> <a id="649" class="Symbol">:</a> <a id="651" href="Reflection.Tactic.html#498" class="Function">ITactic</a>
<a id="659" href="Tactic.Assumption.html#637" class="Function">assumption&#39;</a> <a id="671" class="Symbol">=</a> <a id="673" href="Reflection.Utils.TCI.html#5866" class="Function">inDebugPath</a> <a id="685" class="String">&quot;assumption&quot;</a> <a id="698" class="Keyword">do</a>
  <a id="703" href="Tactic.Assumption.html#703" class="Bound">c</a> <a id="705" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="707" href="Class.MonadTC.html#10437" class="Function">getContext</a>
  <a id="720" href="Data.List.Base.html#4227" class="Function">foldl</a> <a id="726" class="Symbol">(λ</a> <a id="729" href="Tactic.Assumption.html#729" class="Bound">x</a> <a id="731" href="Tactic.Assumption.html#731" class="Bound">k</a> <a id="733" class="Symbol">→</a> <a id="735" class="Keyword">do</a>
    <a id="742" href="Class.MonadError.html#381" class="Field">catch</a> <a id="748" class="Symbol">(</a><a id="749" href="Class.MonadTC.html#12881" class="Function">unifyWithGoal</a> <a id="763" class="Symbol">(</a><a id="764" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="766" href="Tactic.Assumption.html#731" class="Bound">k</a><a id="767" class="Symbol">)</a> <a id="769" href="Class.Monad.Core.html#371" class="Function Operator">&gt;&gt;</a> <a id="772" href="Class.MonadTC.html#8133" class="Function">debugLog</a> <a id="781" class="Symbol">(</a><a id="782" class="String">&quot;Success with: &quot;</a> <a id="799" href="Reflection.Debug.html#1067" class="Function Operator">∷ᵈ</a> <a id="802" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="804" href="Tactic.Assumption.html#731" class="Bound">k</a> <a id="806" href="Reflection.Debug.html#1067" class="Function Operator">∷ᵈ</a> <a id="809" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="811" class="Symbol">))</a> <a id="814" class="Symbol">(λ</a> <a id="817" href="Tactic.Assumption.html#817" class="Bound">_</a> <a id="819" class="Symbol">→</a> <a id="821" href="Tactic.Assumption.html#729" class="Bound">x</a><a id="822" class="Symbol">))</a>
    <a id="829" class="Symbol">(</a><a id="830" href="Class.MonadTC.html#11278" class="Function">logAndError1</a> <a id="843" class="String">&quot;No valid assumption!&quot;</a><a id="865" class="Symbol">)</a> <a id="867" class="Symbol">(</a><a id="868" href="Data.List.Base.html#6430" class="Function">downFrom</a> <a id="877" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="879" href="Data.List.Base.html#4746" class="Function">length</a> <a id="886" href="Tactic.Assumption.html#703" class="Bound">c</a><a id="887" class="Symbol">)</a>

<a id="890" class="Keyword">module</a> <a id="897" href="Tactic.Assumption.html#897" class="Module">_</a> <a id="899" class="Symbol">⦃</a> <a id="901" href="Tactic.Assumption.html#901" class="Bound">_</a> <a id="903" class="Symbol">:</a> <a id="905" href="Class.MonadTC.html#620" class="Record">TCOptions</a> <a id="915" class="Symbol">⦄</a> <a id="917" class="Keyword">where</a>
  <a id="925" class="Keyword">macro</a>
    <a id="935" href="Tactic.Assumption.html#935" class="Function">assumption</a> <a id="946" class="Symbol">=</a> <a id="948" href="Reflection.Tactic.html#801" class="Function">initTac</a> <a id="956" href="Tactic.Assumption.html#637" class="Function">assumption&#39;</a>
    <a id="972" href="Tactic.Assumption.html#972" class="Function">assumptionOpts</a> <a id="987" class="Symbol">=</a> <a id="989" href="Reflection.Tactic.html#640" class="Function">initTacOpts</a> <a id="1001" href="Tactic.Assumption.html#637" class="Function">assumption&#39;</a>

<a id="1014" class="Keyword">private</a>
  <a id="1024" class="Keyword">open</a> <a id="1029" class="Keyword">import</a> <a id="1036" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
  <a id="1054" class="Keyword">module</a> <a id="Test"></a><a id="1061" href="Tactic.Assumption.html#1061" class="Module">Test</a> <a id="1066" class="Keyword">where</a>
    <a id="Test.test₁"></a><a id="1076" href="Tactic.Assumption.html#1076" class="Function">test₁</a> <a id="1082" class="Symbol">:</a> <a id="1084" class="Symbol">{</a><a id="1085" href="Tactic.Assumption.html#1085" class="Bound">A</a> <a id="1087" href="Tactic.Assumption.html#1087" class="Bound">B</a> <a id="1089" class="Symbol">:</a> <a id="1091" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1094" class="Symbol">}</a> <a id="1096" class="Symbol">→</a> <a id="1098" href="Tactic.Assumption.html#1085" class="Bound">A</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="Tactic.Assumption.html#1087" class="Bound">B</a> <a id="1104" class="Symbol">→</a> <a id="1106" href="Tactic.Assumption.html#1085" class="Bound">A</a>
    <a id="1112" href="Tactic.Assumption.html#1076" class="Function">test₁</a> <a id="1118" href="Tactic.Assumption.html#1118" class="Bound">a</a> <a id="1120" href="Tactic.Assumption.html#1120" class="Bound">b</a> <a id="1122" class="Symbol">=</a> <a id="1124" href="Tactic.Assumption.html#935" class="Macro">assumption</a>

    <a id="Test.test₂"></a><a id="1140" href="Tactic.Assumption.html#1140" class="Function">test₂</a> <a id="1146" class="Symbol">:</a> <a id="1148" class="Symbol">{</a><a id="1149" href="Tactic.Assumption.html#1149" class="Bound">A</a> <a id="1151" href="Tactic.Assumption.html#1151" class="Bound">B</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1158" class="Symbol">}</a> <a id="1160" class="Symbol">→</a> <a id="1162" href="Tactic.Assumption.html#1149" class="Bound">A</a> <a id="1164" class="Symbol">→</a> <a id="1166" href="Tactic.Assumption.html#1151" class="Bound">B</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="Tactic.Assumption.html#1151" class="Bound">B</a>
    <a id="1176" href="Tactic.Assumption.html#1140" class="Function">test₂</a> <a id="1182" href="Tactic.Assumption.html#1182" class="Bound">a</a> <a id="1184" href="Tactic.Assumption.html#1184" class="Bound">b</a> <a id="1186" class="Symbol">=</a> <a id="1188" href="Tactic.Assumption.html#935" class="Macro">assumption</a>
</pre></body></html>