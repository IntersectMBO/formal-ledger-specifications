
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Formal ledger specification and documentation.">
      
      
        <meta name="author" content="Formal Methods Ledger Team">
      
      
        <link rel="canonical" href="https://intersectmbo.github.io/formal-ledger-specifications/Ledger.Conway.Rewards.html">
      
      
        <link rel="prev" href="Ledger.Conway.Ratify.Properties.html">
      
      
        <link rel="next" href="Ledger.Conway.Script.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Rewards - Formal Ledger Specification</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cambria:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Cambria";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
      <link rel="stylesheet" href="Agda.css">
    
      <link rel="stylesheet" href="css/custom.css">
    
      <link rel="stylesheet" href="css/Agda.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sec:rewards" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Formal Ledger Specification" class="md-header__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Formal Ledger Specification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rewards
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Formal Ledger Specification" class="md-nav__button md-logo" aria-label="Formal Ledger Specification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Formal Ledger Specification
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IntersectMBO/formal-ledger-specifications" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Preliminaries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Preliminaries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Notation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prelude/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Prelude/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Prelude.Base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Conway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Abstract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_5_2" id="__nav_4_4_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.PoVLemmas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoVLemmas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Certs.Properties.VoteDelegsVDeleg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VoteDelegsVDeleg
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7" id="__nav_4_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_7_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_7_2" id="__nav_4_4_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_7_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.CredDepsEqualDomRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CredDepsEqualDomRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.EpochStep.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EpochStep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Chain.Properties.PParamsWellFormed.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParamsWellFormed
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Crypto.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crypto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11" id="__nav_4_4_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_11_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_11_2" id="__nav_4_4_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_11_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.ConstRwds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConstRwds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Epoch.Properties.NoPropSameDReps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NoPropSameDReps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Fees.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fees
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_4_14" id="__nav_4_4_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_14">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Gov.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16" id="__nav_4_4_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GovernanceActions/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16">
            <span class="md-nav__icon md-icon"></span>
            GovernanceActions/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_16_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_16_2" id="__nav_4_4_16_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_16_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_16_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.GovernanceActions.Properties.ChangePPGroup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChangePPGroup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger.Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18" id="__nav_4_4_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger.Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18">
            <span class="md-nav__icon md-icon"></span>
            Ledger.Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_18_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_18_2" id="__nav_4_4_18_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_18_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_18_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.GovDepsMatch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovDepsMatch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ledger.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_22" >
        
          
          <label class="md-nav__link" for="__nav_4_4_22" id="__nav_4_4_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ratify/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_22">
            <span class="md-nav__icon md-icon"></span>
            Ratify/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Ratify.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Rewards
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Ledger.Conway.Rewards.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Rewards
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sec:rewards-motivation" class="md-nav__link">
    <span class="md-ellipsis">
      Rewards Motivation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sec:rewards-amount" class="md-nav__link">
    <span class="md-ellipsis">
      Amount of Rewards to be Paid Out
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Amount of Rewards to be Paid Out">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sec:precision-rewards" class="md-nav__link">
    <span class="md-ellipsis">
      Precision of Arithmetic Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:rewards-distribution-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Rewards Distribution Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-maxpool-used-for-computing-a-reward-update" class="md-nav__link">
    <span class="md-ellipsis">
      Function maxPool used for computing a Reward Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-mkapparentperformance-used-for-computing-a-reward-update" class="md-nav__link">
    <span class="md-ellipsis">
      Function mkApparentPerformance used for computing a Reward Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-rewardowners-and-rewardmember" class="md-nav__link">
    <span class="md-ellipsis">
      Functions rewardOwners and rewardMember
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-rewardonepool-used-for-computing-a-reward-update" class="md-nav__link">
    <span class="md-ellipsis">
      Function rewardOnePool used for computing a Reward Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-poolstake" class="md-nav__link">
    <span class="md-ellipsis">
      Function poolStake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-reward-used-for-computing-a-reward-update" class="md-nav__link">
    <span class="md-ellipsis">
      Function reward used for computing a Reward Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:reward-update" class="md-nav__link">
    <span class="md-ellipsis">
      Reward Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rewardupdate-type" class="md-nav__link">
    <span class="md-ellipsis">
      RewardUpdate type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:stake-distribution-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Stake Distribution Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definitions-of-the-snapshot-type" class="md-nav__link">
    <span class="md-ellipsis">
      Definitions of the Snapshot type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-for-computing-stake-distributions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions for computing stake distributions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sec:rewards-time" class="md-nav__link">
    <span class="md-ellipsis">
      Timing when Rewards are Paid Out
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Timing when Rewards are Paid Out">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sec:rewards-timeline" class="md-nav__link">
    <span class="md-ellipsis">
      Timeline of the Rewards Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:illustration-reward-cycle" class="md-nav__link">
    <span class="md-ellipsis">
      Example Illustration of the Reward Cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:stake-distribution-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Stake Distribution Snapshots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definitions-for-the-snap-transition-system" class="md-nav__link">
    <span class="md-ellipsis">
      Definitions for the SNAP transition system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snap-transition-system" class="md-nav__link">
    <span class="md-ellipsis">
      SNAP transition system
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.ScriptValidation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ScriptValidation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TokenAlgebra
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_27" >
        
          
          <label class="md-nav__link" for="__nav_4_4_27" id="__nav_4_4_27_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TokenAlgebra/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_27_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_27">
            <span class="md-nav__icon md-icon"></span>
            TokenAlgebra/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.Coin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueSet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueSet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.TokenAlgebra.ValueVector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ValueVector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29" id="__nav_4_4_29_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.GovStructure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovStructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numeric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_29_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_29_4" id="__nav_4_4_29_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Numeric/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_29_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_29_4">
            <span class="md-nav__icon md-icon"></span>
            Numeric/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UnitInterval
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31" id="__nav_4_4_31_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_31_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_31_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_31_2" id="__nav_4_4_31_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Properties/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_31_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_31_2">
            <span class="md-nav__icon md-icon"></span>
            Properties/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.MinSpend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MinSpend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxo.Properties.PoV.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PoV
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_33" >
        
          
          <label class="md-nav__link" for="__nav_4_4_33" id="__nav_4_4_33_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_33_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_33">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34" id="__nav_4_4_34_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Foreign Function Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_34_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34">
            <span class="md-nav__icon md-icon"></span>
            Foreign Function Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.ExternalFunctions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalFunctions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSLedger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3" id="__nav_4_4_34_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HSLedger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_34_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3">
            <span class="md-nav__icon md-icon"></span>
            HSLedger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Address.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.BaseTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Cert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Enact.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enact
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.ExternalStructures.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExternalStructures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_34_3_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_34_3_11" id="__nav_4_4_34_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gov/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_4_34_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_34_3_11">
            <span class="md-nav__icon md-icon"></span>
            Gov/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Gov.Core.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.GovernanceActions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GovernanceActions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.NewEpoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewEpoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.PParams.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PParams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Ratify.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ratify
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Transaction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSLedger.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.HSTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Foreign.Util.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Util
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35" id="__nav_4_4_35_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_35_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_2" id="__nav_4_4_35_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Certs/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_2">
            <span class="md-nav__icon md-icon"></span>
            Certs/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Certs.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_4" id="__nav_4_4_35_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_4">
            <span class="md-nav__icon md-icon"></span>
            Chain/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Chain.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epoch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_6" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_6" id="__nav_4_4_35_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Epoch/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_6">
            <span class="md-nav__icon md-icon"></span>
            Epoch/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Epoch.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equivalence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_8" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_8" id="__nav_4_4_35_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Equivalence/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_8">
            <span class="md-nav__icon md-icon"></span>
            Equivalence/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bisimilarity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deposits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Gov.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gov
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ledger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_11" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_11" id="__nav_4_4_35_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ledger/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_11">
            <span class="md-nav__icon md-icon"></span>
            Ledger/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Ledger.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Script.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_15" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_15" id="__nav_4_4_35_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxo/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_15">
            <span class="md-nav__icon md-icon"></span>
            Utxo/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxo.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utxow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_35_17" >
        
          
          <label class="md-nav__link" for="__nav_4_4_35_17" id="__nav_4_4_35_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utxow/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_4_35_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_35_17">
            <span class="md-nav__icon md-icon"></span>
            Utxow/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Conway.Conformance.Utxow.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.ConwaySafe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConwaySafe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.Interface.HasCoin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasCoin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PreConway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PreConway/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            PreConway/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1" id="__nav_4_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conformance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1">
            <span class="md-nav__icon md-icon"></span>
            Conformance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_2" id="__nav_4_8_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_2">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_8_1_4" id="__nav_4_8_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_8_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_1_4">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.Conformance.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NewPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_3" >
        
          
          <label class="md-nav__link" for="__nav_4_8_3" id="__nav_4_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NewPP/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_3">
            <span class="md-nav__icon md-icon"></span>
            NewPP/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.NewPP.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PPUp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8_5" >
        
          
          <label class="md-nav__link" for="__nav_4_8_5" id="__nav_4_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PPUp/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8_5">
            <span class="md-nav__icon md-icon"></span>
            PPUp/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Ledger.PreConway.PPUp.Properties.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Properties
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Foreign
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Foreign
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convertible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Convertible/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Convertible/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.Convertible.DerivingTest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DerivingTest
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HaskellTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HaskellTypes/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            HaskellTypes/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Foreign.HaskellTypes.Deriving.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deriving
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ScriptVerification
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ScriptVerification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.HelloWorld.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HelloWorld
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.LedgerImplementation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LedgerImplementation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Lib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.StructuredContracts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    StructuredContracts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ScriptVerification.SucceedIfNumber.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SucceedIfNumber
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EssentialAgda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EssentialAgda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Prelude.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agda Prelude
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Type Classes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Type Classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1" id="__nav_7_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interface
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1">
            <span class="md-nav__icon md-icon"></span>
            Interface
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.ComputationalRelation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ComputationalRelation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_3" id="__nav_7_3_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubset/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            HasSubset/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubset.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HasSubtract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_1_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_1_5" id="__nav_7_3_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HasSubtract/
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            HasSubtract/
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.HasSubtract.Instance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.Hashable.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hashable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Interface.STS.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="MyDebugOptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MyDebugOptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="sec:rewards">Rewards<a class="headerlink" href="#sec:rewards" title="Permanent link">&para;</a></h1>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="71" class="Symbol">{-#</a> <a id="75" class="Keyword">OPTIONS</a> <a id="83" class="Pragma">--safe</a> <a id="90" class="Symbol">#-}</a>

<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="120" class="Keyword">using</a> <a id="126" class="Symbol">()</a> <a id="129" class="Keyword">renaming</a> <a id="138" class="Symbol">(</a><a id="139" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">+_</a> <a id="142" class="Symbol">to</a> <a id="145" class="InductiveConstructor">pos</a><a id="148" class="Symbol">)</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="176" class="Keyword">using</a> <a id="182" class="Symbol">(</a><a id="183" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="184" class="Symbol">;</a> <a id="186" href="Data.Rational.Base.html#7116" class="Function">floor</a><a id="191" class="Symbol">;</a> <a id="193" href="Data.Rational.Base.html#6315" class="Function Operator">_*_</a><a id="196" class="Symbol">;</a> <a id="198" href="Data.Rational.Base.html#6708" class="Function Operator">_÷_</a><a id="201" class="Symbol">;</a> <a id="203" href="Data.Rational.Base.html#3884" class="Function Operator">_/_</a><a id="206" class="Symbol">;</a> <a id="208" href="Data.Rational.Base.html#6405" class="Function Operator">_-_</a><a id="211" class="Symbol">;</a> <a id="213" href="Data.Rational.Base.html#5214" class="Function">&gt;-nonZero</a><a id="222" class="Symbol">;</a> <a id="224" href="Data.Rational.Base.html#6854" class="Function Operator">_⊓_</a><a id="227" class="Symbol">)</a>
                          <a id="255" class="Keyword">renaming</a> <a id="264" class="Symbol">(</a><a id="265" href="Data.Rational.Base.html#6776" class="Function Operator">_⊔_</a> <a id="269" class="Symbol">to</a> <a id="272" class="Function Operator">_⊔ℚ_</a><a id="276" class="Symbol">;</a> <a id="278" href="Data.Rational.Base.html#4498" class="Function">NonZero</a> <a id="286" class="Symbol">to</a> <a id="289" class="Function">NonZeroℚ</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Data.Rational.Literals.html" class="Module">Data.Rational.Literals</a> <a id="334" class="Keyword">using</a> <a id="340" class="Symbol">(</a><a id="341" href="Data.Rational.Literals.html#740" class="Function">number</a><a id="347" class="Symbol">;</a> <a id="349" href="Data.Rational.Literals.html#613" class="Function">fromℤ</a><a id="354" class="Symbol">)</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Data.Rational.Properties.html" class="Module">Data.Rational.Properties</a> <a id="393" class="Keyword">using</a> <a id="399" class="Symbol">(</a><a id="400" href="Data.Rational.Properties.html#7612" class="Function">pos⇒nonZero</a><a id="411" class="Symbol">;</a> <a id="413" href="Data.Rational.Properties.html#26724" class="Function">positive⁻¹</a><a id="423" class="Symbol">;</a> <a id="425" href="Data.Rational.Properties.html#36007" class="Function">+-mono-&lt;-≤</a><a id="435" class="Symbol">;</a> <a id="437" href="Data.Rational.Properties.html#11672" class="Function">normalize-pos</a><a id="450" class="Symbol">;</a> <a id="452" href="Data.Rational.Properties.html#57994" class="Function">p≤p⊔q</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Ledger.Conway.Types.Numeric.UnitInterval.html" class="Module">Ledger.Conway.Types.Numeric.UnitInterval</a>

<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="619" class="Keyword">open</a>        <a id="631" href="Agda.Builtin.FromNat.html#196" class="Module">Number</a> <a id="638" href="Data.Rational.Literals.html#740" class="Function">number</a> <a id="645" class="Keyword">renaming</a> <a id="654" class="Symbol">(</a><a id="655" href="Agda.Builtin.FromNat.html#281" class="Field">fromNat</a> <a id="663" class="Symbol">to</a> <a id="666" class="Field">fromℕ</a><a id="671" class="Symbol">)</a>

<a id="674" class="Keyword">module</a> <a id="681" href="Ledger.Conway.Rewards.html" class="Module">Ledger.Conway.Rewards</a>
  <a id="705" class="Symbol">(</a><a id="706" href="Ledger.Conway.Rewards.html#706" class="Bound">txs</a> <a id="710" class="Symbol">:</a> <a id="712" class="Symbol">_)</a> <a id="715" class="Symbol">(</a><a id="716" class="Keyword">open</a> <a id="721" href="Ledger.Conway.Transaction.html#2422" class="Module">TransactionStructure</a> <a id="742" href="Ledger.Conway.Rewards.html#706" class="Bound">txs</a><a id="745" class="Symbol">)</a>
  <a id="749" class="Symbol">(</a><a id="750" href="Ledger.Conway.Rewards.html#750" class="Bound">abs</a> <a id="754" class="Symbol">:</a> <a id="756" href="Ledger.Conway.Abstract.html#607" class="Record">AbstractFunctions</a> <a id="774" href="Ledger.Conway.Rewards.html#706" class="Bound">txs</a><a id="777" class="Symbol">)</a>
  <a id="781" class="Keyword">where</a>

<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="820" href="Ledger.Conway.Transaction.html#3486" class="Function">govStructure</a>
<a id="833" class="Keyword">open</a> <a id="838" class="Keyword">import</a> <a id="845" href="Ledger.Conway.Ledger.html" class="Module">Ledger.Conway.Ledger</a> <a id="866" href="Ledger.Conway.Rewards.html#706" class="Bound">txs</a> <a id="870" href="Ledger.Conway.Rewards.html#750" class="Bound">abs</a>
<a id="874" class="Keyword">open</a> <a id="879" class="Keyword">import</a> <a id="886" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="901" class="Keyword">hiding</a> <a id="908" class="Symbol">(</a><a id="909" href="Data.Nat.Base.html#7102" class="Function Operator">_/_</a><a id="912" class="Symbol">;</a> <a id="914" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="917" class="Symbol">;</a> <a id="919" href="Interface.HasSubtract.html#217" class="Field Operator">_-_</a><a id="922" class="Symbol">;</a> <a id="924" href="Data.Nat.Base.html#3537" class="Function">&gt;-nonZero</a><a id="933" class="Symbol">;</a> <a id="935" href="Data.Nat.Base.html#5851" class="Function Operator">_⊓_</a><a id="938" class="Symbol">)</a>
<a id="940" class="Keyword">open</a> <a id="945" class="Keyword">import</a> <a id="952" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="971" href="Ledger.Conway.Rewards.html#706" class="Bound">txs</a> <a id="975" href="Ledger.Conway.Rewards.html#750" class="Bound">abs</a>
</pre>
</div>
<p>This section defines how rewards for stake pools and
their delegators are calculated and paid out. This calculation has two
main aspects:</p>
<ul>
<li>
<p>The <em>amount</em> of rewards to be paid out. This is defined in
  <em>cref 'sec:rewards-amount' (unresolved reference)</em>.</p>
</li>
<li>
<p>The <em>time</em> when rewards are paid out. This is defined in
  <em>cref 'sec:rewards-time' (unresolved reference)</em>.</p>
</li>
</ul>
<h2 id="sec:rewards-motivation">Rewards Motivation<a class="headerlink" href="#sec:rewards-motivation" title="Permanent link">&para;</a></h2>
<p>In order to operate, any blockchain needs to attract parties that are
willing to spend computational and network resources on processing
transactions and producing new blocks. These parties, called , are
incentivized by monetary .</p>
<p>Cardano is a proof-of-stake (PoS) blockchain: through a random lottery,
one block producer is selected to produce one particular block. The
probability for being select depends on their of Ada, that is the amount
of Ada that they (and their delegators) own relative to the total amount
of Ada. (We will explain delegation below.) After successful block
production, the block producer is eligible for a share of the rewards.</p>
<p>The rewards for block producers come from two sources: during an initial
period, rewards are paid out from the , which is an initial allocation
of Ada created for this very purpose. Over time, the reserve is
depleted, and rewards are sourced from transaction fees.</p>
<p>Rewards are paid out epoch by epoch.</p>
<p>Rewards are collective, but depend on performance: after every epoch, a
fraction of the available reserve and the transaction fees accumulated
during that epoch are added together. This sum is paid out to the block
producers proportionally to how many blocks they have created each. In
order to avoid perverse incentives, block producers do not receive
individual rewards that depend on the content of their blocks.</p>
<p>Not all people can or want to set up and administer a dedicated computer
that produces blocks. However, these people still own Ada, and their
stake is relevant for block production. Specifically, these people have
the option to their stake to a , which belongs to a block producer. This
stake counts towards the stake of the pool in the block production
lottery. In turn, the protocol distributes the rewards for produced
blocks to the stake pool owner and their delegators. The owner receives
a fixed fee (“cost”) and a share of the rewards (“margin”). The
remainder is distributed among delegators in proportion to their stake.
By design, delegation and ownership are separate — delegation counts
towards the stake of the pool, but delegators remain in full control of
their Ada, stake pools cannot spend delegated Ada.</p>
<p>Stake pools compete for delegators based on fees and performance. In
order to achieve stable blockchain operation, the rewards are chosen
such that they incentivize the system to evolve into a large, but fixed
number of stake pools that attract most of the stake. For more details
about the design and rationale of the rewards and delegation system, see
.</p>
<h2 id="sec:rewards-amount">Amount of Rewards to be Paid Out<a class="headerlink" href="#sec:rewards-amount" title="Permanent link">&para;</a></h2>
<h3 id="sec:precision-rewards">Precision of Arithmetic Operations<a class="headerlink" href="#sec:precision-rewards" title="Permanent link">&para;</a></h3>
<p>When computing rewards, all intermediate results are computed using
rational numbers, , and converted to <code class="AgdaFunction">Coin</code> using the
function at the very end of the computation.</p>
<p>Note for implementors: Values in can have arbitrarily large nominators
and denominators. Please use an appropriate type that represents
rational numbers as fractions of unbounded nominators and denominators.
Types such as , , (Java Platform), or (fixed-precision arithmetic) do
<em>not</em> faithfully represent the rational numbers, and are <em>not</em> suitable
for computing rewards according to this specification!</p>
<p>We use the following arithmetic operations besides basic arithmetic:</p>
<ul>
<li>
<p>: Interpret a natural number as a rational number.</p>
</li>
<li>
<p>: Round a rational number to the next smaller integer.</p>
</li>
<li>
<p>: Convert an integer to a natural number by mapping all negative
  numbers to zero.</p>
</li>
<li>
<p>: Division of rational numbers.</p>
</li>
<li>
<p>: Division operator that returns zero when the denominator is zero.</p>
</li>
<li>
<p>: Division operator that maps integer arguments to a rational number.</p>
</li>
<li>
<p>: Like , but with integer arguments.</p>
</li>
</ul>
<h3 id="sec:rewards-distribution-calculation">Rewards Distribution Calculation<a class="headerlink" href="#sec:rewards-distribution-calculation" title="Permanent link">&para;</a></h3>
<p>This section defines the amount of rewards that are paid out to stake
pools and their delegators.</p>
<p><a href="Ledger.Conway.Rewards.html#function-maxpool-used-for-computing-a-reward-update">'Function maxPool used for computing a Reward Update'</a> defines the
function which gives the maximum reward a stake pool can receive in an
epoch. Relevant quantities are:</p>
<ul>
<li>
<p>: Total rewards to be paid out after the epoch.</p>
</li>
<li>
<p>: Relative stake of the pool.</p>
</li>
<li>
<p>: Relative stake that the pool owner has pledged themselves to the
  pool.</p>
</li>
<li>
<p>: Relative stake of a fully saturated pool.</p>
</li>
<li>
<p>: Protocol parameter, planned number of block producers.</p>
</li>
<li>
<p>: Protocol parameter that incentivizes higher pledges.</p>
</li>
<li>
<p>: Pool rewards as a rational number.</p>
</li>
<li>
<p>: Pool rewards after rounding to a natural number of lovelace.</p>
</li>
</ul>
<h3 id="function-maxpool-used-for-computing-a-reward-update">Function maxPool used for computing a Reward Update<a class="headerlink" href="#function-maxpool-used-for-computing-a-reward-update" title="Permanent link">&para;</a></h3>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="nonZero-max-1"></a><a id="6130" href="Ledger.Conway.Rewards.html#6130" class="Function">nonZero-max-1</a> <a id="6144" class="Symbol">:</a> <a id="6146" class="Symbol">∀</a> <a id="6148" class="Symbol">(</a><a id="6149" href="Ledger.Conway.Rewards.html#6149" class="Bound">n</a> <a id="6151" class="Symbol">:</a> <a id="6153" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6154" class="Symbol">)</a> <a id="6156" class="Symbol">→</a> <a id="6158" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="6166" class="Symbol">(</a><a id="6167" class="Number">1</a> <a id="6169" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="6171" href="Ledger.Conway.Rewards.html#6149" class="Bound">n</a><a id="6172" class="Symbol">)</a>
<a id="6174" href="Ledger.Conway.Rewards.html#6130" class="Function">nonZero-max-1</a> <a id="6188" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="6193" class="Symbol">=</a> <a id="6195" href="Data.Nat.Base.html#3359" class="Function">nonZero</a>
<a id="6203" href="Ledger.Conway.Rewards.html#6130" class="Function">nonZero-max-1</a> <a id="6217" class="Symbol">(</a><a id="6218" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6222" href="Ledger.Conway.Rewards.html#6222" class="Bound">n</a><a id="6223" class="Symbol">)</a> <a id="6225" class="Symbol">=</a> <a id="6227" href="Data.Nat.Base.html#3359" class="Function">nonZero</a>

<a id="nonZero-1/n"></a><a id="6236" href="Ledger.Conway.Rewards.html#6236" class="Function">nonZero-1/n</a> <a id="6248" class="Symbol">:</a> <a id="6250" class="Symbol">∀</a> <a id="6252" class="Symbol">(</a><a id="6253" href="Ledger.Conway.Rewards.html#6253" class="Bound">n</a> <a id="6255" class="Symbol">:</a> <a id="6257" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6258" class="Symbol">)</a> <a id="6260" class="Symbol">→</a> <a id="6262" class="Symbol">.{{</a><a id="6265" href="Ledger.Conway.Rewards.html#6265" class="Bound">_</a> <a id="6267" class="Symbol">:</a> <a id="6269" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="6277" href="Ledger.Conway.Rewards.html#6253" class="Bound">n</a><a id="6278" class="Symbol">}}</a> <a id="6281" class="Symbol">→</a> <a id="6283" href="Ledger.Conway.Rewards.html#289" class="Function">NonZeroℚ</a> <a id="6292" class="Symbol">(</a><a id="6293" class="Number">1</a> <a id="6295" href="Data.Rational.Base.html#3884" class="Function Operator">/</a> <a id="6297" href="Ledger.Conway.Rewards.html#6253" class="Bound">n</a><a id="6298" class="Symbol">)</a>
<a id="6300" href="Ledger.Conway.Rewards.html#6236" class="Function">nonZero-1/n</a> <a id="6312" href="Ledger.Conway.Rewards.html#6312" class="Bound">n</a> <a id="6314" class="Symbol">{{</a><a id="6316" href="Ledger.Conway.Rewards.html#6316" class="Bound">prf</a><a id="6319" class="Symbol">}}</a> <a id="6322" class="Symbol">=</a>
  <a id="6326" href="Data.Rational.Properties.html#7612" class="Function">pos⇒nonZero</a> <a id="6338" class="Symbol">(</a><a id="6339" class="Number">1</a> <a id="6341" href="Data.Rational.Base.html#3884" class="Function Operator">/</a> <a id="6343" href="Ledger.Conway.Rewards.html#6312" class="Bound">n</a><a id="6344" class="Symbol">)</a> <a id="6346" class="Symbol">{{</a><a id="6348" href="Data.Rational.Properties.html#11672" class="Function">normalize-pos</a> <a id="6362" class="Number">1</a> <a id="6364" href="Ledger.Conway.Rewards.html#6312" class="Bound">n</a> <a id="6366" class="Symbol">{{</a><a id="6368" href="Ledger.Conway.Rewards.html#6316" class="Bound">prf</a><a id="6371" class="Symbol">}}</a> <a id="6374" class="Symbol">{{_}}</a> <a id="6380" class="Symbol">}}</a>

<a id="nonZero-1+max0-x"></a><a id="6384" href="Ledger.Conway.Rewards.html#6384" class="Function">nonZero-1+max0-x</a> <a id="6401" class="Symbol">:</a> <a id="6403" class="Symbol">∀</a> <a id="6405" class="Symbol">(</a><a id="6406" href="Ledger.Conway.Rewards.html#6406" class="Bound">x</a> <a id="6408" class="Symbol">:</a> <a id="6410" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="6411" class="Symbol">)</a> <a id="6413" class="Symbol">→</a> <a id="6415" href="Ledger.Conway.Rewards.html#289" class="Function">NonZeroℚ</a> <a id="6424" class="Symbol">(</a><a id="6425" class="Number">1</a> <a id="6427" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6429" class="Symbol">(</a><a id="6430" class="Number">0</a> <a id="6432" href="Ledger.Conway.Rewards.html#272" class="Function Operator">⊔ℚ</a> <a id="6435" href="Ledger.Conway.Rewards.html#6406" class="Bound">x</a><a id="6436" class="Symbol">))</a>
<a id="6439" href="Ledger.Conway.Rewards.html#6384" class="Function">nonZero-1+max0-x</a> <a id="6456" href="Ledger.Conway.Rewards.html#6456" class="Bound">x</a> <a id="6458" class="Symbol">=</a>
  <a id="6462" href="Data.Rational.Base.html#5214" class="Function">&gt;-nonZero</a> <a id="6472" class="Symbol">(</a><a id="6473" href="Data.Rational.Properties.html#36007" class="Function">+-mono-&lt;-≤</a> <a id="6484" class="Symbol">(</a><a id="6485" href="Data.Rational.Properties.html#26724" class="Function">positive⁻¹</a> <a id="6496" class="Number">1</a> <a id="6498" class="Symbol">{{_}})</a> <a id="6505" class="Symbol">(</a><a id="6506" href="Data.Rational.Properties.html#57994" class="Function">p≤p⊔q</a> <a id="6512" class="Number">0</a> <a id="6514" href="Ledger.Conway.Rewards.html#6456" class="Bound">x</a><a id="6515" class="Symbol">))</a>
</pre>
</div>

<pre class="Agda">
<a id="maxPool"></a><a id="6541" href="Ledger.Conway.Rewards.html#6541" class="Function">maxPool</a> <a id="6549" class="Symbol">:</a> <a id="6551" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="6559" class="Symbol">→</a> <a id="6561" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="6566" class="Symbol">→</a> <a id="6568" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="6581" class="Symbol">→</a> <a id="6583" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="6596" class="Symbol">→</a> <a id="6598" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
<a id="6603" href="Ledger.Conway.Rewards.html#6541" class="Function">maxPool</a> <a id="6611" href="Ledger.Conway.Rewards.html#6611" class="Bound">pparams</a> <a id="6619" href="Ledger.Conway.Rewards.html#6619" class="Bound">rewardPot</a> <a id="6629" href="Ledger.Conway.Rewards.html#6629" class="Bound">stake</a> <a id="6635" href="Ledger.Conway.Rewards.html#6635" class="Bound">pledge</a> <a id="6642" class="Symbol">=</a> <a id="6644" href="Ledger.Conway.Rewards.html#7421" class="Function">rewardℕ</a>
  <a id="6654" class="Keyword">where</a>
    <a id="6664" href="Ledger.Conway.Rewards.html#6664" class="Function">a0</a>    <a id="6670" class="Symbol">=</a> <a id="6672" class="Number">0</a> <a id="6674" href="Ledger.Conway.Rewards.html#272" class="Function Operator">⊔ℚ</a> <a id="6677" href="Ledger.Conway.Rewards.html#6611" class="Bound">pparams</a> <a id="6685" class="Symbol">.</a><a id="6686" href="Ledger.Conway.PParams.html#3929" class="Field">PParams.a0</a>
    <a id="6701" href="Ledger.Conway.Rewards.html#6701" class="Function">1+a0</a>  <a id="6707" class="Symbol">=</a> <a id="6709" class="Number">1</a> <a id="6711" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6713" href="Ledger.Conway.Rewards.html#6664" class="Function">a0</a>
    <a id="6720" href="Ledger.Conway.Rewards.html#6720" class="Function">nopt</a>  <a id="6726" class="Symbol">=</a> <a id="6728" class="Number">1</a> <a id="6730" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="6732" href="Ledger.Conway.Rewards.html#6611" class="Bound">pparams</a> <a id="6740" class="Symbol">.</a><a id="6741" href="Ledger.Conway.PParams.html#3887" class="Field">PParams.nopt</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
    <a id="6807" class="Keyword">instance</a>
      <a id="6822" href="Ledger.Conway.Rewards.html#6822" class="Function">nonZero-nopt</a> <a id="6835" class="Symbol">:</a> <a id="6837" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="6845" href="Ledger.Conway.Rewards.html#6720" class="Function">nopt</a>
      <a id="6856" href="Ledger.Conway.Rewards.html#6822" class="Function">nonZero-nopt</a> <a id="6869" class="Symbol">=</a> <a id="6871" href="Ledger.Conway.Rewards.html#6130" class="Function">nonZero-max-1</a> <a id="6885" class="Symbol">(</a><a id="6886" href="Ledger.Conway.Rewards.html#6611" class="Bound">pparams</a> <a id="6894" class="Symbol">.</a><a id="6895" href="Ledger.Conway.PParams.html#3887" class="Field">PParams.nopt</a><a id="6907" class="Symbol">)</a>
</pre>
</div>

<pre class="Agda">
    <a id="6936" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a>       <a id="6945" class="Symbol">=</a> <a id="6947" class="Number">1</a> <a id="6949" href="Data.Rational.Base.html#3884" class="Function Operator">/</a> <a id="6951" href="Ledger.Conway.Rewards.html#6720" class="Function">nopt</a>
    <a id="6960" href="Ledger.Conway.Rewards.html#6960" class="Function">stake&#39;</a>   <a id="6969" class="Symbol">=</a> <a id="6971" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="6988" href="Ledger.Conway.Rewards.html#6629" class="Bound">stake</a> <a id="6994" href="Data.Rational.Base.html#6854" class="Function Operator">⊓</a> <a id="6996" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a>
    <a id="7003" href="Ledger.Conway.Rewards.html#7003" class="Function">pledge&#39;</a>  <a id="7012" class="Symbol">=</a> <a id="7014" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="7031" href="Ledger.Conway.Rewards.html#6635" class="Bound">pledge</a> <a id="7038" href="Data.Rational.Base.html#6854" class="Function Operator">⊓</a> <a id="7040" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
    <a id="7096" class="Keyword">instance</a>
      <a id="7111" href="Ledger.Conway.Rewards.html#7111" class="Function">nonZeroz0</a> <a id="7121" class="Symbol">:</a> <a id="7123" href="Ledger.Conway.Rewards.html#289" class="Function">NonZeroℚ</a> <a id="7132" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a>
      <a id="7141" href="Ledger.Conway.Rewards.html#7111" class="Function">nonZeroz0</a> <a id="7151" class="Symbol">=</a> <a id="7153" href="Ledger.Conway.Rewards.html#6236" class="Function">nonZero-1/n</a> <a id="7165" href="Ledger.Conway.Rewards.html#6720" class="Function">nopt</a>

      <a id="7177" href="Ledger.Conway.Rewards.html#7177" class="Function">nonZero-1+a0</a> <a id="7190" class="Symbol">:</a> <a id="7192" href="Ledger.Conway.Rewards.html#289" class="Function">NonZeroℚ</a> <a id="7201" class="Symbol">(</a><a id="7202" href="Ledger.Conway.Rewards.html#6701" class="Function">1+a0</a><a id="7206" class="Symbol">)</a>
      <a id="7214" href="Ledger.Conway.Rewards.html#7177" class="Function">nonZero-1+a0</a> <a id="7227" class="Symbol">=</a> <a id="7229" href="Ledger.Conway.Rewards.html#6384" class="Function">nonZero-1+max0-x</a> <a id="7246" class="Symbol">(</a><a id="7247" href="Ledger.Conway.Rewards.html#6611" class="Bound">pparams</a> <a id="7255" class="Symbol">.</a><a id="7256" href="Ledger.Conway.PParams.html#3929" class="Field">PParams.a0</a><a id="7266" class="Symbol">)</a>
</pre>
</div>

<pre class="Agda">
    <a id="7295" href="Ledger.Conway.Rewards.html#7295" class="Function">rewardℚ</a> <a id="7303" class="Symbol">=</a>
        <a id="7313" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="7319" href="Ledger.Conway.Rewards.html#6619" class="Bound">rewardPot</a> <a id="7329" href="Data.Rational.Base.html#6708" class="Function Operator">÷</a> <a id="7331" href="Ledger.Conway.Rewards.html#6701" class="Function">1+a0</a>
        <a id="7344" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="7346" class="Symbol">(</a><a id="7347" href="Ledger.Conway.Rewards.html#6960" class="Function">stake&#39;</a> <a id="7354" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7356" href="Ledger.Conway.Rewards.html#7003" class="Function">pledge&#39;</a> <a id="7364" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="7366" href="Ledger.Conway.Rewards.html#6664" class="Function">a0</a> <a id="7369" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="7371" class="Symbol">(</a><a id="7372" href="Ledger.Conway.Rewards.html#6960" class="Function">stake&#39;</a> <a id="7379" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="7381" href="Ledger.Conway.Rewards.html#7003" class="Function">pledge&#39;</a> <a id="7389" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="7391" class="Symbol">(</a><a id="7392" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a> <a id="7395" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="7397" href="Ledger.Conway.Rewards.html#6960" class="Function">stake&#39;</a><a id="7403" class="Symbol">)</a> <a id="7405" href="Data.Rational.Base.html#6708" class="Function Operator">÷</a> <a id="7407" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a><a id="7409" class="Symbol">)</a> <a id="7411" href="Data.Rational.Base.html#6708" class="Function Operator">÷</a> <a id="7413" href="Ledger.Conway.Rewards.html#6936" class="Function">z0</a><a id="7415" class="Symbol">)</a>
    <a id="7421" href="Ledger.Conway.Rewards.html#7421" class="Function">rewardℕ</a> <a id="7429" class="Symbol">=</a> <a id="7431" href="Prelude.html#3175" class="Function">posPart</a> <a id="7439" class="Symbol">(</a><a id="7440" href="Data.Rational.Base.html#7116" class="Function">floor</a> <a id="7446" href="Ledger.Conway.Rewards.html#7295" class="Function">rewardℚ</a><a id="7453" class="Symbol">)</a>
</pre>
<p><a href="Ledger.Conway.Rewards.html#function-mkapparentperformance-used-for-computing-a-reward-update">'Function mkApparentPerformance used for computing a Reward Update'</a>
defines the function which computes the apparent performance of a stake
pool. Relevant quantities are:</p>
<ul>
<li>
<p>: Relative active stake of the pool.</p>
</li>
<li>
<p>: Number of blocks that the pool added to the chain in the last epoch.</p>
</li>
<li>
<p>: Total number of blocks added in the last epoch.</p>
</li>
</ul>
<h3 id="function-mkapparentperformance-used-for-computing-a-reward-update">Function mkApparentPerformance used for computing a Reward Update<a class="headerlink" href="#function-mkapparentperformance-used-for-computing-a-reward-update" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="mkApparentPerformance"></a><a id="7976" href="Ledger.Conway.Rewards.html#7976" class="Function">mkApparentPerformance</a> <a id="7998" class="Symbol">:</a> <a id="8000" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="8013" class="Symbol">→</a> <a id="8015" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8017" class="Symbol">→</a> <a id="8019" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8021" class="Symbol">→</a> <a id="8023" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="8025" href="Ledger.Conway.Rewards.html#7976" class="Function">mkApparentPerformance</a> <a id="8047" href="Ledger.Conway.Rewards.html#8047" class="Bound">stake</a> <a id="8053" href="Ledger.Conway.Rewards.html#8053" class="Bound">poolBlocks</a> <a id="8064" href="Ledger.Conway.Rewards.html#8064" class="Bound">totalBlocks</a> <a id="8076" class="Symbol">=</a> <a id="8078" href="Ledger.Conway.Rewards.html#8341" class="Function">ratioBlocks</a> <a id="8090" href="Ledger.Prelude.html#2418" class="Function Operator">÷₀</a> <a id="8093" href="Ledger.Conway.Rewards.html#8112" class="Function">stake&#39;</a>
  <a id="8102" class="Keyword">where</a>
    <a id="8112" href="Ledger.Conway.Rewards.html#8112" class="Function">stake&#39;</a> <a id="8119" class="Symbol">=</a> <a id="8121" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="8138" href="Ledger.Conway.Rewards.html#8047" class="Bound">stake</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
    <a id="8197" class="Keyword">instance</a>
      <a id="8212" href="Ledger.Conway.Rewards.html#8212" class="Function">nonZero-totalBlocks</a> <a id="8232" class="Symbol">:</a> <a id="8234" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="8242" class="Symbol">(</a><a id="8243" class="Number">1</a> <a id="8245" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="8247" href="Ledger.Conway.Rewards.html#8064" class="Bound">totalBlocks</a><a id="8258" class="Symbol">)</a>
      <a id="8266" href="Ledger.Conway.Rewards.html#8212" class="Function">nonZero-totalBlocks</a> <a id="8286" class="Symbol">=</a> <a id="8288" href="Ledger.Conway.Rewards.html#6130" class="Function">nonZero-max-1</a> <a id="8302" href="Ledger.Conway.Rewards.html#8064" class="Bound">totalBlocks</a>
</pre>
</div>

<pre class="Agda">
    <a id="8341" href="Ledger.Conway.Rewards.html#8341" class="Function">ratioBlocks</a> <a id="8353" class="Symbol">=</a> <a id="8355" class="Symbol">(</a><a id="8356" href="Ledger.Conway.Rewards.html#145" class="InductiveConstructor">pos</a> <a id="8360" href="Ledger.Conway.Rewards.html#8053" class="Bound">poolBlocks</a><a id="8370" class="Symbol">)</a> <a id="8372" href="Data.Rational.Base.html#3884" class="Function Operator">/</a> <a id="8374" class="Symbol">(</a><a id="8375" class="Number">1</a> <a id="8377" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="8379" href="Ledger.Conway.Rewards.html#8064" class="Bound">totalBlocks</a><a id="8390" class="Symbol">)</a>
</pre>
<p><a href="Ledger.Conway.Rewards.html#functions-rewardowners-and-rewardmember">'Functions rewardOwners and rewardMember'</a>
defines the functions and . Their purpose is to divide the reward for
one pool between pool owners and individual delegators by taking into
account a fixed pool cost, a relative pool margin, and the stake of each
member. The rewards will be distributed as follows:</p>
<ul>
<li>
<p>: These funds will go to the specified in the pool registration
  certificate.</p>
</li>
<li>
<p>: These funds will go to the reward accounts of the individual
  delegators.</p>
</li>
</ul>
<p>Relevant quantities for the functions are:</p>
<ul>
<li>
<p>: Rewards paid out to this pool.</p>
</li>
<li>
<p>: Pool parameters, such as cost and margin.</p>
</li>
<li>
<p>: Stake of the pool owners relative to the total amount of Ada.</p>
</li>
<li>
<p>: Stake of the pool member relative to the total amount of Ada.</p>
</li>
<li>
<p>: Stake of the whole pool relative to the total amount of Ada.</p>
</li>
</ul>
<h3 id="functions-rewardowners-and-rewardmember">Functions rewardOwners and rewardMember<a class="headerlink" href="#functions-rewardowners-and-rewardmember" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="rewardOwners"></a><a id="9319" href="Ledger.Conway.Rewards.html#9319" class="Function">rewardOwners</a> <a id="9332" class="Symbol">:</a> <a id="9334" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="9339" class="Symbol">→</a> <a id="9341" href="Ledger.Conway.Certs.html#1376" class="Record">PoolParams</a> <a id="9352" class="Symbol">→</a> <a id="9354" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="9367" class="Symbol">→</a> <a id="9369" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="9382" class="Symbol">→</a> <a id="9384" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
<a id="9389" href="Ledger.Conway.Rewards.html#9319" class="Function">rewardOwners</a> <a id="9402" href="Ledger.Conway.Rewards.html#9402" class="Bound">rewards</a> <a id="9410" href="Ledger.Conway.Rewards.html#9410" class="Bound">pool</a> <a id="9415" href="Ledger.Conway.Rewards.html#9415" class="Bound">ownerStake</a> <a id="9426" href="Ledger.Conway.Rewards.html#9426" class="Bound">stake</a> <a id="9432" class="Symbol">=</a> <a id="9434" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="9437" href="Ledger.Conway.Rewards.html#9402" class="Bound">rewards</a> <a id="9445" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="9447" href="Ledger.Conway.Rewards.html#9660" class="Function">cost</a>
  <a id="9454" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="9459" href="Ledger.Conway.Rewards.html#9402" class="Bound">rewards</a>
  <a id="9469" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="9474" href="Ledger.Conway.Rewards.html#9660" class="Function">cost</a> <a id="9479" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9481" href="Prelude.html#3175" class="Function">posPart</a> <a id="9489" class="Symbol">(</a><a id="9490" href="Data.Rational.Base.html#7116" class="Function">floor</a> <a id="9496" class="Symbol">(</a>
        <a id="9506" class="Symbol">(</a><a id="9507" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="9513" href="Ledger.Conway.Rewards.html#9402" class="Bound">rewards</a> <a id="9521" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="9523" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="9529" href="Ledger.Conway.Rewards.html#9660" class="Function">cost</a><a id="9533" class="Symbol">)</a> <a id="9535" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="9537" class="Symbol">(</a><a id="9538" href="Ledger.Conway.Rewards.html#9700" class="Function">margin</a> <a id="9545" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9547" class="Symbol">(</a><a id="9548" class="Number">1</a> <a id="9550" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="9552" href="Ledger.Conway.Rewards.html#9700" class="Function">margin</a><a id="9558" class="Symbol">)</a> <a id="9560" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="9562" href="Ledger.Conway.Rewards.html#9588" class="Function">ratioStake</a><a id="9572" class="Symbol">)))</a>
  <a id="9578" class="Keyword">where</a>
    <a id="9588" href="Ledger.Conway.Rewards.html#9588" class="Function">ratioStake</a>  <a id="9600" class="Symbol">=</a> <a id="9602" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="9619" href="Ledger.Conway.Rewards.html#9415" class="Bound">ownerStake</a> <a id="9630" href="Ledger.Prelude.html#2418" class="Function Operator">÷₀</a> <a id="9633" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="9650" href="Ledger.Conway.Rewards.html#9426" class="Bound">stake</a>
    <a id="9660" href="Ledger.Conway.Rewards.html#9660" class="Function">cost</a>        <a id="9672" class="Symbol">=</a> <a id="9674" href="Ledger.Conway.Rewards.html#9410" class="Bound">pool</a> <a id="9679" class="Symbol">.</a><a id="9680" href="Ledger.Conway.Certs.html#1444" class="Field">PoolParams.cost</a>
    <a id="9700" href="Ledger.Conway.Rewards.html#9700" class="Function">margin</a>      <a id="9712" class="Symbol">=</a> <a id="9714" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="9731" class="Symbol">(</a><a id="9732" href="Ledger.Conway.Rewards.html#9410" class="Bound">pool</a> <a id="9737" class="Symbol">.</a><a id="9738" href="Ledger.Conway.Certs.html#1471" class="Field">PoolParams.margin</a><a id="9755" class="Symbol">)</a>
</pre>
<pre class="Agda">
<a id="rewardMember"></a><a id="9772" href="Ledger.Conway.Rewards.html#9772" class="Function">rewardMember</a> <a id="9785" class="Symbol">:</a> <a id="9787" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="9792" class="Symbol">→</a> <a id="9794" href="Ledger.Conway.Certs.html#1376" class="Record">PoolParams</a> <a id="9805" class="Symbol">→</a> <a id="9807" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="9820" class="Symbol">→</a> <a id="9822" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="9835" class="Symbol">→</a> <a id="9837" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
<a id="9842" href="Ledger.Conway.Rewards.html#9772" class="Function">rewardMember</a> <a id="9855" href="Ledger.Conway.Rewards.html#9855" class="Bound">rewards</a> <a id="9863" href="Ledger.Conway.Rewards.html#9863" class="Bound">pool</a> <a id="9868" href="Ledger.Conway.Rewards.html#9868" class="Bound">memberStake</a> <a id="9880" href="Ledger.Conway.Rewards.html#9880" class="Bound">stake</a> <a id="9886" class="Symbol">=</a> <a id="9888" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="9891" href="Ledger.Conway.Rewards.html#9855" class="Bound">rewards</a> <a id="9899" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="9901" href="Ledger.Conway.Rewards.html#10094" class="Function">cost</a>
  <a id="9908" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="9913" class="Number">0</a>
  <a id="9917" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="9922" href="Prelude.html#3175" class="Function">posPart</a> <a id="9930" class="Symbol">(</a><a id="9931" href="Data.Rational.Base.html#7116" class="Function">floor</a> <a id="9937" class="Symbol">(</a>
         <a id="9948" class="Symbol">(</a><a id="9949" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="9955" href="Ledger.Conway.Rewards.html#9855" class="Bound">rewards</a> <a id="9963" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="9965" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="9971" href="Ledger.Conway.Rewards.html#10094" class="Function">cost</a><a id="9975" class="Symbol">)</a> <a id="9977" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="9979" class="Symbol">((</a><a id="9981" class="Number">1</a> <a id="9983" href="Data.Rational.Base.html#6405" class="Function Operator">-</a> <a id="9985" href="Ledger.Conway.Rewards.html#10134" class="Function">margin</a><a id="9991" class="Symbol">)</a> <a id="9993" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="9995" href="Ledger.Conway.Rewards.html#10021" class="Function">ratioStake</a><a id="10005" class="Symbol">)))</a>
  <a id="10011" class="Keyword">where</a>
    <a id="10021" href="Ledger.Conway.Rewards.html#10021" class="Function">ratioStake</a>  <a id="10033" class="Symbol">=</a> <a id="10035" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="10052" href="Ledger.Conway.Rewards.html#9868" class="Bound">memberStake</a> <a id="10064" href="Ledger.Prelude.html#2418" class="Function Operator">÷₀</a> <a id="10067" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="10084" href="Ledger.Conway.Rewards.html#9880" class="Bound">stake</a>
    <a id="10094" href="Ledger.Conway.Rewards.html#10094" class="Function">cost</a>        <a id="10106" class="Symbol">=</a> <a id="10108" href="Ledger.Conway.Rewards.html#9863" class="Bound">pool</a> <a id="10113" class="Symbol">.</a><a id="10114" href="Ledger.Conway.Certs.html#1444" class="Field">PoolParams.cost</a>
    <a id="10134" href="Ledger.Conway.Rewards.html#10134" class="Function">margin</a>      <a id="10146" class="Symbol">=</a> <a id="10148" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2001" class="Function">fromUnitInterval</a> <a id="10165" class="Symbol">(</a><a id="10166" href="Ledger.Conway.Rewards.html#9863" class="Bound">pool</a> <a id="10171" class="Symbol">.</a><a id="10172" href="Ledger.Conway.Certs.html#1471" class="Field">PoolParams.margin</a><a id="10189" class="Symbol">)</a>
</pre>
<p><a href="Ledger.Conway.Rewards.html#function-rewardonepool-used-for-computing-a-reward-update">'Function rewardOnePool used for computing a Reward Update'</a> defines
the function which calculates the rewards given out to each member of a
given pool. Relevant quantities are:</p>
<ul>
<li>
<p>: Total rewards to be paid out for this epoch.</p>
</li>
<li>
<p>: Number of blocks produced by the pool in the last epoch.</p>
</li>
<li>
<p>: Expectation value of the number of blocks to be produced by the
  pool.</p>
</li>
<li>
<p>: Distribution of stake, as mapping from to <code class="AgdaFunction">Coin</code>.</p>
</li>
<li>
<p>: Total relative stake controlled by the pool.</p>
</li>
<li>
<p>: Total active relative stake controlled by the pool, used for
  selecting block producers.</p>
</li>
<li>
<p>: Total amount of Ada in circulation, for computing the relative
  stake.</p>
</li>
<li>
<p>: Compute stake relative to the total amount in circulation.</p>
</li>
<li>
<p>: Total amount of stake controlled by the stake pool operator and
  owners.</p>
</li>
<li>
<p>: Maximum rewards the pool can claim if the pledge is met, and zero
  otherwise.</p>
</li>
<li>
<p>: Actual rewards to be paid out to this pool.</p>
</li>
</ul>
<h3 id="function-rewardonepool-used-for-computing-a-reward-update">Function rewardOnePool used for computing a Reward Update<a class="headerlink" href="#function-rewardonepool-used-for-computing-a-reward-update" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="Stake"></a><a id="11292" href="Ledger.Conway.Rewards.html#11292" class="Function">Stake</a> <a id="11298" class="Symbol">=</a> <a id="11300" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="11311" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="11313" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>

<a id="rewardOnePool"></a><a id="11319" href="Ledger.Conway.Rewards.html#11319" class="Function">rewardOnePool</a> <a id="11333" class="Symbol">:</a> <a id="11335" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="11343" class="Symbol">→</a> <a id="11345" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="11350" class="Symbol">→</a> <a id="11352" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="11354" class="Symbol">→</a> <a id="11356" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="11358" class="Symbol">→</a> <a id="11360" href="Ledger.Conway.Certs.html#1376" class="Record">PoolParams</a>
  <a id="11373" class="Symbol">→</a> <a id="11375" href="Ledger.Conway.Rewards.html#11292" class="Function">Stake</a> <a id="11381" class="Symbol">→</a> <a id="11383" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="11396" class="Symbol">→</a> <a id="11398" href="Ledger.Conway.Types.Numeric.UnitInterval.html#1789" class="Function">UnitInterval</a> <a id="11411" class="Symbol">→</a> <a id="11413" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="11418" class="Symbol">→</a> <a id="11420" class="Symbol">(</a><a id="11421" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="11432" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="11434" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a><a id="11438" class="Symbol">)</a>
<a id="11440" href="Ledger.Conway.Rewards.html#11319" class="Function">rewardOnePool</a> <a id="11454" href="Ledger.Conway.Rewards.html#11454" class="Bound">pparams</a> <a id="11462" href="Ledger.Conway.Rewards.html#11462" class="Bound">rewardPot</a> <a id="11472" href="Ledger.Conway.Rewards.html#11472" class="Bound">n</a> <a id="11474" href="Ledger.Conway.Rewards.html#11474" class="Bound">N</a> <a id="11476" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="11481" href="Ledger.Conway.Rewards.html#11481" class="Bound">stakeDistr</a> <a id="11492" href="Ledger.Conway.Rewards.html#11492" class="Bound">σ</a> <a id="11494" href="Ledger.Conway.Rewards.html#11494" class="Bound">σa</a> <a id="11497" href="Ledger.Conway.Rewards.html#11497" class="Bound">tot</a> <a id="11501" class="Symbol">=</a> <a id="11503" href="Ledger.Conway.Rewards.html#12213" class="Function">rewards</a>
  <a id="11513" class="Keyword">where</a>
    <a id="11523" href="Ledger.Conway.Rewards.html#11523" class="Function">mkRelativeStake</a> <a id="11539" class="Symbol">=</a> <a id="11541" class="Symbol">λ</a> <a id="11543" href="Ledger.Conway.Rewards.html#11543" class="Bound">coin</a> <a id="11548" class="Symbol">→</a> <a id="11550" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2777" class="Function">clamp</a> <a id="11556" class="Symbol">(</a><a id="11557" href="Ledger.Conway.Rewards.html#11543" class="Bound">coin</a> <a id="11562" href="Ledger.Prelude.html#2299" class="Function Operator">/₀</a> <a id="11565" href="Ledger.Conway.Rewards.html#11497" class="Bound">tot</a><a id="11568" class="Symbol">)</a>
    <a id="11574" href="Ledger.Conway.Rewards.html#11574" class="Function">owners</a> <a id="11581" class="Symbol">=</a> <a id="11583" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="11588" href="Ledger.Conway.Address.html#1208" class="InductiveConstructor">KeyHashObj</a> <a id="11599" class="Symbol">(</a><a id="11600" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="11605" class="Symbol">.</a><a id="11606" href="Ledger.Conway.Certs.html#1412" class="Field">PoolParams.owners</a><a id="11623" class="Symbol">)</a> 
    <a id="11630" href="Ledger.Conway.Rewards.html#11630" class="Function">ownerStake</a> <a id="11641" class="Symbol">=</a> <a id="11643" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="11646" href="Ledger.Conway.Rewards.html#11646" class="Bound">c</a> <a id="11648" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="11650" href="Ledger.Conway.Rewards.html#11481" class="Bound">stakeDistr</a> <a id="11661" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11663" href="Ledger.Conway.Rewards.html#11574" class="Function">owners</a> <a id="11670" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="11672" href="Ledger.Conway.Rewards.html#11646" class="Bound">c</a>
    <a id="11678" href="Ledger.Conway.Rewards.html#11678" class="Function">pledge</a> <a id="11685" class="Symbol">=</a> <a id="11687" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="11692" class="Symbol">.</a><a id="11693" href="Ledger.Conway.Certs.html#1506" class="Field">PoolParams.pledge</a>
    <a id="11715" href="Ledger.Conway.Rewards.html#11715" class="Function">maxP</a> <a id="11720" class="Symbol">=</a> <a id="11722" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="11725" href="Ledger.Conway.Rewards.html#11678" class="Function">pledge</a> <a id="11732" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="11734" href="Ledger.Conway.Rewards.html#11630" class="Function">ownerStake</a>
      <a id="11751" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="11756" href="Ledger.Conway.Rewards.html#6541" class="Function">maxPool</a> <a id="11764" href="Ledger.Conway.Rewards.html#11454" class="Bound">pparams</a> <a id="11772" href="Ledger.Conway.Rewards.html#11462" class="Bound">rewardPot</a> <a id="11782" href="Ledger.Conway.Rewards.html#11492" class="Bound">σ</a> <a id="11784" class="Symbol">(</a><a id="11785" href="Ledger.Conway.Rewards.html#11523" class="Function">mkRelativeStake</a> <a id="11801" href="Ledger.Conway.Rewards.html#11678" class="Function">pledge</a><a id="11807" class="Symbol">)</a>
      <a id="11815" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="11820" class="Number">0</a>
    <a id="11826" href="Ledger.Conway.Rewards.html#11826" class="Function">apparentPerformance</a> <a id="11846" class="Symbol">=</a> <a id="11848" href="Ledger.Conway.Rewards.html#7976" class="Function">mkApparentPerformance</a> <a id="11870" href="Ledger.Conway.Rewards.html#11494" class="Bound">σa</a> <a id="11873" href="Ledger.Conway.Rewards.html#11472" class="Bound">n</a> <a id="11875" href="Ledger.Conway.Rewards.html#11474" class="Bound">N</a>
    <a id="11881" href="Ledger.Conway.Rewards.html#11881" class="Function">poolReward</a> <a id="11892" class="Symbol">=</a> <a id="11894" href="Prelude.html#3175" class="Function">posPart</a> <a id="11902" class="Symbol">(</a><a id="11903" href="Data.Rational.Base.html#7116" class="Function">floor</a> <a id="11909" class="Symbol">(</a><a id="11910" href="Ledger.Conway.Rewards.html#11826" class="Function">apparentPerformance</a> <a id="11930" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="11932" href="Ledger.Conway.Rewards.html#666" class="Function">fromℕ</a> <a id="11938" href="Ledger.Conway.Rewards.html#11715" class="Function">maxP</a><a id="11942" class="Symbol">))</a>
    <a id="11949" href="Ledger.Conway.Rewards.html#11949" class="Function">memberRewards</a> <a id="11963" class="Symbol">=</a>
      <a id="11971" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="11981" class="Symbol">(λ</a> <a id="11984" href="Ledger.Conway.Rewards.html#11984" class="Bound">coin</a> <a id="11989" class="Symbol">→</a> <a id="11991" href="Ledger.Conway.Rewards.html#9772" class="Function">rewardMember</a> <a id="12004" href="Ledger.Conway.Rewards.html#11881" class="Function">poolReward</a> <a id="12015" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="12020" class="Symbol">(</a><a id="12021" href="Ledger.Conway.Rewards.html#11523" class="Function">mkRelativeStake</a> <a id="12037" href="Ledger.Conway.Rewards.html#11984" class="Bound">coin</a><a id="12041" class="Symbol">)</a> <a id="12043" href="Ledger.Conway.Rewards.html#11492" class="Bound">σ</a><a id="12044" class="Symbol">)</a>
        <a id="12054" class="Symbol">(</a><a id="12055" href="Ledger.Conway.Rewards.html#11481" class="Bound">stakeDistr</a> <a id="12066" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12068" href="Ledger.Conway.Rewards.html#11574" class="Function">owners</a> <a id="12075" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12076" class="Symbol">)</a>
    <a id="12082" href="Ledger.Conway.Rewards.html#12082" class="Function">ownersRewards</a>  <a id="12097" class="Symbol">=</a>
      <a id="12105" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="12107" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="12112" class="Symbol">.</a><a id="12113" href="Ledger.Conway.Certs.html#1533" class="Field">PoolParams.rewardAccount</a>
      <a id="12144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12146" href="Ledger.Conway.Rewards.html#9319" class="Function">rewardOwners</a> <a id="12159" href="Ledger.Conway.Rewards.html#11881" class="Function">poolReward</a> <a id="12170" href="Ledger.Conway.Rewards.html#11476" class="Bound">pool</a> <a id="12175" class="Symbol">(</a><a id="12176" href="Ledger.Conway.Rewards.html#11523" class="Function">mkRelativeStake</a> <a id="12192" href="Ledger.Conway.Rewards.html#11630" class="Function">ownerStake</a><a id="12202" class="Symbol">)</a> <a id="12204" href="Ledger.Conway.Rewards.html#11492" class="Bound">σ</a> <a id="12206" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a>
    <a id="12213" href="Ledger.Conway.Rewards.html#12213" class="Function">rewards</a> <a id="12221" class="Symbol">=</a> <a id="12223" href="Ledger.Conway.Rewards.html#11949" class="Function">memberRewards</a> <a id="12237" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12240" href="Ledger.Conway.Rewards.html#12082" class="Function">ownersRewards</a>
</pre>
<p><a href="Ledger.Conway.Rewards.html#function-poolstake">'Function poolStake'</a> defines the
function which filters the stake distribution to one stake pool.
Relevant quantities are:</p>
<ul>
<li>
<p>: of the stake pool to be filtered by.</p>
</li>
<li>
<p>: Mapping from s to stake pool that they delegate to.</p>
</li>
<li>
<p>: Distribution of stake for all s.</p>
</li>
</ul>
<h3 id="function-poolstake">Function poolStake<a class="headerlink" href="#function-poolstake" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="Delegations"></a><a id="12603" href="Ledger.Conway.Rewards.html#12603" class="Function">Delegations</a> <a id="12615" class="Symbol">=</a> <a id="12617" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="12628" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="12630" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a>

<a id="poolStake"></a><a id="12639" href="Ledger.Conway.Rewards.html#12639" class="Function">poolStake</a>  <a id="12650" class="Symbol">:</a> <a id="12652" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a> <a id="12660" class="Symbol">→</a> <a id="12662" href="Ledger.Conway.Rewards.html#12603" class="Function">Delegations</a> <a id="12674" class="Symbol">→</a> <a id="12676" href="Ledger.Conway.Rewards.html#11292" class="Function">Stake</a> <a id="12682" class="Symbol">→</a> <a id="12684" href="Ledger.Conway.Rewards.html#11292" class="Function">Stake</a>
<a id="12690" href="Ledger.Conway.Rewards.html#12639" class="Function">poolStake</a> <a id="12700" href="Ledger.Conway.Rewards.html#12700" class="Bound">hk</a> <a id="12703" href="Ledger.Conway.Rewards.html#12703" class="Bound">delegs</a> <a id="12710" href="Ledger.Conway.Rewards.html#12710" class="Bound">stake</a> <a id="12716" class="Symbol">=</a> <a id="12718" href="Ledger.Conway.Rewards.html#12710" class="Bound">stake</a> <a id="12724" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12726" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12730" class="Symbol">(</a><a id="12731" href="Ledger.Conway.Rewards.html#12703" class="Bound">delegs</a> <a id="12738" href="Axiom.Set.Map.html#14048" class="Function Operator">∣^</a> <a id="12741" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="12743" href="Ledger.Conway.Rewards.html#12700" class="Bound">hk</a> <a id="12746" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="12747" class="Symbol">)</a>
</pre>
<p><a href="Ledger.Conway.Rewards.html#function-reward-used-for-computing-a-reward-update">'Function reward used for computing a Reward Update'</a> defines the
function which applies to each registered stake pool. Relevant
quantities are:</p>
<ul>
<li>
<p>: Helper function to rearrange a nested mapping.</p>
</li>
<li>
<p>: Number of blocks produced by pools in the last epoch, as a mapping
  from pool to number.</p>
</li>
<li>
<p>: Parameters of all known stake pools.</p>
</li>
<li>
<p>: Distribution of stake, as mapping from to <code class="AgdaFunction">Coin</code>.</p>
</li>
<li>
<p>: Mapping from s to stake pool that they delegate to.</p>
</li>
<li>
<p>: Total stake <span class="arithmatex">\(=\)</span> amount of Ada in circulation, for computing the
  relative stake.</p>
</li>
<li>
<p>: Active stake <span class="arithmatex">\(=\)</span> amount of Ada that was used for selecting block
  producers.</p>
</li>
<li>
<p>: Sum of stake divided by total stake.</p>
</li>
<li>
<p>: Sum of stake divided by active stake.</p>
</li>
<li>
<p>: Total number of blocks produced in the last epoch.</p>
</li>
<li>
<p>: Data needed to compute rewards for each pool.</p>
</li>
</ul>
<h3 id="function-reward-used-for-computing-a-reward-update">Function reward used for computing a Reward Update<a class="headerlink" href="#function-reward-used-for-computing-a-reward-update" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="BlocksMade"></a><a id="13724" href="Ledger.Conway.Rewards.html#13724" class="Function">BlocksMade</a> <a id="13735" class="Symbol">=</a> <a id="13737" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a> <a id="13745" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13747" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="uncurryᵐ"></a><a id="13750" href="Ledger.Conway.Rewards.html#13750" class="Function">uncurryᵐ</a> <a id="13759" class="Symbol">:</a>
</pre>

<div class="agda-hidden-source">

<pre class="Agda">
  <a id="13812" class="Symbol">∀</a> <a id="13814" class="Symbol">{</a><a id="13815" href="Ledger.Conway.Rewards.html#13815" class="Bound">A</a> <a id="13817" href="Ledger.Conway.Rewards.html#13817" class="Bound">B</a> <a id="13819" href="Ledger.Conway.Rewards.html#13819" class="Bound">C</a> <a id="13821" class="Symbol">:</a> <a id="13823" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="13827" class="Symbol">}</a> <a id="13829" class="Symbol">⦃</a> <a id="13831" href="Ledger.Conway.Rewards.html#13831" class="Bound">_</a> <a id="13833" class="Symbol">:</a> <a id="13835" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="13841" href="Ledger.Conway.Rewards.html#13815" class="Bound">A</a> <a id="13843" class="Symbol">⦄</a> <a id="13845" class="Symbol">⦃</a> <a id="13847" href="Ledger.Conway.Rewards.html#13847" class="Bound">_</a> <a id="13849" class="Symbol">:</a> <a id="13851" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="13857" href="Ledger.Conway.Rewards.html#13817" class="Bound">B</a> <a id="13859" class="Symbol">⦄</a> <a id="13861" class="Symbol">→</a>
</pre>
</div>

<pre class="Agda">
  <a id="13888" href="Ledger.Conway.Rewards.html#13815" class="Bound">A</a> <a id="13890" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13892" class="Symbol">(</a><a id="13893" href="Ledger.Conway.Rewards.html#13817" class="Bound">B</a> <a id="13895" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13897" href="Ledger.Conway.Rewards.html#13819" class="Bound">C</a><a id="13898" class="Symbol">)</a> <a id="13900" class="Symbol">→</a> <a id="13902" class="Symbol">(</a><a id="13903" href="Ledger.Conway.Rewards.html#13815" class="Bound">A</a> <a id="13905" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13907" href="Ledger.Conway.Rewards.html#13817" class="Bound">B</a><a id="13908" class="Symbol">)</a> <a id="13910" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13912" href="Ledger.Conway.Rewards.html#13819" class="Bound">C</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="13963" href="Ledger.Conway.Rewards.html#13750" class="Function">uncurryᵐ</a> <a id="13972" class="Symbol">{</a><a id="13973" href="Ledger.Conway.Rewards.html#13973" class="Bound">A</a><a id="13974" class="Symbol">}</a> <a id="13976" class="Symbol">{</a><a id="13977" href="Ledger.Conway.Rewards.html#13977" class="Bound">B</a><a id="13978" class="Symbol">}</a> <a id="13980" class="Symbol">{</a><a id="13981" href="Ledger.Conway.Rewards.html#13981" class="Bound">C</a><a id="13982" class="Symbol">}</a> <a id="13984" href="Ledger.Conway.Rewards.html#13984" class="Bound">abc</a> <a id="13988" class="Symbol">=</a> <a id="13990" href="Axiom.Set.Map.html#10460" class="Function">mapFromPartialFun</a> <a id="14008" href="Ledger.Conway.Rewards.html#14036" class="Function">lookup&#39;</a> <a id="14016" href="Ledger.Conway.Rewards.html#14194" class="Function">domain&#39;</a>
  <a id="14026" class="Keyword">where</a>
    <a id="14036" href="Ledger.Conway.Rewards.html#14036" class="Function">lookup&#39;</a> <a id="14044" class="Symbol">:</a> <a id="14046" class="Symbol">(</a><a id="14047" href="Ledger.Conway.Rewards.html#13973" class="Bound">A</a> <a id="14049" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14051" href="Ledger.Conway.Rewards.html#13977" class="Bound">B</a><a id="14052" class="Symbol">)</a> <a id="14054" class="Symbol">→</a> <a id="14056" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14062" href="Ledger.Conway.Rewards.html#13981" class="Bound">C</a>
    <a id="14068" href="Ledger.Conway.Rewards.html#14036" class="Function">lookup&#39;</a> <a id="14076" class="Symbol">(</a><a id="14077" href="Ledger.Conway.Rewards.html#14077" class="Bound">a</a> <a id="14079" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14081" href="Ledger.Conway.Rewards.html#14081" class="Bound">b</a><a id="14082" class="Symbol">)</a> <a id="14084" class="Symbol">=</a> <a id="14086" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="14095" href="Ledger.Conway.Rewards.html#13984" class="Bound">abc</a> <a id="14099" href="Ledger.Conway.Rewards.html#14077" class="Bound">a</a> <a id="14101" href="Class.Monad.Core.html#299" class="Field Operator">&gt;&gt;=</a> <a id="14105" class="Symbol">(λ</a> <a id="14108" href="Ledger.Conway.Rewards.html#14108" class="Bound">bc</a> <a id="14111" class="Symbol">→</a> <a id="14113" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="14122" href="Ledger.Conway.Rewards.html#14108" class="Bound">bc</a> <a id="14125" href="Ledger.Conway.Rewards.html#14081" class="Bound">b</a><a id="14126" class="Symbol">)</a>

    <a id="14133" href="Ledger.Conway.Rewards.html#14133" class="Function">joinˢ</a> <a id="14139" class="Symbol">:</a> <a id="14141" class="Symbol">∀</a> <a id="14143" class="Symbol">{</a><a id="14144" href="Ledger.Conway.Rewards.html#14144" class="Bound">X</a><a id="14145" class="Symbol">}</a> <a id="14147" class="Symbol">→</a> <a id="14149" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14151" class="Symbol">(</a><a id="14152" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14154" href="Ledger.Conway.Rewards.html#14144" class="Bound">X</a><a id="14155" class="Symbol">)</a> <a id="14157" class="Symbol">→</a> <a id="14159" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14161" href="Ledger.Conway.Rewards.html#14144" class="Bound">X</a>
    <a id="14167" href="Ledger.Conway.Rewards.html#14133" class="Function">joinˢ</a> <a id="14173" class="Symbol">=</a> <a id="14175" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="14186" href="Function.Base.html#704" class="Function">id</a>

    <a id="14194" href="Ledger.Conway.Rewards.html#14194" class="Function">domain&#39;</a> <a id="14202" class="Symbol">:</a> <a id="14204" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14206" class="Symbol">(</a><a id="14207" href="Ledger.Conway.Rewards.html#13973" class="Bound">A</a> <a id="14209" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14211" href="Ledger.Conway.Rewards.html#13977" class="Bound">B</a><a id="14212" class="Symbol">)</a>
    <a id="14218" href="Ledger.Conway.Rewards.html#14194" class="Function">domain&#39;</a> <a id="14226" class="Symbol">=</a> <a id="14228" href="Ledger.Conway.Rewards.html#14133" class="Function">joinˢ</a> <a id="14234" class="Symbol">(</a><a id="14235" href="Class.IsSet.html#959" class="Function">range</a> <a id="14241" class="Symbol">(</a><a id="14242" href="Axiom.Set.Map.html#8706" class="Function">mapWithKey</a> <a id="14253" class="Symbol">(λ</a> <a id="14256" href="Ledger.Conway.Rewards.html#14256" class="Bound">a</a> <a id="14258" href="Ledger.Conway.Rewards.html#14258" class="Bound">bc</a> <a id="14261" class="Symbol">→</a> <a id="14263" href="Class.IsSet.html#959" class="Function">range</a> <a id="14269" class="Symbol">(</a><a id="14270" href="Axiom.Set.Map.html#8706" class="Function">mapWithKey</a> <a id="14281" class="Symbol">(λ</a> <a id="14284" href="Ledger.Conway.Rewards.html#14284" class="Bound">b</a> <a id="14286" href="Ledger.Conway.Rewards.html#14286" class="Bound">_</a> <a id="14288" class="Symbol">→</a> <a id="14290" class="Symbol">(</a><a id="14291" href="Ledger.Conway.Rewards.html#14256" class="Bound">a</a> <a id="14293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14295" href="Ledger.Conway.Rewards.html#14284" class="Bound">b</a><a id="14296" class="Symbol">))</a> <a id="14299" href="Ledger.Conway.Rewards.html#14258" class="Bound">bc</a><a id="14301" class="Symbol">))</a> <a id="14304" href="Ledger.Conway.Rewards.html#13984" class="Bound">abc</a><a id="14307" class="Symbol">))</a>
</pre>
</div>

<pre class="Agda">

<a id="reward"></a><a id="14334" href="Ledger.Conway.Rewards.html#14334" class="Function">reward</a> <a id="14341" class="Symbol">:</a> <a id="14343" href="Ledger.Conway.PParams.html#2528" class="Record">PParams</a> <a id="14351" class="Symbol">→</a> <a id="14353" href="Ledger.Conway.Rewards.html#13724" class="Function">BlocksMade</a> <a id="14364" class="Symbol">→</a> <a id="14366" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="14371" class="Symbol">→</a> <a id="14373" class="Symbol">(</a><a id="14374" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a> <a id="14382" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="14384" href="Ledger.Conway.Certs.html#1376" class="Record">PoolParams</a><a id="14394" class="Symbol">)</a>
  <a id="14398" class="Symbol">→</a> <a id="14400" href="Ledger.Conway.Rewards.html#11292" class="Function">Stake</a> <a id="14406" class="Symbol">→</a> <a id="14408" href="Ledger.Conway.Rewards.html#12603" class="Function">Delegations</a> <a id="14420" class="Symbol">→</a> <a id="14422" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a> <a id="14427" class="Symbol">→</a> <a id="14429" class="Symbol">(</a><a id="14430" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="14441" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="14443" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a><a id="14447" class="Symbol">)</a>
<a id="14449" href="Ledger.Conway.Rewards.html#14334" class="Function">reward</a> <a id="14456" href="Ledger.Conway.Rewards.html#14456" class="Bound">pp</a> <a id="14459" href="Ledger.Conway.Rewards.html#14459" class="Bound">blocks</a> <a id="14466" href="Ledger.Conway.Rewards.html#14466" class="Bound">rewardPot</a> <a id="14476" href="Ledger.Conway.Rewards.html#14476" class="Bound">poolParams</a> <a id="14487" href="Ledger.Conway.Rewards.html#14487" class="Bound">stake</a> <a id="14493" href="Ledger.Conway.Rewards.html#14493" class="Bound">delegs</a> <a id="14500" href="Ledger.Conway.Rewards.html#14500" class="Bound">total</a> <a id="14506" class="Symbol">=</a> <a id="14508" href="Ledger.Conway.Rewards.html#15033" class="Function">rewards</a>
  <a id="14518" class="Keyword">where</a>
    <a id="14528" href="Ledger.Conway.Rewards.html#14528" class="Function">active</a> <a id="14535" class="Symbol">=</a> <a id="14537" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="14540" href="Ledger.Conway.Rewards.html#14540" class="Bound">c</a> <a id="14542" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="14544" href="Ledger.Conway.Rewards.html#14487" class="Bound">stake</a> <a id="14550" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="14552" href="Ledger.Conway.Rewards.html#14540" class="Bound">c</a>
    <a id="14558" href="Ledger.Conway.Rewards.html#14558" class="Function Operator">Σ_/total</a> <a id="14567" class="Symbol">=</a> <a id="14569" class="Symbol">λ</a> <a id="14571" href="Ledger.Conway.Rewards.html#14571" class="Bound">st</a> <a id="14574" class="Symbol">→</a> <a id="14576" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2777" class="Function">clamp</a> <a id="14582" class="Symbol">((</a><a id="14584" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="14587" href="Ledger.Conway.Rewards.html#14587" class="Bound">c</a> <a id="14589" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="14591" href="Ledger.Conway.Rewards.html#14571" class="Bound">st</a> <a id="14594" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="14596" href="Ledger.Conway.Rewards.html#14587" class="Bound">c</a><a id="14597" class="Symbol">)</a> <a id="14599" href="Ledger.Prelude.html#2299" class="Function Operator">/₀</a> <a id="14602" href="Ledger.Conway.Rewards.html#14500" class="Bound">total</a><a id="14607" class="Symbol">)</a>
    <a id="14613" href="Ledger.Conway.Rewards.html#14613" class="Function Operator">Σ_/active</a> <a id="14623" class="Symbol">=</a> <a id="14625" class="Symbol">λ</a> <a id="14627" href="Ledger.Conway.Rewards.html#14627" class="Bound">st</a> <a id="14630" class="Symbol">→</a> <a id="14632" href="Ledger.Conway.Types.Numeric.UnitInterval.html#2777" class="Function">clamp</a> <a id="14638" class="Symbol">((</a><a id="14640" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="14643" href="Ledger.Conway.Rewards.html#14643" class="Bound">c</a> <a id="14645" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="14647" href="Ledger.Conway.Rewards.html#14627" class="Bound">st</a> <a id="14650" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="14652" href="Ledger.Conway.Rewards.html#14643" class="Bound">c</a><a id="14653" class="Symbol">)</a> <a id="14655" href="Ledger.Prelude.html#2299" class="Function Operator">/₀</a> <a id="14658" href="Ledger.Conway.Rewards.html#14528" class="Function">active</a><a id="14664" class="Symbol">)</a>
    <a id="14670" href="Ledger.Conway.Rewards.html#14670" class="Function">N</a> <a id="14672" class="Symbol">=</a> <a id="14674" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="14677" href="Ledger.Conway.Rewards.html#14677" class="Bound">m</a> <a id="14679" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="14681" href="Ledger.Conway.Rewards.html#14459" class="Bound">blocks</a> <a id="14688" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="14690" href="Ledger.Conway.Rewards.html#14677" class="Bound">m</a>
    <a id="14696" href="Ledger.Conway.Rewards.html#14696" class="Function">mkPoolData</a> <a id="14707" class="Symbol">=</a> <a id="14709" class="Symbol">λ</a> <a id="14711" href="Ledger.Conway.Rewards.html#14711" class="Bound">hk</a> <a id="14714" href="Ledger.Conway.Rewards.html#14714" class="Bound">p</a> <a id="14716" class="Symbol">→</a>
      <a id="14724" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="14728" class="Symbol">(λ</a> <a id="14731" href="Ledger.Conway.Rewards.html#14731" class="Bound">n</a> <a id="14733" class="Symbol">→</a> <a id="14735" class="Symbol">(</a><a id="14736" href="Ledger.Conway.Rewards.html#14731" class="Bound">n</a> <a id="14738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14740" href="Ledger.Conway.Rewards.html#14714" class="Bound">p</a> <a id="14742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14744" href="Ledger.Conway.Rewards.html#12639" class="Function">poolStake</a> <a id="14754" href="Ledger.Conway.Rewards.html#14711" class="Bound">hk</a> <a id="14757" href="Ledger.Conway.Rewards.html#14493" class="Bound">delegs</a> <a id="14764" href="Ledger.Conway.Rewards.html#14487" class="Bound">stake</a><a id="14769" class="Symbol">))</a> <a id="14772" class="Symbol">(</a><a id="14773" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="14782" href="Ledger.Conway.Rewards.html#14459" class="Bound">blocks</a> <a id="14789" href="Ledger.Conway.Rewards.html#14711" class="Bound">hk</a><a id="14791" class="Symbol">)</a>
    <a id="14797" href="Ledger.Conway.Rewards.html#14797" class="Function">pdata</a> <a id="14803" class="Symbol">=</a> <a id="14805" href="Axiom.Set.Map.html#10313" class="Function">mapMaybeWithKeyᵐ</a> <a id="14822" href="Ledger.Conway.Rewards.html#14696" class="Function">mkPoolData</a> <a id="14833" href="Ledger.Conway.Rewards.html#14476" class="Bound">poolParams</a>

    <a id="14849" href="Ledger.Conway.Rewards.html#14849" class="Function">results</a>  <a id="14858" class="Symbol">:</a> <a id="14860" class="Symbol">(</a><a id="14861" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a> <a id="14869" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14871" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a><a id="14881" class="Symbol">)</a> <a id="14883" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="14885" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
    <a id="14894" href="Ledger.Conway.Rewards.html#14849" class="Function">results</a> <a id="14902" class="Symbol">=</a> <a id="14904" href="Ledger.Conway.Rewards.html#13750" class="Function">uncurryᵐ</a> <a id="14913" class="Symbol">(</a><a id="14914" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="14924" class="Symbol">(λ</a> <a id="14927" class="Symbol">(</a><a id="14928" href="Ledger.Conway.Rewards.html#14928" class="Bound">n</a> <a id="14930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14932" href="Ledger.Conway.Rewards.html#14932" class="Bound">p</a> <a id="14934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14936" href="Ledger.Conway.Rewards.html#14936" class="Bound">s</a><a id="14937" class="Symbol">)</a>
      <a id="14945" class="Symbol">→</a> <a id="14947" href="Ledger.Conway.Rewards.html#11319" class="Function">rewardOnePool</a> <a id="14961" href="Ledger.Conway.Rewards.html#14456" class="Bound">pp</a> <a id="14964" href="Ledger.Conway.Rewards.html#14466" class="Bound">rewardPot</a> <a id="14974" href="Ledger.Conway.Rewards.html#14928" class="Bound">n</a> <a id="14976" href="Ledger.Conway.Rewards.html#14670" class="Function">N</a> <a id="14978" href="Ledger.Conway.Rewards.html#14932" class="Bound">p</a> <a id="14980" href="Ledger.Conway.Rewards.html#14936" class="Bound">s</a> <a id="14982" class="Symbol">(</a><a id="14983" href="Ledger.Conway.Rewards.html#14558" class="Function Operator">Σ</a> <a id="14985" href="Ledger.Conway.Rewards.html#14936" class="Bound">s</a> <a id="14987" href="Ledger.Conway.Rewards.html#14558" class="Function Operator">/total</a><a id="14993" class="Symbol">)</a> <a id="14995" class="Symbol">(</a><a id="14996" href="Ledger.Conway.Rewards.html#14613" class="Function Operator">Σ</a> <a id="14998" href="Ledger.Conway.Rewards.html#14936" class="Bound">s</a> <a id="15000" href="Ledger.Conway.Rewards.html#14613" class="Function Operator">/active</a><a id="15007" class="Symbol">)</a> <a id="15009" href="Ledger.Conway.Rewards.html#14500" class="Bound">total</a><a id="15014" class="Symbol">)</a>
      <a id="15022" href="Ledger.Conway.Rewards.html#14797" class="Function">pdata</a><a id="15027" class="Symbol">)</a>
    <a id="15033" href="Ledger.Conway.Rewards.html#15033" class="Function">rewards</a>  <a id="15042" class="Symbol">=</a> <a id="15044" href="abstract-set-theory.FiniteSetTheory.html#3599" class="Function">aggregateBy</a>
      <a id="15062" class="Symbol">(</a><a id="15063" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="15068" class="Symbol">(λ</a> <a id="15071" class="Symbol">(</a><a id="15072" href="Ledger.Conway.Rewards.html#15072" class="Bound">kh</a> <a id="15075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15077" href="Ledger.Conway.Rewards.html#15077" class="Bound">cred</a><a id="15081" class="Symbol">)</a> <a id="15083" class="Symbol">→</a> <a id="15085" class="Symbol">(</a><a id="15086" href="Ledger.Conway.Rewards.html#15072" class="Bound">kh</a> <a id="15089" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15091" href="Ledger.Conway.Rewards.html#15077" class="Bound">cred</a><a id="15095" class="Symbol">)</a> <a id="15097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15099" href="Ledger.Conway.Rewards.html#15077" class="Bound">cred</a><a id="15103" class="Symbol">)</a> <a id="15105" class="Symbol">(</a><a id="15106" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15110" href="Ledger.Conway.Rewards.html#14849" class="Function">results</a><a id="15117" class="Symbol">))</a>
      <a id="15126" href="Ledger.Conway.Rewards.html#14849" class="Function">results</a>
</pre>

<h3 id="sec:reward-update">Reward Update<a class="headerlink" href="#sec:reward-update" title="Permanent link">&para;</a></h3>
<p>This section defines the type, which records the net flow of Ada due to
paying out rewards after an epoch. This type is defined in
<a href="Ledger.Conway.Rewards.html#rewardupdate-type">'RewardUpdate type'</a>. The
update consists of four net flows:</p>
<ul>
<li>
<p>: The change to the treasury. This will be a positive value.</p>
</li>
<li>
<p>: The change to the reserves. We typically expect this to be a
  negative value.</p>
</li>
<li>
<p>: The change to the fee pot. This will be a negative value.</p>
</li>
<li>
<p>: The map of new individual rewards, to be added to the existing
  rewards.</p>
</li>
</ul>
<p>We require these net flows to satisfy certain constraints that are also
stored in the data type. Specifically, states that all four net flows
add up to zero, and we state the directions of and .</p>
<h3 id="rewardupdate-type">RewardUpdate type<a class="headerlink" href="#rewardupdate-type" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="15939" class="Keyword">record</a> <a id="RewardUpdate"></a><a id="15946" href="Ledger.Conway.Rewards.html#15946" class="Record">RewardUpdate</a> <a id="15959" class="Symbol">:</a> <a id="15961" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15965" class="Keyword">where</a>
  <a id="15973" class="Keyword">field</a>
    <a id="RewardUpdate.Δt"></a><a id="15983" href="Ledger.Conway.Rewards.html#15983" class="Field">Δt</a> <a id="RewardUpdate.Δr"></a><a id="15986" href="Ledger.Conway.Rewards.html#15986" class="Field">Δr</a> <a id="RewardUpdate.Δf"></a><a id="15989" href="Ledger.Conway.Rewards.html#15989" class="Field">Δf</a>          <a id="16001" class="Symbol">:</a> <a id="16003" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="RewardUpdate.rs"></a><a id="16009" href="Ledger.Conway.Rewards.html#16009" class="Field">rs</a>                <a id="16027" class="Symbol">:</a> <a id="16029" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="16040" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="16042" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
    <a id="RewardUpdate.flowConservation"></a><a id="16051" href="Ledger.Conway.Rewards.html#16051" class="Field">flowConservation</a>  <a id="16069" class="Symbol">:</a> <a id="16071" href="Ledger.Conway.Rewards.html#15983" class="Field">Δt</a> <a id="16074" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16076" href="Ledger.Conway.Rewards.html#15986" class="Field">Δr</a> <a id="16079" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16081" href="Ledger.Conway.Rewards.html#15989" class="Field">Δf</a> <a id="16084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16086" href="Ledger.Conway.Rewards.html#145" class="InductiveConstructor">pos</a> <a id="16090" class="Symbol">(</a><a id="16091" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="16094" href="Ledger.Conway.Rewards.html#16094" class="Bound">c</a> <a id="16096" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="16098" href="Ledger.Conway.Rewards.html#16009" class="Field">rs</a> <a id="16101" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="16103" href="Ledger.Conway.Rewards.html#16094" class="Bound">c</a><a id="16104" class="Symbol">)</a> <a id="16106" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16108" class="Number">0</a>
    <a id="RewardUpdate.Δt-nonnegative"></a><a id="16114" href="Ledger.Conway.Rewards.html#16114" class="Field">Δt-nonnegative</a>    <a id="16132" class="Symbol">:</a> <a id="16134" class="Number">0</a> <a id="16136" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16138" href="Ledger.Conway.Rewards.html#15983" class="Field">Δt</a>
    <a id="RewardUpdate.Δf-nonpositive"></a><a id="16145" href="Ledger.Conway.Rewards.html#16145" class="Field">Δf-nonpositive</a>    <a id="16163" class="Symbol">:</a> <a id="16165" href="Ledger.Conway.Rewards.html#15989" class="Field">Δf</a> <a id="16168" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16170" class="Number">0</a>
</pre>
<p>The function calculates the , but requires
the definition of the type , so we have to defer the definition of this
function to <em>cref 'sec:epoch-boundary' (unresolved reference)</em>.</p>
<p><em>Cref 'fig:rewardPot' (unresolved reference)</em> captures the
potential movement of funds in the entire system that can happen during
one transition step as described in this document. Exception:
Withdrawals from the “Treasury” are not shown in this diagram, they can
move funds into “Reward accounts”. Value is moved between accounting
pots, but the total amount of value in the system remains constant. In
particular, the red subgraph represents the inputs and outputs to the ,
a temporary variable used during the reward update calculation in the
function . Each red arrow corresponds to one field of the data type. The
blue arrows represent the movement of funds after they have passed
through the .</p>
<figure id="fig:rewardPot">
<div class="center">

</div>
<figcaption>Preservation of funds and rewards</figcaption>
</figure>

<h3 id="sec:stake-distribution-calculation">Stake Distribution Calculation<a class="headerlink" href="#sec:stake-distribution-calculation" title="Permanent link">&para;</a></h3>
<p>This section defines the calculation of the stake distribution for the
purpose of calculating rewards.</p>
<p><a href="Ledger.Conway.Rewards.html#definitions-of-the-snapshot-type">'Definitions of the Snapshot type'</a> defines the type
that represents a stake distribution snapshot. Such a snapshot contains
the essential data needed to compute rewards:</p>
<ul>
<li>
<p>A stake distribution, that is a mapping from credentials to coin.</p>
</li>
<li>
<p>: A delegation map, that is a mapping from credentials to the stake
  pools that they delegate to.</p>
</li>
<li>
<p>: A mapping that stores the pool parameters of each stake pool.</p>
</li>
</ul>
<h3 id="definitions-of-the-snapshot-type">Definitions of the Snapshot type<a class="headerlink" href="#definitions-of-the-snapshot-type" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="17884" class="Keyword">record</a> <a id="Snapshot"></a><a id="17891" href="Ledger.Conway.Rewards.html#17891" class="Record">Snapshot</a> <a id="17900" class="Symbol">:</a> <a id="17902" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="17906" class="Keyword">where</a>
  <a id="17914" class="Keyword">field</a>
    <a id="Snapshot.stake"></a><a id="17924" href="Ledger.Conway.Rewards.html#17924" class="Field">stake</a>           <a id="17940" class="Symbol">:</a> <a id="17942" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="17953" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="17955" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
    <a id="Snapshot.delegations"></a><a id="17964" href="Ledger.Conway.Rewards.html#17964" class="Field">delegations</a>     <a id="17980" class="Symbol">:</a> <a id="17982" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a> <a id="17993" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="17995" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a>
    <a id="Snapshot.poolParameters"></a><a id="18007" href="Ledger.Conway.Rewards.html#18007" class="Field">poolParameters</a>  <a id="18023" class="Symbol">:</a> <a id="18025" href="Ledger.Conway.Crypto.html#1984" class="Function">KeyHash</a> <a id="18033" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="18035" href="Ledger.Conway.Certs.html#1376" class="Record">PoolParams</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="18095" class="Keyword">instance</a>
  <a id="18106" class="Keyword">unquoteDecl</a> <a id="HasCast-Snapshot"></a><a id="18118" href="Ledger.Conway.Rewards.html#18118" class="Function">HasCast-Snapshot</a> <a id="18135" class="Symbol">=</a>
    <a id="18141" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a> <a id="18156" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="18158" class="Symbol">(</a><a id="18159" class="Keyword">quote</a> <a id="18165" href="Ledger.Conway.Rewards.html#17891" class="Record">Snapshot</a> <a id="18174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18176" href="Ledger.Conway.Rewards.html#18118" class="Function">HasCast-Snapshot</a><a id="18192" class="Symbol">)</a> <a id="18194" href="Data.List.Base.html#5205" class="Function Operator">]</a>
</pre>
</div>

<p><a href="Ledger.Conway.Rewards.html#functions-for-computing-stake-distributions">'Functions for computing stake distributions'</a> defines
the calculation of the stake distribution from the data contained in a
ledger state. Here,</p>
<ul>
<li>
<p>takes a relation , where is any monoid with operation , and returns a
  mapping such that any item is mapped to the sum (using the operation )
  of all such that .</p>
</li>
<li>
<p>is the stake relation computed from the UTxO set.</p>
</li>
<li>
<p>is the total stake relation obtained by combining the stake from the
  UTxO set with the stake from the reward accounts.</p>
</li>
</ul>
<h3 id="functions-for-computing-stake-distributions">Functions for computing stake distributions<a class="headerlink" href="#functions-for-computing-stake-distributions" title="Permanent link">&para;</a></h3>
<div class="AgdaSuppressSpace">


<div class="agda-hidden-source">

<pre class="Agda">
<a id="18901" class="Keyword">private</a>
  <a id="getStakeCred"></a><a id="18911" href="Ledger.Conway.Rewards.html#18911" class="Function">getStakeCred</a> <a id="18924" class="Symbol">:</a> <a id="18926" href="Ledger.Conway.Transaction.html#4048" class="Function">TxOut</a> <a id="18932" class="Symbol">→</a> <a id="18934" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="18940" href="Ledger.Conway.Address.html#1182" class="Datatype">Credential</a>
  <a id="18953" href="Ledger.Conway.Rewards.html#18911" class="Function">getStakeCred</a> <a id="18966" class="Symbol">(</a><a id="18967" href="Ledger.Conway.Rewards.html#18967" class="Bound">a</a> <a id="18969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18971" class="Symbol">_</a> <a id="18973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18975" class="Symbol">_</a> <a id="18977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18979" class="Symbol">_)</a> <a id="18982" class="Symbol">=</a> <a id="18984" href="Ledger.Conway.Address.html#3588" class="Function">stakeCred</a> <a id="18994" href="Ledger.Conway.Rewards.html#18967" class="Bound">a</a>
</pre>
</div>

<pre class="Agda">
<a id="stakeDistr"></a><a id="19019" href="Ledger.Conway.Rewards.html#19019" class="Function">stakeDistr</a> <a id="19030" class="Symbol">:</a> <a id="19032" href="Ledger.Conway.Transaction.html#4116" class="Function">UTxO</a> <a id="19037" class="Symbol">→</a> <a id="19039" href="Ledger.Conway.Certs.html#3709" class="Record">DState</a> <a id="19046" class="Symbol">→</a> <a id="19048" href="Ledger.Conway.Certs.html#4455" class="Record">PState</a> <a id="19055" class="Symbol">→</a> <a id="19057" href="Ledger.Conway.Rewards.html#17891" class="Record">Snapshot</a>
<a id="19066" href="Ledger.Conway.Rewards.html#19019" class="Function">stakeDistr</a> <a id="19077" href="Ledger.Conway.Rewards.html#19077" class="Bound">utxo</a> <a id="19082" href="Ledger.Conway.Rewards.html#19082" class="Bound">stᵈ</a> <a id="19086" href="Ledger.Conway.Rewards.html#19086" class="Bound">pState</a> <a id="19093" class="Symbol">=</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Axiom.Set.Map.Dec.html#1932}{\htmlId{19101}{\htmlClass{Function}{\text{aggregate₊}}}}\, (\,\href{Ledger.Conway.Rewards.html#19350}{\htmlId{19113}{\htmlClass{Function}{\text{stakeRelation}}}}\, \,\href{abstract-set-theory.FiniteSetTheory.html#2767}{\htmlId{19127}{\htmlClass{Function Operator}{\text{ᶠˢ}}}}\,) \\ \,\href{Ledger.Conway.Certs.html#3875}{\htmlId{19133}{\htmlClass{Function}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#19172}{\htmlId{19147}{\htmlClass{Function}{\text{poolParams}}}}\, \end{pmatrix}$</a>
  <a id="19162" class="Keyword">where</a>
    <a id="19172" href="Ledger.Conway.Rewards.html#19172" class="Function">poolParams</a> <a id="19183" class="Symbol">=</a> <a id="19185" href="Ledger.Conway.Rewards.html#19086" class="Bound">pState</a> <a id="19192" class="Symbol">.</a><a id="19193" href="Ledger.Conway.Certs.html#4487" class="Field">PState.pools</a>
    <a id="19210" class="Keyword">open</a> <a id="19215" href="Ledger.Conway.Certs.html#3709" class="Module">DState</a> <a id="19222" href="Ledger.Conway.Rewards.html#19082" class="Bound">stᵈ</a> <a id="19226" class="Keyword">using</a> <a id="19232" class="Symbol">(</a><a id="19233" href="Ledger.Conway.Certs.html#3875" class="Field">stakeDelegs</a><a id="19244" class="Symbol">;</a> <a id="19246" href="Ledger.Conway.Certs.html#3915" class="Field">rewards</a><a id="19253" class="Symbol">)</a>
    <a id="19259" href="Ledger.Conway.Rewards.html#19259" class="Function">m</a> <a id="19261" class="Symbol">=</a> <a id="19263" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="19268" class="Symbol">(λ</a> <a id="19271" href="Ledger.Conway.Rewards.html#19271" class="Bound">a</a> <a id="19273" class="Symbol">→</a> <a id="19275" class="Symbol">(</a><a id="19276" href="Ledger.Conway.Rewards.html#19271" class="Bound">a</a> <a id="19278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19280" href="Ledger.Conway.Utxo.html#7192" class="Function">cbalance</a> <a id="19289" class="Symbol">(</a><a id="19290" href="Ledger.Conway.Rewards.html#19077" class="Bound">utxo</a> <a id="19295" href="abstract-set-theory.FiniteSetTheory.html#3088" class="Function Operator">∣^&#39;</a> <a id="19299" class="Symbol">λ</a> <a id="19301" href="Ledger.Conway.Rewards.html#19301" class="Bound">i</a> <a id="19303" class="Symbol">→</a> <a id="19305" href="Ledger.Conway.Rewards.html#18911" class="Function">getStakeCred</a> <a id="19318" href="Ledger.Conway.Rewards.html#19301" class="Bound">i</a> <a id="19320" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19322" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="19327" href="Ledger.Conway.Rewards.html#19271" class="Bound">a</a><a id="19328" class="Symbol">)))</a> <a id="19332" class="Symbol">(</a><a id="19333" href="Class.IsSet.html#916" class="Function">dom</a> <a id="19337" href="Ledger.Conway.Certs.html#3915" class="Function">rewards</a><a id="19344" class="Symbol">)</a>
    <a id="19350" href="Ledger.Conway.Rewards.html#19350" class="Function">stakeRelation</a> <a id="19364" class="Symbol">=</a> <a id="19366" href="Ledger.Conway.Rewards.html#19259" class="Function">m</a> <a id="19368" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19370" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a> <a id="19372" href="Ledger.Conway.Certs.html#3915" class="Function">rewards</a> <a id="19380" href="Ledger.Prelude.html#2656" class="Function Operator">∣</a>
</pre>

</div>

<h2 id="sec:rewards-time">Timing when Rewards are Paid Out<a class="headerlink" href="#sec:rewards-time" title="Permanent link">&para;</a></h2>
<h3 id="sec:rewards-timeline">Timeline of the Rewards Calculation<a class="headerlink" href="#sec:rewards-timeline" title="Permanent link">&para;</a></h3>
<p>As described in
<em>cref 'sec:rewards-motivation' (unresolved reference)</em>, the
probability of producing a block depends on the stake delegated to the
block producer. However, the stake distribution changes over time, as
funds are transferred between parties. This raises the question: What is
the point in time from which we take the stake distribution? Right at
the moment of producing a block? Some time in the past? How do we deal
with the fact that the blockchain is only <em>eventually consistent</em>,
i.e. blocks can be rolled back before a stable consensus on the chain is
formed?</p>
<p>On Cardano, the answer to these questions is to group time into
<em>epochs</em>. An epoch is long enough such that at the beginning of a new
epoch, the beginning of the previous epoch has become stable. An epoch
is also long enough for human users to react to parameter changes, such
as stake pool costs or performance. But an epoch is also short enough so
that changes to the stake distribution will be reflected in block
production within a reasonable timeframe.</p>
<p>The rewards for the blocks produced during a given epoch <span class="arithmatex">\(e_i\)</span> involve
the two epochs surrounding it. In particular, the stake distribution
will come from the previous epoch and the rewards will be calculated in
the following epoch. At each epoch boundary, one snapshot of the stake
distribution is taken; changes to the stake distribution within an epoch
are not considered until the next snapshot is taken. More concretely:</p>
<ol>
<li>
<p>A stake distribution snapshot is taken at the begining of epoch
    <span class="arithmatex">\(e_{i-1}\)</span>.</p>
</li>
<li>
<p>The randomness for leader election is fixed during epoch <span class="arithmatex">\(e_{i-1}\)</span></p>
</li>
<li>
<p>Epoch <span class="arithmatex">\(e_{i}\)</span> begins, blocks are produced using the snapshot taken
    at (A).</p>
</li>
<li>
<p>Epoch <span class="arithmatex">\(e_{i}\)</span> ends. A snapshot is taken of the stake pool
    performance during epoch <span class="arithmatex">\(e_{i}\)</span>. A snapshot is also taken of the
    fee pot.</p>
</li>
<li>
<p>The snapshots from (D) are stable and the reward calculation can
    begin.</p>
</li>
<li>
<p>The reward calculation is finished and an update to the ledger state
    is ready to be applied.</p>
</li>
<li>
<p>Rewards are given out.</p>
</li>
</ol>
<p>In order to specify this logic, we store the last three snapshots of the
stake distributions. The mnemonic “mark, set, go” will be used to keep
track of the snapshots, where the label “mark” refers to the most recent
snapshot, and “go” refers to the snapshot that is ready to be used in
the reward calculation.</p>
<p>In the above diagram, the snapshot taken at (A) is labeled “mark” during
epoch <span class="arithmatex">\(e_{i-1}\)</span>, “set” during epoch <span class="arithmatex">\(e_i\)</span> and “go” during epoch
<span class="arithmatex">\(e_{i+1}\)</span>. At (G) the snapshot taken at (A) is no longer needed and will
be discarded.</p>
<p>In other words, blocks will be produced using the snapshot labeled
“set”, whereas rewards are computed from the snapshot labeled “go”.</p>
<div class="note">

Between time D and E we are concerned with chain growth and stability.
Therefore this duration can be stated as 2k blocks (to state it in slots
requires details about the particular version of the Ouroboros
protocol). The duration between F and G is also 2k blocks. Between E and
F a single honest block is enough to ensure a random nonce.

</div>

<h3 id="sec:illustration-reward-cycle">Example Illustration of the Reward Cycle<a class="headerlink" href="#sec:illustration-reward-cycle" title="Permanent link">&para;</a></h3>
<p>For better understanding, here an example of the logic described in the
previous section:</p>
<p>1.00,0.50,0.00 0.65,0.00,0.00 0.00,0.50,0.00 0.00,0.95,0.00
0.00,0.00,0.90 0.00,0.60,0.90</p>
<p>Bob registers his stake pool in epoch <span class="arithmatex">\(e_1\)</span>. Alice delegates to Bob’s
stake pool in epoch <span class="arithmatex">\(e_1\)</span>. Just before the end of epoch <span class="arithmatex">\(e_1\)</span>, Bob
submits a stake pool re-registration, changing his pool parameters. The
change in parameters is not immediate, as shown by the curved arrow
around the epoch boundary.</p>
<p>A snapshot is taken on the <span class="arithmatex">\(e_1\)</span>/<span class="arithmatex">\(e_2\)</span> boundary. It is labeled “mark”
initially. This snapshot includes Alice’s delegation to Bob’s pool, and
Bob’s pool parameters and listed in the initial pool registration
certificate.</p>
<p>If Alice changes her delegation choice any time during epoch <span class="arithmatex">\(e_2\)</span>, she
will never be effected by Bob’s change of parameters.</p>
<p>A new snapshot is taken on the <span class="arithmatex">\(e_2\)</span>/<span class="arithmatex">\(e_3\)</span> boundary. The previous
(darker blue) snapshot is now labeled “set”, and the new one labeled
“mark”. The “set” snapshot is used for leader election in epoch <span class="arithmatex">\(e_3\)</span>.</p>
<p>On the <span class="arithmatex">\(e_3\)</span>/<span class="arithmatex">\(e_4\)</span> boundary, the darker blue snapshot is labeled “go”
and the lighter blue snapshot is labeled “set”. Bob’s stake pool
performance during epoch <span class="arithmatex">\(e_3\)</span> (he produced 4 blocks) will be used with
the darker blue snapshot for the rewards which will be handed out at the
beginning of epoch <span class="arithmatex">\(e_5\)</span>.</p>
<h3 id="sec:stake-distribution-snapshots">Stake Distribution Snapshots<a class="headerlink" href="#sec:stake-distribution-snapshots" title="Permanent link">&para;</a></h3>
<p>This section defines the SNAP transition rule for stake distribution
snapshots.</p>
<p><a href="Ledger.Conway.Rewards.html#definitions-for-the-snap-transition-system">'Definitions for the SNAP transition system'</a> defines the type
that contains the data that needs to be saved at the end of an epoch.
This data is:</p>
<ul>
<li>
<p>, , : Three stake distribution snapshots as explained in
  <em>cref 'sec:rewards-timeline' (unresolved reference)</em>.</p>
</li>
<li>
<p>: stores the fees which are added to the reward pot during the next
  reward update calculation, which is then subtracted from the fee pot
  on the epoch boundary.</p>
</li>
</ul>
<h3 id="definitions-for-the-snap-transition-system">Definitions for the SNAP transition system<a class="headerlink" href="#definitions-for-the-snap-transition-system" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="24764" class="Keyword">record</a> <a id="Snapshots"></a><a id="24771" href="Ledger.Conway.Rewards.html#24771" class="Record">Snapshots</a> <a id="24781" class="Symbol">:</a> <a id="24783" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="24787" class="Keyword">where</a>
  <a id="24795" class="Keyword">field</a>
    <a id="Snapshots.mark"></a><a id="24805" href="Ledger.Conway.Rewards.html#24805" class="Field">mark</a> <a id="Snapshots.set"></a><a id="24810" href="Ledger.Conway.Rewards.html#24810" class="Field">set</a> <a id="Snapshots.go"></a><a id="24814" href="Ledger.Conway.Rewards.html#24814" class="Field">go</a>  <a id="24818" class="Symbol">:</a> <a id="24820" href="Ledger.Conway.Rewards.html#17891" class="Record">Snapshot</a>
    <a id="Snapshots.feeSS"></a><a id="24833" href="Ledger.Conway.Rewards.html#24833" class="Field">feeSS</a>        <a id="24846" class="Symbol">:</a> <a id="24848" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="24902" class="Keyword">instance</a>
  <a id="24913" class="Keyword">unquoteDecl</a> <a id="HasCast-Snapshots"></a><a id="24925" href="Ledger.Conway.Rewards.html#24925" class="Function">HasCast-Snapshots</a> <a id="24943" class="Symbol">=</a>
    <a id="24949" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a> <a id="24964" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="24966" class="Symbol">(</a><a id="24967" class="Keyword">quote</a> <a id="24973" href="Ledger.Conway.Rewards.html#24771" class="Record">Snapshots</a> <a id="24983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24985" href="Ledger.Conway.Rewards.html#24925" class="Function">HasCast-Snapshots</a><a id="25002" class="Symbol">)</a> <a id="25004" href="Data.List.Base.html#5205" class="Function Operator">]</a>
</pre>
</div>

<p><a href="Ledger.Conway.Rewards.html#snap-transition-system">'SNAP transition system'</a> defines the snapshot
transition rule. This transition has no preconditions and results in the
following state change:</p>
<ul>
<li>
<p>The oldest snapshot is replaced with the penultimate one.</p>
</li>
<li>
<p>The penultimate snapshot is replaced with the newest one.</p>
</li>
<li>
<p>The newest snapshot is replaced with one just calculated.</p>
</li>
<li>
<p>The current fees pot is stored in . Note that this value will not
  change during the epoch, unlike the value in the UTxO state.</p>
</li>
</ul>
<div class="agda-hidden-source">

<pre class="Agda">
<a id="25574" class="Keyword">private</a> <a id="25582" class="Keyword">variable</a>
  <a id="25593" href="Ledger.Conway.Rewards.html#25593" class="Generalizable">lstate</a> <a id="25600" class="Symbol">:</a> <a id="25602" href="Ledger.Conway.Ledger.html#1421" class="Record">LState</a>
  <a id="25611" href="Ledger.Conway.Rewards.html#25611" class="Generalizable">mark</a> <a id="25616" href="Ledger.Conway.Rewards.html#25616" class="Generalizable">set</a> <a id="25620" href="Ledger.Conway.Rewards.html#25620" class="Generalizable">go</a> <a id="25623" class="Symbol">:</a> <a id="25625" href="Ledger.Conway.Rewards.html#17891" class="Record">Snapshot</a>
  <a id="25636" href="Ledger.Conway.Rewards.html#25636" class="Generalizable">feeSS</a> <a id="25642" class="Symbol">:</a> <a id="25644" href="Ledger.Prelude.Base.html#89" class="Function">Coin</a>
</pre>
</div>

<h3 id="snap-transition-system">SNAP transition system<a class="headerlink" href="#snap-transition-system" title="Permanent link">&para;</a></h3>
<pre class="Agda">
<a id="25703" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SNAP⦈_"></a><a id="25708" href="Ledger.Conway.Rewards.html#25708" class="Datatype Operator">_⊢_⇀⦇_,SNAP⦈_</a> <a id="25722" class="Symbol">:</a> <a id="25724" href="Ledger.Conway.Ledger.html#1421" class="Record">LState</a> <a id="25731" class="Symbol">→</a> <a id="25733" href="Ledger.Conway.Rewards.html#24771" class="Record">Snapshots</a> <a id="25743" class="Symbol">→</a> <a id="25745" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="25747" class="Symbol">→</a> <a id="25749" href="Ledger.Conway.Rewards.html#24771" class="Record">Snapshots</a> <a id="25759" class="Symbol">→</a> <a id="25761" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="25766" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,SNAP⦈_.SNAP"></a><a id="25774" href="Ledger.Conway.Rewards.html#25774" class="InductiveConstructor">SNAP</a> <a id="25779" class="Symbol">:</a> <a id="25781" class="Keyword">let</a> <a id="25785" class="Keyword">open</a> <a id="25790" href="Ledger.Conway.Ledger.html#1421" class="Module">LState</a> <a id="25797" href="Ledger.Conway.Rewards.html#25593" class="Generalizable">lstate</a><a id="25803" class="Symbol">;</a> <a id="25805" class="Keyword">open</a> <a id="25810" href="Ledger.Conway.Utxo.html#5940" class="Module">UTxOState</a> <a id="25820" href="Ledger.Conway.Ledger.html#1548" class="Function">utxoSt</a><a id="25826" class="Symbol">;</a> <a id="25828" class="Keyword">open</a> <a id="25833" href="Ledger.Conway.Certs.html#5205" class="Module">CertState</a> <a id="25843" href="Ledger.Conway.Ledger.html#1601" class="Function">certState</a>
             <a id="25866" href="Ledger.Conway.Rewards.html#25866" class="Bound">stake</a> <a id="25872" class="Symbol">=</a> <a id="25874" href="Ledger.Conway.Rewards.html#19019" class="Function">stakeDistr</a> <a id="25885" href="Ledger.Conway.Utxo.html#6072" class="Function">utxo</a> <a id="25890" href="Ledger.Conway.Certs.html#5336" class="Function">dState</a> <a id="25897" href="Ledger.Conway.Certs.html#5356" class="Function">pState</a>
    <a id="25908" class="Keyword">in</a>
    <a id="25915" href="Ledger.Conway.Rewards.html#25593" class="Generalizable">lstate</a> <a id="25922" href="Ledger.Conway.Rewards.html#25708" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Rewards.html#25611}{\htmlId{25926}{\htmlClass{Generalizable}{\text{mark}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#25616}{\htmlId{25933}{\htmlClass{Generalizable}{\text{set}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#25620}{\htmlId{25939}{\htmlClass{Generalizable}{\text{go}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#25636}{\htmlId{25944}{\htmlClass{Generalizable}{\text{feeSS}}}}\, \end{pmatrix}$</a> <a id="25952" href="Ledger.Conway.Rewards.html#25708" class="Datatype Operator">⇀⦇</a> <a id="25955" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="25958" href="Ledger.Conway.Rewards.html#25708" class="Datatype Operator">,SNAP⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Rewards.html#25866}{\htmlId{25967}{\htmlClass{Bound}{\text{stake}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#25611}{\htmlId{25975}{\htmlClass{Generalizable}{\text{mark}}}}\, \\ \,\href{Ledger.Conway.Rewards.html#25616}{\htmlId{25982}{\htmlClass{Generalizable}{\text{set}}}}\, \\ \,\href{Ledger.Conway.Utxo.html#6094}{\htmlId{25988}{\htmlClass{Function}{\text{fees}}}}\, \end{pmatrix}$</a>
</pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="Ledger.Conway.Ratify.Properties.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Properties">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Properties
              </div>
            </div>
          </a>
        
        
          
          <a href="Ledger.Conway.Script.html" class="md-footer__link md-footer__link--next" aria-label="Next: Script">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Script
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.sections", "toc.integrate", "content.tooltips", "navigation.footer"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="js/custom.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
      
        <script src="js/katex-config.js"></script>
      
        <script src="AgdaKaTeX.js"></script>
      
    
  </body>
</html>