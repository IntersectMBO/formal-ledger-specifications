\documentclass[11pt,a4paper,dvipsnames]{article}

\usepackage{environ}
\NewEnviron{NoConway}{%
\BODY
}
\NewEnviron{Conway}{%
}

\input{preamble}

\begin{document}

\tableofcontents

\includeAgda{Ledger/Introduction}
\include{Notation}
\includeAgda{Ledger/Crypto}
\includeAgda{Ledger/BaseTypes}
\includeAgda{Ledger/TokenAlgebra}
\includeAgda{Ledger/Address}
\includeAgda{Ledger/Script}
\includeAgda{Ledger/PParams}
\includeAgda{Ledger/Fees}
\includeAgda{Ledger/GovernanceActions}
\includeAgda{Ledger/Transaction}
\includeAgda{Ledger/Utxo}
\includeAgda{Ledger/Utxow}
\includeAgda{Ledger/Gov}
\includeAgda{Ledger/Certs}
\includeAgda{Ledger/Ledger}
\includeAgda{Ledger/Enact}
\includeAgda{Ledger/Ratify}
\includeAgda{Ledger/Epoch}
\includeAgda{Ledger/Chain}

\section{Properties}
\input{Properties}

\section{Formal Statements of Properties}
\includeAgda{Ledger/Properties/MinSpend}
\includeAgda{Ledger/Properties/UTXOpov}
\includeAgda{Ledger/Properties/CERTSpov}
\includeAgda{Ledger/Properties/LEDGERpov}

\includeAgda{Ledger/Utxo/Properties}

\clearpage

\addcontentsline{toc}{section}{References}
\printbibliography

\clearpage

\appendix

\input{Definitions}
\inputAgda{EssentialAgda}
\input{ConwayBootstrapEnact}
\input{ConwayBootstrap}

\end{document}
